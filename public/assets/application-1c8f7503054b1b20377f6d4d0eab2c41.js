/*!
 * jQuery JavaScript Library v1.7.2
 * http://jquery.com/
 *
 * Copyright 2011, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2011, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Wed Mar 21 12:46:34 2012 -0700
 */
function initAligningGuidelines(e){function t(e){n(e.x+.5,e.y1>e.y2?e.y2:e.y1,e.x+.5,e.y2>e.y1?e.y2:e.y1)}function i(e){n(e.x1>e.x2?e.x2:e.x1,e.y+.5,e.x2>e.x1?e.x2:e.x1,e.y+.5)}function n(e,t,i,n){a.save(),a.lineWidth=l,a.strokeStyle=c,a.beginPath(),a.moveTo(e,t),a.lineTo(i,n),a.stroke(),a.restore()}function s(e,t){e=Math.round(e),t=Math.round(t);for(var i=e-o,n=e+o;n>=i;i++)if(i===t)return!0;return!1}var a=e.getSelectionContext(),r=(e.getHeight(),5),o=4,l=1,c="rgb(0,255,0)",h=[],u=[];e.on("object:moving",function(t){for(var i=t.target,n=e.getObjects(),a=i.get("left"),o=i.get("top"),l=i.getHeight(),c=i.getWidth(),d=!0,f=n.length;f--;)if(n[f]!==i){var p=n[f].get("left"),g=n[f].get("top"),m=n[f].getHeight(),v=n[f].getWidth();s(p,a)&&(d=!1,h.push({x:p,y1:o>g?g-m/2-r:g+m/2+r,y2:o>g?o+l/2+r:o-l/2-r}),i.set("left",p)),s(p-v/2,a-c/2)&&(d=!1,h.push({x:p-v/2,y1:o>g?g-m/2-r:g+m/2+r,y2:o>g?o+l/2+r:o-l/2-r}),i.set("left",p-v/2+c/2)),s(p+v/2,a+c/2)&&(d=!1,h.push({x:p+v/2,y1:o>g?g-m/2-r:g+m/2+r,y2:o>g?o+l/2+r:o-l/2-r}),i.set("left",p+v/2-c/2)),s(g,o)&&(d=!1,u.push({y:g,x1:a>p?p-v/2-r:p+v/2+r,x2:a>p?a+c/2+r:a-c/2-r}),i.set("top",g)),s(g-m/2,o-l/2)&&(d=!1,u.push({y:g-m/2,x1:a>p?p-v/2-r:p+v/2+r,x2:a>p?a+c/2+r:a-c/2-r}),i.set("top",g-m/2+l/2)),s(g+m/2,o+l/2)&&(d=!1,u.push({y:g+m/2,x1:a>p?p-v/2-r:p+v/2+r,x2:a>p?a+c/2+r:a-c/2-r}),i.set("top",g+m/2-l/2))}d&&(h.length=u.length=0)}),e.on("after:render",function(){for(var e=h.length;e--;)t(h[e]);for(var e=u.length;e--;)i(u[e])}),e.on("mouse:up",function(){h.length=u.length=0,e.renderAll()})}function initCenteringGuidelines(e){function t(){n(r+.5,0,r+.5,a)}function i(){n(0,o+.5,s,o+.5)}function n(e,t,i,n){f.save(),f.strokeStyle=u,f.lineWidth=d,f.beginPath(),f.moveTo(e,t),f.lineTo(i,n),f.stroke(),f.restore()}for(var s=e.getWidth(),a=e.getHeight(),r=s/2,o=a/2,l={},c={},h=4,u="rgba(255,0,241,0.5)",d=1,f=e.getSelectionContext(),p=r-h,g=r+h;g>=p;p++)l[p]=!0;for(var p=o-h,g=o+h;g>=p;p++)c[p]=!0;var m,v;e.on("object:moving",function(e){object=e.target,m=object.get("left")in l,v=object.get("top")in c,v&&object.set("top",o),m&&object.set("left",r)}),e.on("after:render",function(){m&&t(),v&&i()}),e.on("mouse:up",function(){m=v=null,e.renderAll()})}function equalHeight(e){var t=0;e.each(function(){var e=$(this).height();e>t&&(t=e)}),e.height(t)}!function(e,t){function i(e){var t,i,n=E[e]={};for(e=e.split(/\s+/),t=0,i=e.length;i>t;t++)n[e[t]]=!0;return n}function n(e,i,n){if(n===t&&1===e.nodeType){var s="data-"+i.replace($,"-$1").toLowerCase();if(n=e.getAttribute(s),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:F.isNumeric(n)?+n:N.test(n)?F.parseJSON(n):n}catch(a){}F.data(e,i,n)}else n=t}return n}function s(e){for(var t in e)if(("data"!==t||!F.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function a(e,t,i){var n=t+"defer",s=t+"queue",a=t+"mark",r=F._data(e,n);!r||"queue"!==i&&F._data(e,s)||"mark"!==i&&F._data(e,a)||setTimeout(function(){F._data(e,s)||F._data(e,a)||(F.removeData(e,n,!0),r.fire())},0)}function r(){return!1}function o(){return!0}function l(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function c(e,t,i){if(t=t||0,F.isFunction(t))return F.grep(e,function(e,n){var s=!!t.call(e,n,e);return s===i});if(t.nodeType)return F.grep(e,function(e){return e===t===i});if("string"==typeof t){var n=F.grep(e,function(e){return 1===e.nodeType});if(ht.test(t))return F.filter(t,n,!i);t=F.filter(t,n)}return F.grep(e,function(e){return F.inArray(e,t)>=0===i})}function h(e){var t=pt.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function u(e){return F.nodeName(e,"table")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function d(e,t){if(1===t.nodeType&&F.hasData(e)){var i,n,s,a=F._data(e),r=F._data(t,a),o=a.events;if(o){delete r.handle,r.events={};for(i in o)for(n=0,s=o[i].length;s>n;n++)F.event.add(t,i,o[i][n])}r.data&&(r.data=F.extend({},r.data))}}function f(e,t){var i;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),i=t.nodeName.toLowerCase(),"object"===i?t.outerHTML=e.outerHTML:"input"!==i||"checkbox"!==e.type&&"radio"!==e.type?"option"===i?t.selected=e.defaultSelected:"input"===i||"textarea"===i?t.defaultValue=e.defaultValue:"script"===i&&t.text!==e.text&&(t.text=e.text):(e.checked&&(t.defaultChecked=t.checked=e.checked),t.value!==e.value&&(t.value=e.value)),t.removeAttribute(F.expando),t.removeAttribute("_submit_attached"),t.removeAttribute("_change_attached"))}function p(e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName("*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll("*"):[]}function g(e){("checkbox"===e.type||"radio"===e.type)&&(e.defaultChecked=e.checked)}function m(e){var t=(e.nodeName||"").toLowerCase();"input"===t?g(e):"script"!==t&&"undefined"!=typeof e.getElementsByTagName&&F.grep(e.getElementsByTagName("input"),g)}function v(e){var t=M.createElement("div");return It.appendChild(t),t.innerHTML=e.outerHTML,t.firstChild}function b(e,t,i){var n="width"===t?e.offsetWidth:e.offsetHeight,s="width"===t?1:0,a=4;if(n>0){if("border"!==i)for(;a>s;s+=2)i||(n-=parseFloat(F.css(e,"padding"+Lt[s]))||0),"margin"===i?n+=parseFloat(F.css(e,i+Lt[s]))||0:n-=parseFloat(F.css(e,"border"+Lt[s]+"Width"))||0;return n+"px"}if(n=Gt(e,t),(0>n||null==n)&&(n=e.style[t]),Et.test(n))return n;if(n=parseFloat(n)||0,i)for(;a>s;s+=2)n+=parseFloat(F.css(e,"padding"+Lt[s]))||0,"padding"!==i&&(n+=parseFloat(F.css(e,"border"+Lt[s]+"Width"))||0),"margin"===i&&(n+=parseFloat(F.css(e,i+Lt[s]))||0);return n+"px"}function y(e){return function(t,i){if("string"!=typeof t&&(i=t,t="*"),F.isFunction(i))for(var n,s,a,r=t.toLowerCase().split(ti),o=0,l=r.length;l>o;o++)n=r[o],a=/^\+/.test(n),a&&(n=n.substr(1)||"*"),s=e[n]=e[n]||[],s[a?"unshift":"push"](i)}}function _(e,i,n,s,a,r){a=a||i.dataTypes[0],r=r||{},r[a]=!0;for(var o,l=e[a],c=0,h=l?l.length:0,u=e===ai;h>c&&(u||!o);c++)o=l[c](i,n,s),"string"==typeof o&&(!u||r[o]?o=t:(i.dataTypes.unshift(o),o=_(e,i,n,s,o,r)));return!u&&o||r["*"]||(o=_(e,i,n,s,"*",r)),o}function x(e,i){var n,s,a=F.ajaxSettings.flatOptions||{};for(n in i)i[n]!==t&&((a[n]?e:s||(s={}))[n]=i[n]);s&&F.extend(!0,e,s)}function w(e,t,i,n){if(F.isArray(t))F.each(t,function(t,s){i||Bt.test(e)?n(e,s):w(e+"["+("object"==typeof s?t:"")+"]",s,i,n)});else if(i||"object"!==F.type(t))n(e,t);else for(var s in t)w(e+"["+s+"]",t[s],i,n)}function k(e,i,n){var s,a,r,o,l=e.contents,c=e.dataTypes,h=e.responseFields;for(a in h)a in n&&(i[h[a]]=n[a]);for(;"*"===c[0];)c.shift(),s===t&&(s=e.mimeType||i.getResponseHeader("content-type"));if(s)for(a in l)if(l[a]&&l[a].test(s)){c.unshift(a);break}if(c[0]in n)r=c[0];else{for(a in n){if(!c[0]||e.converters[a+" "+c[0]]){r=a;break}o||(o=a)}r=r||o}return r?(r!==c[0]&&c.unshift(r),n[r]):void 0}function C(e,i){e.dataFilter&&(i=e.dataFilter(i,e.dataType));var n,s,a,r,o,l,c,h,u=e.dataTypes,d={},f=u.length,p=u[0];for(n=1;f>n;n++){if(1===n)for(s in e.converters)"string"==typeof s&&(d[s.toLowerCase()]=e.converters[s]);if(r=p,p=u[n],"*"===p)p=r;else if("*"!==r&&r!==p){if(o=r+" "+p,l=d[o]||d["* "+p],!l){h=t;for(c in d)if(a=c.split(" "),(a[0]===r||"*"===a[0])&&(h=d[a[1]+" "+p])){c=d[c],c===!0?l=h:h===!0&&(l=c);break}}l||h||F.error("No conversion from "+o.replace(" "," to ")),l!==!0&&(i=l?l(i):h(c(i)))}}return i}function j(){try{return new e.XMLHttpRequest}catch(t){}}function S(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function T(){return setTimeout(I,0),vi=F.now()}function I(){vi=t}function G(e,t){var i={};return F.each(xi.concat.apply([],xi.slice(0,t)),function(){i[this]=e}),i}function A(e){if(!bi[e]){var t=M.body,i=F("<"+e+">").appendTo(t),n=i.css("display");i.remove(),("none"===n||""===n)&&(pi||(pi=M.createElement("iframe"),pi.frameBorder=pi.width=pi.height=0),t.appendChild(pi),gi&&pi.createElement||(gi=(pi.contentWindow||pi.contentDocument).document,gi.write((F.support.boxModel?"<!doctype html>":"")+"<html><body>"),gi.close()),i=gi.createElement(e),gi.body.appendChild(i),n=F.css(i,"display"),t.removeChild(pi)),bi[e]=n}return bi[e]}function P(e){return F.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var M=e.document,D=e.navigator,O=e.location,F=function(){function i(){if(!o.isReady){try{M.documentElement.doScroll("left")}catch(e){return setTimeout(i,1),void 0}o.ready()}}var n,s,a,r,o=function(e,t){return new o.fn.init(e,t,n)},l=e.jQuery,c=e.$,h=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,u=/\S/,d=/^\s+/,f=/\s+$/,p=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,g=/^[\],:{}\s]*$/,m=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,v=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,b=/(?:^|:|,)(?:\s*\[)+/g,y=/(webkit)[ \/]([\w.]+)/,_=/(opera)(?:.*version)?[ \/]([\w.]+)/,x=/(msie) ([\w.]+)/,w=/(mozilla)(?:.*? rv:([\w.]+))?/,k=/-([a-z]|[0-9])/gi,C=/^-ms-/,j=function(e,t){return(t+"").toUpperCase()},S=D.userAgent,T=Object.prototype.toString,I=Object.prototype.hasOwnProperty,G=Array.prototype.push,A=Array.prototype.slice,P=String.prototype.trim,O=Array.prototype.indexOf,F={};return o.fn=o.prototype={constructor:o,init:function(e,i,n){var s,a,r,l;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("body"===e&&!i&&M.body)return this.context=M,this[0]=M.body,this.selector=e,this.length=1,this;if("string"==typeof e){if(s="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:h.exec(e),!s||!s[1]&&i)return!i||i.jquery?(i||n).find(e):this.constructor(i).find(e);if(s[1])return i=i instanceof o?i[0]:i,l=i?i.ownerDocument||i:M,r=p.exec(e),r?o.isPlainObject(i)?(e=[M.createElement(r[1])],o.fn.attr.call(e,i,!0)):e=[l.createElement(r[1])]:(r=o.buildFragment([s[1]],[l]),e=(r.cacheable?o.clone(r.fragment):r.fragment).childNodes),o.merge(this,e);if(a=M.getElementById(s[2]),a&&a.parentNode){if(a.id!==s[2])return n.find(e);this.length=1,this[0]=a}return this.context=M,this.selector=e,this}return o.isFunction(e)?n.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),o.makeArray(e,this))},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return A.call(this,0)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e,t,i){var n=this.constructor();return o.isArray(e)?G.apply(n,e):o.merge(n,e),n.prevObject=this,n.context=this.context,"find"===t?n.selector=this.selector+(this.selector?" ":"")+i:t&&(n.selector=this.selector+"."+t+"("+i+")"),n},each:function(e,t){return o.each(this,e,t)},ready:function(e){return o.bindReady(),a.add(e),this},eq:function(e){return e=+e,-1===e?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(A.apply(this,arguments),"slice",A.call(arguments).join(","))},map:function(e){return this.pushStack(o.map(this,function(t,i){return e.call(t,i,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:G,sort:[].sort,splice:[].splice},o.fn.init.prototype=o.fn,o.extend=o.fn.extend=function(){var e,i,n,s,a,r,l=arguments[0]||{},c=1,h=arguments.length,u=!1;for("boolean"==typeof l&&(u=l,l=arguments[1]||{},c=2),"object"==typeof l||o.isFunction(l)||(l={}),h===c&&(l=this,--c);h>c;c++)if(null!=(e=arguments[c]))for(i in e)n=l[i],s=e[i],l!==s&&(u&&s&&(o.isPlainObject(s)||(a=o.isArray(s)))?(a?(a=!1,r=n&&o.isArray(n)?n:[]):r=n&&o.isPlainObject(n)?n:{},l[i]=o.extend(u,r,s)):s!==t&&(l[i]=s));return l},o.extend({noConflict:function(t){return e.$===o&&(e.$=c),t&&e.jQuery===o&&(e.jQuery=l),o},isReady:!1,readyWait:1,holdReady:function(e){e?o.readyWait++:o.ready(!0)},ready:function(e){if(e===!0&&!--o.readyWait||e!==!0&&!o.isReady){if(!M.body)return setTimeout(o.ready,1);if(o.isReady=!0,e!==!0&&--o.readyWait>0)return;a.fireWith(M,[o]),o.fn.trigger&&o(M).trigger("ready").off("ready")}},bindReady:function(){if(!a){if(a=o.Callbacks("once memory"),"complete"===M.readyState)return setTimeout(o.ready,1);if(M.addEventListener)M.addEventListener("DOMContentLoaded",r,!1),e.addEventListener("load",o.ready,!1);else if(M.attachEvent){M.attachEvent("onreadystatechange",r),e.attachEvent("onload",o.ready);var t=!1;try{t=null==e.frameElement}catch(n){}M.documentElement.doScroll&&t&&i()}}},isFunction:function(e){return"function"===o.type(e)},isArray:Array.isArray||function(e){return"array"===o.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):F[T.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==o.type(e)||e.nodeType||o.isWindow(e))return!1;try{if(e.constructor&&!I.call(e,"constructor")&&!I.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}var n;for(n in e);return n===t||I.call(e,n)},isEmptyObject:function(e){for(var t in e)return!1;return!0},error:function(e){throw new Error(e)},parseJSON:function(t){return"string"==typeof t&&t?(t=o.trim(t),e.JSON&&e.JSON.parse?e.JSON.parse(t):g.test(t.replace(m,"@").replace(v,"]").replace(b,""))?new Function("return "+t)():(o.error("Invalid JSON: "+t),void 0)):null},parseXML:function(i){if("string"!=typeof i||!i)return null;var n,s;try{e.DOMParser?(s=new DOMParser,n=s.parseFromString(i,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(i))}catch(a){n=t}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||o.error("Invalid XML: "+i),n},noop:function(){},globalEval:function(t){t&&u.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(C,"ms-").replace(k,j)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toUpperCase()===t.toUpperCase()},each:function(e,i,n){var s,a=0,r=e.length,l=r===t||o.isFunction(e);if(n)if(l){for(s in e)if(i.apply(e[s],n)===!1)break}else for(;r>a&&i.apply(e[a++],n)!==!1;);else if(l){for(s in e)if(i.call(e[s],s,e[s])===!1)break}else for(;r>a&&i.call(e[a],a,e[a++])!==!1;);return e},trim:P?function(e){return null==e?"":P.call(e)}:function(e){return null==e?"":e.toString().replace(d,"").replace(f,"")},makeArray:function(e,t){var i=t||[];if(null!=e){var n=o.type(e);null==e.length||"string"===n||"function"===n||"regexp"===n||o.isWindow(e)?G.call(i,e):o.merge(i,e)}return i},inArray:function(e,t,i){var n;if(t){if(O)return O.call(t,e,i);for(n=t.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,i){var n=e.length,s=0;if("number"==typeof i.length)for(var a=i.length;a>s;s++)e[n++]=i[s];else for(;i[s]!==t;)e[n++]=i[s++];return e.length=n,e},grep:function(e,t,i){var n,s=[];i=!!i;for(var a=0,r=e.length;r>a;a++)n=!!t(e[a],a),i!==n&&s.push(e[a]);return s},map:function(e,i,n){var s,a,r=[],l=0,c=e.length,h=e instanceof o||c!==t&&"number"==typeof c&&(c>0&&e[0]&&e[c-1]||0===c||o.isArray(e));if(h)for(;c>l;l++)s=i(e[l],l,n),null!=s&&(r[r.length]=s);else for(a in e)s=i(e[a],a,n),null!=s&&(r[r.length]=s);return r.concat.apply([],r)},guid:1,proxy:function(e,i){if("string"==typeof i){var n=e[i];i=e,e=n}if(!o.isFunction(e))return t;var s=A.call(arguments,2),a=function(){return e.apply(i,s.concat(A.call(arguments)))};return a.guid=e.guid=e.guid||a.guid||o.guid++,a},access:function(e,i,n,s,a,r,l){var c,h=null==n,u=0,d=e.length;if(n&&"object"==typeof n){for(u in n)o.access(e,i,u,n[u],1,r,s);a=1}else if(s!==t){if(c=l===t&&o.isFunction(s),h&&(c?(c=i,i=function(e,t,i){return c.call(o(e),i)}):(i.call(e,s),i=null)),i)for(;d>u;u++)i(e[u],n,c?s.call(e[u],u,i(e[u],n)):s,l);a=1}return a?e:h?i.call(e):d?i(e[0],n):r},now:function(){return(new Date).getTime()},uaMatch:function(e){e=e.toLowerCase();var t=y.exec(e)||_.exec(e)||x.exec(e)||e.indexOf("compatible")<0&&w.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},sub:function(){function e(t,i){return new e.fn.init(t,i)}o.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(i,n){return n&&n instanceof o&&!(n instanceof e)&&(n=e(n)),o.fn.init.call(this,i,n,t)},e.fn.init.prototype=e.fn;var t=e(M);return e},browser:{}}),o.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){F["[object "+t+"]"]=t.toLowerCase()}),s=o.uaMatch(S),s.browser&&(o.browser[s.browser]=!0,o.browser.version=s.version),o.browser.webkit&&(o.browser.safari=!0),u.test(" ")&&(d=/^[\s\xA0]+/,f=/[\s\xA0]+$/),n=o(M),M.addEventListener?r=function(){M.removeEventListener("DOMContentLoaded",r,!1),o.ready()}:M.attachEvent&&(r=function(){"complete"===M.readyState&&(M.detachEvent("onreadystatechange",r),o.ready())}),o}(),E={};F.Callbacks=function(e){e=e?E[e]||i(e):{};var n,s,a,r,o,l,c=[],h=[],u=function(t){var i,n,s,a;for(i=0,n=t.length;n>i;i++)s=t[i],a=F.type(s),"array"===a?u(s):"function"===a&&(e.unique&&f.has(s)||c.push(s))},d=function(t,i){for(i=i||[],n=!e.memory||[t,i],s=!0,a=!0,l=r||0,r=0,o=c.length;c&&o>l;l++)if(c[l].apply(t,i)===!1&&e.stopOnFalse){n=!0;break}a=!1,c&&(e.once?n===!0?f.disable():c=[]:h&&h.length&&(n=h.shift(),f.fireWith(n[0],n[1])))},f={add:function(){if(c){var e=c.length;u(arguments),a?o=c.length:n&&n!==!0&&(r=e,d(n[0],n[1]))}return this},remove:function(){if(c)for(var t=arguments,i=0,n=t.length;n>i;i++)for(var s=0;s<c.length&&(t[i]!==c[s]||(a&&o>=s&&(o--,l>=s&&l--),c.splice(s--,1),!e.unique));s++);return this},has:function(e){if(c)for(var t=0,i=c.length;i>t;t++)if(e===c[t])return!0;return!1},empty:function(){return c=[],this},disable:function(){return c=h=n=t,this},disabled:function(){return!c},lock:function(){return h=t,n&&n!==!0||f.disable(),this},locked:function(){return!h},fireWith:function(t,i){return h&&(a?e.once||h.push([t,i]):e.once&&n||d(t,i)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!s}};return f};var H=[].slice;F.extend({Deferred:function(e){var t,i=F.Callbacks("once memory"),n=F.Callbacks("once memory"),s=F.Callbacks("memory"),a="pending",r={resolve:i,reject:n,notify:s},o={done:i.add,fail:n.add,progress:s.add,state:function(){return a},isResolved:i.fired,isRejected:n.fired,then:function(e,t,i){return l.done(e).fail(t).progress(i),this},always:function(){return l.done.apply(l,arguments).fail.apply(l,arguments),this},pipe:function(e,t,i){return F.Deferred(function(n){F.each({done:[e,"resolve"],fail:[t,"reject"],progress:[i,"notify"]},function(e,t){var i,s=t[0],a=t[1];F.isFunction(s)?l[e](function(){i=s.apply(this,arguments),i&&F.isFunction(i.promise)?i.promise().then(n.resolve,n.reject,n.notify):n[a+"With"](this===l?n:this,[i])}):l[e](n[a])})}).promise()},promise:function(e){if(null==e)e=o;else for(var t in o)e[t]=o[t];return e}},l=o.promise({});for(t in r)l[t]=r[t].fire,l[t+"With"]=r[t].fireWith;return l.done(function(){a="resolved"},n.disable,s.lock).fail(function(){a="rejected"},i.disable,s.lock),e&&e.call(l,l),l},when:function(e){function t(e){return function(t){n[e]=arguments.length>1?H.call(arguments,0):t,--o||l.resolveWith(l,n)}}function i(e){return function(t){r[e]=arguments.length>1?H.call(arguments,0):t,l.notifyWith(c,r)}}var n=H.call(arguments,0),s=0,a=n.length,r=new Array(a),o=a,l=1>=a&&e&&F.isFunction(e.promise)?e:F.Deferred(),c=l.promise();if(a>1){for(;a>s;s++)n[s]&&n[s].promise&&F.isFunction(n[s].promise)?n[s].promise().then(t(s),l.reject,i(s)):--o;o||l.resolveWith(l,n)}else l!==e&&l.resolveWith(l,a?[e]:[]);return c}}),F.support=function(){var t,i,n,s,a,r,o,l,c,h,u,d=M.createElement("div");if(M.documentElement,d.setAttribute("className","t"),d.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",i=d.getElementsByTagName("*"),n=d.getElementsByTagName("a")[0],!i||!i.length||!n)return{};s=M.createElement("select"),a=s.appendChild(M.createElement("option")),r=d.getElementsByTagName("input")[0],t={leadingWhitespace:3===d.firstChild.nodeType,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/top/.test(n.getAttribute("style")),hrefNormalized:"/a"===n.getAttribute("href"),opacity:/^0.55/.test(n.style.opacity),cssFloat:!!n.style.cssFloat,checkOn:"on"===r.value,optSelected:a.selected,getSetAttribute:"t"!==d.className,enctype:!!M.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==M.createElement("nav").cloneNode(!0).outerHTML,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,pixelMargin:!0},F.boxModel=t.boxModel="CSS1Compat"===M.compatMode,r.checked=!0,t.noCloneChecked=r.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!a.disabled;try{delete d.test}catch(f){t.deleteExpando=!1}if(!d.addEventListener&&d.attachEvent&&d.fireEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1}),d.cloneNode(!0).fireEvent("onclick")),r=M.createElement("input"),r.value="t",r.setAttribute("type","radio"),t.radioValue="t"===r.value,r.setAttribute("checked","checked"),r.setAttribute("name","t"),d.appendChild(r),o=M.createDocumentFragment(),o.appendChild(d.lastChild),t.checkClone=o.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=r.checked,o.removeChild(r),o.appendChild(d),d.attachEvent)for(h in{submit:1,change:1,focusin:1})c="on"+h,u=c in d,u||(d.setAttribute(c,"return;"),u="function"==typeof d[c]),t[h+"Bubbles"]=u;return o.removeChild(d),o=s=a=d=r=null,F(function(){var i,n,s,a,r,o,c,h,f,p,g,m,v=M.getElementsByTagName("body")[0];v&&(c=1,m="padding:0;margin:0;border:",p="position:absolute;top:0;left:0;width:1px;height:1px;",g=m+"0;visibility:hidden;",h="style='"+p+m+"5px solid #000;",f="<div "+h+"display:block;'><div style='"+m+"0;display:block;overflow:hidden;'></div></div>"+"<table "+h+"' cellpadding='0' cellspacing='0'>"+"<tr><td></td></tr></table>",i=M.createElement("div"),i.style.cssText=g+"width:0;height:0;position:static;top:0;margin-top:"+c+"px",v.insertBefore(i,v.firstChild),d=M.createElement("div"),i.appendChild(d),d.innerHTML="<table><tr><td style='"+m+"0;display:none'></td><td>t</td></tr></table>",l=d.getElementsByTagName("td"),u=0===l[0].offsetHeight,l[0].style.display="",l[1].style.display="none",t.reliableHiddenOffsets=u&&0===l[0].offsetHeight,e.getComputedStyle&&(d.innerHTML="",o=M.createElement("div"),o.style.width="0",o.style.marginRight="0",d.style.width="2px",d.appendChild(o),t.reliableMarginRight=0===(parseInt((e.getComputedStyle(o,null)||{marginRight:0}).marginRight,10)||0)),"undefined"!=typeof d.style.zoom&&(d.innerHTML="",d.style.width=d.style.padding="1px",d.style.border=0,d.style.overflow="hidden",d.style.display="inline",d.style.zoom=1,t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.style.overflow="visible",d.innerHTML="<div style='width:5px;'></div>",t.shrinkWrapBlocks=3!==d.offsetWidth),d.style.cssText=p+g,d.innerHTML=f,n=d.firstChild,s=n.firstChild,a=n.nextSibling.firstChild.firstChild,r={doesNotAddBorder:5!==s.offsetTop,doesAddBorderForTableAndCells:5===a.offsetTop},s.style.position="fixed",s.style.top="20px",r.fixedPosition=20===s.offsetTop||15===s.offsetTop,s.style.position=s.style.top="",n.style.overflow="hidden",n.style.position="relative",r.subtractsBorderForOverflowNotVisible=-5===s.offsetTop,r.doesNotIncludeMarginInBodyOffset=v.offsetTop!==c,e.getComputedStyle&&(d.style.marginTop="1%",t.pixelMargin="1%"!==(e.getComputedStyle(d,null)||{marginTop:0}).marginTop),"undefined"!=typeof i.style.zoom&&(i.style.zoom=1),v.removeChild(i),o=d=i=null,F.extend(t,r))}),t}();var N=/^(?:\{.*\}|\[.*\])$/,$=/([A-Z])/g;F.extend({cache:{},uuid:0,expando:"jQuery"+(F.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?F.cache[e[F.expando]]:e[F.expando],!!e&&!s(e)},data:function(e,i,n,s){if(F.acceptData(e)){var a,r,o,l=F.expando,c="string"==typeof i,h=e.nodeType,u=h?F.cache:e,d=h?e[l]:e[l]&&l,f="events"===i;if(d&&u[d]&&(f||s||u[d].data)||!c||n!==t)return d||(h?e[l]=d=++F.uuid:d=l),u[d]||(u[d]={},h||(u[d].toJSON=F.noop)),("object"==typeof i||"function"==typeof i)&&(s?u[d]=F.extend(u[d],i):u[d].data=F.extend(u[d].data,i)),a=r=u[d],s||(r.data||(r.data={}),r=r.data),n!==t&&(r[F.camelCase(i)]=n),f&&!r[i]?a.events:(c?(o=r[i],null==o&&(o=r[F.camelCase(i)])):o=r,o)}},removeData:function(e,t,i){if(F.acceptData(e)){var n,a,r,o=F.expando,l=e.nodeType,c=l?F.cache:e,h=l?e[o]:o;if(c[h]){if(t&&(n=i?c[h]:c[h].data)){F.isArray(t)||(t in n?t=[t]:(t=F.camelCase(t),t=t in n?[t]:t.split(" ")));for(a=0,r=t.length;r>a;a++)delete n[t[a]];if(!(i?s:F.isEmptyObject)(n))return}(i||(delete c[h].data,s(c[h])))&&(F.support.deleteExpando||!c.setInterval?delete c[h]:c[h]=null,l&&(F.support.deleteExpando?delete e[o]:e.removeAttribute?e.removeAttribute(o):e[o]=null))}}},_data:function(e,t,i){return F.data(e,t,i,!0)},acceptData:function(e){if(e.nodeName){var t=F.noData[e.nodeName.toLowerCase()];if(t)return!(t===!0||e.getAttribute("classid")!==t)}return!0}}),F.fn.extend({data:function(e,i){var s,a,r,o,l,c=this[0],h=0,u=null;if(e===t){if(this.length&&(u=F.data(c),1===c.nodeType&&!F._data(c,"parsedAttrs"))){for(r=c.attributes,l=r.length;l>h;h++)o=r[h].name,0===o.indexOf("data-")&&(o=F.camelCase(o.substring(5)),n(c,o,u[o]));F._data(c,"parsedAttrs",!0)}return u}return"object"==typeof e?this.each(function(){F.data(this,e)}):(s=e.split(".",2),s[1]=s[1]?"."+s[1]:"",a=s[1]+"!",F.access(this,function(i){return i===t?(u=this.triggerHandler("getData"+a,[s[0]]),u===t&&c&&(u=F.data(c,e),u=n(c,e,u)),u===t&&s[1]?this.data(s[0]):u):(s[1]=i,this.each(function(){var t=F(this);t.triggerHandler("setData"+a,s),F.data(this,e,i),t.triggerHandler("changeData"+a,s)}),void 0)},null,i,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){F.removeData(this,e)})}}),F.extend({_mark:function(e,t){e&&(t=(t||"fx")+"mark",F._data(e,t,(F._data(e,t)||0)+1))},_unmark:function(e,t,i){if(e!==!0&&(i=t,t=e,e=!1),t){i=i||"fx";var n=i+"mark",s=e?0:(F._data(t,n)||1)-1;s?F._data(t,n,s):(F.removeData(t,n,!0),a(t,i,"mark"))}},queue:function(e,t,i){var n;return e?(t=(t||"fx")+"queue",n=F._data(e,t),i&&(!n||F.isArray(i)?n=F._data(e,t,F.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(e,t){t=t||"fx";var i=F.queue(e,t),n=i.shift(),s={};"inprogress"===n&&(n=i.shift()),n&&("fx"===t&&i.unshift("inprogress"),F._data(e,t+".run",s),n.call(e,function(){F.dequeue(e,t)},s)),i.length||(F.removeData(e,t+"queue "+t+".run",!0),a(e,t,"queue"))}}),F.fn.extend({queue:function(e,i){var n=2;return"string"!=typeof e&&(i=e,e="fx",n--),arguments.length<n?F.queue(this[0],e):i===t?this:this.each(function(){var t=F.queue(this,e,i);"fx"===e&&"inprogress"!==t[0]&&F.dequeue(this,e)})},dequeue:function(e){return this.each(function(){F.dequeue(this,e)})},delay:function(e,t){return e=F.fx?F.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var n=setTimeout(t,e);i.stop=function(){clearTimeout(n)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,i){function n(){--l||a.resolveWith(r,[r])}"string"!=typeof e&&(i=e,e=t),e=e||"fx";for(var s,a=F.Deferred(),r=this,o=r.length,l=1,c=e+"defer",h=e+"queue",u=e+"mark";o--;)(s=F.data(r[o],c,t,!0)||(F.data(r[o],h,t,!0)||F.data(r[o],u,t,!0))&&F.data(r[o],c,F.Callbacks("once memory"),!0))&&(l++,s.add(n));return n(),a.promise(i)}});var L,R,z,W=/[\n\t\r]/g,B=/\s+/,q=/\r/g,K=/^(?:button|input)$/i,U=/^(?:button|input|object|select|textarea)$/i,J=/^a(?:rea)?$/i,Y=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,V=F.support.getSetAttribute;F.fn.extend({attr:function(e,t){return F.access(this,F.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){F.removeAttr(this,e)})},prop:function(e,t){return F.access(this,F.prop,e,t,arguments.length>1)},removeProp:function(e){return e=F.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(i){}})},addClass:function(e){var t,i,n,s,a,r,o;if(F.isFunction(e))return this.each(function(t){F(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split(B),i=0,n=this.length;n>i;i++)if(s=this[i],1===s.nodeType)if(s.className||1!==t.length){for(a=" "+s.className+" ",r=0,o=t.length;o>r;r++)~a.indexOf(" "+t[r]+" ")||(a+=t[r]+" ");s.className=F.trim(a)}else s.className=e;return this},removeClass:function(e){var i,n,s,a,r,o,l;if(F.isFunction(e))return this.each(function(t){F(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||e===t)for(i=(e||"").split(B),n=0,s=this.length;s>n;n++)if(a=this[n],1===a.nodeType&&a.className)if(e){for(r=(" "+a.className+" ").replace(W," "),o=0,l=i.length;l>o;o++)r=r.replace(" "+i[o]+" "," ");a.className=F.trim(r)}else a.className="";return this},toggleClass:function(e,t){var i=typeof e,n="boolean"==typeof t;return F.isFunction(e)?this.each(function(i){F(this).toggleClass(e.call(this,i,this.className,t),t)}):this.each(function(){if("string"===i)for(var s,a=0,r=F(this),o=t,l=e.split(B);s=l[a++];)o=n?o:!r.hasClass(s),r[o?"addClass":"removeClass"](s);else("undefined"===i||"boolean"===i)&&(this.className&&F._data(this,"__className__",this.className),this.className=this.className||e===!1?"":F._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(W," ").indexOf(t)>-1)return!0;return!1},val:function(e){var i,n,s,a=this[0];{if(arguments.length)return s=F.isFunction(e),this.each(function(n){var a,r=F(this);1===this.nodeType&&(a=s?e.call(this,n,r.val()):e,null==a?a="":"number"==typeof a?a+="":F.isArray(a)&&(a=F.map(a,function(e){return null==e?"":e+""})),i=F.valHooks[this.type]||F.valHooks[this.nodeName.toLowerCase()],i&&"set"in i&&i.set(this,a,"value")!==t||(this.value=a))});if(a)return i=F.valHooks[a.type]||F.valHooks[a.nodeName.toLowerCase()],i&&"get"in i&&(n=i.get(a,"value"))!==t?n:(n=a.value,"string"==typeof n?n.replace(q,""):null==n?"":n)}}}),F.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,i,n,s,a=e.selectedIndex,r=[],o=e.options,l="select-one"===e.type;if(0>a)return null;for(i=l?a:0,n=l?a+1:o.length;n>i;i++)if(s=o[i],!(!s.selected||(F.support.optDisabled?s.disabled:null!==s.getAttribute("disabled"))||s.parentNode.disabled&&F.nodeName(s.parentNode,"optgroup"))){if(t=F(s).val(),l)return t;r.push(t)}return l&&!r.length&&o.length?F(o[a]).val():r},set:function(e,t){var i=F.makeArray(t);return F(e).find("option").each(function(){this.selected=F.inArray(F(this).val(),i)>=0}),i.length||(e.selectedIndex=-1),i}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(e,i,n,s){var a,r,o,l=e.nodeType;if(e&&3!==l&&8!==l&&2!==l)return s&&i in F.attrFn?F(e)[i](n):"undefined"==typeof e.getAttribute?F.prop(e,i,n):(o=1!==l||!F.isXMLDoc(e),o&&(i=i.toLowerCase(),r=F.attrHooks[i]||(Y.test(i)?R:L)),n!==t?null===n?(F.removeAttr(e,i),void 0):r&&"set"in r&&o&&(a=r.set(e,n,i))!==t?a:(e.setAttribute(i,""+n),n):r&&"get"in r&&o&&null!==(a=r.get(e,i))?a:(a=e.getAttribute(i),null===a?t:a))},removeAttr:function(e,t){var i,n,s,a,r,o=0;if(t&&1===e.nodeType)for(n=t.toLowerCase().split(B),a=n.length;a>o;o++)s=n[o],s&&(i=F.propFix[s]||s,r=Y.test(s),r||F.attr(e,s,""),e.removeAttribute(V?s:i),r&&i in e&&(e[i]=!1))},attrHooks:{type:{set:function(e,t){if(K.test(e.nodeName)&&e.parentNode)F.error("type property can't be changed");else if(!F.support.radioValue&&"radio"===t&&F.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}},value:{get:function(e,t){return L&&F.nodeName(e,"button")?L.get(e,t):t in e?e.value:null},set:function(e,t,i){return L&&F.nodeName(e,"button")?L.set(e,t,i):(e.value=t,void 0)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,i,n){var s,a,r,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return r=1!==o||!F.isXMLDoc(e),r&&(i=F.propFix[i]||i,a=F.propHooks[i]),n!==t?a&&"set"in a&&(s=a.set(e,n,i))!==t?s:e[i]=n:a&&"get"in a&&null!==(s=a.get(e,i))?s:e[i]},propHooks:{tabIndex:{get:function(e){var i=e.getAttributeNode("tabindex");return i&&i.specified?parseInt(i.value,10):U.test(e.nodeName)||J.test(e.nodeName)&&e.href?0:t}}}}),F.attrHooks.tabindex=F.propHooks.tabIndex,R={get:function(e,i){var n,s=F.prop(e,i);return s===!0||"boolean"!=typeof s&&(n=e.getAttributeNode(i))&&n.nodeValue!==!1?i.toLowerCase():t},set:function(e,t,i){var n;return t===!1?F.removeAttr(e,i):(n=F.propFix[i]||i,n in e&&(e[n]=!0),e.setAttribute(i,i.toLowerCase())),i}},V||(z={name:!0,id:!0,coords:!0},L=F.valHooks.button={get:function(e,i){var n;
return n=e.getAttributeNode(i),n&&(z[i]?""!==n.nodeValue:n.specified)?n.nodeValue:t},set:function(e,t,i){var n=e.getAttributeNode(i);return n||(n=M.createAttribute(i),e.setAttributeNode(n)),n.nodeValue=t+""}},F.attrHooks.tabindex.set=L.set,F.each(["width","height"],function(e,t){F.attrHooks[t]=F.extend(F.attrHooks[t],{set:function(e,i){return""===i?(e.setAttribute(t,"auto"),i):void 0}})}),F.attrHooks.contenteditable={get:L.get,set:function(e,t,i){""===t&&(t="false"),L.set(e,t,i)}}),F.support.hrefNormalized||F.each(["href","src","width","height"],function(e,i){F.attrHooks[i]=F.extend(F.attrHooks[i],{get:function(e){var n=e.getAttribute(i,2);return null===n?t:n}})}),F.support.style||(F.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=""+t}}),F.support.optSelected||(F.propHooks.selected=F.extend(F.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),F.support.enctype||(F.propFix.enctype="encoding"),F.support.checkOn||F.each(["radio","checkbox"],function(){F.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),F.each(["radio","checkbox"],function(){F.valHooks[this]=F.extend(F.valHooks[this],{set:function(e,t){return F.isArray(t)?e.checked=F.inArray(F(e).val(),t)>=0:void 0}})});var X=/^(?:textarea|input|select)$/i,Q=/^([^\.]*)?(?:\.(.+))?$/,Z=/(?:^|\s)hover(\.\S+)?\b/,et=/^key/,tt=/^(?:mouse|contextmenu)|click/,it=/^(?:focusinfocus|focusoutblur)$/,nt=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,st=function(e){var t=nt.exec(e);return t&&(t[1]=(t[1]||"").toLowerCase(),t[3]=t[3]&&new RegExp("(?:^|\\s)"+t[3]+"(?:\\s|$)")),t},at=function(e,t){var i=e.attributes||{};return!(t[1]&&e.nodeName.toLowerCase()!==t[1]||t[2]&&(i.id||{}).value!==t[2]||t[3]&&!t[3].test((i["class"]||{}).value))},rt=function(e){return F.event.special.hover?e:e.replace(Z,"mouseenter$1 mouseleave$1")};F.event={add:function(e,i,n,s,a){var r,o,l,c,h,u,d,f,p,g,m;if(3!==e.nodeType&&8!==e.nodeType&&i&&n&&(r=F._data(e))){for(n.handler&&(p=n,n=p.handler,a=p.selector),n.guid||(n.guid=F.guid++),l=r.events,l||(r.events=l={}),o=r.handle,o||(r.handle=o=function(e){return"undefined"==typeof F||e&&F.event.triggered===e.type?t:F.event.dispatch.apply(o.elem,arguments)},o.elem=e),i=F.trim(rt(i)).split(" "),c=0;c<i.length;c++)h=Q.exec(i[c])||[],u=h[1],d=(h[2]||"").split(".").sort(),m=F.event.special[u]||{},u=(a?m.delegateType:m.bindType)||u,m=F.event.special[u]||{},f=F.extend({type:u,origType:h[1],data:s,handler:n,guid:n.guid,selector:a,quick:a&&st(a),namespace:d.join(".")},p),g=l[u],g||(g=l[u]=[],g.delegateCount=0,m.setup&&m.setup.call(e,s,d,o)!==!1||(e.addEventListener?e.addEventListener(u,o,!1):e.attachEvent&&e.attachEvent("on"+u,o))),m.add&&(m.add.call(e,f),f.handler.guid||(f.handler.guid=n.guid)),a?g.splice(g.delegateCount++,0,f):g.push(f),F.event.global[u]=!0;e=null}},global:{},remove:function(e,t,i,n,s){var a,r,o,l,c,h,u,d,f,p,g,m,v=F.hasData(e)&&F._data(e);if(v&&(d=v.events)){for(t=F.trim(rt(t||"")).split(" "),a=0;a<t.length;a++)if(r=Q.exec(t[a])||[],o=l=r[1],c=r[2],o){for(f=F.event.special[o]||{},o=(n?f.delegateType:f.bindType)||o,g=d[o]||[],h=g.length,c=c?new RegExp("(^|\\.)"+c.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null,u=0;u<g.length;u++)m=g[u],!s&&l!==m.origType||i&&i.guid!==m.guid||c&&!c.test(m.namespace)||n&&n!==m.selector&&("**"!==n||!m.selector)||(g.splice(u--,1),m.selector&&g.delegateCount--,f.remove&&f.remove.call(e,m));0===g.length&&h!==g.length&&(f.teardown&&f.teardown.call(e,c)!==!1||F.removeEvent(e,o,v.handle),delete d[o])}else for(o in d)F.event.remove(e,o+t[a],i,n,!0);F.isEmptyObject(d)&&(p=v.handle,p&&(p.elem=null),F.removeData(e,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(i,n,s,a){if(!s||3!==s.nodeType&&8!==s.nodeType){var r,o,l,c,h,u,d,f,p,g,m=i.type||i,v=[];if(!it.test(m+F.event.triggered)&&(m.indexOf("!")>=0&&(m=m.slice(0,-1),o=!0),m.indexOf(".")>=0&&(v=m.split("."),m=v.shift(),v.sort()),s&&!F.event.customEvent[m]||F.event.global[m]))if(i="object"==typeof i?i[F.expando]?i:new F.Event(m,i):new F.Event(m),i.type=m,i.isTrigger=!0,i.exclusive=o,i.namespace=v.join("."),i.namespace_re=i.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,u=m.indexOf(":")<0?"on"+m:"",s){if(i.result=t,i.target||(i.target=s),n=null!=n?F.makeArray(n):[],n.unshift(i),d=F.event.special[m]||{},!d.trigger||d.trigger.apply(s,n)!==!1){if(p=[[s,d.bindType||m]],!a&&!d.noBubble&&!F.isWindow(s)){for(g=d.delegateType||m,c=it.test(g+m)?s:s.parentNode,h=null;c;c=c.parentNode)p.push([c,g]),h=c;h&&h===s.ownerDocument&&p.push([h.defaultView||h.parentWindow||e,g])}for(l=0;l<p.length&&!i.isPropagationStopped();l++)c=p[l][0],i.type=p[l][1],f=(F._data(c,"events")||{})[i.type]&&F._data(c,"handle"),f&&f.apply(c,n),f=u&&c[u],f&&F.acceptData(c)&&f.apply(c,n)===!1&&i.preventDefault();return i.type=m,a||i.isDefaultPrevented()||d._default&&d._default.apply(s.ownerDocument,n)!==!1||"click"===m&&F.nodeName(s,"a")||!F.acceptData(s)||u&&s[m]&&("focus"!==m&&"blur"!==m||0!==i.target.offsetWidth)&&!F.isWindow(s)&&(h=s[u],h&&(s[u]=null),F.event.triggered=m,s[m](),F.event.triggered=t,h&&(s[u]=h)),i.result}}else{r=F.cache;for(l in r)r[l].events&&r[l].events[m]&&F.event.trigger(i,n,r[l].handle.elem,!0)}}},dispatch:function(i){i=F.event.fix(i||e.event);var n,s,a,r,o,l,c,h,u,d,f=(F._data(this,"events")||{})[i.type]||[],p=f.delegateCount,g=[].slice.call(arguments,0),m=!i.exclusive&&!i.namespace,v=F.event.special[i.type]||{},b=[];if(g[0]=i,i.delegateTarget=this,!v.preDispatch||v.preDispatch.call(this,i)!==!1){if(p&&(!i.button||"click"!==i.type))for(r=F(this),r.context=this.ownerDocument||this,a=i.target;a!=this;a=a.parentNode||this)if(a.disabled!==!0){for(l={},h=[],r[0]=a,n=0;p>n;n++)u=f[n],d=u.selector,l[d]===t&&(l[d]=u.quick?at(a,u.quick):r.is(d)),l[d]&&h.push(u);h.length&&b.push({elem:a,matches:h})}for(f.length>p&&b.push({elem:this,matches:f.slice(p)}),n=0;n<b.length&&!i.isPropagationStopped();n++)for(c=b[n],i.currentTarget=c.elem,s=0;s<c.matches.length&&!i.isImmediatePropagationStopped();s++)u=c.matches[s],(m||!i.namespace&&!u.namespace||i.namespace_re&&i.namespace_re.test(u.namespace))&&(i.data=u.data,i.handleObj=u,o=((F.event.special[u.origType]||{}).handle||u.handler).apply(c.elem,g),o!==t&&(i.result=o,o===!1&&(i.preventDefault(),i.stopPropagation())));return v.postDispatch&&v.postDispatch.call(this,i),i.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,i){var n,s,a,r=i.button,o=i.fromElement;return null==e.pageX&&null!=i.clientX&&(n=e.target.ownerDocument||M,s=n.documentElement,a=n.body,e.pageX=i.clientX+(s&&s.scrollLeft||a&&a.scrollLeft||0)-(s&&s.clientLeft||a&&a.clientLeft||0),e.pageY=i.clientY+(s&&s.scrollTop||a&&a.scrollTop||0)-(s&&s.clientTop||a&&a.clientTop||0)),!e.relatedTarget&&o&&(e.relatedTarget=o===e.target?i.toElement:o),e.which||r===t||(e.which=1&r?1:2&r?3:4&r?2:0),e}},fix:function(e){if(e[F.expando])return e;var i,n,s=e,a=F.event.fixHooks[e.type]||{},r=a.props?this.props.concat(a.props):this.props;for(e=F.Event(s),i=r.length;i;)n=r[--i],e[n]=s[n];return e.target||(e.target=s.srcElement||M),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey===t&&(e.metaKey=e.ctrlKey),a.filter?a.filter(e,s):e},special:{ready:{setup:F.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,i){F.isWindow(this)&&(this.onbeforeunload=i)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,i,n){var s=F.extend(new F.Event,i,{type:e,isSimulated:!0,originalEvent:{}});n?F.event.trigger(s,null,t):F.event.dispatch.call(t,s),s.isDefaultPrevented()&&i.preventDefault()}},F.event.handle=F.event.dispatch,F.removeEvent=M.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}:function(e,t,i){e.detachEvent&&e.detachEvent("on"+t,i)},F.Event=function(e,t){return this instanceof F.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?o:r):this.type=e,t&&F.extend(this,t),this.timeStamp=e&&e.timeStamp||F.now(),this[F.expando]=!0,void 0):new F.Event(e,t)},F.Event.prototype={preventDefault:function(){this.isDefaultPrevented=o;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=o;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=o,this.stopPropagation()},isDefaultPrevented:r,isPropagationStopped:r,isImmediatePropagationStopped:r},F.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){F.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,s=e.relatedTarget,a=e.handleObj;return a.selector,(!s||s!==n&&!F.contains(n,s))&&(e.type=a.origType,i=a.handler.apply(this,arguments),e.type=t),i}}}),F.support.submitBubbles||(F.event.special.submit={setup:function(){return F.nodeName(this,"form")?!1:(F.event.add(this,"click._submit keypress._submit",function(e){var i=e.target,n=F.nodeName(i,"input")||F.nodeName(i,"button")?i.form:t;n&&!n._submit_attached&&(F.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),n._submit_attached=!0)}),void 0)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&F.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return F.nodeName(this,"form")?!1:(F.event.remove(this,"._submit"),void 0)}}),F.support.changeBubbles||(F.event.special.change={setup:function(){return X.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(F.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),F.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1,F.event.simulate("change",this,e,!0))})),!1):(F.event.add(this,"beforeactivate._change",function(e){var t=e.target;X.test(t.nodeName)&&!t._change_attached&&(F.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||F.event.simulate("change",this.parentNode,e,!0)}),t._change_attached=!0)}),void 0)},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return F.event.remove(this,"._change"),X.test(this.nodeName)}}),F.support.focusinBubbles||F.each({focus:"focusin",blur:"focusout"},function(e,t){var i=0,n=function(e){F.event.simulate(t,e.target,F.event.fix(e),!0)};F.event.special[t]={setup:function(){0===i++&&M.addEventListener(e,n,!0)},teardown:function(){0===--i&&M.removeEventListener(e,n,!0)}}}),F.fn.extend({on:function(e,i,n,s,a){var o,l;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=t);for(l in e)this.on(l,i,n,e[l],a);return this}if(null==n&&null==s?(s=i,n=i=t):null==s&&("string"==typeof i?(s=n,n=t):(s=n,n=i,i=t)),s===!1)s=r;else if(!s)return this;return 1===a&&(o=s,s=function(e){return F().off(e),o.apply(this,arguments)},s.guid=o.guid||(o.guid=F.guid++)),this.each(function(){F.event.add(this,e,s,n,i)})},one:function(e,t,i,n){return this.on(e,t,i,n,1)},off:function(e,i,n){if(e&&e.preventDefault&&e.handleObj){var s=e.handleObj;return F(e.delegateTarget).off(s.namespace?s.origType+"."+s.namespace:s.origType,s.selector,s.handler),this}if("object"==typeof e){for(var a in e)this.off(a,i,e[a]);return this}return(i===!1||"function"==typeof i)&&(n=i,i=t),n===!1&&(n=r),this.each(function(){F.event.remove(this,e,n,i)})},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,i){return F(this.context).on(e,this.selector,t,i),this},die:function(e,t){return F(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1==arguments.length?this.off(e,"**"):this.off(t,e,i)},trigger:function(e,t){return this.each(function(){F.event.trigger(e,t,this)})},triggerHandler:function(e,t){return this[0]?F.event.trigger(e,t,this[0],!0):void 0},toggle:function(e){var t=arguments,i=e.guid||F.guid++,n=0,s=function(i){var s=(F._data(this,"lastToggle"+e.guid)||0)%n;return F._data(this,"lastToggle"+e.guid,s+1),i.preventDefault(),t[s].apply(this,arguments)||!1};for(s.guid=i;n<t.length;)t[n++].guid=i;return this.click(s)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),F.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){F.fn[t]=function(e,i){return null==i&&(i=e,e=null),arguments.length>0?this.on(t,null,e,i):this.trigger(t)},F.attrFn&&(F.attrFn[t]=!0),et.test(t)&&(F.event.fixHooks[t]=F.event.keyHooks),tt.test(t)&&(F.event.fixHooks[t]=F.event.mouseHooks)}),/*!
 * Sizzle CSS Selector Engine
 *  Copyright 2011, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */
function(){function e(e,t,i,n,a,r){for(var o=0,l=n.length;l>o;o++){var c=n[o];if(c){var h=!1;for(c=c[e];c;){if(c[s]===i){h=n[c.sizset];break}if(1!==c.nodeType||r||(c[s]=i,c.sizset=o),c.nodeName.toLowerCase()===t){h=c;break}c=c[e]}n[o]=h}}}function i(e,t,i,n,a,r){for(var o=0,l=n.length;l>o;o++){var c=n[o];if(c){var h=!1;for(c=c[e];c;){if(c[s]===i){h=n[c.sizset];break}if(1===c.nodeType)if(r||(c[s]=i,c.sizset=o),"string"!=typeof t){if(c===t){h=!0;break}}else if(d.filter(t,[c]).length>0){h=c;break}c=c[e]}n[o]=h}}}var n=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,s="sizcache"+(Math.random()+"").replace(".",""),a=0,r=Object.prototype.toString,o=!1,l=!0,c=/\\/g,h=/\r\n/g,u=/\W/;[0,0].sort(function(){return l=!1,0});var d=function(e,t,i,s){i=i||[],t=t||M;var a=t;if(1!==t.nodeType&&9!==t.nodeType)return[];if(!e||"string"!=typeof e)return i;var o,l,c,h,u,f,m,v,y=!0,_=d.isXML(t),x=[],k=e;do if(n.exec(""),o=n.exec(k),o&&(k=o[3],x.push(o[1]),o[2])){h=o[3];break}while(o);if(x.length>1&&g.exec(e))if(2===x.length&&p.relative[x[0]])l=w(x[0]+x[1],t,s);else for(l=p.relative[x[0]]?[t]:d(x.shift(),t);x.length;)e=x.shift(),p.relative[e]&&(e+=x.shift()),l=w(e,l,s);else if(!s&&x.length>1&&9===t.nodeType&&!_&&p.match.ID.test(x[0])&&!p.match.ID.test(x[x.length-1])&&(u=d.find(x.shift(),t,_),t=u.expr?d.filter(u.expr,u.set)[0]:u.set[0]),t)for(u=s?{expr:x.pop(),set:b(s)}:d.find(x.pop(),1!==x.length||"~"!==x[0]&&"+"!==x[0]||!t.parentNode?t:t.parentNode,_),l=u.expr?d.filter(u.expr,u.set):u.set,x.length>0?c=b(l):y=!1;x.length;)f=x.pop(),m=f,p.relative[f]?m=x.pop():f="",null==m&&(m=t),p.relative[f](c,m,_);else c=x=[];if(c||(c=l),c||d.error(f||e),"[object Array]"===r.call(c))if(y)if(t&&1===t.nodeType)for(v=0;null!=c[v];v++)c[v]&&(c[v]===!0||1===c[v].nodeType&&d.contains(t,c[v]))&&i.push(l[v]);else for(v=0;null!=c[v];v++)c[v]&&1===c[v].nodeType&&i.push(l[v]);else i.push.apply(i,c);else b(c,i);return h&&(d(h,a,i,s),d.uniqueSort(i)),i};d.uniqueSort=function(e){if(_&&(o=l,e.sort(_),o))for(var t=1;t<e.length;t++)e[t]===e[t-1]&&e.splice(t--,1);return e},d.matches=function(e,t){return d(e,null,null,t)},d.matchesSelector=function(e,t){return d(t,null,null,[e]).length>0},d.find=function(e,t,i){var n,s,a,r,o,l;if(!e)return[];for(s=0,a=p.order.length;a>s;s++)if(o=p.order[s],(r=p.leftMatch[o].exec(e))&&(l=r[1],r.splice(1,1),"\\"!==l.substr(l.length-1)&&(r[1]=(r[1]||"").replace(c,""),n=p.find[o](r,t,i),null!=n))){e=e.replace(p.match[o],"");break}return n||(n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName("*"):[]),{set:n,expr:e}},d.filter=function(e,i,n,s){for(var a,r,o,l,c,h,u,f,g,m=e,v=[],b=i,y=i&&i[0]&&d.isXML(i[0]);e&&i.length;){for(o in p.filter)if(null!=(a=p.leftMatch[o].exec(e))&&a[2]){if(h=p.filter[o],u=a[1],r=!1,a.splice(1,1),"\\"===u.substr(u.length-1))continue;if(b===v&&(v=[]),p.preFilter[o])if(a=p.preFilter[o](a,b,n,v,s,y)){if(a===!0)continue}else r=l=!0;if(a)for(f=0;null!=(c=b[f]);f++)c&&(l=h(c,a,f,b),g=s^l,n&&null!=l?g?r=!0:b[f]=!1:g&&(v.push(c),r=!0));if(l!==t){if(n||(b=v),e=e.replace(p.match[o],""),!r)return[];break}}if(e===m){if(null!=r)break;d.error(e)}m=e}return b},d.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};var f=d.getText=function(e){var t,i,n=e.nodeType,s="";if(n){if(1===n||9===n||11===n){if("string"==typeof e.textContent)return e.textContent;if("string"==typeof e.innerText)return e.innerText.replace(h,"");for(e=e.firstChild;e;e=e.nextSibling)s+=f(e)}else if(3===n||4===n)return e.nodeValue}else for(t=0;i=e[t];t++)8!==i.nodeType&&(s+=f(i));return s},p=d.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")},type:function(e){return e.getAttribute("type")}},relative:{"+":function(e,t){var i="string"==typeof t,n=i&&!u.test(t),s=i&&!n;n&&(t=t.toLowerCase());for(var a,r=0,o=e.length;o>r;r++)if(a=e[r]){for(;(a=a.previousSibling)&&1!==a.nodeType;);e[r]=s||a&&a.nodeName.toLowerCase()===t?a||!1:a===t}s&&d.filter(t,e,!0)},">":function(e,t){var i,n="string"==typeof t,s=0,a=e.length;if(n&&!u.test(t)){for(t=t.toLowerCase();a>s;s++)if(i=e[s]){var r=i.parentNode;e[s]=r.nodeName.toLowerCase()===t?r:!1}}else{for(;a>s;s++)i=e[s],i&&(e[s]=n?i.parentNode:i.parentNode===t);n&&d.filter(t,e,!0)}},"":function(t,n,s){var r,o=a++,l=i;"string"!=typeof n||u.test(n)||(n=n.toLowerCase(),r=n,l=e),l("parentNode",n,o,t,r,s)},"~":function(t,n,s){var r,o=a++,l=i;"string"!=typeof n||u.test(n)||(n=n.toLowerCase(),r=n,l=e),l("previousSibling",n,o,t,r,s)}},find:{ID:function(e,t,i){if("undefined"!=typeof t.getElementById&&!i){var n=t.getElementById(e[1]);return n&&n.parentNode?[n]:[]}},NAME:function(e,t){if("undefined"!=typeof t.getElementsByName){for(var i=[],n=t.getElementsByName(e[1]),s=0,a=n.length;a>s;s++)n[s].getAttribute("name")===e[1]&&i.push(n[s]);return 0===i.length?null:i}},TAG:function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e[1]):void 0}},preFilter:{CLASS:function(e,t,i,n,s,a){if(e=" "+e[1].replace(c,"")+" ",a)return e;for(var r,o=0;null!=(r=t[o]);o++)r&&(s^(r.className&&(" "+r.className+" ").replace(/[\t\n\r]/g," ").indexOf(e)>=0)?i||n.push(r):i&&(t[o]=!1));return!1},ID:function(e){return e[1].replace(c,"")},TAG:function(e){return e[1].replace(c,"").toLowerCase()},CHILD:function(e){if("nth"===e[1]){e[2]||d.error(e[0]),e[2]=e[2].replace(/^\+|\s*/g,"");var t=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===e[2]&&"2n"||"odd"===e[2]&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=t[1]+(t[2]||1)-0,e[3]=t[3]-0}else e[2]&&d.error(e[0]);return e[0]=a++,e},ATTR:function(e,t,i,n,s,a){var r=e[1]=e[1].replace(c,"");return!a&&p.attrMap[r]&&(e[1]=p.attrMap[r]),e[4]=(e[4]||e[5]||"").replace(c,""),"~="===e[2]&&(e[4]=" "+e[4]+" "),e},PSEUDO:function(e,t,i,s,a){if("not"===e[1]){if(!((n.exec(e[3])||"").length>1||/^\w/.test(e[3]))){var r=d.filter(e[3],t,i,!0^a);return i||s.push.apply(s,r),!1}e[3]=d(e[3],null,null,t)}else if(p.match.POS.test(e[0])||p.match.CHILD.test(e[0]))return!0;return e},POS:function(e){return e.unshift(!0),e}},filters:{enabled:function(e){return e.disabled===!1&&"hidden"!==e.type},disabled:function(e){return e.disabled===!0},checked:function(e){return e.checked===!0},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!!e.firstChild},empty:function(e){return!e.firstChild},has:function(e,t,i){return!!d(i[3],e).length},header:function(e){return/h\d/i.test(e.nodeName)},text:function(e){var t=e.getAttribute("type"),i=e.type;return"input"===e.nodeName.toLowerCase()&&"text"===i&&(t===i||null===t)},radio:function(e){return"input"===e.nodeName.toLowerCase()&&"radio"===e.type},checkbox:function(e){return"input"===e.nodeName.toLowerCase()&&"checkbox"===e.type},file:function(e){return"input"===e.nodeName.toLowerCase()&&"file"===e.type},password:function(e){return"input"===e.nodeName.toLowerCase()&&"password"===e.type},submit:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"submit"===e.type},image:function(e){return"input"===e.nodeName.toLowerCase()&&"image"===e.type},reset:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"reset"===e.type},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return/input|select|textarea|button/i.test(e.nodeName)},focus:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(e,t){return 0===t},last:function(e,t,i,n){return t===n.length-1},even:function(e,t){return 0===t%2},odd:function(e,t){return 1===t%2},lt:function(e,t,i){return t<i[3]-0},gt:function(e,t,i){return t>i[3]-0},nth:function(e,t,i){return i[3]-0===t},eq:function(e,t,i){return i[3]-0===t}},filter:{PSEUDO:function(e,t,i,n){var s=t[1],a=p.filters[s];if(a)return a(e,i,t,n);if("contains"===s)return(e.textContent||e.innerText||f([e])||"").indexOf(t[3])>=0;if("not"===s){for(var r=t[3],o=0,l=r.length;l>o;o++)if(r[o]===e)return!1;return!0}d.error(s)},CHILD:function(e,t){var i,n,a,r,o,l,c=t[1],h=e;switch(c){case"only":case"first":for(;h=h.previousSibling;)if(1===h.nodeType)return!1;if("first"===c)return!0;h=e;case"last":for(;h=h.nextSibling;)if(1===h.nodeType)return!1;return!0;case"nth":if(i=t[2],n=t[3],1===i&&0===n)return!0;if(a=t[0],r=e.parentNode,r&&(r[s]!==a||!e.nodeIndex)){for(o=0,h=r.firstChild;h;h=h.nextSibling)1===h.nodeType&&(h.nodeIndex=++o);r[s]=a}return l=e.nodeIndex-n,0===i?0===l:0===l%i&&l/i>=0}},ID:function(e,t){return 1===e.nodeType&&e.getAttribute("id")===t},TAG:function(e,t){return"*"===t&&1===e.nodeType||!!e.nodeName&&e.nodeName.toLowerCase()===t},CLASS:function(e,t){return(" "+(e.className||e.getAttribute("class"))+" ").indexOf(t)>-1},ATTR:function(e,t){var i=t[1],n=d.attr?d.attr(e,i):p.attrHandle[i]?p.attrHandle[i](e):null!=e[i]?e[i]:e.getAttribute(i),s=n+"",a=t[2],r=t[4];return null==n?"!="===a:!a&&d.attr?null!=n:"="===a?s===r:"*="===a?s.indexOf(r)>=0:"~="===a?(" "+s+" ").indexOf(r)>=0:r?"!="===a?s!==r:"^="===a?0===s.indexOf(r):"$="===a?s.substr(s.length-r.length)===r:"|="===a?s===r||s.substr(0,r.length+1)===r+"-":!1:s&&n!==!1},POS:function(e,t,i,n){var s=t[2],a=p.setFilters[s];return a?a(e,i,t,n):void 0}}},g=p.match.POS,m=function(e,t){return"\\"+(t-0+1)};for(var v in p.match)p.match[v]=new RegExp(p.match[v].source+/(?![^\[]*\])(?![^\(]*\))/.source),p.leftMatch[v]=new RegExp(/(^(?:.|\r|\n)*?)/.source+p.match[v].source.replace(/\\(\d+)/g,m));p.match.globalPOS=g;var b=function(e,t){return e=Array.prototype.slice.call(e,0),t?(t.push.apply(t,e),t):e};try{Array.prototype.slice.call(M.documentElement.childNodes,0)[0].nodeType}catch(y){b=function(e,t){var i=0,n=t||[];if("[object Array]"===r.call(e))Array.prototype.push.apply(n,e);else if("number"==typeof e.length)for(var s=e.length;s>i;i++)n.push(e[i]);else for(;e[i];i++)n.push(e[i]);return n}}var _,x;M.documentElement.compareDocumentPosition?_=function(e,t){return e===t?(o=!0,0):e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t)?-1:1:e.compareDocumentPosition?-1:1}:(_=function(e,t){if(e===t)return o=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var i,n,s=[],a=[],r=e.parentNode,l=t.parentNode,c=r;if(r===l)return x(e,t);if(!r)return-1;if(!l)return 1;for(;c;)s.unshift(c),c=c.parentNode;for(c=l;c;)a.unshift(c),c=c.parentNode;i=s.length,n=a.length;for(var h=0;i>h&&n>h;h++)if(s[h]!==a[h])return x(s[h],a[h]);return h===i?x(e,a[h],-1):x(s[h],t,1)},x=function(e,t,i){if(e===t)return i;for(var n=e.nextSibling;n;){if(n===t)return-1;n=n.nextSibling}return 1}),function(){var e=M.createElement("div"),i="script"+(new Date).getTime(),n=M.documentElement;e.innerHTML="<a name='"+i+"'/>",n.insertBefore(e,n.firstChild),M.getElementById(i)&&(p.find.ID=function(e,i,n){if("undefined"!=typeof i.getElementById&&!n){var s=i.getElementById(e[1]);return s?s.id===e[1]||"undefined"!=typeof s.getAttributeNode&&s.getAttributeNode("id").nodeValue===e[1]?[s]:t:[]}},p.filter.ID=function(e,t){var i="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return 1===e.nodeType&&i&&i.nodeValue===t}),n.removeChild(e),n=e=null}(),function(){var e=M.createElement("div");e.appendChild(M.createComment("")),e.getElementsByTagName("*").length>0&&(p.find.TAG=function(e,t){var i=t.getElementsByTagName(e[1]);if("*"===e[1]){for(var n=[],s=0;i[s];s++)1===i[s].nodeType&&n.push(i[s]);i=n}return i}),e.innerHTML="<a href='#'></a>",e.firstChild&&"undefined"!=typeof e.firstChild.getAttribute&&"#"!==e.firstChild.getAttribute("href")&&(p.attrHandle.href=function(e){return e.getAttribute("href",2)}),e=null}(),M.querySelectorAll&&function(){var e=d,t=M.createElement("div"),i="__sizzle__";if(t.innerHTML="<p class='TEST'></p>",!t.querySelectorAll||0!==t.querySelectorAll(".TEST").length){d=function(t,n,s,a){if(n=n||M,!a&&!d.isXML(n)){var r=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(t);if(r&&(1===n.nodeType||9===n.nodeType)){if(r[1])return b(n.getElementsByTagName(t),s);if(r[2]&&p.find.CLASS&&n.getElementsByClassName)return b(n.getElementsByClassName(r[2]),s)}if(9===n.nodeType){if("body"===t&&n.body)return b([n.body],s);if(r&&r[3]){var o=n.getElementById(r[3]);if(!o||!o.parentNode)return b([],s);if(o.id===r[3])return b([o],s)}try{return b(n.querySelectorAll(t),s)}catch(l){}}else if(1===n.nodeType&&"object"!==n.nodeName.toLowerCase()){var c=n,h=n.getAttribute("id"),u=h||i,f=n.parentNode,g=/^\s*[+~]/.test(t);h?u=u.replace(/'/g,"\\$&"):n.setAttribute("id",u),g&&f&&(n=n.parentNode);try{if(!g||f)return b(n.querySelectorAll("[id='"+u+"'] "+t),s)}catch(m){}finally{h||c.removeAttribute("id")}}}return e(t,n,s,a)};for(var n in e)d[n]=e[n];t=null}}(),function(){var e=M.documentElement,t=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.msMatchesSelector;if(t){var i=!t.call(M.createElement("div"),"div"),n=!1;try{t.call(M.documentElement,"[test!='']:sizzle")}catch(s){n=!0}d.matchesSelector=function(e,s){if(s=s.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!d.isXML(e))try{if(n||!p.match.PSEUDO.test(s)&&!/!=/.test(s)){var a=t.call(e,s);if(a||!i||e.document&&11!==e.document.nodeType)return a}}catch(r){}return d(s,null,null,[e]).length>0}}}(),function(){var e=M.createElement("div");e.innerHTML="<div class='test e'></div><div class='test'></div>",e.getElementsByClassName&&0!==e.getElementsByClassName("e").length&&(e.lastChild.className="e",1!==e.getElementsByClassName("e").length&&(p.order.splice(1,0,"CLASS"),p.find.CLASS=function(e,t,i){return"undefined"==typeof t.getElementsByClassName||i?void 0:t.getElementsByClassName(e[1])},e=null))}(),d.contains=M.documentElement.contains?function(e,t){return e!==t&&(e.contains?e.contains(t):!0)}:M.documentElement.compareDocumentPosition?function(e,t){return!!(16&e.compareDocumentPosition(t))}:function(){return!1},d.isXML=function(e){var t=(e?e.ownerDocument||e:0).documentElement;return t?"HTML"!==t.nodeName:!1};var w=function(e,t,i){for(var n,s=[],a="",r=t.nodeType?[t]:t;n=p.match.PSEUDO.exec(e);)a+=n[0],e=e.replace(p.match.PSEUDO,"");e=p.relative[e]?e+"*":e;for(var o=0,l=r.length;l>o;o++)d(e,r[o],s,i);return d.filter(a,s)};d.attr=F.attr,d.selectors.attrMap={},F.find=d,F.expr=d.selectors,F.expr[":"]=F.expr.filters,F.unique=d.uniqueSort,F.text=d.getText,F.isXMLDoc=d.isXML,F.contains=d.contains}();var ot=/Until$/,lt=/^(?:parents|prevUntil|prevAll)/,ct=/,/,ht=/^.[^:#\[\.,]*$/,ut=Array.prototype.slice,dt=F.expr.match.globalPOS,ft={children:!0,contents:!0,next:!0,prev:!0};F.fn.extend({find:function(e){var t,i,n=this;if("string"!=typeof e)return F(e).filter(function(){for(t=0,i=n.length;i>t;t++)if(F.contains(n[t],this))return!0});var s,a,r,o=this.pushStack("","find",e);for(t=0,i=this.length;i>t;t++)if(s=o.length,F.find(e,this[t],o),t>0)for(a=s;a<o.length;a++)for(r=0;s>r;r++)if(o[r]===o[a]){o.splice(a--,1);break}return o},has:function(e){var t=F(e);return this.filter(function(){for(var e=0,i=t.length;i>e;e++)if(F.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(c(this,e,!1),"not",e)},filter:function(e){return this.pushStack(c(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?dt.test(e)?F(e,this.context).index(this[0])>=0:F.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var i,n,s=[],a=this[0];if(F.isArray(e)){for(var r=1;a&&a.ownerDocument&&a!==t;){for(i=0;i<e.length;i++)F(a).is(e[i])&&s.push({selector:e[i],elem:a,level:r});a=a.parentNode,r++}return s}var o=dt.test(e)||"string"!=typeof e?F(e,t||this.context):0;for(i=0,n=this.length;n>i;i++)for(a=this[i];a;){if(o?o.index(a)>-1:F.find.matchesSelector(a,e)){s.push(a);break}if(a=a.parentNode,!a||!a.ownerDocument||a===t||11===a.nodeType)break}return s=s.length>1?F.unique(s):s,this.pushStack(s,"closest",e)},index:function(e){return e?"string"==typeof e?F.inArray(this[0],F(e)):F.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var i="string"==typeof e?F(e,t):F.makeArray(e&&e.nodeType?[e]:e),n=F.merge(this.get(),i);return this.pushStack(l(i[0])||l(n[0])?n:F.unique(n))},andSelf:function(){return this.add(this.prevObject)}}),F.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return F.dir(e,"parentNode")},parentsUntil:function(e,t,i){return F.dir(e,"parentNode",i)},next:function(e){return F.nth(e,2,"nextSibling")},prev:function(e){return F.nth(e,2,"previousSibling")},nextAll:function(e){return F.dir(e,"nextSibling")},prevAll:function(e){return F.dir(e,"previousSibling")},nextUntil:function(e,t,i){return F.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return F.dir(e,"previousSibling",i)},siblings:function(e){return F.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return F.sibling(e.firstChild)},contents:function(e){return F.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:F.makeArray(e.childNodes)}},function(e,t){F.fn[e]=function(i,n){var s=F.map(this,t,i);return ot.test(e)||(n=i),n&&"string"==typeof n&&(s=F.filter(n,s)),s=this.length>1&&!ft[e]?F.unique(s):s,(this.length>1||ct.test(n))&&lt.test(e)&&(s=s.reverse()),this.pushStack(s,e,ut.call(arguments).join(","))}}),F.extend({filter:function(e,t,i){return i&&(e=":not("+e+")"),1===t.length?F.find.matchesSelector(t[0],e)?[t[0]]:[]:F.find.matches(e,t)},dir:function(e,i,n){for(var s=[],a=e[i];a&&9!==a.nodeType&&(n===t||1!==a.nodeType||!F(a).is(n));)1===a.nodeType&&s.push(a),a=a[i];return s},nth:function(e,t,i){t=t||1;for(var n=0;e&&(1!==e.nodeType||++n!==t);e=e[i]);return e},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}});var pt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",gt=/ jQuery\d+="(?:\d+|null)"/g,mt=/^\s+/,vt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bt=/<([\w:]+)/,yt=/<tbody/i,_t=/<|&#?\w+;/,xt=/<(?:script|style)/i,wt=/<(?:script|object|embed|option|style)/i,kt=new RegExp("<(?:"+pt+")[\\s/>]","i"),Ct=/checked\s*(?:[^=]|=\s*.checked.)/i,jt=/\/(java|ecma)script/i,St=/^\s*<!(?:\[CDATA\[|\-\-)/,Tt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},It=h(M);Tt.optgroup=Tt.option,Tt.tbody=Tt.tfoot=Tt.colgroup=Tt.caption=Tt.thead,Tt.th=Tt.td,F.support.htmlSerialize||(Tt._default=[1,"div<div>","</div>"]),F.fn.extend({text:function(e){return F.access(this,function(e){return e===t?F.text(this):this.empty().append((this[0]&&this[0].ownerDocument||M).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(F.isFunction(e))return this.each(function(t){F(this).wrapAll(e.call(this,t))});if(this[0]){var t=F(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return F.isFunction(e)?this.each(function(t){F(this).wrapInner(e.call(this,t))}):this.each(function(){var t=F(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=F.isFunction(e);return this.each(function(i){F(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){F.nodeName(this,"body")||F(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){1===this.nodeType&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){1===this.nodeType&&this.insertBefore(e,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=F.clean(arguments);return e.push.apply(e,this.toArray()),this.pushStack(e,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=this.pushStack(this,"after",arguments);return e.push.apply(e,F.clean(arguments)),e}},remove:function(e,t){for(var i,n=0;null!=(i=this[n]);n++)(!e||F.filter(e,[i]).length)&&(t||1!==i.nodeType||(F.cleanData(i.getElementsByTagName("*")),F.cleanData([i])),i.parentNode&&i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&F.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return F.clone(this,e,t)})},html:function(e){return F.access(this,function(e){var i=this[0]||{},n=0,s=this.length;if(e===t)return 1===i.nodeType?i.innerHTML.replace(gt,""):null;if(!("string"!=typeof e||xt.test(e)||!F.support.leadingWhitespace&&mt.test(e)||Tt[(bt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(vt,"<$1></$2>");try{for(;s>n;n++)i=this[n]||{},1===i.nodeType&&(F.cleanData(i.getElementsByTagName("*")),i.innerHTML=e);i=0}catch(a){}}i&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return this[0]&&this[0].parentNode?F.isFunction(e)?this.each(function(t){var i=F(this),n=i.html();i.replaceWith(e.call(this,t,n))}):("string"!=typeof e&&(e=F(e).detach()),this.each(function(){var t=this.nextSibling,i=this.parentNode;F(this).remove(),t?F(t).before(e):F(i).append(e)})):this.length?this.pushStack(F(F.isFunction(e)?e():e),"replaceWith",e):this},detach:function(e){return this.remove(e,!0)},domManip:function(e,i,n){var s,a,r,o,l=e[0],c=[];if(!F.support.checkClone&&3===arguments.length&&"string"==typeof l&&Ct.test(l))return this.each(function(){F(this).domManip(e,i,n,!0)});if(F.isFunction(l))return this.each(function(s){var a=F(this);e[0]=l.call(this,s,i?a.html():t),a.domManip(e,i,n)});if(this[0]){if(o=l&&l.parentNode,s=F.support.parentNode&&o&&11===o.nodeType&&o.childNodes.length===this.length?{fragment:o}:F.buildFragment(e,this,c),r=s.fragment,a=1===r.childNodes.length?r=r.firstChild:r.firstChild){i=i&&F.nodeName(a,"tr");for(var h=0,d=this.length,f=d-1;d>h;h++)n.call(i?u(this[h],a):this[h],s.cacheable||d>1&&f>h?F.clone(r,!0,!0):r)}c.length&&F.each(c,function(e,t){t.src?F.ajax({type:"GET",global:!1,url:t.src,async:!1,dataType:"script"}):F.globalEval((t.text||t.textContent||t.innerHTML||"").replace(St,"/*$0*/")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),F.buildFragment=function(e,t,i){var n,s,a,r,o=e[0];return t&&t[0]&&(r=t[0].ownerDocument||t[0]),r.createDocumentFragment||(r=M),!(1===e.length&&"string"==typeof o&&o.length<512&&r===M&&"<"===o.charAt(0))||wt.test(o)||!F.support.checkClone&&Ct.test(o)||!F.support.html5Clone&&kt.test(o)||(s=!0,a=F.fragments[o],a&&1!==a&&(n=a)),n||(n=r.createDocumentFragment(),F.clean(e,r,n,i)),s&&(F.fragments[o]=a?n:1),{fragment:n,cacheable:s}},F.fragments={},F.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){F.fn[e]=function(i){var n=[],s=F(i),a=1===this.length&&this[0].parentNode;if(a&&11===a.nodeType&&1===a.childNodes.length&&1===s.length)return s[t](this[0]),this;for(var r=0,o=s.length;o>r;r++){var l=(r>0?this.clone(!0):this).get();F(s[r])[t](l),n=n.concat(l)}return this.pushStack(n,e,s.selector)}}),F.extend({clone:function(e,t,i){var n,s,a,r=F.support.html5Clone||F.isXMLDoc(e)||!kt.test("<"+e.nodeName+">")?e.cloneNode(!0):v(e);if(!(F.support.noCloneEvent&&F.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||F.isXMLDoc(e)))for(f(e,r),n=p(e),s=p(r),a=0;n[a];++a)s[a]&&f(n[a],s[a]);if(t&&(d(e,r),i))for(n=p(e),s=p(r),a=0;n[a];++a)d(n[a],s[a]);return n=s=null,r},clean:function(e,t,i,n){var s,a,r,o=[];t=t||M,"undefined"==typeof t.createElement&&(t=t.ownerDocument||t[0]&&t[0].ownerDocument||M);for(var l,c=0;null!=(l=e[c]);c++)if("number"==typeof l&&(l+=""),l){if("string"==typeof l)if(_t.test(l)){l=l.replace(vt,"<$1></$2>");var u,d=(bt.exec(l)||["",""])[1].toLowerCase(),f=Tt[d]||Tt._default,p=f[0],g=t.createElement("div"),v=It.childNodes;for(t===M?It.appendChild(g):h(t).appendChild(g),g.innerHTML=f[1]+l+f[2];p--;)g=g.lastChild;if(!F.support.tbody){var b=yt.test(l),y="table"!==d||b?"<table>"!==f[1]||b?[]:g.childNodes:g.firstChild&&g.firstChild.childNodes;for(r=y.length-1;r>=0;--r)F.nodeName(y[r],"tbody")&&!y[r].childNodes.length&&y[r].parentNode.removeChild(y[r])}!F.support.leadingWhitespace&&mt.test(l)&&g.insertBefore(t.createTextNode(mt.exec(l)[0]),g.firstChild),l=g.childNodes,g&&(g.parentNode.removeChild(g),v.length>0&&(u=v[v.length-1],u&&u.parentNode&&u.parentNode.removeChild(u)))}else l=t.createTextNode(l);var _;if(!F.support.appendChecked)if(l[0]&&"number"==typeof(_=l.length))for(r=0;_>r;r++)m(l[r]);else m(l);l.nodeType?o.push(l):o=F.merge(o,l)}if(i)for(s=function(e){return!e.type||jt.test(e.type)},c=0;o[c];c++)if(a=o[c],n&&F.nodeName(a,"script")&&(!a.type||jt.test(a.type)))n.push(a.parentNode?a.parentNode.removeChild(a):a);else{if(1===a.nodeType){var x=F.grep(a.getElementsByTagName("script"),s);o.splice.apply(o,[c+1,0].concat(x))}i.appendChild(a)}return o},cleanData:function(e){for(var t,i,n,s=F.cache,a=F.event.special,r=F.support.deleteExpando,o=0;null!=(n=e[o]);o++)if((!n.nodeName||!F.noData[n.nodeName.toLowerCase()])&&(i=n[F.expando])){if(t=s[i],t&&t.events){for(var l in t.events)a[l]?F.event.remove(n,l):F.removeEvent(n,l,t.handle);t.handle&&(t.handle.elem=null)}r?delete n[F.expando]:n.removeAttribute&&n.removeAttribute(F.expando),delete s[i]}}});var Gt,At,Pt,Mt=/alpha\([^)]*\)/i,Dt=/opacity=([^)]*)/,Ot=/([A-Z]|^ms)/g,Ft=/^[\-+]?(?:\d*\.)?\d+$/i,Et=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,Ht=/^([\-+])=([\-+.\de]+)/,Nt=/^margin/,$t={position:"absolute",visibility:"hidden",display:"block"},Lt=["Top","Right","Bottom","Left"];F.fn.css=function(e,i){return F.access(this,function(e,i,n){return n!==t?F.style(e,i,n):F.css(e,i)},e,i,arguments.length>1)},F.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=Gt(e,"opacity");return""===i?"1":i}return e.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":F.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,i,n,s){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,r,o=F.camelCase(i),l=e.style,c=F.cssHooks[o];if(i=F.cssProps[o]||o,n===t)return c&&"get"in c&&(a=c.get(e,!1,s))!==t?a:l[i];if(r=typeof n,"string"===r&&(a=Ht.exec(n))&&(n=+(a[1]+1)*+a[2]+parseFloat(F.css(e,i)),r="number"),!(null==n||"number"===r&&isNaN(n)||("number"!==r||F.cssNumber[o]||(n+="px"),c&&"set"in c&&(n=c.set(e,n))===t)))try{l[i]=n}catch(h){}}},css:function(e,i,n){var s,a;return i=F.camelCase(i),a=F.cssHooks[i],i=F.cssProps[i]||i,"cssFloat"===i&&(i="float"),a&&"get"in a&&(s=a.get(e,!0,n))!==t?s:Gt?Gt(e,i):void 0},swap:function(e,t,i){var n,s,a={};for(s in t)a[s]=e.style[s],e.style[s]=t[s];n=i.call(e);for(s in t)e.style[s]=a[s];return n}}),F.curCSS=F.css,M.defaultView&&M.defaultView.getComputedStyle&&(At=function(e,t){var i,n,s,a,r=e.style;return t=t.replace(Ot,"-$1").toLowerCase(),(n=e.ownerDocument.defaultView)&&(s=n.getComputedStyle(e,null))&&(i=s.getPropertyValue(t),""!==i||F.contains(e.ownerDocument.documentElement,e)||(i=F.style(e,t))),!F.support.pixelMargin&&s&&Nt.test(t)&&Et.test(i)&&(a=r.width,r.width=i,i=s.width,r.width=a),i}),M.documentElement.currentStyle&&(Pt=function(e,t){var i,n,s,a=e.currentStyle&&e.currentStyle[t],r=e.style;return null==a&&r&&(s=r[t])&&(a=s),Et.test(a)&&(i=r.left,n=e.runtimeStyle&&e.runtimeStyle.left,n&&(e.runtimeStyle.left=e.currentStyle.left),r.left="fontSize"===t?"1em":a,a=r.pixelLeft+"px",r.left=i,n&&(e.runtimeStyle.left=n)),""===a?"auto":a}),Gt=At||Pt,F.each(["height","width"],function(e,t){F.cssHooks[t]={get:function(e,i,n){return i?0!==e.offsetWidth?b(e,t,n):F.swap(e,$t,function(){return b(e,t,n)}):void 0},set:function(e,t){return Ft.test(t)?t+"px":t}}}),F.support.opacity||(F.cssHooks.opacity={get:function(e,t){return Dt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100+"":t?"1":""},set:function(e,t){var i=e.style,n=e.currentStyle,s=F.isNumeric(t)?"alpha(opacity="+100*t+")":"",a=n&&n.filter||i.filter||"";i.zoom=1,t>=1&&""===F.trim(a.replace(Mt,""))&&(i.removeAttribute("filter"),n&&!n.filter)||(i.filter=Mt.test(a)?a.replace(Mt,s):a+" "+s)}}),F(function(){F.support.reliableMarginRight||(F.cssHooks.marginRight={get:function(e,t){return F.swap(e,{display:"inline-block"},function(){return t?Gt(e,"margin-right"):e.style.marginRight})}})}),F.expr&&F.expr.filters&&(F.expr.filters.hidden=function(e){var t=e.offsetWidth,i=e.offsetHeight;return 0===t&&0===i||!F.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||F.css(e,"display"))},F.expr.filters.visible=function(e){return!F.expr.filters.hidden(e)}),F.each({margin:"",padding:"",border:"Width"},function(e,t){F.cssHooks[e+t]={expand:function(i){var n,s="string"==typeof i?i.split(" "):[i],a={};for(n=0;4>n;n++)a[e+Lt[n]+t]=s[n]||s[n-2]||s[0];return a}}});var Rt,zt,Wt=/%20/g,Bt=/\[\]$/,qt=/\r?\n/g,Kt=/#.*$/,Ut=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Jt=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Yt=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Vt=/^(?:GET|HEAD)$/,Xt=/^\/\//,Qt=/\?/,Zt=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,ei=/^(?:select|textarea)/i,ti=/\s+/,ii=/([?&])_=[^&]*/,ni=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,si=F.fn.load,ai={},ri={},oi=["*/"]+["*"];try{Rt=O.href}catch(li){Rt=M.createElement("a"),Rt.href="",Rt=Rt.href}zt=ni.exec(Rt.toLowerCase())||[],F.fn.extend({load:function(e,i,n){if("string"!=typeof e&&si)return si.apply(this,arguments);if(!this.length)return this;var s=e.indexOf(" ");if(s>=0){var a=e.slice(s,e.length);e=e.slice(0,s)}var r="GET";i&&(F.isFunction(i)?(n=i,i=t):"object"==typeof i&&(i=F.param(i,F.ajaxSettings.traditional),r="POST"));var o=this;return F.ajax({url:e,type:r,dataType:"html",data:i,complete:function(e,t,i){i=e.responseText,e.isResolved()&&(e.done(function(e){i=e}),o.html(a?F("<div>").append(i.replace(Zt,"")).find(a):i)),n&&o.each(n,[i,t,e])}}),this},serialize:function(){return F.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?F.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||ei.test(this.nodeName)||Jt.test(this.type))}).map(function(e,t){var i=F(this).val();return null==i?null:F.isArray(i)?F.map(i,function(e){return{name:t.name,value:e.replace(qt,"\r\n")}}):{name:t.name,value:i.replace(qt,"\r\n")}}).get()}}),F.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){F.fn[t]=function(e){return this.on(t,e)}}),F.each(["get","post"],function(e,i){F[i]=function(e,n,s,a){return F.isFunction(n)&&(a=a||s,s=n,n=t),F.ajax({type:i,url:e,data:n,success:s,dataType:a})}}),F.extend({getScript:function(e,i){return F.get(e,t,i,"script")},getJSON:function(e,t,i){return F.get(e,t,i,"json")},ajaxSetup:function(e,t){return t?x(e,F.ajaxSettings):(t=e,e=F.ajaxSettings),x(e,t),e},ajaxSettings:{url:Rt,isLocal:Yt.test(zt[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":oi},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":F.parseJSON,"text xml":F.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:y(ai),ajaxTransport:y(ri),ajax:function(e,i){function n(e,i,n,r){if(2!==x){x=2,l&&clearTimeout(l),o=t,a=r||"",w.readyState=e>0?4:0;var c,u,b,y,_,j=i,S=n?k(d,w,n):t;if(e>=200&&300>e||304===e)if(d.ifModified&&((y=w.getResponseHeader("Last-Modified"))&&(F.lastModified[s]=y),(_=w.getResponseHeader("Etag"))&&(F.etag[s]=_)),304===e)j="notmodified",c=!0;
else try{u=C(d,S),j="success",c=!0}catch(T){j="parsererror",b=T}else b=j,(!j||e)&&(j="error",0>e&&(e=0));w.status=e,w.statusText=""+(i||j),c?g.resolveWith(f,[u,j,w]):g.rejectWith(f,[w,j,b]),w.statusCode(v),v=t,h&&p.trigger("ajax"+(c?"Success":"Error"),[w,d,c?u:b]),m.fireWith(f,[w,j]),h&&(p.trigger("ajaxComplete",[w,d]),--F.active||F.event.trigger("ajaxStop"))}}"object"==typeof e&&(i=e,e=t),i=i||{};var s,a,r,o,l,c,h,u,d=F.ajaxSetup({},i),f=d.context||d,p=f!==d&&(f.nodeType||f instanceof F)?F(f):F.event,g=F.Deferred(),m=F.Callbacks("once memory"),v=d.statusCode||{},b={},y={},x=0,w={readyState:0,setRequestHeader:function(e,t){if(!x){var i=e.toLowerCase();e=y[i]=y[i]||e,b[e]=t}return this},getAllResponseHeaders:function(){return 2===x?a:null},getResponseHeader:function(e){var i;if(2===x){if(!r)for(r={};i=Ut.exec(a);)r[i[1].toLowerCase()]=i[2];i=r[e.toLowerCase()]}return i===t?null:i},overrideMimeType:function(e){return x||(d.mimeType=e),this},abort:function(e){return e=e||"abort",o&&o.abort(e),n(0,e),this}};if(g.promise(w),w.success=w.done,w.error=w.fail,w.complete=m.add,w.statusCode=function(e){if(e){var t;if(2>x)for(t in e)v[t]=[v[t],e[t]];else t=e[w.status],w.then(t,t)}return this},d.url=((e||d.url)+"").replace(Kt,"").replace(Xt,zt[1]+"//"),d.dataTypes=F.trim(d.dataType||"*").toLowerCase().split(ti),null==d.crossDomain&&(c=ni.exec(d.url.toLowerCase()),d.crossDomain=!(!c||c[1]==zt[1]&&c[2]==zt[2]&&(c[3]||("http:"===c[1]?80:443))==(zt[3]||("http:"===zt[1]?80:443)))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=F.param(d.data,d.traditional)),_(ai,d,i,w),2===x)return!1;if(h=d.global,d.type=d.type.toUpperCase(),d.hasContent=!Vt.test(d.type),h&&0===F.active++&&F.event.trigger("ajaxStart"),!d.hasContent&&(d.data&&(d.url+=(Qt.test(d.url)?"&":"?")+d.data,delete d.data),s=d.url,d.cache===!1)){var j=F.now(),S=d.url.replace(ii,"$1_="+j);d.url=S+(S===d.url?(Qt.test(d.url)?"&":"?")+"_="+j:"")}(d.data&&d.hasContent&&d.contentType!==!1||i.contentType)&&w.setRequestHeader("Content-Type",d.contentType),d.ifModified&&(s=s||d.url,F.lastModified[s]&&w.setRequestHeader("If-Modified-Since",F.lastModified[s]),F.etag[s]&&w.setRequestHeader("If-None-Match",F.etag[s])),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+oi+"; q=0.01":""):d.accepts["*"]);for(u in d.headers)w.setRequestHeader(u,d.headers[u]);if(d.beforeSend&&(d.beforeSend.call(f,w,d)===!1||2===x))return w.abort(),!1;for(u in{success:1,error:1,complete:1})w[u](d[u]);if(o=_(ri,d,i,w)){w.readyState=1,h&&p.trigger("ajaxSend",[w,d]),d.async&&d.timeout>0&&(l=setTimeout(function(){w.abort("timeout")},d.timeout));try{x=1,o.send(b,n)}catch(T){if(!(2>x))throw T;n(-1,T)}}else n(-1,"No Transport");return w},param:function(e,i){var n=[],s=function(e,t){t=F.isFunction(t)?t():t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(i===t&&(i=F.ajaxSettings.traditional),F.isArray(e)||e.jquery&&!F.isPlainObject(e))F.each(e,function(){s(this.name,this.value)});else for(var a in e)w(a,e[a],i,s);return n.join("&").replace(Wt,"+")}}),F.extend({active:0,lastModified:{},etag:{}});var ci=F.now(),hi=/(\=)\?(&|$)|\?\?/i;F.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return F.expando+"_"+ci++}}),F.ajaxPrefilter("json jsonp",function(t,i,n){var s="string"==typeof t.data&&/^application\/x\-www\-form\-urlencoded/.test(t.contentType);if("jsonp"===t.dataTypes[0]||t.jsonp!==!1&&(hi.test(t.url)||s&&hi.test(t.data))){var a,r=t.jsonpCallback=F.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o=e[r],l=t.url,c=t.data,h="$1"+r+"$2";return t.jsonp!==!1&&(l=l.replace(hi,h),t.url===l&&(s&&(c=c.replace(hi,h)),t.data===c&&(l+=(/\?/.test(l)?"&":"?")+t.jsonp+"="+r))),t.url=l,t.data=c,e[r]=function(e){a=[e]},n.always(function(){e[r]=o,a&&F.isFunction(o)&&e[r](a[0])}),t.converters["script json"]=function(){return a||F.error(r+" was not called"),a[0]},t.dataTypes[0]="json","script"}}),F.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return F.globalEval(e),e}}}),F.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),F.ajaxTransport("script",function(e){if(e.crossDomain){var i,n=M.head||M.getElementsByTagName("head")[0]||M.documentElement;return{send:function(s,a){i=M.createElement("script"),i.async="async",e.scriptCharset&&(i.charset=e.scriptCharset),i.src=e.url,i.onload=i.onreadystatechange=function(e,s){(s||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,n&&i.parentNode&&n.removeChild(i),i=t,s||a(200,"success"))},n.insertBefore(i,n.firstChild)},abort:function(){i&&i.onload(0,1)}}}});var ui,di=e.ActiveXObject?function(){for(var e in ui)ui[e](0,1)}:!1,fi=0;F.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&j()||S()}:j,function(e){F.extend(F.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(F.ajaxSettings.xhr()),F.support.ajax&&F.ajaxTransport(function(i){if(!i.crossDomain||F.support.cors){var n;return{send:function(s,a){var r,o,l=i.xhr();if(i.username?l.open(i.type,i.url,i.async,i.username,i.password):l.open(i.type,i.url,i.async),i.xhrFields)for(o in i.xhrFields)l[o]=i.xhrFields[o];i.mimeType&&l.overrideMimeType&&l.overrideMimeType(i.mimeType),i.crossDomain||s["X-Requested-With"]||(s["X-Requested-With"]="XMLHttpRequest");try{for(o in s)l.setRequestHeader(o,s[o])}catch(c){}l.send(i.hasContent&&i.data||null),n=function(e,s){var o,c,h,u,d;try{if(n&&(s||4===l.readyState))if(n=t,r&&(l.onreadystatechange=F.noop,di&&delete ui[r]),s)4!==l.readyState&&l.abort();else{o=l.status,h=l.getAllResponseHeaders(),u={},d=l.responseXML,d&&d.documentElement&&(u.xml=d);try{u.text=l.responseText}catch(e){}try{c=l.statusText}catch(f){c=""}o||!i.isLocal||i.crossDomain?1223===o&&(o=204):o=u.text?200:404}}catch(p){s||a(-1,p)}u&&a(o,c,u,h)},i.async&&4!==l.readyState?(r=++fi,di&&(ui||(ui={},F(e).unload(di)),ui[r]=n),l.onreadystatechange=n):n()},abort:function(){n&&n(0,1)}}}});var pi,gi,mi,vi,bi={},yi=/^(?:toggle|show|hide)$/,_i=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,xi=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];F.fn.extend({show:function(e,t,i){var n,s;if(e||0===e)return this.animate(G("show",3),e,t,i);for(var a=0,r=this.length;r>a;a++)n=this[a],n.style&&(s=n.style.display,F._data(n,"olddisplay")||"none"!==s||(s=n.style.display=""),(""===s&&"none"===F.css(n,"display")||!F.contains(n.ownerDocument.documentElement,n))&&F._data(n,"olddisplay",A(n.nodeName)));for(a=0;r>a;a++)n=this[a],n.style&&(s=n.style.display,(""===s||"none"===s)&&(n.style.display=F._data(n,"olddisplay")||""));return this},hide:function(e,t,i){if(e||0===e)return this.animate(G("hide",3),e,t,i);for(var n,s,a=0,r=this.length;r>a;a++)n=this[a],n.style&&(s=F.css(n,"display"),"none"===s||F._data(n,"olddisplay")||F._data(n,"olddisplay",s));for(a=0;r>a;a++)this[a].style&&(this[a].style.display="none");return this},_toggle:F.fn.toggle,toggle:function(e,t,i){var n="boolean"==typeof e;return F.isFunction(e)&&F.isFunction(t)?this._toggle.apply(this,arguments):null==e||n?this.each(function(){var t=n?e:F(this).is(":hidden");F(this)[t?"show":"hide"]()}):this.animate(G("toggle",3),e,t,i),this},fadeTo:function(e,t,i,n){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){function s(){a.queue===!1&&F._mark(this);var t,i,n,s,r,o,l,c,h,u,d,f=F.extend({},a),p=1===this.nodeType,g=p&&F(this).is(":hidden");f.animatedProperties={};for(n in e)if(t=F.camelCase(n),n!==t&&(e[t]=e[n],delete e[n]),(r=F.cssHooks[t])&&"expand"in r){o=r.expand(e[t]),delete e[t];for(n in o)n in e||(e[n]=o[n])}for(t in e){if(i=e[t],F.isArray(i)?(f.animatedProperties[t]=i[1],i=e[t]=i[0]):f.animatedProperties[t]=f.specialEasing&&f.specialEasing[t]||f.easing||"swing","hide"===i&&g||"show"===i&&!g)return f.complete.call(this);!p||"height"!==t&&"width"!==t||(f.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===F.css(this,"display")&&"none"===F.css(this,"float")&&(F.support.inlineBlockNeedsLayout&&"inline"!==A(this.nodeName)?this.style.zoom=1:this.style.display="inline-block"))}null!=f.overflow&&(this.style.overflow="hidden");for(n in e)s=new F.fx(this,f,n),i=e[n],yi.test(i)?(d=F._data(this,"toggle"+n)||("toggle"===i?g?"show":"hide":0),d?(F._data(this,"toggle"+n,"show"===d?"hide":"show"),s[d]()):s[i]()):(l=_i.exec(i),c=s.cur(),l?(h=parseFloat(l[2]),u=l[3]||(F.cssNumber[n]?"":"px"),"px"!==u&&(F.style(this,n,(h||1)+u),c=(h||1)/s.cur()*c,F.style(this,n,c+u)),l[1]&&(h=("-="===l[1]?-1:1)*h+c),s.custom(c,h,u)):s.custom(c,i,""));return!0}var a=F.speed(t,i,n);return F.isEmptyObject(e)?this.each(a.complete,[!1]):(e=F.extend({},e),a.queue===!1?this.each(s):this.queue(a.queue,s))},stop:function(e,i,n){return"string"!=typeof e&&(n=i,i=e,e=t),i&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){function t(e,t,i){var s=t[i];F.removeData(e,i,!0),s.stop(n)}var i,s=!1,a=F.timers,r=F._data(this);if(n||F._unmark(!0,this),null==e)for(i in r)r[i]&&r[i].stop&&i.indexOf(".run")===i.length-4&&t(this,r,i);else r[i=e+".run"]&&r[i].stop&&t(this,r,i);for(i=a.length;i--;)a[i].elem!==this||null!=e&&a[i].queue!==e||(n?a[i](!0):a[i].saveState(),s=!0,a.splice(i,1));n&&s||F.dequeue(this,e)})}}),F.each({slideDown:G("show",1),slideUp:G("hide",1),slideToggle:G("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){F.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),F.extend({speed:function(e,t,i){var n=e&&"object"==typeof e?F.extend({},e):{complete:i||!i&&t||F.isFunction(e)&&e,duration:e,easing:i&&t||t&&!F.isFunction(t)&&t};return n.duration=F.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in F.fx.speeds?F.fx.speeds[n.duration]:F.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(e){F.isFunction(n.old)&&n.old.call(this),n.queue?F.dequeue(this,n.queue):e!==!1&&F._unmark(this)},n},easing:{linear:function(e){return e},swing:function(e){return-Math.cos(e*Math.PI)/2+.5}},timers:[],fx:function(e,t,i){this.options=t,this.elem=e,this.prop=i,t.orig=t.orig||{}}}),F.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(F.fx.step[this.prop]||F.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var e,t=F.css(this.elem,this.prop);return isNaN(e=parseFloat(t))?t&&"auto"!==t?t:0:e},custom:function(e,i,n){function s(e){return a.step(e)}var a=this,r=F.fx;this.startTime=vi||T(),this.end=i,this.now=this.start=e,this.pos=this.state=0,this.unit=n||this.unit||(F.cssNumber[this.prop]?"":"px"),s.queue=this.options.queue,s.elem=this.elem,s.saveState=function(){F._data(a.elem,"fxshow"+a.prop)===t&&(a.options.hide?F._data(a.elem,"fxshow"+a.prop,a.start):a.options.show&&F._data(a.elem,"fxshow"+a.prop,a.end))},s()&&F.timers.push(s)&&!mi&&(mi=setInterval(r.tick,r.interval))},show:function(){var e=F._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=e||F.style(this.elem,this.prop),this.options.show=!0,e!==t?this.custom(this.cur(),e):this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur()),F(this.elem).show()},hide:function(){this.options.orig[this.prop]=F._data(this.elem,"fxshow"+this.prop)||F.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(e){var t,i,n,s=vi||T(),a=!0,r=this.elem,o=this.options;if(e||s>=o.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),o.animatedProperties[this.prop]=!0;for(t in o.animatedProperties)o.animatedProperties[t]!==!0&&(a=!1);if(a){if(null==o.overflow||F.support.shrinkWrapBlocks||F.each(["","X","Y"],function(e,t){r.style["overflow"+t]=o.overflow[e]}),o.hide&&F(r).hide(),o.hide||o.show)for(t in o.animatedProperties)F.style(r,t,o.orig[t]),F.removeData(r,"fxshow"+t,!0),F.removeData(r,"toggle"+t,!0);n=o.complete,n&&(o.complete=!1,n.call(r))}return!1}return 1/0==o.duration?this.now=s:(i=s-this.startTime,this.state=i/o.duration,this.pos=F.easing[o.animatedProperties[this.prop]](this.state,i,0,1,o.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},F.extend(F.fx,{tick:function(){for(var e,t=F.timers,i=0;i<t.length;i++)e=t[i],e()||t[i]!==e||t.splice(i--,1);t.length||F.fx.stop()},interval:13,stop:function(){clearInterval(mi),mi=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(e){F.style(e.elem,"opacity",e.now)},_default:function(e){e.elem.style&&null!=e.elem.style[e.prop]?e.elem.style[e.prop]=e.now+e.unit:e.elem[e.prop]=e.now}}}),F.each(xi.concat.apply([],xi),function(e,t){t.indexOf("margin")&&(F.fx.step[t]=function(e){F.style(e.elem,t,Math.max(0,e.now)+e.unit)})}),F.expr&&F.expr.filters&&(F.expr.filters.animated=function(e){return F.grep(F.timers,function(t){return e===t.elem}).length});var wi,ki=/^t(?:able|d|h)$/i,Ci=/^(?:body|html)$/i;wi="getBoundingClientRect"in M.documentElement?function(e,t,i,n){try{n=e.getBoundingClientRect()}catch(s){}if(!n||!F.contains(i,e))return n?{top:n.top,left:n.left}:{top:0,left:0};var a=t.body,r=P(t),o=i.clientTop||a.clientTop||0,l=i.clientLeft||a.clientLeft||0,c=r.pageYOffset||F.support.boxModel&&i.scrollTop||a.scrollTop,h=r.pageXOffset||F.support.boxModel&&i.scrollLeft||a.scrollLeft,u=n.top+c-o,d=n.left+h-l;return{top:u,left:d}}:function(e,t,i){for(var n,s=e.offsetParent,a=e,r=t.body,o=t.defaultView,l=o?o.getComputedStyle(e,null):e.currentStyle,c=e.offsetTop,h=e.offsetLeft;(e=e.parentNode)&&e!==r&&e!==i&&(!F.support.fixedPosition||"fixed"!==l.position);)n=o?o.getComputedStyle(e,null):e.currentStyle,c-=e.scrollTop,h-=e.scrollLeft,e===s&&(c+=e.offsetTop,h+=e.offsetLeft,!F.support.doesNotAddBorder||F.support.doesAddBorderForTableAndCells&&ki.test(e.nodeName)||(c+=parseFloat(n.borderTopWidth)||0,h+=parseFloat(n.borderLeftWidth)||0),a=s,s=e.offsetParent),F.support.subtractsBorderForOverflowNotVisible&&"visible"!==n.overflow&&(c+=parseFloat(n.borderTopWidth)||0,h+=parseFloat(n.borderLeftWidth)||0),l=n;return("relative"===l.position||"static"===l.position)&&(c+=r.offsetTop,h+=r.offsetLeft),F.support.fixedPosition&&"fixed"===l.position&&(c+=Math.max(i.scrollTop,r.scrollTop),h+=Math.max(i.scrollLeft,r.scrollLeft)),{top:c,left:h}},F.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){F.offset.setOffset(this,e,t)});var i=this[0],n=i&&i.ownerDocument;return n?i===n.body?F.offset.bodyOffset(i):wi(i,n,n.documentElement):null},F.offset={bodyOffset:function(e){var t=e.offsetTop,i=e.offsetLeft;return F.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(F.css(e,"marginTop"))||0,i+=parseFloat(F.css(e,"marginLeft"))||0),{top:t,left:i}},setOffset:function(e,t,i){var n=F.css(e,"position");"static"===n&&(e.style.position="relative");var s,a,r=F(e),o=r.offset(),l=F.css(e,"top"),c=F.css(e,"left"),h=("absolute"===n||"fixed"===n)&&F.inArray("auto",[l,c])>-1,u={},d={};h?(d=r.position(),s=d.top,a=d.left):(s=parseFloat(l)||0,a=parseFloat(c)||0),F.isFunction(t)&&(t=t.call(e,i,o)),null!=t.top&&(u.top=t.top-o.top+s),null!=t.left&&(u.left=t.left-o.left+a),"using"in t?t.using.call(e,u):r.css(u)}},F.fn.extend({position:function(){if(!this[0])return null;var e=this[0],t=this.offsetParent(),i=this.offset(),n=Ci.test(t[0].nodeName)?{top:0,left:0}:t.offset();return i.top-=parseFloat(F.css(e,"marginTop"))||0,i.left-=parseFloat(F.css(e,"marginLeft"))||0,n.top+=parseFloat(F.css(t[0],"borderTopWidth"))||0,n.left+=parseFloat(F.css(t[0],"borderLeftWidth"))||0,{top:i.top-n.top,left:i.left-n.left}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||M.body;e&&!Ci.test(e.nodeName)&&"static"===F.css(e,"position");)e=e.offsetParent;return e})}}),F.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,i){var n=/Y/.test(i);F.fn[e]=function(s){return F.access(this,function(e,s,a){var r=P(e);return a===t?r?i in r?r[i]:F.support.boxModel&&r.document.documentElement[s]||r.document.body[s]:e[s]:(r?r.scrollTo(n?F(r).scrollLeft():a,n?a:F(r).scrollTop()):e[s]=a,void 0)},e,s,arguments.length,null)}}),F.each({Height:"height",Width:"width"},function(e,i){var n="client"+e,s="scroll"+e,a="offset"+e;F.fn["inner"+e]=function(){var e=this[0];return e?e.style?parseFloat(F.css(e,i,"padding")):this[i]():null},F.fn["outer"+e]=function(e){var t=this[0];return t?t.style?parseFloat(F.css(t,i,e?"margin":"border")):this[i]():null},F.fn[i]=function(e){return F.access(this,function(e,i,r){var o,l,c,h;return F.isWindow(e)?(o=e.document,l=o.documentElement[n],F.support.boxModel&&l||o.body&&o.body[n]||l):9===e.nodeType?(o=e.documentElement,o[n]>=o[s]?o[n]:Math.max(e.body[s],o[s],e.body[a],o[a])):r===t?(c=F.css(e,i),h=parseFloat(c),F.isNumeric(h)?h:c):(F(e).css(i,r),void 0)},i,e,arguments.length,null)}}),e.jQuery=e.$=F,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return F})}(window),function(e,t){var i=function(){var t=e(document).data("events");return t&&t.click&&e.grep(t.click,function(e){return"rails"===e.namespace}).length};i()&&e.error("jquery-ujs has already been loaded!");var n;e.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input:file",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(t){var i=e('meta[name="csrf-token"]').attr("content");i&&t.setRequestHeader("X-CSRF-Token",i)},fire:function(t,i,n){var s=e.Event(i);return t.trigger(s,n),s.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e.attr("href")},handleRemote:function(i){var s,a,r,o,l,c,h,u;if(n.fire(i,"ajax:before")){if(o=i.data("cross-domain"),l=o===t?null:o,c=i.data("with-credentials")||null,h=i.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,i.is("form")){s=i.attr("method"),a=i.attr("action"),r=i.serializeArray();var d=i.data("ujs:submit-button");d&&(r.push(d),i.data("ujs:submit-button",null))}else i.is(n.inputChangeSelector)?(s=i.data("method"),a=i.data("url"),r=i.serialize(),i.data("params")&&(r=r+"&"+i.data("params"))):(s=i.data("method"),a=n.href(i),r=i.data("params")||null);u={type:s||"GET",data:r,dataType:h,beforeSend:function(e,s){return s.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+s.accepts.script),n.fire(i,"ajax:beforeSend",[e,s])},success:function(e,t,n){i.trigger("ajax:success",[e,t,n])},complete:function(e,t){i.trigger("ajax:complete",[e,t])},error:function(e,t,n){i.trigger("ajax:error",[e,t,n])},xhrFields:{withCredentials:c},crossDomain:l},a&&(u.url=a);var f=n.ajax(u);return i.trigger("ajax:send",f),f}return!1},handleMethod:function(i){var s=n.href(i),a=i.data("method"),r=i.attr("target"),o=e("meta[name=csrf-token]").attr("content"),l=e("meta[name=csrf-param]").attr("content"),c=e('<form method="post" action="'+s+'"></form>'),h='<input name="_method" value="'+a+'" type="hidden" />';l!==t&&o!==t&&(h+='<input name="'+l+'" value="'+o+'" type="hidden" />'),r&&c.attr("target",r),c.hide().append(h).appendTo("body"),c.submit()},disableFormElements:function(t){t.find(n.disableSelector).each(function(){var t=e(this),i=t.is("button")?"html":"val";t.data("ujs:enable-with",t[i]()),t[i](t.data("disable-with")),t.prop("disabled",!0)})},enableFormElements:function(t){t.find(n.enableSelector).each(function(){var t=e(this),i=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[i](t.data("ujs:enable-with")),t.prop("disabled",!1)})},allowAction:function(e){var t,i=e.data("confirm"),s=!1;return i?(n.fire(e,"confirm")&&(s=n.confirm(i),t=n.fire(e,"confirm:complete",[s])),s&&t):!0},blankInputs:function(t,i,n){var s,a,r=e(),o=i||"input,textarea";return t.find(o).each(function(){s=e(this),a=s.is(":checkbox,:radio")?s.is(":checked"):s.val(),a==!!n&&(r=r.add(s))}),r.length?r:!1},nonBlankInputs:function(e,t){return n.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},callFormSubmitBindings:function(i,n){var s=i.data("events"),a=!0;return s!==t&&s.submit!==t&&e.each(s.submit,function(e,t){return"function"==typeof t.handler?a=t.handler(n):void 0}),a},disableElement:function(e){e.data("ujs:enable-with",e.html()),e.html(e.data("disable-with")),e.bind("click.railsDisable",function(e){return n.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.data("ujs:enable-with",!1)),e.unbind("click.railsDisable")}},n.fire(e(document),"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,i){e.crossDomain||n.CSRFProtection(i)}),e(document).delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(e(this))}),e(document).delegate(n.linkClickSelector,"click.rails",function(i){var s=e(this),a=s.data("method"),r=s.data("params");return n.allowAction(s)?(s.is(n.linkDisableSelector)&&n.disableElement(s),s.data("remote")!==t?!i.metaKey&&!i.ctrlKey||a&&"GET"!==a||r?(n.handleRemote(s)===!1&&n.enableElement(s),!1):!0:s.data("method")?(n.handleMethod(s),!1):void 0):n.stopEverything(i)}),e(document).delegate(n.inputChangeSelector,"change.rails",function(t){var i=e(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(t)}),e(document).delegate(n.formSubmitSelector,"submit.rails",function(i){var s=e(this),a=s.data("remote")!==t,r=n.blankInputs(s,n.requiredInputSelector),o=n.nonBlankInputs(s,n.fileInputSelector);return n.allowAction(s)?r&&s.attr("novalidate")==t&&n.fire(s,"ajax:aborted:required",[r])?n.stopEverything(i):a?o?(setTimeout(function(){n.disableFormElements(s)},13),n.fire(s,"ajax:aborted:file",[o])):!e.support.submitBubbles&&e().jquery<"1.7"&&n.callFormSubmitBindings(s,i)===!1?n.stopEverything(i):(n.handleRemote(s),!1):(setTimeout(function(){n.disableFormElements(s)},13),void 0):n.stopEverything(i)}),e(document).delegate(n.formInputClickSelector,"click.rails",function(t){var i=e(this);if(!n.allowAction(i))return n.stopEverything(t);var s=i.attr("name"),a=s?{name:s,value:i.val()}:null;i.closest("form").data("ujs:submit-button",a)}),e(document).delegate(n.formSubmitSelector,"ajax:beforeSend.rails",function(t){this==t.target&&n.disableFormElements(e(this))}),e(document).delegate(n.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&n.enableFormElements(e(this))}),e(function(){csrf_token=e("meta[name=csrf-token]").attr("content"),csrf_param=e("meta[name=csrf-param]").attr("content"),e('form input[name="'+csrf_param+'"]').val(csrf_token)}))}(jQuery),function(){}.call(this),/*!
 * jQuery UI 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
function(e,t){function i(t,i){var s=t.nodeName.toLowerCase();if("area"===s){var a,r=t.parentNode,o=r.name;return t.href&&o&&"map"===r.nodeName.toLowerCase()?(a=e("img[usemap=#"+o+"]")[0],!!a&&n(a)):!1}return(/input|select|textarea|button|object/.test(s)?!t.disabled:"a"==s?t.href||i:i)&&n(t)}function n(t){return!e(t).parents().andSelf().filter(function(){return"hidden"===e.curCSS(this,"visibility")||e.expr.filters.hidden(this)}).length}e.ui=e.ui||{},e.ui.version||(e.extend(e.ui,{version:"1.8.18",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),e.fn.extend({propAttr:e.fn.prop||e.fn.attr,_focus:e.fn.focus,focus:function(t,i){return"number"==typeof t?this.each(function(){var n=this;setTimeout(function(){e(n).focus(),i&&i.call(n)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return t=e.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.curCSS(this,"position",1))&&/(auto|scroll)/.test(e.curCSS(this,"overflow",1)+e.curCSS(this,"overflow-y",1)+e.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.curCSS(this,"overflow",1)+e.curCSS(this,"overflow-y",1)+e.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var n,s,a=e(this[0]);a.length&&a[0]!==document;){if(n=a.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(s=parseInt(a.css("zIndex"),10),!isNaN(s)&&0!==s))return s;a=a.parent()}return 0},disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.each(["Width","Height"],function(i,n){function s(t,i,n,s){return e.each(a,function(){i-=parseFloat(e.curCSS(t,"padding"+this,!0))||0,n&&(i-=parseFloat(e.curCSS(t,"border"+this+"Width",!0))||0),s&&(i-=parseFloat(e.curCSS(t,"margin"+this,!0))||0)}),i}var a="Width"===n?["Left","Right"]:["Top","Bottom"],r=n.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(i){return i===t?o["inner"+n].call(this):this.each(function(){e(this).css(r,s(this,i)+"px")})},e.fn["outer"+n]=function(t,i){return"number"!=typeof t?o["outer"+n].call(this,t):this.each(function(){e(this).css(r,s(this,t,!0,i)+"px")})}}),e.extend(e.expr[":"],{data:function(t,i,n){return!!e.data(t,n[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),s=isNaN(n);return(s||n>=0)&&i(t,!s)}}),e(function(){var t=document.body,i=t.appendChild(i=document.createElement("div"));i.offsetHeight,e.extend(i.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),e.support.minHeight=100===i.offsetHeight,e.support.selectstart="onselectstart"in i,t.removeChild(i).style.display="none"}),e.extend(e.ui,{plugin:{add:function(t,i,n){var s=e.ui[t].prototype;for(var a in n)s.plugins[a]=s.plugins[a]||[],s.plugins[a].push([i,n[a]])},call:function(e,t,i){var n=e.plugins[t];if(n&&e.element[0].parentNode)for(var s=0;s<n.length;s++)e.options[n[s][0]]&&n[s][1].apply(e.element,i)}},contains:function(e,t){return document.compareDocumentPosition?16&e.compareDocumentPosition(t):e!==t&&e.contains(t)},hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",s=!1;return t[n]>0?!0:(t[n]=1,s=t[n]>0,t[n]=0,s)},isOverAxis:function(e,t,i){return e>t&&t+i>e},isOver:function(t,i,n,s,a,r){return e.ui.isOverAxis(t,n,a)&&e.ui.isOverAxis(i,s,r)}}))}(jQuery),/*!
 * jQuery UI Widget 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
function(e,t){if(e.cleanData){var i=e.cleanData;e.cleanData=function(t){for(var n,s=0;null!=(n=t[s]);s++)try{e(n).triggerHandler("remove")}catch(a){}i(t)}}else{var n=e.fn.remove;e.fn.remove=function(t,i){return this.each(function(){return i||(!t||e.filter(t,[this]).length)&&e("*",this).add([this]).each(function(){try{e(this).triggerHandler("remove")}catch(t){}}),n.call(e(this),t,i)})}}e.widget=function(t,i,n){var s,a=t.split(".")[0];t=t.split(".")[1],s=a+"-"+t,n||(n=i,i=e.Widget),e.expr[":"][s]=function(i){return!!e.data(i,t)},e[a]=e[a]||{},e[a][t]=function(e,t){arguments.length&&this._createWidget(e,t)};var r=new i;r.options=e.extend(!0,{},r.options),e[a][t].prototype=e.extend(!0,r,{namespace:a,widgetName:t,widgetEventPrefix:e[a][t].prototype.widgetEventPrefix||t,widgetBaseClass:s},n),e.widget.bridge(t,e[a][t])},e.widget.bridge=function(i,n){e.fn[i]=function(s){var a="string"==typeof s,r=Array.prototype.slice.call(arguments,1),o=this;return s=!a&&r.length?e.extend.apply(null,[!0,s].concat(r)):s,a&&"_"===s.charAt(0)?o:(a?this.each(function(){var n=e.data(this,i),a=n&&e.isFunction(n[s])?n[s].apply(n,r):n;return a!==n&&a!==t?(o=a,!1):void 0}):this.each(function(){var t=e.data(this,i);t?t.option(s||{})._init():e.data(this,i,new n(s,this))}),o)}},e.Widget=function(e,t){arguments.length&&this._createWidget(e,t)},e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(t,i){e.data(i,this.widgetName,this),this.element=e(i),this.options=e.extend(!0,{},this.options,this._getCreateOptions(),t);var n=this;this.element.bind("remove."+this.widgetName,function(){n.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled "+"ui-state-disabled")},widget:function(){return this.element},option:function(i,n){var s=i;if(0===arguments.length)return e.extend({},this.options);if("string"==typeof i){if(n===t)return this.options[i];s={},s[i]=n}return this._setOptions(s),this},_setOptions:function(t){var i=this;return e.each(t,function(e,t){i._setOption(e,t)}),this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&this.widget()[t?"addClass":"removeClass"](this.widgetBaseClass+"-disabled"+" "+"ui-state-disabled").attr("aria-disabled",t),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(t,i,n){var s,a,r=this.options[t];if(n=n||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(s in a)s in i||(i[s]=a[s]);return this.element.trigger(i,n),!(e.isFunction(r)&&r.call(this.element[0],i,n)===!1||i.isDefaultPrevented())}}}(jQuery),/*!
 * jQuery UI Mouse 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 *	jquery.ui.widget.js
 */
function(e){var t=!1;e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(i){if(!t){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,s=1==i.which,a="string"==typeof this.options.cancel&&i.target.nodeName?e(i.target).closest(this.options.cancel).length:!1;return s&&!a&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){return!e.browser.msie||document.documentMode>=9||t.button?this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted):this._mouseUp(t)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target==this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),/*
 * jQuery UI Draggable 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Draggables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(e){e.widget("ui.draggable",e.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"!=this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},destroy:function(){return this.element.data("draggable")?(this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this):void 0},_mouseCapture:function(t){var i=this.options;return this.helper||i.disabled||e(t.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(t),this.handle?(i.iframeFix&&e(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){e('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),i.containment&&this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.helper.addClass("ui-draggable-dragging"),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,i){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",t,n)===!1)return this._mouseUp({}),!1;this.position=n.position}return this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=!1;if(e.ui.ddmanager&&!this.options.dropBehaviour&&(i=e.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),!(this.element[0]&&this.element[0].parentNode||"original"!=this.options.helper))return!1;if("invalid"==this.options.revert&&!i||"valid"==this.options.revert&&i||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)){var n=this;e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",t)!==!1&&n._clear()})}else this._trigger("stop",t)!==!1&&this._clear();return!1},_mouseUp:function(t){return this.options.iframeFix===!0&&e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){var i=this.options.handle&&e(this.options.handle,this.element).length?!1:!0;return e(this.options.handle,this.element).find("*").andSelf().each(function(){this==t.target&&(i=!0)}),i},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t])):"clone"==i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"==i.appendTo?this.element[0].parentNode:i.appendTo),n[0]==this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&e.browser.msie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;if("parent"==t.containment&&(t.containment=this.helper[0].parentNode),("document"==t.containment||"window"==t.containment)&&(this.containment=["document"==t.containment?0:e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==t.containment?0:e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==t.containment?0:e(window).scrollLeft())+e("document"==t.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==t.containment?0:e(window).scrollTop())+(e("document"==t.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(t.containment)||t.containment.constructor==Array)t.containment.constructor==Array&&(this.containment=t.containment);else{var i=e(t.containment),n=i[0];if(!n)return;i.offset();var s="hidden"!=e(n).css("overflow");this.containment=[(parseInt(e(n).css("borderLeftWidth"),10)||0)+(parseInt(e(n).css("paddingLeft"),10)||0),(parseInt(e(n).css("borderTopWidth"),10)||0)+(parseInt(e(n).css("paddingTop"),10)||0),(s?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(e(n).css("borderLeftWidth"),10)||0)-(parseInt(e(n).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(s?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(e(n).css("borderTopWidth"),10)||0)-(parseInt(e(n).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i}},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"==t?1:-1,s=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),a=/(html|body)/i.test(s[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-(e.browser.safari&&e.browser.version<526&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():a?0:s.scrollTop())*n),left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-(e.browser.safari&&e.browser.version<526&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():a?0:s.scrollLeft())*n)}},_generatePosition:function(t){var i=this.options,n="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(n[0].tagName),a=t.pageX,r=t.pageY;if(this.originalPosition){var o;if(this.containment){if(this.relative_container){var l=this.relative_container.offset();o=[this.containment[0]+l.left,this.containment[1]+l.top,this.containment[2]+l.left,this.containment[3]+l.top]}else o=this.containment;t.pageX-this.offset.click.left<o[0]&&(a=o[0]+this.offset.click.left),t.pageY-this.offset.click.top<o[1]&&(r=o[1]+this.offset.click.top),t.pageX-this.offset.click.left>o[2]&&(a=o[2]+this.offset.click.left),t.pageY-this.offset.click.top>o[3]&&(r=o[3]+this.offset.click.top)}if(i.grid){var c=i.grid[1]?this.originalPageY+Math.round((r-this.originalPageY)/i.grid[1])*i.grid[1]:this.originalPageY;r=o?c-this.offset.click.top<o[1]||c-this.offset.click.top>o[3]?c-this.offset.click.top<o[1]?c+i.grid[1]:c-i.grid[1]:c:c;var h=i.grid[0]?this.originalPageX+Math.round((a-this.originalPageX)/i.grid[0])*i.grid[0]:this.originalPageX;a=o?h-this.offset.click.left<o[0]||h-this.offset.click.left>o[2]?h-this.offset.click.left<o[0]?h+i.grid[0]:h-i.grid[0]:h:h}}return{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(e.browser.safari&&e.browser.version<526&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():s?0:n.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(e.browser.safari&&e.browser.version<526&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():s?0:n.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]==this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,i,n){return n=n||this._uiHash(),e.ui.plugin.call(this,t,[i,n]),"drag"==t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.extend(e.ui.draggable,{version:"1.8.18"}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i){var n=e(this).data("draggable"),s=n.options,a=e.extend({},i,{item:n.element});n.sortables=[],e(s.connectToSortable).each(function(){var i=e.data(this,"sortable");i&&!i.options.disabled&&(n.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",t,a))})},stop:function(t,i){var n=e(this).data("draggable"),s=e.extend({},i,{item:n.element});e.each(n.sortables,function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"==n.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,s))})},drag:function(t,i){var n=e(this).data("draggable"),s=this;e.each(n.sortables,function(){this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(s).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=n.offset.click.top,this.instance.offset.click.left=n.offset.click.left,this.instance.offset.parent.left-=n.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=n.offset.parent.top-this.instance.offset.parent.top,n._trigger("toSortable",t),n.dropped=this.instance.element,n.currentItem=n.element,this.instance.fromOutside=n),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),n._trigger("fromSortable",t),n.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),i=e(this).data("draggable").options;t.css("cursor")&&(i._cursor=t.css("cursor")),t.css("cursor",i.cursor)},stop:function(){var t=e(this).data("draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i){var n=e(i.helper),s=e(this).data("draggable").options;n.css("opacity")&&(s._opacity=n.css("opacity")),n.css("opacity",s.opacity)},stop:function(t,i){var n=e(this).data("draggable").options;n._opacity&&e(i.helper).css("opacity",n._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("draggable");t.scrollParent[0]!=document&&"HTML"!=t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var i=e(this).data("draggable"),n=i.options,s=!1;i.scrollParent[0]!=document&&"HTML"!=i.scrollParent[0].tagName?(n.axis&&"x"==n.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-t.pageY<n.scrollSensitivity?i.scrollParent[0].scrollTop=s=i.scrollParent[0].scrollTop+n.scrollSpeed:t.pageY-i.overflowOffset.top<n.scrollSensitivity&&(i.scrollParent[0].scrollTop=s=i.scrollParent[0].scrollTop-n.scrollSpeed)),n.axis&&"y"==n.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-t.pageX<n.scrollSensitivity?i.scrollParent[0].scrollLeft=s=i.scrollParent[0].scrollLeft+n.scrollSpeed:t.pageX-i.overflowOffset.left<n.scrollSensitivity&&(i.scrollParent[0].scrollLeft=s=i.scrollParent[0].scrollLeft-n.scrollSpeed))):(n.axis&&"x"==n.axis||(t.pageY-e(document).scrollTop()<n.scrollSensitivity?s=e(document).scrollTop(e(document).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<n.scrollSensitivity&&(s=e(document).scrollTop(e(document).scrollTop()+n.scrollSpeed))),n.axis&&"y"==n.axis||(t.pageX-e(document).scrollLeft()<n.scrollSensitivity?s=e(document).scrollLeft(e(document).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<n.scrollSensitivity&&(s=e(document).scrollLeft(e(document).scrollLeft()+n.scrollSpeed)))),s!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t)}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("draggable"),i=t.options;t.snapElements=[],e(i.snap.constructor!=String?i.snap.items||":data(draggable)":i.snap).each(function(){var i=e(this),n=i.offset();this!=t.element[0]&&t.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:n.top,left:n.left})})},drag:function(t,i){for(var n=e(this).data("draggable"),s=n.options,a=s.snapTolerance,r=i.offset.left,o=r+n.helperProportions.width,l=i.offset.top,c=l+n.helperProportions.height,h=n.snapElements.length-1;h>=0;h--){var u=n.snapElements[h].left,d=u+n.snapElements[h].width,f=n.snapElements[h].top,p=f+n.snapElements[h].height;if(r>u-a&&d+a>r&&l>f-a&&p+a>l||r>u-a&&d+a>r&&c>f-a&&p+a>c||o>u-a&&d+a>o&&l>f-a&&p+a>l||o>u-a&&d+a>o&&c>f-a&&p+a>c){if("inner"!=s.snapMode){var g=Math.abs(f-c)<=a,m=Math.abs(p-l)<=a,v=Math.abs(u-o)<=a,b=Math.abs(d-r)<=a;g&&(i.position.top=n._convertPositionTo("relative",{top:f-n.helperProportions.height,left:0}).top-n.margins.top),m&&(i.position.top=n._convertPositionTo("relative",{top:p,left:0}).top-n.margins.top),v&&(i.position.left=n._convertPositionTo("relative",{top:0,left:u-n.helperProportions.width}).left-n.margins.left),b&&(i.position.left=n._convertPositionTo("relative",{top:0,left:d}).left-n.margins.left)}var y=g||m||v||b;if("outer"!=s.snapMode){var g=Math.abs(f-l)<=a,m=Math.abs(p-c)<=a,v=Math.abs(u-r)<=a,b=Math.abs(d-o)<=a;g&&(i.position.top=n._convertPositionTo("relative",{top:f,left:0}).top-n.margins.top),m&&(i.position.top=n._convertPositionTo("relative",{top:p-n.helperProportions.height,left:0}).top-n.margins.top),v&&(i.position.left=n._convertPositionTo("relative",{top:0,left:u}).left-n.margins.left),b&&(i.position.left=n._convertPositionTo("relative",{top:0,left:d-n.helperProportions.width}).left-n.margins.left)}!n.snapElements[h].snapping&&(g||m||v||b||y)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,t,e.extend(n._uiHash(),{snapItem:n.snapElements[h].item})),n.snapElements[h].snapping=g||m||v||b||y}else n.snapElements[h].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,t,e.extend(n._uiHash(),{snapItem:n.snapElements[h].item})),n.snapElements[h].snapping=!1}}}),e.ui.plugin.add("draggable","stack",{start:function(){var t=e(this).data("draggable").options,i=e.makeArray(e(t.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});if(i.length){var n=parseInt(i[0].style.zIndex)||0;e(i).each(function(e){this.style.zIndex=n+e}),this[0].style.zIndex=n+i.length}}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i){var n=e(i.helper),s=e(this).data("draggable").options;n.css("zIndex")&&(s._zIndex=n.css("zIndex")),n.css("zIndex",s.zIndex)},stop:function(t,i){var n=e(this).data("draggable").options;n._zIndex&&e(i.helper).css("zIndex",n._zIndex)}})}(jQuery),/*
 * jQuery UI Droppable 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Droppables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.mouse.js
 *	jquery.ui.draggable.js
 */
function(e){e.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var t=this.options,i=t.accept;this.isover=0,this.isout=1,this.accept=e.isFunction(i)?i:function(e){return e.is(i)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},e.ui.ddmanager.droppables[t.scope]=e.ui.ddmanager.droppables[t.scope]||[],e.ui.ddmanager.droppables[t.scope].push(this),t.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var t=e.ui.ddmanager.droppables[this.options.scope],i=0;i<t.length;i++)t[i]==this&&t.splice(i,1);return this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable"),this},_setOption:function(t,i){"accept"==t&&(this.accept=e.isFunction(i)?i:function(e){return e.is(i)}),e.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!=this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!=this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var n=i||e.ui.ddmanager.current;if(!n||(n.currentItem||n.element)[0]==this.element[0])return!1;var s=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var t=e.data(this,"droppable");return t.options.greedy&&!t.options.disabled&&t.options.scope==n.options.scope&&t.accept.call(t.element[0],n.currentItem||n.element)&&e.ui.intersect(n,e.extend(t,{offset:t.element.offset()}),t.options.tolerance)?(s=!0,!1):void 0}),s?!1:this.accept.call(this.element[0],n.currentItem||n.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(n)),this.element):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.extend(e.ui.droppable,{version:"1.8.18"}),e.ui.intersect=function(t,i,n){if(!i.offset)return!1;var s=(t.positionAbs||t.position.absolute).left,a=s+t.helperProportions.width,r=(t.positionAbs||t.position.absolute).top,o=r+t.helperProportions.height,l=i.offset.left,c=l+i.proportions.width,h=i.offset.top,u=h+i.proportions.height;switch(n){case"fit":return s>=l&&c>=a&&r>=h&&u>=o;case"intersect":return l<s+t.helperProportions.width/2&&a-t.helperProportions.width/2<c&&h<r+t.helperProportions.height/2&&o-t.helperProportions.height/2<u;case"pointer":var d=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,f=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,p=e.ui.isOver(f,d,h,l,i.proportions.height,i.proportions.width);return p;case"touch":return(r>=h&&u>=r||o>=h&&u>=o||h>r&&o>u)&&(s>=l&&c>=s||a>=l&&c>=a||l>s&&a>c);default:return!1}},e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var n=e.ui.ddmanager.droppables[t.options.scope]||[],s=i?i.type:null,a=(t.currentItem||t.element).find(":data(droppable)").andSelf();e:for(var r=0;r<n.length;r++)if(!(n[r].options.disabled||t&&!n[r].accept.call(n[r].element[0],t.currentItem||t.element))){for(var o=0;o<a.length;o++)if(a[o]==n[r].element[0]){n[r].proportions.height=0;continue e}n[r].visible="none"!=n[r].element.css("display"),n[r].visible&&("mousedown"==s&&n[r]._activate.call(n[r],i),n[r].offset=n[r].element.offset(),n[r].proportions={width:n[r].element[0].offsetWidth,height:n[r].element[0].offsetHeight})}},drop:function(t,i){var n=!1;return e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,i)))}),n},dragStart:function(t,i){t.element.parents(":not(body,html)").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n=e.ui.intersect(t,this,this.options.tolerance),s=n||1!=this.isover?n&&0==this.isover?"isover":null:"isout";if(s){var a;if(this.options.greedy){var r=this.element.parents(":data(droppable):eq(0)");r.length&&(a=e.data(r[0],"droppable"),a.greedyChild="isover"==s?1:0)}a&&"isover"==s&&(a.isover=0,a.isout=1,a._out.call(a,i)),this[s]=1,this["isout"==s?"isover":"isout"]=0,this["isover"==s?"_over":"_out"].call(this,i),a&&"isout"==s&&(a.isout=0,a.isover=1,a._over.call(a,i))}}})},dragStop:function(t,i){t.element.parents(":not(body,html)").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}}}(jQuery),/*
 * jQuery UI Resizable 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Resizables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(e){e.widget("ui.resizable",e.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var t=this,i=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=i.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var n=this.handles.split(",");this.handles={};for(var s=0;s<n.length;s++){var a=e.trim(n[s]),r="ui-resizable-"+a,o=e('<div class="ui-resizable-handle '+r+'"></div>');/sw|se|ne|nw/.test(a)&&o.css({zIndex:++i.zIndex}),"se"==a&&o.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[a]=".ui-resizable-"+a,this.element.append(o)}}this._renderAxis=function(t){t=t||this.element;for(var i in this.handles){if(this.handles[i].constructor==String&&(this.handles[i]=e(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var n=e(this.handles[i],this.element),s=0;s=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth();var a=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join("");t.css(a,s),this._proportionallyResize()}e(this.handles[i]).length}},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!t.resizing){if(this.className)var e=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);t.axis=e&&e[1]?e[1]:"se"}}),i.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").hover(function(){i.disabled||(e(this).removeClass("ui-resizable-autohide"),t._handles.show())},function(){i.disabled||t.resizing||(e(this).addClass("ui-resizable-autohide"),t._handles.hide())})),this._mouseInit()},destroy:function(){this._mouseDestroy();var t=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){t(this.element);var i=this.element;i.after(this.originalElement.css({position:i.css("position"),width:i.outerWidth(),height:i.outerHeight(),top:i.css("top"),left:i.css("left")})).remove()}return this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_mouseCapture:function(t){var i=!1;for(var n in this.handles)e(this.handles[n])[0]==t.target&&(i=!0);return!this.options.disabled&&i},_mouseStart:function(i){var n=this.options,s=this.element.position(),a=this.element;this.resizing=!0,this.documentScroll={top:e(document).scrollTop(),left:e(document).scrollLeft()},(a.is(".ui-draggable")||/absolute/.test(a.css("position")))&&a.css({position:"absolute",top:s.top,left:s.left}),this._renderProxy();var r=t(this.helper.css("left")),o=t(this.helper.css("top"));n.containment&&(r+=e(n.containment).scrollLeft()||0,o+=e(n.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:r,top:o},this.size=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.originalPosition={left:r,top:o},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalMousePosition={left:i.pageX,top:i.pageY},this.aspectRatio="number"==typeof n.aspectRatio?n.aspectRatio:this.originalSize.width/this.originalSize.height||1;var l=e(".ui-resizable-"+this.axis).css("cursor");return e("body").css("cursor","auto"==l?this.axis+"-resize":l),a.addClass("ui-resizable-resizing"),this._propagate("start",i),!0},_mouseDrag:function(t){var i=this.helper,n=(this.options,this.originalMousePosition),s=this.axis,a=t.pageX-n.left||0,r=t.pageY-n.top||0,o=this._change[s];if(!o)return!1;var l=o.apply(this,[t,a,r]);return e.browser.msie&&e.browser.version<7,this.sizeDiff,this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(l=this._updateRatio(l,t)),l=this._respectSize(l,t),this._propagate("resize",t),i.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(l),this._trigger("resize",t,this.ui()),!1},_mouseStop:function(t){this.resizing=!1;var i=this.options,n=this;if(this._helper){var s=this._proportionallyResizeElements,a=s.length&&/textarea/i.test(s[0].nodeName),r=a&&e.ui.hasScroll(s[0],"left")?0:n.sizeDiff.height,o=a?0:n.sizeDiff.width,l={width:n.helper.width()-o,height:n.helper.height()-r},c=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,h=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;i.animate||this.element.css(e.extend(l,{top:h,left:c})),n.helper.height(n.size.height),n.helper.width(n.size.width),this._helper&&!i.animate&&this._proportionallyResize()}return e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,n,s,a,r,o=this.options;r={minWidth:i(o.minWidth)?o.minWidth:0,maxWidth:i(o.maxWidth)?o.maxWidth:1/0,minHeight:i(o.minHeight)?o.minHeight:0,maxHeight:i(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||e)&&(t=r.minHeight*this.aspectRatio,s=r.minWidth/this.aspectRatio,n=r.maxHeight*this.aspectRatio,a=r.maxWidth/this.aspectRatio,t>r.minWidth&&(r.minWidth=t),s>r.minHeight&&(r.minHeight=s),n<r.maxWidth&&(r.maxWidth=n),a<r.maxHeight&&(r.maxHeight=a)),this._vBoundaries=r},_updateCache:function(e){this.options,this.offset=this.helper.offset(),i(e.left)&&(this.position.left=e.left),i(e.top)&&(this.position.top=e.top),i(e.height)&&(this.size.height=e.height),i(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=(this.options,this.position),n=this.size,s=this.axis;return i(e.height)?e.width=e.height*this.aspectRatio:i(e.width)&&(e.height=e.width/this.aspectRatio),"sw"==s&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"==s&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e,t){var n=(this.helper,this._vBoundaries),s=(this._aspectRatio||t.shiftKey,this.axis),a=i(e.width)&&n.maxWidth&&n.maxWidth<e.width,r=i(e.height)&&n.maxHeight&&n.maxHeight<e.height,o=i(e.width)&&n.minWidth&&n.minWidth>e.width,l=i(e.height)&&n.minHeight&&n.minHeight>e.height;o&&(e.width=n.minWidth),l&&(e.height=n.minHeight),a&&(e.width=n.maxWidth),r&&(e.height=n.maxHeight);var c=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,u=/sw|nw|w/.test(s),d=/nw|ne|n/.test(s);o&&u&&(e.left=c-n.minWidth),a&&u&&(e.left=c-n.maxWidth),l&&d&&(e.top=h-n.minHeight),r&&d&&(e.top=h-n.maxHeight);var f=!e.width&&!e.height;return f&&!e.left&&e.top?e.top=null:f&&!e.top&&e.left&&(e.left=null),e},_proportionallyResize:function(){if(this.options,this._proportionallyResizeElements.length)for(var t=this.helper||this.element,i=0;i<this._proportionallyResizeElements.length;i++){var n=this._proportionallyResizeElements[i];if(!this.borderDif){var s=[n.css("borderTopWidth"),n.css("borderRightWidth"),n.css("borderBottomWidth"),n.css("borderLeftWidth")],a=[n.css("paddingTop"),n.css("paddingRight"),n.css("paddingBottom"),n.css("paddingLeft")];this.borderDif=e.map(s,function(e,t){var i=parseInt(e,10)||0,n=parseInt(a[t],10)||0;return i+n})}e.browser.msie&&(e(t).is(":hidden")||e(t).parents(":hidden").length)||n.css({height:t.height()-this.borderDif[0]-this.borderDif[2]||0,width:t.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var t=this.element,i=this.options;if(this.elementOffset=t.offset(),this._helper){this.helper=this.helper||e('<div style="overflow:hidden;"></div>');var n=e.browser.msie&&e.browser.version<7,s=n?1:0,a=n?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+a,height:this.element.outerHeight()+a,position:"absolute",left:this.elementOffset.left-s+"px",top:this.elementOffset.top-s+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=(this.options,this.originalSize),n=this.originalPosition;return{left:n.left+t,width:i.width-t}},n:function(e,t,i){var n=(this.options,this.originalSize),s=this.originalPosition;return{top:s.top+i,height:n.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},sw:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,n]))},ne:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},nw:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,n]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!=t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.extend(e.ui.resizable,{version:"1.8.18"}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).data("resizable"),i=t.options,n=function(t){e(t).each(function(){var t=e(this);t.data("resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?n(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],n(i.alsoResize)):e.each(i.alsoResize,function(e){n(e)})},resize:function(t,i){var n=e(this).data("resizable"),s=n.options,a=n.originalSize,r=n.originalPosition,o={height:n.size.height-a.height||0,width:n.size.width-a.width||0,top:n.position.top-r.top||0,left:n.position.left-r.left||0},l=function(t,n){e(t).each(function(){var t=e(this),s=e(this).data("resizable-alsoresize"),a={},r=n&&n.length?n:t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(r,function(e,t){var i=(s[t]||0)+(o[t]||0);i&&i>=0&&(a[t]=i||null)}),t.css(a)})};"object"!=typeof s.alsoResize||s.alsoResize.nodeType?l(s.alsoResize):e.each(s.alsoResize,function(e,t){l(e,t)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).data("resizable"),n=i.options,s=i._proportionallyResizeElements,a=s.length&&/textarea/i.test(s[0].nodeName),r=a&&e.ui.hasScroll(s[0],"left")?0:i.sizeDiff.height,o=a?0:i.sizeDiff.width,l={width:i.size.width-o,height:i.size.height-r},c=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,h=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(l,h&&c?{top:h,left:c}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};s&&s.length&&e(s[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var i=e(this).data("resizable"),n=i.options,s=i.element,a=n.containment,r=a instanceof e?a.get(0):/parent/.test(a)?s.parent().get(0):a;if(r)if(i.containerElement=e(r),/document/.test(a)||a==document)i.containerOffset={left:0,top:0},i.containerPosition={left:0,top:0},i.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight};else{var o=e(r),l=[];e(["Top","Right","Left","Bottom"]).each(function(e,i){l[e]=t(o.css("padding"+i))}),i.containerOffset=o.offset(),i.containerPosition=o.position(),i.containerSize={height:o.innerHeight()-l[3],width:o.innerWidth()-l[1]};var c=i.containerOffset,h=i.containerSize.height,u=i.containerSize.width,d=e.ui.hasScroll(r,"left")?r.scrollWidth:u,f=e.ui.hasScroll(r)?r.scrollHeight:h;i.parentData={element:r,left:c.left,top:c.top,width:d,height:f}}},resize:function(t){var i=e(this).data("resizable"),n=i.options,s=(i.containerSize,i.containerOffset),a=(i.size,i.position),r=i._aspectRatio||t.shiftKey,o={top:0,left:0},l=i.containerElement;l[0]!=document&&/static/.test(l.css("position"))&&(o=s),a.left<(i._helper?s.left:0)&&(i.size.width=i.size.width+(i._helper?i.position.left-s.left:i.position.left-o.left),r&&(i.size.height=i.size.width/n.aspectRatio),i.position.left=n.helper?s.left:0),a.top<(i._helper?s.top:0)&&(i.size.height=i.size.height+(i._helper?i.position.top-s.top:i.position.top),r&&(i.size.width=i.size.height*n.aspectRatio),i.position.top=i._helper?s.top:0),i.offset.left=i.parentData.left+i.position.left,i.offset.top=i.parentData.top+i.position.top;var c=Math.abs((i._helper?i.offset.left-o.left:i.offset.left-o.left)+i.sizeDiff.width),h=Math.abs((i._helper?i.offset.top-o.top:i.offset.top-s.top)+i.sizeDiff.height),u=i.containerElement.get(0)==i.element.parent().get(0),d=/relative|absolute/.test(i.containerElement.css("position"));u&&d&&(c-=i.parentData.left),c+i.size.width>=i.parentData.width&&(i.size.width=i.parentData.width-c,r&&(i.size.height=i.size.width/i.aspectRatio)),h+i.size.height>=i.parentData.height&&(i.size.height=i.parentData.height-h,r&&(i.size.width=i.size.height*i.aspectRatio))},stop:function(){var t=e(this).data("resizable"),i=t.options,n=(t.position,t.containerOffset),s=t.containerPosition,a=t.containerElement,r=e(t.helper),o=r.offset(),l=r.outerWidth()-t.sizeDiff.width,c=r.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(a.css("position"))&&e(this).css({left:o.left-s.left-n.left,width:l,height:c}),t._helper&&!i.animate&&/static/.test(a.css("position"))&&e(this).css({left:o.left-s.left-n.left,width:l,height:c})}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).data("resizable"),i=t.options,n=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).data("resizable");t.options,t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).data("resizable");t.options,t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(t){var i=e(this).data("resizable"),n=i.options,s=i.size,a=i.originalSize,r=i.originalPosition,o=i.axis;n._aspectRatio||t.shiftKey,n.grid="number"==typeof n.grid?[n.grid,n.grid]:n.grid;var l=Math.round((s.width-a.width)/(n.grid[0]||1))*(n.grid[0]||1),c=Math.round((s.height-a.height)/(n.grid[1]||1))*(n.grid[1]||1);/^(se|s|e)$/.test(o)?(i.size.width=a.width+l,i.size.height=a.height+c):/^(ne)$/.test(o)?(i.size.width=a.width+l,i.size.height=a.height+c,i.position.top=r.top-c):/^(sw)$/.test(o)?(i.size.width=a.width+l,i.size.height=a.height+c,i.position.left=r.left-l):(i.size.width=a.width+l,i.size.height=a.height+c,i.position.top=r.top-c,i.position.left=r.left-l)}});var t=function(e){return parseInt(e,10)||0},i=function(e){return!isNaN(parseInt(e,10))}}(jQuery),/*
 * jQuery UI Selectable 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Selectables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(e){e.widget("ui.selectable",e.ui.mouse,{options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var t=this;this.element.addClass("ui-selectable"),this.dragged=!1;var i;this.refresh=function(){i=e(t.options.filter,t.element[0]),i.addClass("ui-selectee"),i.each(function(){var t=e(this),i=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=i.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},destroy:function(){return this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable"),this._mouseDestroy(),this},_mouseStart:function(t){var i=this;if(this.opos=[t.pageX,t.pageY],!this.options.disabled){var n=this.options;this.selectees=e(n.filter,this.element[0]),this._trigger("start",t),e(n.appendTo).append(this.helper),this.helper.css({left:t.clientX,top:t.clientY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=e.data(this,"selectable-item");n.startselected=!0,t.metaKey||t.ctrlKey||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",t,{unselecting:n.element}))}),e(t.target).parents().andSelf().each(function(){var n=e.data(this,"selectable-item");if(n){var s=!t.metaKey&&!t.ctrlKey||!n.$element.hasClass("ui-selected");return n.$element.removeClass(s?"ui-unselecting":"ui-selected").addClass(s?"ui-selecting":"ui-unselecting"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger("selecting",t,{selecting:n.element}):i._trigger("unselecting",t,{unselecting:n.element}),!1}})}},_mouseDrag:function(t){var i=this;if(this.dragged=!0,!this.options.disabled){var n=this.options,s=this.opos[0],a=this.opos[1],r=t.pageX,o=t.pageY;if(s>r){var l=r;r=s,s=l}if(a>o){var l=o;o=a,a=l}return this.helper.css({left:s,top:a,width:r-s,height:o-a}),this.selectees.each(function(){var l=e.data(this,"selectable-item");if(l&&l.element!=i.element[0]){var c=!1;"touch"==n.tolerance?c=!(l.left>r||l.right<s||l.top>o||l.bottom<a):"fit"==n.tolerance&&(c=l.left>s&&l.right<r&&l.top>a&&l.bottom<o),c?(l.selected&&(l.$element.removeClass("ui-selected"),l.selected=!1),l.unselecting&&(l.$element.removeClass("ui-unselecting"),l.unselecting=!1),l.selecting||(l.$element.addClass("ui-selecting"),l.selecting=!0,i._trigger("selecting",t,{selecting:l.element}))):(l.selecting&&((t.metaKey||t.ctrlKey)&&l.startselected?(l.$element.removeClass("ui-selecting"),l.selecting=!1,l.$element.addClass("ui-selected"),l.selected=!0):(l.$element.removeClass("ui-selecting"),l.selecting=!1,l.startselected&&(l.$element.addClass("ui-unselecting"),l.unselecting=!0),i._trigger("unselecting",t,{unselecting:l.element}))),l.selected&&(t.metaKey||t.ctrlKey||l.startselected||(l.$element.removeClass("ui-selected"),l.selected=!1,l.$element.addClass("ui-unselecting"),l.unselecting=!0,i._trigger("unselecting",t,{unselecting:l.element}))))}}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,this.options,e(".ui-unselecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",t,{unselected:n.element})}),e(".ui-selecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-selecting").addClass("ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",t,{selected:n.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),e.extend(e.ui.selectable,{version:"1.8.18"})}(jQuery),/*
 * jQuery UI Sortable 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Sortables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(e){e.widget("ui.sortable",e.ui.mouse,{widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===e.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},destroy:function(){e.Widget.prototype.destroy.call(this),this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,i){"disabled"===t?(this.options[t]=i,this.widget()[i?"addClass":"removeClass"]("ui-sortable-disabled")):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,i){var n=this;if(this.reverting)return!1;if(this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(t);var s=null,a=this;if(e(t.target).parents().each(function(){return e.data(this,n.widgetName+"-item")==a?(s=e(this),!1):void 0}),e.data(t.target,n.widgetName+"-item")==a&&(s=e(t.target)),!s)return!1;if(this.options.handle&&!i){var r=!1;if(e(this.options.handle,s).find("*").andSelf().each(function(){this==t.target&&(r=!0)}),!r)return!1}return this.currentItem=s,this._removeCurrentsFromItems(),!0},_mouseStart:function(t,i,n){var s=this.options,a=this;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&(e("body").css("cursor")&&(this._storedCursor=e("body").css("cursor")),e("body").css("cursor",s.cursor)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(var r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",t,a._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll){var i=this.options,n=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?this.scrollParent[0].scrollTop=n=this.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-this.overflowOffset.top<i.scrollSensitivity&&(this.scrollParent[0].scrollTop=n=this.scrollParent[0].scrollTop-i.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?this.scrollParent[0].scrollLeft=n=this.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-this.overflowOffset.left<i.scrollSensitivity&&(this.scrollParent[0].scrollLeft=n=this.scrollParent[0].scrollLeft-i.scrollSpeed)):(t.pageY-e(document).scrollTop()<i.scrollSensitivity?n=e(document).scrollTop(e(document).scrollTop()-i.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<i.scrollSensitivity&&(n=e(document).scrollTop(e(document).scrollTop()+i.scrollSpeed)),t.pageX-e(document).scrollLeft()<i.scrollSensitivity?n=e(document).scrollLeft(e(document).scrollLeft()-i.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<i.scrollSensitivity&&(n=e(document).scrollLeft(e(document).scrollLeft()+i.scrollSpeed))),n!==!1&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)}this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(var s=this.items.length-1;s>=0;s--){var a=this.items[s],r=a.item[0],o=this._intersectsWithPointer(a);if(o&&r!=this.currentItem[0]&&this.placeholder[1==o?"next":"prev"]()[0]!=r&&!e.ui.contains(this.placeholder[0],r)&&("semi-dynamic"==this.options.type?!e.ui.contains(this.element[0],r):!0)){if(this.direction=1==o?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(a))break;this._rearrange(t,a),this._trigger("change",t,this._uiHash());break}}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var n=this,s=n.placeholder.offset();n.reverting=!0,e(this.helper).animate({left:s.left-this.offset.parent.left-n.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:s.top-this.offset.parent.top-n.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){n._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){var t=this;if(this.dragging){this._mouseUp({target:null}),"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger("deactivate",null,t._uiHash(this)),this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",null,t._uiHash(this)),this.containers[i].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[-=_](.+)/);i&&n.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!n.length&&t.key&&n.push(t.key+"="),n.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},i.each(function(){n.push(e(t.item||this).attr(t.attribute||"id")||"")}),n},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,n=this.positionAbs.top,s=n+this.helperProportions.height,a=e.left,r=a+e.width,o=e.top,l=o+e.height,c=this.offset.click.top,h=this.offset.click.left,u=n+c>o&&l>n+c&&t+h>a&&r>t+h;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?u:a<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<r&&o<n+this.helperProportions.height/2&&s-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var i=e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n=e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),s=i&&n,a=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return s?this.floating?r&&"right"==r||"down"==a?2:1:a&&("down"==a?2:1):!1},_intersectsWithSides:function(t){var i=e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return this.floating&&a?"right"==a&&n||"left"==a&&!n:s&&("down"==s&&i||"up"==s&&!i)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!=e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!=e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor==String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var i=[],n=[],s=this._connectWith();if(s&&t)for(var a=s.length-1;a>=0;a--)for(var r=e(s[a]),o=r.length-1;o>=0;o--){var l=e.data(r[o],this.widgetName);l&&l!=this&&!l.options.disabled&&n.push([e.isFunction(l.options.items)?l.options.items.call(l.element):e(l.options.items,l.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),l])}n.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var a=n.length-1;a>=0;a--)n[a][0].each(function(){i.push(this)});return e(i)},_removeCurrentsFromItems:function(){for(var e=this.currentItem.find(":data("+this.widgetName+"-item)"),t=0;t<this.items.length;t++)for(var i=0;i<e.length;i++)e[i]==this.items[t].item[0]&&this.items.splice(t,1)},_refreshItems:function(t){this.items=[],this.containers=[this];var i=this.items,n=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],s=this._connectWith();if(s&&this.ready)for(var a=s.length-1;a>=0;a--)for(var r=e(s[a]),o=r.length-1;o>=0;o--){var l=e.data(r[o],this.widgetName);l&&l!=this&&!l.options.disabled&&(n.push([e.isFunction(l.options.items)?l.options.items.call(l.element[0],t,{item:this.currentItem}):e(l.options.items,l.element),l]),this.containers.push(l))}for(var a=n.length-1;a>=0;a--)for(var c=n[a][1],h=n[a][0],o=0,u=h.length;u>o;o++){var d=e(h[o]);d.data(this.widgetName+"-item",c),i.push({item:d,instance:c,width:0,height:0,left:0,top:0})}},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var i=this.items.length-1;i>=0;i--){var n=this.items[i];if(n.instance==this.currentContainer||!this.currentContainer||n.item[0]==this.currentItem[0]){var s=this.options.toleranceElement?e(this.options.toleranceElement,n.item):n.item;t||(n.width=s.outerWidth(),n.height=s.outerHeight());var a=s.offset();n.left=a.left,n.top=a.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(var i=this.containers.length-1;i>=0;i--){var a=this.containers[i].element.offset();this.containers[i].containerCache.left=a.left,this.containers[i].containerCache.top=a.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight()}return this},_createPlaceholder:function(t){var i=t||this,n=i.options;if(!n.placeholder||n.placeholder.constructor==String){var s=n.placeholder;n.placeholder={element:function(){var t=e(document.createElement(i.currentItem[0].nodeName)).addClass(s||i.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return s||(t.style.visibility="hidden"),t},update:function(e,t){(!s||n.forcePlaceholderSize)&&(t.height()||t.height(i.currentItem.innerHeight()-parseInt(i.currentItem.css("paddingTop")||0,10)-parseInt(i.currentItem.css("paddingBottom")||0,10)),t.width()||t.width(i.currentItem.innerWidth()-parseInt(i.currentItem.css("paddingLeft")||0,10)-parseInt(i.currentItem.css("paddingRight")||0,10)))}}}i.placeholder=e(n.placeholder.element.call(i.element,i.currentItem)),i.currentItem.after(i.placeholder),n.placeholder.update(i,i.placeholder)},_contactContainers:function(t){for(var i=null,n=null,s=this.containers.length-1;s>=0;s--)if(!e.ui.contains(this.currentItem[0],this.containers[s].element[0]))if(this._intersectsWith(this.containers[s].containerCache)){if(i&&e.ui.contains(this.containers[s].element[0],i.element[0]))continue;i=this.containers[s],n=s}else this.containers[s].containerCache.over&&(this.containers[s]._trigger("out",t,this._uiHash(this)),this.containers[s].containerCache.over=0);if(i)if(1===this.containers.length)this.containers[n]._trigger("over",t,this._uiHash(this)),this.containers[n].containerCache.over=1;else if(this.currentContainer!=this.containers[n]){for(var a=1e4,r=null,o=this.positionAbs[this.containers[n].floating?"left":"top"],l=this.items.length-1;l>=0;l--)if(e.ui.contains(this.containers[n].element[0],this.items[l].item[0])){var c=this.items[l][this.containers[n].floating?"left":"top"];Math.abs(c-o)<a&&(a=Math.abs(c-o),r=this.items[l])}if(!r&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[n],r?this._rearrange(t,r,null,!0):this._rearrange(t,null,this.containers[n].element,!0),this._trigger("change",t,this._uiHash()),this.containers[n]._trigger("change",t,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[n]._trigger("over",t,this._uiHash(this)),this.containers[n].containerCache.over=1}},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"==i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||e("parent"!=i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(""==n[0].style.width||i.forceHelperSize)&&n.width(this.currentItem.width()),(""==n[0].style.height||i.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&e.browser.msie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;if("parent"==t.containment&&(t.containment=this.helper[0].parentNode),("document"==t.containment||"window"==t.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"==t.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"==t.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),!/^(document|window|parent)$/.test(t.containment)){var i=e(t.containment)[0],n=e(t.containment).offset(),s="hidden"!=e(i).css("overflow");this.containment=[n.left+(parseInt(e(i).css("borderLeftWidth"),10)||0)+(parseInt(e(i).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(i).css("borderTopWidth"),10)||0)+(parseInt(e(i).css("paddingTop"),10)||0)-this.margins.top,n.left+(s?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(e(i).css("borderLeftWidth"),10)||0)-(parseInt(e(i).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(s?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(e(i).css("borderTopWidth"),10)||0)-(parseInt(e(i).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"==t?1:-1,s=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),a=/(html|body)/i.test(s[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-(e.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():a?0:s.scrollTop())*n),left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-(e.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():a?0:s.scrollLeft())*n)}},_generatePosition:function(t){var i=this.options,n="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(n[0].tagName);"relative"!=this.cssPosition||this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());var a=t.pageX,r=t.pageY;if(this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(a=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(a=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),i.grid)){var o=this.originalPageY+Math.round((r-this.originalPageY)/i.grid[1])*i.grid[1];r=this.containment?o-this.offset.click.top<this.containment[1]||o-this.offset.click.top>this.containment[3]?o-this.offset.click.top<this.containment[1]?o+i.grid[1]:o-i.grid[1]:o:o;var l=this.originalPageX+Math.round((a-this.originalPageX)/i.grid[0])*i.grid[0];a=this.containment?l-this.offset.click.left<this.containment[0]||l-this.offset.click.left>this.containment[2]?l-this.offset.click.left<this.containment[0]?l+i.grid[0]:l-i.grid[0]:l:l}return{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(e.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():s?0:n.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(e.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():s?0:n.scrollLeft())}},_rearrange:function(e,t,i,n){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var s=this,a=this.counter;window.setTimeout(function(){a==s.counter&&s.refreshPositions(!n)},0)},_clear:function(t,i){this.reverting=!1;var n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(var s in this._storedCSS)("auto"==this._storedCSS[s]||"static"==this._storedCSS[s])&&(this._storedCSS[s]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();if(this.fromOutside&&!i&&n.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev==this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent==this.currentItem.parent()[0]||i||n.push(function(e){this._trigger("update",e,this._uiHash())}),!e.ui.contains(this.element[0],this.currentItem[0])){i||n.push(function(e){this._trigger("remove",e,this._uiHash())});for(var s=this.containers.length-1;s>=0;s--)e.ui.contains(this.containers[s].element[0],this.currentItem[0])&&!i&&(n.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.containers[s])),n.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.containers[s])))}for(var s=this.containers.length-1;s>=0;s--)i||n.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[s])),this.containers[s].containerCache.over=0);if(this._storedCursor&&e("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!i){this._trigger("beforeStop",t,this._uiHash());for(var s=0;s<n.length;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}return!1}if(i||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!i){for(var s=0;s<n.length;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}}),e.extend(e.ui.sortable,{version:"1.8.18"})}(jQuery),jQuery.effects||function(e,t){function i(t){var i;return t&&t.constructor==Array&&3==t.length?t:(i=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t))?[parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10)]:(i=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(t))?[2.55*parseFloat(i[1]),2.55*parseFloat(i[2]),2.55*parseFloat(i[3])]:(i=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))?[parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16)]:(i=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(t))?[parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16)]:(i=/rgba\(0, 0, 0, 0\)/.exec(t))?c.transparent:c[e.trim(t).toLowerCase()]}function n(t,n){var s;do{if(s=e.curCSS(t,n),""!=s&&"transparent"!=s||e.nodeName(t,"body"))break;n="backgroundColor"}while(t=t.parentNode);return i(s)}function s(){var e,t,i=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,n={};if(i&&i.length&&i[0]&&i[i[0]])for(var s=i.length;s--;)e=i[s],"string"==typeof i[e]&&(t=e.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),n[t]=i[e]);else for(e in i)"string"==typeof i[e]&&(n[e]=i[e]);return n}function a(t){var i,n;for(i in t)n=t[i],(null==n||e.isFunction(n)||i in u||/scrollbar/.test(i)||!/color/i.test(i)&&isNaN(parseFloat(n)))&&delete t[i];return t}function r(e,t){var i,n={_:0};for(i in t)e[i]!=t[i]&&(n[i]=t[i]);return n}function o(t,i,n,s){return"object"==typeof t&&(s=i,n=null,i=t,t=i.effect),e.isFunction(i)&&(s=i,n=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(s=n,n=i,i={}),e.isFunction(n)&&(s=n,n=null),i=i||{},n=n||i.duration,n=e.fx.off?0:"number"==typeof n?n:n in e.fx.speeds?e.fx.speeds[n]:e.fx.speeds._default,s=s||i.complete,[t,i,n,s]}function l(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects[t]?!1:!0}e.effects={},e.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(t,s){e.fx.step[s]=function(e){e.colorInit||(e.start=n(e.elem,s),e.end=i(e.end),e.colorInit=!0),e.elem.style[s]="rgb("+Math.max(Math.min(parseInt(e.pos*(e.end[0]-e.start[0])+e.start[0],10),255),0)+","+Math.max(Math.min(parseInt(e.pos*(e.end[1]-e.start[1])+e.start[1],10),255),0)+","+Math.max(Math.min(parseInt(e.pos*(e.end[2]-e.start[2])+e.start[2],10),255),0)+")"}});var c={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},h=["add","remove","toggle"],u={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.effects.animateClass=function(t,i,n,o){return e.isFunction(n)&&(o=n,n=null),this.queue(function(){var l,c=e(this),u=c.attr("style")||" ",d=a(s.call(this)),f=c.attr("class");e.each(h,function(e,i){t[i]&&c[i+"Class"](t[i])}),l=a(s.call(this)),c.attr("class",f),c.animate(r(d,l),{queue:!1,duration:i,easing:n,complete:function(){e.each(h,function(e,i){t[i]&&c[i+"Class"](t[i])}),"object"==typeof c.attr("style")?(c.attr("style").cssText="",c.attr("style").cssText=u):c.attr("style",u),o&&o.apply(this,arguments),e.dequeue(this)}})})},e.fn.extend({_addClass:e.fn.addClass,addClass:function(t,i,n,s){return i?e.effects.animateClass.apply(this,[{add:t},i,n,s]):this._addClass(t)},_removeClass:e.fn.removeClass,removeClass:function(t,i,n,s){return i?e.effects.animateClass.apply(this,[{remove:t},i,n,s]):this._removeClass(t)},_toggleClass:e.fn.toggleClass,toggleClass:function(i,n,s,a,r){return"boolean"==typeof n||n===t?s?e.effects.animateClass.apply(this,[n?{add:i}:{remove:i},s,a,r]):this._toggleClass(i,n):e.effects.animateClass.apply(this,[{toggle:i},n,s,a])},switchClass:function(t,i,n,s,a){return e.effects.animateClass.apply(this,[{add:i,remove:t},n,s,a])}}),e.extend(e.effects,{version:"1.8.18",save:function(e,t){for(var i=0;i<t.length;i++)null!==t[i]&&e.data("ec.storage."+t[i],e[0].style[t[i]])},restore:function(e,t){for(var i=0;i<t.length;i++)null!==t[i]&&e.css(t[i],e.data("ec.storage."+t[i]))},setMode:function(e,t){return"toggle"==t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,n;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=e[1]/t.width}return{x:n,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},n=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),s=document.activeElement;return t.wrap(n),(t[0]===s||e.contains(t[0],s))&&e(s).focus(),n=t.parent(),"static"==t.css("position")?(n.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,n){i[n]=t.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),n.css(i).show()},removeWrapper:function(t){var i,n=document.activeElement;return t.parent().is(".ui-effects-wrapper")?(i=t.parent().replaceWith(t),(t[0]===n||e.contains(t[0],n))&&e(n).focus(),i):t},setTransition:function(t,i,n,s){return s=s||{},e.each(i,function(e,i){unit=t.cssUnit(i),unit[0]>0&&(s[i]=unit[0]*n+unit[1])}),s}}),e.fn.extend({effect:function(t){var i=o.apply(this,arguments),n={options:i[1],duration:i[2],callback:i[3]},s=n.options.mode,a=e.effects[t];return e.fx.off||!a?s?this[s](n.duration,n.callback):this.each(function(){n.callback&&n.callback.call(this)}):a.call(this,n)},_show:e.fn.show,show:function(e){if(l(e))return this._show.apply(this,arguments);var t=o.apply(this,arguments);return t[1].mode="show",this.effect.apply(this,t)},_hide:e.fn.hide,hide:function(e){if(l(e))return this._hide.apply(this,arguments);var t=o.apply(this,arguments);return t[1].mode="hide",this.effect.apply(this,t)},__toggle:e.fn.toggle,toggle:function(t){if(l(t)||"boolean"==typeof t||e.isFunction(t))return this.__toggle.apply(this,arguments);var i=o.apply(this,arguments);return i[1].mode="toggle",this.effect.apply(this,i)},cssUnit:function(t){var i=this.css(t),n=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(n=[parseFloat(i),t])}),n}}),/*
 * jQuery Easing v1.3 - http://gsgd.co.uk/sandbox/jquery/easing/
 *
 * Uses the built in easing capabilities added In jQuery 1.1
 * to offer multiple easing options
 *
 * TERMS OF USE - jQuery Easing
 *
 * Open source under the BSD License.
 *
 * Copyright 2008 George McGinley Smith
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice, this list of
 * conditions and the following disclaimer.
 * Redistributions in binary form must reproduce the above copyright notice, this list
 * of conditions and the following disclaimer in the documentation and/or other materials
 * provided with the distribution.
 *
 * Neither the name of the author nor the names of contributors may be used to endorse
 * or promote products derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
 * COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
 * GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED
 * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE.
 *
*/
e.easing.jswing=e.easing.swing,e.extend(e.easing,{def:"easeOutQuad",swing:function(t,i,n,s,a){return e.easing[e.easing.def](t,i,n,s,a)},easeInQuad:function(e,t,i,n,s){return n*(t/=s)*t+i},easeOutQuad:function(e,t,i,n,s){return-n*(t/=s)*(t-2)+i},easeInOutQuad:function(e,t,i,n,s){return(t/=s/2)<1?n/2*t*t+i:-n/2*(--t*(t-2)-1)+i},easeInCubic:function(e,t,i,n,s){return n*(t/=s)*t*t+i},easeOutCubic:function(e,t,i,n,s){return n*((t=t/s-1)*t*t+1)+i},easeInOutCubic:function(e,t,i,n,s){return(t/=s/2)<1?n/2*t*t*t+i:n/2*((t-=2)*t*t+2)+i},easeInQuart:function(e,t,i,n,s){return n*(t/=s)*t*t*t+i},easeOutQuart:function(e,t,i,n,s){return-n*((t=t/s-1)*t*t*t-1)+i},easeInOutQuart:function(e,t,i,n,s){return(t/=s/2)<1?n/2*t*t*t*t+i:-n/2*((t-=2)*t*t*t-2)+i},easeInQuint:function(e,t,i,n,s){return n*(t/=s)*t*t*t*t+i},easeOutQuint:function(e,t,i,n,s){return n*((t=t/s-1)*t*t*t*t+1)+i},easeInOutQuint:function(e,t,i,n,s){return(t/=s/2)<1?n/2*t*t*t*t*t+i:n/2*((t-=2)*t*t*t*t+2)+i},easeInSine:function(e,t,i,n,s){return-n*Math.cos(t/s*(Math.PI/2))+n+i},easeOutSine:function(e,t,i,n,s){return n*Math.sin(t/s*(Math.PI/2))+i},easeInOutSine:function(e,t,i,n,s){return-n/2*(Math.cos(Math.PI*t/s)-1)+i},easeInExpo:function(e,t,i,n,s){return 0==t?i:n*Math.pow(2,10*(t/s-1))+i},easeOutExpo:function(e,t,i,n,s){return t==s?i+n:n*(-Math.pow(2,-10*t/s)+1)+i},easeInOutExpo:function(e,t,i,n,s){return 0==t?i:t==s?i+n:(t/=s/2)<1?n/2*Math.pow(2,10*(t-1))+i:n/2*(-Math.pow(2,-10*--t)+2)+i},easeInCirc:function(e,t,i,n,s){return-n*(Math.sqrt(1-(t/=s)*t)-1)+i},easeOutCirc:function(e,t,i,n,s){return n*Math.sqrt(1-(t=t/s-1)*t)+i},easeInOutCirc:function(e,t,i,n,s){return(t/=s/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+i:n/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInElastic:function(e,t,i,n,s){var a=1.70158,r=0,o=n;if(0==t)return i;if(1==(t/=s))return i+n;if(r||(r=.3*s),o<Math.abs(n)){o=n;var a=r/4}else var a=r/(2*Math.PI)*Math.asin(n/o);return-(o*Math.pow(2,10*(t-=1))*Math.sin((t*s-a)*2*Math.PI/r))+i},easeOutElastic:function(e,t,i,n,s){var a=1.70158,r=0,o=n;if(0==t)return i;if(1==(t/=s))return i+n;if(r||(r=.3*s),o<Math.abs(n)){o=n;var a=r/4}else var a=r/(2*Math.PI)*Math.asin(n/o);return o*Math.pow(2,-10*t)*Math.sin((t*s-a)*2*Math.PI/r)+n+i},easeInOutElastic:function(e,t,i,n,s){var a=1.70158,r=0,o=n;if(0==t)return i;if(2==(t/=s/2))return i+n;if(r||(r=s*.3*1.5),o<Math.abs(n)){o=n;var a=r/4}else var a=r/(2*Math.PI)*Math.asin(n/o);return 1>t?-.5*o*Math.pow(2,10*(t-=1))*Math.sin((t*s-a)*2*Math.PI/r)+i:.5*o*Math.pow(2,-10*(t-=1))*Math.sin((t*s-a)*2*Math.PI/r)+n+i},easeInBack:function(e,i,n,s,a,r){return r==t&&(r=1.70158),s*(i/=a)*i*((r+1)*i-r)+n},easeOutBack:function(e,i,n,s,a,r){return r==t&&(r=1.70158),s*((i=i/a-1)*i*((r+1)*i+r)+1)+n},easeInOutBack:function(e,i,n,s,a,r){return r==t&&(r=1.70158),(i/=a/2)<1?s/2*i*i*(((r*=1.525)+1)*i-r)+n:s/2*((i-=2)*i*(((r*=1.525)+1)*i+r)+2)+n},easeInBounce:function(t,i,n,s,a){return s-e.easing.easeOutBounce(t,a-i,0,s,a)+n},easeOutBounce:function(e,t,i,n,s){return(t/=s)<1/2.75?n*7.5625*t*t+i:2/2.75>t?n*(7.5625*(t-=1.5/2.75)*t+.75)+i:2.5/2.75>t?n*(7.5625*(t-=2.25/2.75)*t+.9375)+i:n*(7.5625*(t-=2.625/2.75)*t+.984375)+i},easeInOutBounce:function(t,i,n,s,a){return a/2>i?.5*e.easing.easeInBounce(t,2*i,0,s,a)+n:.5*e.easing.easeOutBounce(t,2*i-a,0,s,a)+.5*s+n}})}(jQuery),/*
 * jQuery UI Effects Blind 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Blind
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(e){e.effects.blind=function(t){return this.queue(function(){var i=e(this),n=["position","top","bottom","left","right"],s=e.effects.setMode(i,t.options.mode||"hide"),a=t.options.direction||"vertical";e.effects.save(i,n),i.show();var r=e.effects.createWrapper(i).css({overflow:"hidden"}),o="vertical"==a?"height":"width",l="vertical"==a?r.height():r.width();"show"==s&&r.css(o,0);var c={};c[o]="show"==s?l:0,r.animate(c,t.duration,t.options.easing,function(){"hide"==s&&i.hide(),e.effects.restore(i,n),e.effects.removeWrapper(i),t.callback&&t.callback.apply(i[0],arguments),i.dequeue()})})}}(jQuery),/*
 * jQuery UI Effects Bounce 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Bounce
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(e){e.effects.bounce=function(t){return this.queue(function(){var i=e(this),n=["position","top","bottom","left","right"],s=e.effects.setMode(i,t.options.mode||"effect"),a=t.options.direction||"up",r=t.options.distance||20,o=t.options.times||5,l=t.duration||250;/show|hide/.test(s)&&n.push("opacity"),e.effects.save(i,n),i.show(),e.effects.createWrapper(i);var c="up"==a||"down"==a?"top":"left",h="up"==a||"left"==a?"pos":"neg",r=t.options.distance||("top"==c?i.outerHeight({margin:!0})/3:i.outerWidth({margin:!0})/3);if("show"==s&&i.css("opacity",0).css(c,"pos"==h?-r:r),"hide"==s&&(r/=2*o),"hide"!=s&&o--,"show"==s){var u={opacity:1};u[c]=("pos"==h?"+=":"-=")+r,i.animate(u,l/2,t.options.easing),r/=2,o--}for(var d=0;o>d;d++){var f={},p={};f[c]=("pos"==h?"-=":"+=")+r,p[c]=("pos"==h?"+=":"-=")+r,i.animate(f,l/2,t.options.easing).animate(p,l/2,t.options.easing),r="hide"==s?2*r:r/2}if("hide"==s){var u={opacity:0};u[c]=("pos"==h?"-=":"+=")+r,i.animate(u,l/2,t.options.easing,function(){i.hide(),e.effects.restore(i,n),e.effects.removeWrapper(i),t.callback&&t.callback.apply(this,arguments)})}else{var f={},p={};f[c]=("pos"==h?"-=":"+=")+r,p[c]=("pos"==h?"+=":"-=")+r,i.animate(f,l/2,t.options.easing).animate(p,l/2,t.options.easing,function(){e.effects.restore(i,n),e.effects.removeWrapper(i),t.callback&&t.callback.apply(this,arguments)})}i.queue("fx",function(){i.dequeue()}),i.dequeue()})}}(jQuery),/*
 * jQuery UI Effects Clip 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Clip
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(e){e.effects.clip=function(t){return this.queue(function(){var i=e(this),n=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(i,t.options.mode||"hide"),a=t.options.direction||"vertical";e.effects.save(i,n),i.show();var r=e.effects.createWrapper(i).css({overflow:"hidden"}),o="IMG"==i[0].tagName?r:i,l={size:"vertical"==a?"height":"width",position:"vertical"==a?"top":"left"},c="vertical"==a?o.height():o.width();"show"==s&&(o.css(l.size,0),o.css(l.position,c/2));var h={};h[l.size]="show"==s?c:0,h[l.position]="show"==s?0:c/2,o.animate(h,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){"hide"==s&&i.hide(),e.effects.restore(i,n),e.effects.removeWrapper(i),t.callback&&t.callback.apply(i[0],arguments),i.dequeue()}})})}}(jQuery),/*
 * jQuery UI Effects Drop 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Drop
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(e){e.effects.drop=function(t){return this.queue(function(){var i=e(this),n=["position","top","bottom","left","right","opacity"],s=e.effects.setMode(i,t.options.mode||"hide"),a=t.options.direction||"left";e.effects.save(i,n),i.show(),e.effects.createWrapper(i);var r="up"==a||"down"==a?"top":"left",o="up"==a||"left"==a?"pos":"neg",l=t.options.distance||("top"==r?i.outerHeight({margin:!0})/2:i.outerWidth({margin:!0})/2);"show"==s&&i.css("opacity",0).css(r,"pos"==o?-l:l);var c={opacity:"show"==s?1:0};c[r]=("show"==s?"pos"==o?"+=":"-=":"pos"==o?"-=":"+=")+l,i.animate(c,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){"hide"==s&&i.hide(),e.effects.restore(i,n),e.effects.removeWrapper(i),t.callback&&t.callback.apply(this,arguments),i.dequeue()}})})}}(jQuery),/*
 * jQuery UI Effects Explode 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Explode
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(e){e.effects.explode=function(t){return this.queue(function(){var i=t.options.pieces?Math.round(Math.sqrt(t.options.pieces)):3,n=t.options.pieces?Math.round(Math.sqrt(t.options.pieces)):3;t.options.mode="toggle"==t.options.mode?e(this).is(":visible")?"hide":"show":t.options.mode;var s=e(this).show().css("visibility","hidden"),a=s.offset();a.top-=parseInt(s.css("marginTop"),10)||0,a.left-=parseInt(s.css("marginLeft"),10)||0;for(var r=s.outerWidth(!0),o=s.outerHeight(!0),l=0;i>l;l++)for(var c=0;n>c;c++)s.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-c*(r/n),top:-l*(o/i)}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:r/n,height:o/i,left:a.left+c*(r/n)+("show"==t.options.mode?(c-Math.floor(n/2))*(r/n):0),top:a.top+l*(o/i)+("show"==t.options.mode?(l-Math.floor(i/2))*(o/i):0),opacity:"show"==t.options.mode?0:1}).animate({left:a.left+c*(r/n)+("show"==t.options.mode?0:(c-Math.floor(n/2))*(r/n)),top:a.top+l*(o/i)+("show"==t.options.mode?0:(l-Math.floor(i/2))*(o/i)),opacity:"show"==t.options.mode?1:0},t.duration||500);setTimeout(function(){"show"==t.options.mode?s.css({visibility:"visible"}):s.css({visibility:"visible"}).hide(),t.callback&&t.callback.apply(s[0]),s.dequeue(),e("div.ui-effects-explode").remove()},t.duration||500)})}}(jQuery),/*
 * jQuery UI Effects Fade 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Fade
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(e){e.effects.fade=function(t){return this.queue(function(){var i=e(this),n=e.effects.setMode(i,t.options.mode||"hide");i.animate({opacity:n},{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){t.callback&&t.callback.apply(this,arguments),i.dequeue()}})})}}(jQuery),/*
 * jQuery UI Effects Fold 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Fold
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(e){e.effects.fold=function(t){return this.queue(function(){var i=e(this),n=["position","top","bottom","left","right"],s=e.effects.setMode(i,t.options.mode||"hide"),a=t.options.size||15,r=!!t.options.horizFirst,o=t.duration?t.duration/2:e.fx.speeds._default/2;e.effects.save(i,n),i.show();var l=e.effects.createWrapper(i).css({overflow:"hidden"}),c="show"==s!=r,h=c?["width","height"]:["height","width"],u=c?[l.width(),l.height()]:[l.height(),l.width()],d=/([0-9]+)%/.exec(a);d&&(a=parseInt(d[1],10)/100*u["hide"==s?0:1]),"show"==s&&l.css(r?{height:0,width:a}:{height:a,width:0});var f={},p={};f[h[0]]="show"==s?u[0]:a,p[h[1]]="show"==s?u[1]:0,l.animate(f,o,t.options.easing).animate(p,o,t.options.easing,function(){"hide"==s&&i.hide(),e.effects.restore(i,n),e.effects.removeWrapper(i),t.callback&&t.callback.apply(i[0],arguments),i.dequeue()})})}}(jQuery),/*
 * jQuery UI Effects Highlight 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Highlight
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(e){e.effects.highlight=function(t){return this.queue(function(){var i=e(this),n=["backgroundImage","backgroundColor","opacity"],s=e.effects.setMode(i,t.options.mode||"show"),a={backgroundColor:i.css("backgroundColor")};"hide"==s&&(a.opacity=0),e.effects.save(i,n),i.show().css({backgroundImage:"none",backgroundColor:t.options.color||"#ffff99"}).animate(a,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){"hide"==s&&i.hide(),e.effects.restore(i,n),"show"==s&&!e.support.opacity&&this.style.removeAttribute("filter"),t.callback&&t.callback.apply(this,arguments),i.dequeue()}})})}}(jQuery),/*
 * jQuery UI Effects Pulsate 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Pulsate
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(e){e.effects.pulsate=function(t){return this.queue(function(){var i=e(this),n=e.effects.setMode(i,t.options.mode||"show");times=2*(t.options.times||5)-1,duration=t.duration?t.duration/2:e.fx.speeds._default/2,isVisible=i.is(":visible"),animateTo=0,isVisible||(i.css("opacity",0).show(),animateTo=1),("hide"==n&&isVisible||"show"==n&&!isVisible)&&times--;for(var s=0;times>s;s++)i.animate({opacity:animateTo},duration,t.options.easing),animateTo=(animateTo+1)%2;i.animate({opacity:animateTo},duration,t.options.easing,function(){0==animateTo&&i.hide(),t.callback&&t.callback.apply(this,arguments)}),i.queue("fx",function(){i.dequeue()}).dequeue()})}}(jQuery),/*
 * jQuery UI Effects Scale 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Scale
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(e){e.effects.puff=function(t){return this.queue(function(){var i=e(this),n=e.effects.setMode(i,t.options.mode||"hide"),s=parseInt(t.options.percent,10)||150,a=s/100,r={height:i.height(),width:i.width()};e.extend(t.options,{fade:!0,mode:n,percent:"hide"==n?s:100,from:"hide"==n?r:{height:r.height*a,width:r.width*a}}),i.effect("scale",t.options,t.duration,t.callback),i.dequeue()})},e.effects.scale=function(t){return this.queue(function(){var i=e(this),n=e.extend(!0,{},t.options),s=e.effects.setMode(i,t.options.mode||"effect"),a=parseInt(t.options.percent,10)||(0==parseInt(t.options.percent,10)?0:"hide"==s?0:100),r=t.options.direction||"both",o=t.options.origin;"effect"!=s&&(n.origin=o||["middle","center"],n.restore=!0);var l={height:i.height(),width:i.width()};i.from=t.options.from||("show"==s?{height:0,width:0}:l);var c={y:"horizontal"!=r?a/100:1,x:"vertical"!=r?a/100:1};i.to={height:l.height*c.y,width:l.width*c.x},t.options.fade&&("show"==s&&(i.from.opacity=0,i.to.opacity=1),"hide"==s&&(i.from.opacity=1,i.to.opacity=0)),n.from=i.from,n.to=i.to,n.mode=s,i.effect("size",n,t.duration,t.callback),i.dequeue()})},e.effects.size=function(t){return this.queue(function(){var i=e(this),n=["position","top","bottom","left","right","width","height","overflow","opacity"],s=["position","top","bottom","left","right","overflow","opacity"],a=["width","height","overflow"],r=["fontSize"],o=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],l=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=e.effects.setMode(i,t.options.mode||"effect"),h=t.options.restore||!1,u=t.options.scale||"both",d=t.options.origin,f={height:i.height(),width:i.width()};if(i.from=t.options.from||f,i.to=t.options.to||f,d){var p=e.effects.getBaseline(d,f);i.from.top=(f.height-i.from.height)*p.y,i.from.left=(f.width-i.from.width)*p.x,i.to.top=(f.height-i.to.height)*p.y,i.to.left=(f.width-i.to.width)*p.x}var g={from:{y:i.from.height/f.height,x:i.from.width/f.width},to:{y:i.to.height/f.height,x:i.to.width/f.width}};("box"==u||"both"==u)&&(g.from.y!=g.to.y&&(n=n.concat(o),i.from=e.effects.setTransition(i,o,g.from.y,i.from),i.to=e.effects.setTransition(i,o,g.to.y,i.to)),g.from.x!=g.to.x&&(n=n.concat(l),i.from=e.effects.setTransition(i,l,g.from.x,i.from),i.to=e.effects.setTransition(i,l,g.to.x,i.to))),("content"==u||"both"==u)&&g.from.y!=g.to.y&&(n=n.concat(r),i.from=e.effects.setTransition(i,r,g.from.y,i.from),i.to=e.effects.setTransition(i,r,g.to.y,i.to)),e.effects.save(i,h?n:s),i.show(),e.effects.createWrapper(i),i.css("overflow","hidden").css(i.from),("content"==u||"both"==u)&&(o=o.concat(["marginTop","marginBottom"]).concat(r),l=l.concat(["marginLeft","marginRight"]),a=n.concat(o).concat(l),i.find("*[width]").each(function(){child=e(this),h&&e.effects.save(child,a);var i={height:child.height(),width:child.width()};child.from={height:i.height*g.from.y,width:i.width*g.from.x},child.to={height:i.height*g.to.y,width:i.width*g.to.x},g.from.y!=g.to.y&&(child.from=e.effects.setTransition(child,o,g.from.y,child.from),child.to=e.effects.setTransition(child,o,g.to.y,child.to)),g.from.x!=g.to.x&&(child.from=e.effects.setTransition(child,l,g.from.x,child.from),child.to=e.effects.setTransition(child,l,g.to.x,child.to)),child.css(child.from),child.animate(child.to,t.duration,t.options.easing,function(){h&&e.effects.restore(child,a)})})),i.animate(i.to,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){0===i.to.opacity&&i.css("opacity",i.from.opacity),"hide"==c&&i.hide(),e.effects.restore(i,h?n:s),e.effects.removeWrapper(i),t.callback&&t.callback.apply(this,arguments),i.dequeue()}})})}}(jQuery),/*
 * jQuery UI Effects Shake 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Shake
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(e){e.effects.shake=function(t){return this.queue(function(){var i=e(this),n=["position","top","bottom","left","right"];e.effects.setMode(i,t.options.mode||"effect");var s=t.options.direction||"left",a=t.options.distance||20,r=t.options.times||3,o=t.duration||t.options.duration||140;e.effects.save(i,n),i.show(),e.effects.createWrapper(i);var l="up"==s||"down"==s?"top":"left",c="up"==s||"left"==s?"pos":"neg",h={},u={},d={};h[l]=("pos"==c?"-=":"+=")+a,u[l]=("pos"==c?"+=":"-=")+2*a,d[l]=("pos"==c?"-=":"+=")+2*a,i.animate(h,o,t.options.easing);for(var f=1;r>f;f++)i.animate(u,o,t.options.easing).animate(d,o,t.options.easing);i.animate(u,o,t.options.easing).animate(h,o/2,t.options.easing,function(){e.effects.restore(i,n),e.effects.removeWrapper(i),t.callback&&t.callback.apply(this,arguments)}),i.queue("fx",function(){i.dequeue()}),i.dequeue()})}}(jQuery),/*
 * jQuery UI Effects Slide 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Slide
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(e){e.effects.slide=function(t){return this.queue(function(){var i=e(this),n=["position","top","bottom","left","right"],s=e.effects.setMode(i,t.options.mode||"show"),a=t.options.direction||"left";e.effects.save(i,n),i.show(),e.effects.createWrapper(i).css({overflow:"hidden"});var r="up"==a||"down"==a?"top":"left",o="up"==a||"left"==a?"pos":"neg",l=t.options.distance||("top"==r?i.outerHeight({margin:!0}):i.outerWidth({margin:!0}));"show"==s&&i.css(r,"pos"==o?isNaN(l)?"-"+l:-l:l);var c={};c[r]=("show"==s?"pos"==o?"+=":"-=":"pos"==o?"-=":"+=")+l,i.animate(c,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){"hide"==s&&i.hide(),e.effects.restore(i,n),e.effects.removeWrapper(i),t.callback&&t.callback.apply(this,arguments),i.dequeue()}})})}}(jQuery),/*
 * jQuery UI Effects Transfer 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Transfer
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(e){e.effects.transfer=function(t){return this.queue(function(){var i=e(this),n=e(t.options.to),s=n.offset(),a={top:s.top,left:s.left,height:n.innerHeight(),width:n.innerWidth()},r=i.offset(),o=e('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(t.options.className).css({top:r.top,left:r.left,height:i.innerHeight(),width:i.innerWidth(),position:"absolute"}).animate(a,t.duration,t.options.easing,function(){o.remove(),t.callback&&t.callback.apply(i[0],arguments),i.dequeue()})})}}(jQuery),/*
 * jQuery UI Accordion 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Accordion
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */
function(e){e.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:!0,clearStyle:!1,collapsible:!1,event:"click",fillSpace:!1,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var t=this,i=t.options;if(t.running=0,t.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix"),t.headers=t.element.find(i.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){i.disabled||e(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){i.disabled||e(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){i.disabled||e(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){i.disabled||e(this).removeClass("ui-state-focus")}),t.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom"),i.navigation){var n=t.element.find("a").filter(i.navigationFilter).eq(0);if(n.length){var s=n.closest(".ui-accordion-header");t.active=s.length?s:n.closest(".ui-accordion-content").prev()}}t.active=t._findActive(t.active||i.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top"),t.active.next().addClass("ui-accordion-content-active"),t._createIcons(),t.resize(),t.element.attr("role","tablist"),t.headers.attr("role","tab").bind("keydown.accordion",function(e){return t._keydown(e)}).next().attr("role","tabpanel"),t.headers.not(t.active||"").attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).next().hide(),t.active.length?t.active.attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}):t.headers.eq(0).attr("tabIndex",0),e.browser.safari||t.headers.find("a").attr("tabIndex",-1),i.event&&t.headers.bind(i.event.split(" ").join(".accordion ")+".accordion",function(e){t._clickHandler.call(t,e,this),e.preventDefault()})},_createIcons:function(){var t=this.options;t.icons&&(e("<span></span>").addClass("ui-icon "+t.icons.header).prependTo(this.headers),this.active.children(".ui-icon").toggleClass(t.icons.header).toggleClass(t.icons.headerSelected),this.element.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.children(".ui-icon").remove(),this.element.removeClass("ui-accordion-icons")},destroy:function(){var t=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("tabIndex"),this.headers.find("a").removeAttr("tabIndex"),this._destroyIcons();var i=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");return(t.autoHeight||t.fillHeight)&&i.css("height",""),e.Widget.prototype.destroy.call(this)},_setOption:function(t,i){e.Widget.prototype._setOption.apply(this,arguments),"active"==t&&this.activate(i),"icons"==t&&(this._destroyIcons(),i&&this._createIcons()),"disabled"==t&&this.headers.add(this.headers.next())[i?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")},_keydown:function(t){if(!(this.options.disabled||t.altKey||t.ctrlKey)){var i=e.ui.keyCode,n=this.headers.length,s=this.headers.index(t.target),a=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:a=this.headers[(s+1)%n];break;case i.LEFT:case i.UP:a=this.headers[(s-1+n)%n];break;case i.SPACE:case i.ENTER:this._clickHandler({target:t.target},t.target),t.preventDefault()}return a?(e(t.target).attr("tabIndex",-1),e(a).attr("tabIndex",0),a.focus(),!1):!0}},resize:function(){var t,i=this.options;if(i.fillSpace){if(e.browser.msie){var n=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden")}t=this.element.parent().height(),e.browser.msie&&this.element.parent().css("overflow",n),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")}else i.autoHeight&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).height("").height())}).height(t));return this},activate:function(e){this.options.active=e;var t=this._findActive(e)[0];return this._clickHandler({target:t},t),this},_findActive:function(t){return t?"number"==typeof t?this.headers.filter(":eq("+t+")"):this.headers.not(this.headers.not(t)):t===!1?e([]):this.headers.filter(":eq(0)")},_clickHandler:function(t,i){var n=this.options;if(!n.disabled){if(!t.target){if(!n.collapsible)return;this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(n.icons.headerSelected).addClass(n.icons.header),this.active.next().addClass("ui-accordion-content-active");var s=this.active.next(),a={options:n,newHeader:e([]),oldHeader:n.active,newContent:e([]),oldContent:s},r=this.active=e([]);return this._toggle(r,s,a),void 0}var o=e(t.currentTarget||i),l=o[0]===this.active[0];if(n.active=n.collapsible&&l?!1:this.headers.index(o),!(this.running||!n.collapsible&&l)){var c=this.active,r=o.next(),s=this.active.next(),a={options:n,newHeader:l&&n.collapsible?e([]):o,oldHeader:this.active,newContent:l&&n.collapsible?e([]):r,oldContent:s},h=this.headers.index(this.active[0])>this.headers.index(o[0]);this.active=l?e([]):o,this._toggle(r,s,a,l,h),c.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(n.icons.headerSelected).addClass(n.icons.header),l||(o.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(n.icons.header).addClass(n.icons.headerSelected),o.next().addClass("ui-accordion-content-active"))}}},_toggle:function(t,i,n,s,a){var r=this,o=r.options;r.toShow=t,r.toHide=i,r.data=n;var l=function(){return r?r._completed.apply(r,arguments):void 0};if(r._trigger("changestart",null,r.data),r.running=0===i.size()?t.size():i.size(),o.animated){var c={};c=o.collapsible&&s?{toShow:e([]),toHide:i,complete:l,down:a,autoHeight:o.autoHeight||o.fillSpace}:{toShow:t,toHide:i,complete:l,down:a,autoHeight:o.autoHeight||o.fillSpace},o.proxied||(o.proxied=o.animated),o.proxiedDuration||(o.proxiedDuration=o.duration),o.animated=e.isFunction(o.proxied)?o.proxied(c):o.proxied,o.duration=e.isFunction(o.proxiedDuration)?o.proxiedDuration(c):o.proxiedDuration;var h=e.ui.accordion.animations,u=o.duration,d=o.animated;!d||h[d]||e.easing[d]||(d="slide"),h[d]||(h[d]=function(e){this.slide(e,{easing:d,duration:u||700})}),h[d](c)}else o.collapsible&&s?t.toggle():(i.hide(),t.show()),l(!0);i.prev().attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).blur(),t.prev().attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}).focus()},_completed:function(e){this.running=e?0:--this.running,this.running||(this.options.clearStyle&&this.toShow.add(this.toHide).css({height:"",overflow:""}),this.toHide.removeClass("ui-accordion-content-active"),this.toHide.length&&(this.toHide.parent()[0].className=this.toHide.parent()[0].className),this._trigger("change",null,this.data))}}),e.extend(e.ui.accordion,{version:"1.8.18",animations:{slide:function(t,i){if(t=e.extend({easing:"swing",duration:300},t,i),!t.toHide.size())return t.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},t),void 0;if(!t.toShow.size())return t.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},t),void 0;var n,s=t.toShow.css("overflow"),a=0,r={},o={},l=["height","paddingTop","paddingBottom"],c=t.toShow;n=c[0].style.width,c.width(c.parent().width()-parseFloat(c.css("paddingLeft"))-parseFloat(c.css("paddingRight"))-(parseFloat(c.css("borderLeftWidth"))||0)-(parseFloat(c.css("borderRightWidth"))||0)),e.each(l,function(i,n){o[n]="hide";var s=(""+e.css(t.toShow[0],n)).match(/^([\d+-.]+)(.*)$/);r[n]={value:s[1],unit:s[2]||"px"}}),t.toShow.css({height:0,overflow:"hidden"}).show(),t.toHide.filter(":hidden").each(t.complete).end().filter(":visible").animate(o,{step:function(e,i){"height"==i.prop&&(a=0===i.end-i.start?0:(i.now-i.start)/(i.end-i.start)),t.toShow[0].style[i.prop]=a*r[i.prop].value+r[i.prop].unit},duration:t.duration,easing:t.easing,complete:function(){t.autoHeight||t.toShow.css("height",""),t.toShow.css({width:n,overflow:s}),t.complete()}})},bounceslide:function(e){this.slide(e,{easing:e.down?"easeOutBounce":"swing",duration:e.down?1e3:200})}}})}(jQuery),/*
 * jQuery UI Autocomplete 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Autocomplete
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.position.js
 */
function(e){var t=0;e.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var t,i=this,n=this.element[0].ownerDocument;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(n){if(!i.options.disabled&&!i.element.propAttr("readOnly")){t=!1;var s=e.ui.keyCode;switch(n.keyCode){case s.PAGE_UP:i._move("previousPage",n);break;case s.PAGE_DOWN:i._move("nextPage",n);break;case s.UP:i._move("previous",n),n.preventDefault();break;case s.DOWN:i._move("next",n),n.preventDefault();break;case s.ENTER:case s.NUMPAD_ENTER:i.menu.active&&(t=!0,n.preventDefault());case s.TAB:if(!i.menu.active)return;i.menu.select(n);break;case s.ESCAPE:i.element.val(i.term),i.close(n);break;default:clearTimeout(i.searching),i.searching=setTimeout(function(){i.term!=i.element.val()&&(i.selectedItem=null,i.search(null,n))},i.options.delay)}}}).bind("keypress.autocomplete",function(e){t&&(t=!1,e.preventDefault())}).bind("focus.autocomplete",function(){i.options.disabled||(i.selectedItem=null,i.previous=i.element.val())}).bind("blur.autocomplete",function(e){i.options.disabled||(clearTimeout(i.searching),i.closing=setTimeout(function(){i.close(e),i._change(e)},150))}),this._initSource(),this.response=function(){return i._response.apply(i,arguments)},this.menu=e("<ul></ul>").addClass("ui-autocomplete").appendTo(e(this.options.appendTo||"body",n)[0]).mousedown(function(t){var n=i.menu.element[0];e(t.target).closest(".ui-menu-item").length||setTimeout(function(){e(document).one("mousedown",function(t){t.target===i.element[0]||t.target===n||e.ui.contains(n,t.target)||i.close()})},1),setTimeout(function(){clearTimeout(i.closing)},13)}).menu({focus:function(e,t){var n=t.item.data("item.autocomplete");!1!==i._trigger("focus",e,{item:n})&&/^key/.test(e.originalEvent.type)&&i.element.val(n.value)},selected:function(e,t){var s=t.item.data("item.autocomplete"),a=i.previous;i.element[0]!==n.activeElement&&(i.element.focus(),i.previous=a,setTimeout(function(){i.previous=a,i.selectedItem=s},1)),!1!==i._trigger("select",e,{item:s})&&i.element.val(s.value),i.term=i.element.val(),i.close(e),i.selectedItem=s},blur:function(){i.menu.element.is(":visible")&&i.element.val()!==i.term&&i.element.val(i.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu"),e.fn.bgiframe&&this.menu.element.bgiframe(),i.beforeunloadHandler=function(){i.element.removeAttr("autocomplete")},e(window).bind("beforeunload",i.beforeunloadHandler)},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"),this.menu.element.remove(),e(window).unbind("beforeunload",this.beforeunloadHandler),e.Widget.prototype.destroy.call(this)},_setOption:function(t,i){e.Widget.prototype._setOption.apply(this,arguments),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(e(i||"body",this.element[0].ownerDocument)[0]),"disabled"===t&&i&&this.xhr&&this.xhr.abort()},_initSource:function(){var i,n,s=this;e.isArray(this.options.source)?(i=this.options.source,this.source=function(t,n){n(e.ui.autocomplete.filter(i,t.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(i,a){s.xhr&&s.xhr.abort(),s.xhr=e.ajax({url:n,data:i,dataType:"json",context:{autocompleteRequest:++t},success:function(e){this.autocompleteRequest===t&&a(e)},error:function(){this.autocompleteRequest===t&&a([])}})}):this.source=this.options.source},search:function(e,t){return e=null!=e?e:this.element.val(),this.term=this.element.val(),e.length<this.options.minLength?this.close(t):(clearTimeout(this.closing),this._trigger("search",t)!==!1?this._search(e):void 0)},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.source({term:e},this.response)},_response:function(e){!this.options.disabled&&e&&e.length?(e=this._normalize(e),this._suggest(e),this._trigger("open")):this.close(),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},close:function(e){clearTimeout(this.closing),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger("close",e))},_change:function(e){this.previous!==this.element.val()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var i=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(i,t),this.menu.deactivate(),this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(new e.Event("mouseover"))},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var n=this;e.each(i,function(e,i){n._renderItem(t,i)})},_renderItem:function(t,i){return e("<li></li>").data("item.autocomplete",i).append(e("<a></a>").text(i.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.first()&&/^previous/.test(e)||this.menu.last()&&/^next/.test(e)?(this.element.val(this.term),this.menu.deactivate(),void 0):(this.menu[e](t),void 0):(this.search(null,t),void 0)},widget:function(){return this.menu.element}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(t,i){var n=new RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return n.test(e.label||e.value||e)})}})}(jQuery),/*
 * jQuery UI Menu (not officially released)
 * 
 * This widget isn't yet finished and the API is subject to change. We plan to finish
 * it for the next release. You're welcome to give it a try anyway and give us feedback,
 * as long as you're okay with migrating your code later on. We can help with that, too.
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Menu
 *
 * Depends:
 *	jquery.ui.core.js
 *  jquery.ui.widget.js
 */
function(e){e.widget("ui.menu",{_create:function(){var t=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(i){e(i.target).closest(".ui-menu-item a").length&&(i.preventDefault(),t.select(i))}),this.refresh()},refresh:function(){var t=this,i=this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem");i.children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(i){t.activate(i,e(this).parent())}).mouseleave(function(){t.deactivate()})},activate:function(e,t){if(this.deactivate(),this.hasScroll()){var i=t.offset().top-this.element.offset().top,n=this.element.scrollTop(),s=this.element.height();0>i?this.element.scrollTop(n+i):i>=s&&this.element.scrollTop(n+i-s+t.height())}this.active=t.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end(),this._trigger("focus",e,{item:t})},deactivate:function(){this.active&&(this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null)},next:function(e){this.move("next",".ui-menu-item:first",e)},previous:function(e){this.move("prev",".ui-menu-item:last",e)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(e,t,i){if(!this.active)return this.activate(i,this.element.children(t)),void 0;var n=this.active[e+"All"](".ui-menu-item").eq(0);n.length?this.activate(i,n):this.activate(i,this.element.children(t))},nextPage:function(t){if(this.hasScroll()){if(!this.active||this.last())return this.activate(t,this.element.children(".ui-menu-item:first")),void 0;var i=this.active.offset().top,n=this.element.height(),s=this.element.children(".ui-menu-item").filter(function(){var t=e(this).offset().top-i-n+e(this).height();return 10>t&&t>-10});s.length||(s=this.element.children(".ui-menu-item:last")),this.activate(t,s)}else this.activate(t,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))},previousPage:function(t){if(this.hasScroll()){if(!this.active||this.first())return this.activate(t,this.element.children(".ui-menu-item:last")),void 0;var i=this.active.offset().top,n=this.element.height();result=this.element.children(".ui-menu-item").filter(function(){var t=e(this).offset().top-i+n-e(this).height();return 10>t&&t>-10}),result.length||(result=this.element.children(".ui-menu-item:first")),this.activate(t,result)}else this.activate(t,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element[e.fn.prop?"prop":"attr"]("scrollHeight")},select:function(e){this._trigger("selected",e,{item:this.active})}})}(jQuery),/*
 * jQuery UI Button 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Button
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */
function(e){var t,i,n,s,a="ui-button ui-widget ui-state-default ui-corner-all",r="ui-state-hover ui-state-active ",o="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",l=function(){var t=e(this).find(":ui-button");setTimeout(function(){t.button("refresh")},1)},c=function(t){var i=t.name,n=t.form,s=e([]);return i&&(s=n?e(n).find("[name='"+i+"']"):e("[name='"+i+"']",t.ownerDocument).filter(function(){return!this.form})),s};e.widget("ui.button",{options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",l),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.propAttr("disabled"):this.element.propAttr("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var r=this,o=this.options,h="checkbox"===this.type||"radio"===this.type,u="ui-state-hover"+(h?"":" ui-state-active"),d="ui-state-focus";null===o.label&&(o.label=this.buttonElement.html()),this.buttonElement.addClass(a).attr("role","button").bind("mouseenter.button",function(){o.disabled||(e(this).addClass("ui-state-hover"),this===t&&e(this).addClass("ui-state-active"))}).bind("mouseleave.button",function(){o.disabled||e(this).removeClass(u)}).bind("click.button",function(e){o.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this.element.bind("focus.button",function(){r.buttonElement.addClass(d)}).bind("blur.button",function(){r.buttonElement.removeClass(d)}),h&&(this.element.bind("change.button",function(){s||r.refresh()}),this.buttonElement.bind("mousedown.button",function(e){o.disabled||(s=!1,i=e.pageX,n=e.pageY)}).bind("mouseup.button",function(e){o.disabled||(i!==e.pageX||n!==e.pageY)&&(s=!0)})),"checkbox"===this.type?this.buttonElement.bind("click.button",function(){return o.disabled||s?!1:(e(this).toggleClass("ui-state-active"),r.buttonElement.attr("aria-pressed",r.element[0].checked),void 0)}):"radio"===this.type?this.buttonElement.bind("click.button",function(){if(o.disabled||s)return!1;e(this).addClass("ui-state-active"),r.buttonElement.attr("aria-pressed","true");var t=r.element[0];c(t).not(t).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown.button",function(){return o.disabled?!1:(e(this).addClass("ui-state-active"),t=this,e(document).one("mouseup",function(){t=null}),void 0)}).bind("mouseup.button",function(){return o.disabled?!1:(e(this).removeClass("ui-state-active"),void 0)}).bind("keydown.button",function(t){return o.disabled?!1:((t.keyCode==e.ui.keyCode.SPACE||t.keyCode==e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"),void 0)}).bind("keyup.button",function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",o.disabled),this._resetButton()},_determineButtonType:function(){if(this.type=this.element.is(":checkbox")?"checkbox":this.element.is(":radio")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type){var e=this.element.parents().filter(":last"),t="label[for='"+this.element.attr("id")+"']";this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible");var i=this.element.is(":checked");i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.attr("aria-pressed",i)}else this.buttonElement=this.element},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(a+" "+r+" "+o).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title"),e.Widget.prototype.destroy.call(this)},_setOption:function(t,i){return e.Widget.prototype._setOption.apply(this,arguments),"disabled"===t?(i?this.element.propAttr("disabled",!0):this.element.propAttr("disabled",!1),void 0):(this._resetButton(),void 0)},refresh:function(){var t=this.element.is(":disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?c(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),void 0;var t=this.buttonElement.removeClass(o),i=e("<span></span>",this.element[0].ownerDocument).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),n=this.options.icons,s=n.primary&&n.secondary,a=[];n.primary||n.secondary?(this.options.text&&a.push("ui-button-text-icon"+(s?"s":n.primary?"-primary":"-secondary")),n.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(a.push(s?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",i))):a.push("ui-button-text-only"),t.addClass(a.join(" "))}}),e.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,i){"disabled"===t&&this.buttons.button("option",t,i),e.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){var t="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy"),e.Widget.prototype.destroy.call(this)}})}(jQuery),/*
 * jQuery UI Datepicker 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Datepicker
 *
 * Depends:
 *	jquery.ui.core.js
 */
function($,undefined){function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function bindHover(e){var t="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.bind("mouseout",function(e){var i=$(e.target).closest(t);i.length&&i.removeClass("ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover")}).bind("mouseover",function(i){var n=$(i.target).closest(t);!$.datepicker._isDisabledDatepicker(instActive.inline?e.parent()[0]:instActive.input[0])&&n.length&&(n.parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),n.addClass("ui-state-hover"),n.hasClass("ui-datepicker-prev")&&n.addClass("ui-datepicker-prev-hover"),n.hasClass("ui-datepicker-next")&&n.addClass("ui-datepicker-next-hover"))})}function extendRemove(e,t){$.extend(e,t);for(var i in t)(null==t[i]||t[i]==undefined)&&(e[i]=t[i]);return e}function isArray(e){return e&&($.browser.safari&&"object"==typeof e&&e.length||e.constructor&&e.constructor.toString().match(/\Array\(\)/))}$.extend($.ui,{datepicker:{version:"1.8.18"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return extendRemove(this._defaults,e||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline="div"==nodeName||"span"==nodeName;target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),"input"==nodeName?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(e,t){var i=e[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:i,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:t,dpDiv:t?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(e,t){var i=$(e);t.append=$([]),t.trigger=$([]),i.hasClass(this.markerClassName)||(this._attachments(i,t),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(e,i,n){t.settings[i]=n}).bind("getData.datepicker",function(e,i){return this._get(t,i)}),this._autoSize(t),$.data(e,PROP_NAME,t),t.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,t){var i=this._get(t,"appendText"),n=this._get(t,"isRTL");t.append&&t.append.remove(),i&&(t.append=$('<span class="'+this._appendClass+'">'+i+"</span>"),e[n?"before":"after"](t.append)),e.unbind("focus",this._showDatepicker),t.trigger&&t.trigger.remove();var s=this._get(t,"showOn");if(("focus"==s||"both"==s)&&e.focus(this._showDatepicker),"button"==s||"both"==s){var a=this._get(t,"buttonText"),r=this._get(t,"buttonImage");t.trigger=$(this._get(t,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:r,alt:a,title:a}):$('<button type="button"></button>').addClass(this._triggerClass).html(""==r?a:$("<img/>").attr({src:r,alt:a,title:a}))),e[n?"before":"after"](t.trigger),t.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==e[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!=e[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(e[0])):$.datepicker._showDatepicker(e[0]),!1})}},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t=new Date(2009,11,20),i=this._get(e,"dateFormat");if(i.match(/[DM]/)){var n=function(e){for(var t=0,i=0,n=0;n<e.length;n++)e[n].length>t&&(t=e[n].length,i=n);return i};t.setMonth(n(this._get(e,i.match(/MM/)?"monthNames":"monthNamesShort"))),t.setDate(n(this._get(e,i.match(/DD/)?"dayNames":"dayNamesShort"))+20-t.getDay())}e.input.attr("size",this._formatDate(e,t).length)}},_inlineDatepicker:function(e,t){var i=$(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(t.dpDiv).bind("setData.datepicker",function(e,i,n){t.settings[i]=n}).bind("getData.datepicker",function(e,i){return this._get(t,i)}),$.data(e,PROP_NAME,t),this._setDate(t,this._getDefaultDate(t),!0),this._updateDatepicker(t),this._updateAlternate(t),t.settings.disabled&&this._disableDatepicker(e),t.dpDiv.css("display","block"))},_dialogDatepicker:function(e,t,i,n,s){var a=this._dialogInst;if(!a){this.uuid+=1;var r="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+r+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),a=this._dialogInst=this._newInst(this._dialogInput,!1),a.settings={},$.data(this._dialogInput[0],PROP_NAME,a)}if(extendRemove(a.settings,n||{}),t=t&&t.constructor==Date?this._formatDate(a,t):t,this._dialogInput.val(t),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,!this._pos){var o=document.documentElement.clientWidth,l=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,h=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[o/2-100+c,l/2-150+h]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),a.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,a),this},_destroyDatepicker:function(e){var t=$(e),i=$.data(e,PROP_NAME);if(t.hasClass(this.markerClassName)){var n=e.nodeName.toLowerCase();$.removeData(e,PROP_NAME),"input"==n?(i.append.remove(),i.trigger.remove(),t.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"==n||"span"==n)&&t.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(e){var t=$(e),i=$.data(e,PROP_NAME);if(t.hasClass(this.markerClassName)){var n=e.nodeName.toLowerCase();if("input"==n)e.disabled=!1,i.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"==n||"span"==n){var s=t.children("."+this._inlineClass);s.children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").removeAttr("disabled")}this._disabledInputs=$.map(this._disabledInputs,function(t){return t==e?null:t})}},_disableDatepicker:function(e){var t=$(e),i=$.data(e,PROP_NAME);if(t.hasClass(this.markerClassName)){var n=e.nodeName.toLowerCase();if("input"==n)e.disabled=!0,i.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"==n||"span"==n){var s=t.children("."+this._inlineClass);s.children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").attr("disabled","disabled")}this._disabledInputs=$.map(this._disabledInputs,function(t){return t==e?null:t}),this._disabledInputs[this._disabledInputs.length]=e}},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]==e)return!0;return!1},_getInst:function(e){try{return $.data(e,PROP_NAME)}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,t,i){var n=this._getInst(e);if(2==arguments.length&&"string"==typeof t)return"defaults"==t?$.extend({},$.datepicker._defaults):n?"all"==t?$.extend({},n.settings):this._get(n,t):null;var s=t||{};if("string"==typeof t&&(s={},s[t]=i),n){this._curInst==n&&this._hideDatepicker();var a=this._getDateDatepicker(e,!0),r=this._getMinMaxDate(n,"min"),o=this._getMinMaxDate(n,"max");extendRemove(n.settings,s),null!==r&&s.dateFormat!==undefined&&s.minDate===undefined&&(n.settings.minDate=this._formatDate(n,r)),null!==o&&s.dateFormat!==undefined&&s.maxDate===undefined&&(n.settings.maxDate=this._formatDate(n,o)),this._attachments($(e),n),this._autoSize(n),this._setDate(n,a),this._updateAlternate(n),this._updateDatepicker(n)}},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(e){var t=$.datepicker._getInst(e.target),i=!0,n=t.dpDiv.is(".ui-datepicker-rtl");if(t._keyEvent=!0,$.datepicker._datepickerShowing)switch(e.keyCode){case 9:$.datepicker._hideDatepicker(),i=!1;break;case 13:var s=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",t.dpDiv);s[0]&&$.datepicker._selectDay(e.target,t.selectedMonth,t.selectedYear,s[0]);var a=$.datepicker._get(t,"onSelect");if(a){var r=$.datepicker._formatDate(t);a.apply(t.input?t.input[0]:null,[r,t])}else $.datepicker._hideDatepicker();return!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(e.target,e.ctrlKey?-$.datepicker._get(t,"stepBigMonths"):-$.datepicker._get(t,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(e.target,e.ctrlKey?+$.datepicker._get(t,"stepBigMonths"):+$.datepicker._get(t,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&$.datepicker._clearDate(e.target),i=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&$.datepicker._gotoToday(e.target),i=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,n?1:-1,"D"),i=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&$.datepicker._adjustDate(e.target,e.ctrlKey?-$.datepicker._get(t,"stepBigMonths"):-$.datepicker._get(t,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,-7,"D"),i=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,n?-1:1,"D"),i=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&$.datepicker._adjustDate(e.target,e.ctrlKey?+$.datepicker._get(t,"stepBigMonths"):+$.datepicker._get(t,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,7,"D"),i=e.ctrlKey||e.metaKey;break;default:i=!1}else 36==e.keyCode&&e.ctrlKey?$.datepicker._showDatepicker(this):i=!1;i&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var t=$.datepicker._getInst(e.target);if($.datepicker._get(t,"constrainInput")){var i=$.datepicker._possibleChars($.datepicker._get(t,"dateFormat")),n=String.fromCharCode(e.charCode==undefined?e.keyCode:e.charCode);return e.ctrlKey||e.metaKey||" ">n||!i||i.indexOf(n)>-1}},_doKeyUp:function(e){var t=$.datepicker._getInst(e.target);if(t.input.val()!=t.lastVal)try{var i=$.datepicker.parseDate($.datepicker._get(t,"dateFormat"),t.input?t.input.val():null,$.datepicker._getFormatConfig(t));i&&($.datepicker._setDateFromField(t),$.datepicker._updateAlternate(t),$.datepicker._updateDatepicker(t))}catch(e){$.datepicker.log(e)}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!=e.nodeName.toLowerCase()&&(e=$("input",e.parentNode)[0]),!$.datepicker._isDisabledDatepicker(e)&&$.datepicker._lastInput!=e){var t=$.datepicker._getInst(e);$.datepicker._curInst&&$.datepicker._curInst!=t&&($.datepicker._curInst.dpDiv.stop(!0,!0),t&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var i=$.datepicker._get(t,"beforeShow"),n=i?i.apply(e,[e,t]):{};if(n!==!1){extendRemove(t.settings,n),t.lastVal=null,$.datepicker._lastInput=e,$.datepicker._setDateFromField(t),$.datepicker._inDialog&&(e.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(e),$.datepicker._pos[1]+=e.offsetHeight);var s=!1;$(e).parents().each(function(){return s|="fixed"==$(this).css("position"),!s}),s&&$.browser.opera&&($.datepicker._pos[0]-=document.documentElement.scrollLeft,$.datepicker._pos[1]-=document.documentElement.scrollTop);var a={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};if($.datepicker._pos=null,t.dpDiv.empty(),t.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(t),a=$.datepicker._checkOffset(t,a,s),t.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":s?"fixed":"absolute",display:"none",left:a.left+"px",top:a.top+"px"}),!t.inline){var r=$.datepicker._get(t,"showAnim"),o=$.datepicker._get(t,"duration"),l=function(){var e=t.dpDiv.find("iframe.ui-datepicker-cover");if(e.length){var i=$.datepicker._getBorders(t.dpDiv);e.css({left:-i[0],top:-i[1],width:t.dpDiv.outerWidth(),height:t.dpDiv.outerHeight()})}};t.dpDiv.zIndex($(e).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&$.effects[r]?t.dpDiv.show(r,$.datepicker._get(t,"showOptions"),o,l):t.dpDiv[r||"show"](r?o:null,l),r&&o||l(),t.input.is(":visible")&&!t.input.is(":disabled")&&t.input.focus(),$.datepicker._curInst=t}}}},_updateDatepicker:function(e){var t=this;t.maxRows=4;var i=$.datepicker._getBorders(e.dpDiv);instActive=e,e.dpDiv.empty().append(this._generateHTML(e));var n=e.dpDiv.find("iframe.ui-datepicker-cover");n.length&&n.css({left:-i[0],top:-i[1],width:e.dpDiv.outerWidth(),height:e.dpDiv.outerHeight()}),e.dpDiv.find("."+this._dayOverClass+" a").mouseover();var s=this._getNumberOfMonths(e),a=s[1],r=17;if(e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),a>1&&e.dpDiv.addClass("ui-datepicker-multi-"+a).css("width",r*a+"em"),e.dpDiv[(1!=s[0]||1!=s[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e==$.datepicker._curInst&&$.datepicker._datepickerShowing&&e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&e.input[0]!=document.activeElement&&e.input.focus(),e.yearshtml){var o=e.yearshtml;setTimeout(function(){o===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),o=e.yearshtml=null},0)}},_getBorders:function(e){var t=function(e){return{thin:1,medium:2,thick:3}[e]||e};return[parseFloat(t(e.css("border-left-width"))),parseFloat(t(e.css("border-top-width")))]},_checkOffset:function(e,t,i){var n=e.dpDiv.outerWidth(),s=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,r=e.input?e.input.outerHeight():0,o=document.documentElement.clientWidth+$(document).scrollLeft(),l=document.documentElement.clientHeight+$(document).scrollTop();return t.left-=this._get(e,"isRTL")?n-a:0,t.left-=i&&t.left==e.input.offset().left?$(document).scrollLeft():0,t.top-=i&&t.top==e.input.offset().top+r?$(document).scrollTop():0,t.left-=Math.min(t.left,t.left+n>o&&o>n?Math.abs(t.left+n-o):0),t.top-=Math.min(t.top,t.top+s>l&&l>s?Math.abs(s+r):0),t},_findPos:function(e){for(var t=this._getInst(e),i=this._get(t,"isRTL");e&&("hidden"==e.type||1!=e.nodeType||$.expr.filters.hidden(e));)e=e[i?"previousSibling":"nextSibling"];var n=$(e).offset();return[n.left,n.top]},_hideDatepicker:function(e){var t=this._curInst;if(t&&(!e||t==$.data(e,PROP_NAME))&&this._datepickerShowing){var i=this._get(t,"showAnim"),n=this._get(t,"duration"),s=this,a=function(){$.datepicker._tidyDialog(t),s._curInst=null};$.effects&&$.effects[i]?t.dpDiv.hide(i,$.datepicker._get(t,"showOptions"),n,a):t.dpDiv["slideDown"==i?"slideUp":"fadeIn"==i?"fadeOut":"hide"](i?n:null,a),i||a(),this._datepickerShowing=!1;var r=this._get(t,"onClose");r&&r.apply(t.input?t.input[0]:null,[t.input?t.input.val():"",t]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if($.datepicker._curInst){var t=$(e.target),i=$.datepicker._getInst(t[0]);(t[0].id!=$.datepicker._mainDivId&&0==t.parents("#"+$.datepicker._mainDivId).length&&!t.hasClass($.datepicker.markerClassName)&&!t.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||t.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=i)&&$.datepicker._hideDatepicker()}},_adjustDate:function(e,t,i){var n=$(e),s=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(s,t+("M"==i?this._get(s,"showCurrentAtPos"):0),i),this._updateDatepicker(s))},_gotoToday:function(e){var t=$(e),i=this._getInst(t[0]);if(this._get(i,"gotoCurrent")&&i.currentDay)i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear;else{var n=new Date;i.selectedDay=n.getDate(),i.drawMonth=i.selectedMonth=n.getMonth(),i.drawYear=i.selectedYear=n.getFullYear()}this._notifyChange(i),this._adjustDate(t)},_selectMonthYear:function(e,t,i){var n=$(e),s=this._getInst(n[0]);s["selected"+("M"==i?"Month":"Year")]=s["draw"+("M"==i?"Month":"Year")]=parseInt(t.options[t.selectedIndex].value,10),this._notifyChange(s),this._adjustDate(n)},_selectDay:function(e,t,i,n){var s=$(e);if(!$(n).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(s[0])){var a=this._getInst(s[0]);a.selectedDay=a.currentDay=$("a",n).html(),a.selectedMonth=a.currentMonth=t,a.selectedYear=a.currentYear=i,this._selectDate(e,this._formatDate(a,a.currentDay,a.currentMonth,a.currentYear))}},_clearDate:function(e){var t=$(e);this._getInst(t[0]),this._selectDate(t,"")},_selectDate:function(e,t){var i=$(e),n=this._getInst(i[0]);t=null!=t?t:this._formatDate(n),n.input&&n.input.val(t),this._updateAlternate(n);var s=this._get(n,"onSelect");s?s.apply(n.input?n.input[0]:null,[t,n]):n.input&&n.input.trigger("change"),n.inline?this._updateDatepicker(n):(this._hideDatepicker(),this._lastInput=n.input[0],"object"!=typeof n.input[0]&&n.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var t=this._get(e,"altField");if(t){var i=this._get(e,"altFormat")||this._get(e,"dateFormat"),n=this._getDate(e),s=this.formatDate(i,n,this._getFormatConfig(e));$(t).each(function(){$(this).val(s)})}},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t=new Date(e.getTime());t.setDate(t.getDate()+4-(t.getDay()||7));var i=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((i-t)/864e5)/7)+1},parseDate:function(e,t,i){if(null==e||null==t)throw"Invalid arguments";if(t="object"==typeof t?t.toString():t+"",""==t)return null;var n=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff;n="string"!=typeof n?n:(new Date).getFullYear()%100+parseInt(n,10);for(var s=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,a=(i?i.dayNames:null)||this._defaults.dayNames,r=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,o=(i?i.monthNames:null)||this._defaults.monthNames,l=-1,c=-1,h=-1,u=-1,d=!1,f=function(t){var i=b+1<e.length&&e.charAt(b+1)==t;return i&&b++,i},p=function(e){var i=f(e),n="@"==e?14:"!"==e?20:"y"==e&&i?4:"o"==e?3:2,s=new RegExp("^\\d{1,"+n+"}"),a=t.substring(v).match(s);if(!a)throw"Missing number at position "+v;return v+=a[0].length,parseInt(a[0],10)},g=function(e,i,n){var s=$.map(f(e)?n:i,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)}),a=-1;if($.each(s,function(e,i){var n=i[1];return t.substr(v,n.length).toLowerCase()==n.toLowerCase()?(a=i[0],v+=n.length,!1):void 0}),-1!=a)return a+1;throw"Unknown name at position "+v},m=function(){if(t.charAt(v)!=e.charAt(b))throw"Unexpected literal at position "+v;v++},v=0,b=0;b<e.length;b++)if(d)"'"!=e.charAt(b)||f("'")?m():d=!1;else switch(e.charAt(b)){case"d":h=p("d");break;case"D":g("D",s,a);break;case"o":u=p("o");break;case"m":c=p("m");break;case"M":c=g("M",r,o);break;case"y":l=p("y");break;case"@":var y=new Date(p("@"));l=y.getFullYear(),c=y.getMonth()+1,h=y.getDate();break;case"!":var y=new Date((p("!")-this._ticksTo1970)/1e4);l=y.getFullYear(),c=y.getMonth()+1,h=y.getDate();break;case"'":f("'")?m():d=!0;break;default:m()}if(v<t.length)throw"Extra/unparsed characters found in date: "+t.substring(v);if(-1==l?l=(new Date).getFullYear():100>l&&(l+=(new Date).getFullYear()-(new Date).getFullYear()%100+(n>=l?0:-100)),u>-1)for(c=1,h=u;;){var _=this._getDaysInMonth(l,c-1);if(_>=h)break;c++,h-=_}var y=this._daylightSavingAdjust(new Date(l,c-1,h));if(y.getFullYear()!=l||y.getMonth()+1!=c||y.getDate()!=h)throw"Invalid date";return y},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,i){if(!t)return"";var n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,s=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,o=function(t){var i=d+1<e.length&&e.charAt(d+1)==t;return i&&d++,i},l=function(e,t,i){var n=""+t;if(o(e))for(;n.length<i;)n="0"+n;return n},c=function(e,t,i,n){return o(e)?n[t]:i[t]},h="",u=!1;if(t)for(var d=0;d<e.length;d++)if(u)"'"!=e.charAt(d)||o("'")?h+=e.charAt(d):u=!1;else switch(e.charAt(d)){case"d":h+=l("d",t.getDate(),2);break;case"D":h+=c("D",t.getDay(),n,s);break;case"o":h+=l("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=l("m",t.getMonth()+1,2);break;case"M":h+=c("M",t.getMonth(),a,r);break;case"y":h+=o("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":h+=t.getTime();break;case"!":h+=1e4*t.getTime()+this._ticksTo1970;break;case"'":o("'")?h+="'":u=!0;break;default:h+=e.charAt(d)}return h},_possibleChars:function(e){for(var t="",i=!1,n=function(t){var i=s+1<e.length&&e.charAt(s+1)==t;return i&&s++,i},s=0;s<e.length;s++)if(i)"'"!=e.charAt(s)||n("'")?t+=e.charAt(s):i=!1;else switch(e.charAt(s)){case"d":case"m":case"y":case"@":t+="0123456789";break;case"D":case"M":return null;case"'":n("'")?t+="'":i=!0;break;default:t+=e.charAt(s)}return t},_get:function(e,t){return e.settings[t]!==undefined?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!=e.lastVal){var i,n,s=this._get(e,"dateFormat"),a=e.lastVal=e.input?e.input.val():null;i=n=this._getDefaultDate(e);var r=this._getFormatConfig(e);try{i=this.parseDate(s,a,r)||n}catch(o){this.log(o),a=t?"":a}e.selectedDay=i.getDate(),e.drawMonth=e.selectedMonth=i.getMonth(),e.drawYear=e.selectedYear=i.getFullYear(),e.currentDay=a?i.getDate():0,e.currentMonth=a?i.getMonth():0,e.currentYear=a?i.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(e,t,i){var n=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},s=function(t){try{return $.datepicker.parseDate($.datepicker._get(e,"dateFormat"),t,$.datepicker._getFormatConfig(e))}catch(i){}for(var n=(t.toLowerCase().match(/^c/)?$.datepicker._getDate(e):null)||new Date,s=n.getFullYear(),a=n.getMonth(),r=n.getDate(),o=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=o.exec(t);l;){switch(l[2]||"d"){case"d":case"D":r+=parseInt(l[1],10);break;case"w":case"W":r+=7*parseInt(l[1],10);break;case"m":case"M":a+=parseInt(l[1],10),r=Math.min(r,$.datepicker._getDaysInMonth(s,a));break;case"y":case"Y":s+=parseInt(l[1],10),r=Math.min(r,$.datepicker._getDaysInMonth(s,a))}l=o.exec(t)}return new Date(s,a,r)},a=null==t||""===t?i:"string"==typeof t?s(t):"number"==typeof t?isNaN(t)?i:n(t):new Date(t.getTime());return a=a&&"Invalid Date"==a.toString()?i:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var n=!t,s=e.selectedMonth,a=e.selectedYear,r=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=r.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=r.getMonth(),e.drawYear=e.selectedYear=e.currentYear=r.getFullYear(),s==e.selectedMonth&&a==e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(n?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""==e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_generateHTML:function(e){var t=new Date;t=this._daylightSavingAdjust(new Date(t.getFullYear(),t.getMonth(),t.getDate()));var i=this._get(e,"isRTL"),n=this._get(e,"showButtonPanel"),s=this._get(e,"hideIfNoPrevNext"),a=this._get(e,"navigationAsDateFormat"),r=this._getNumberOfMonths(e),o=this._get(e,"showCurrentAtPos"),l=this._get(e,"stepMonths"),c=1!=r[0]||1!=r[1],h=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),u=this._getMinMaxDate(e,"min"),d=this._getMinMaxDate(e,"max"),f=e.drawMonth-o,p=e.drawYear;if(0>f&&(f+=12,p--),d){var g=this._daylightSavingAdjust(new Date(d.getFullYear(),d.getMonth()-r[0]*r[1]+1,d.getDate()));for(g=u&&u>g?u:g;this._daylightSavingAdjust(new Date(p,f,1))>g;)f--,0>f&&(f=11,p--)}e.drawMonth=f,e.drawYear=p;var m=this._get(e,"prevText");m=a?this.formatDate(m,this._daylightSavingAdjust(new Date(p,f-l,1)),this._getFormatConfig(e)):m;var v=this._canAdjustMonth(e,-1,p,f)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._adjustDate('#"+e.id+"', -"+l+", 'M');\""+' title="'+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"e":"w")+'">'+m+"</span></a>":s?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"e":"w")+'">'+m+"</span></a>",b=this._get(e,"nextText");b=a?this.formatDate(b,this._daylightSavingAdjust(new Date(p,f+l,1)),this._getFormatConfig(e)):b;var y=this._canAdjustMonth(e,1,p,f)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._adjustDate('#"+e.id+"', +"+l+", 'M');\""+' title="'+b+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"w":"e")+'">'+b+"</span></a>":s?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+b+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"w":"e")+'">'+b+"</span></a>",_=this._get(e,"currentText"),x=this._get(e,"gotoCurrent")&&e.currentDay?h:t;_=a?this.formatDate(_,x,this._getFormatConfig(e)):_;var w=e.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+dpuuid+'.datepicker._hideDatepicker();">'+this._get(e,"closeText")+"</button>",k=n?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(i?w:"")+(this._isInRange(e,x)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._gotoToday('#"+e.id+"');\""+">"+_+"</button>":"")+(i?"":w)+"</div>":"",C=parseInt(this._get(e,"firstDay"),10);C=isNaN(C)?0:C;var j=this._get(e,"showWeek"),S=this._get(e,"dayNames");this._get(e,"dayNamesShort");var T=this._get(e,"dayNamesMin"),I=this._get(e,"monthNames"),G=this._get(e,"monthNamesShort"),A=this._get(e,"beforeShowDay"),P=this._get(e,"showOtherMonths"),M=this._get(e,"selectOtherMonths");this._get(e,"calculateWeek")||this.iso8601Week;for(var D=this._getDefaultDate(e),O="",F=0;F<r[0];F++){var E="";this.maxRows=4;for(var H=0;H<r[1];H++){var N=this._daylightSavingAdjust(new Date(p,f,e.selectedDay)),L=" ui-corner-all",R="";if(c){if(R+='<div class="ui-datepicker-group',r[1]>1)switch(H){case 0:R+=" ui-datepicker-group-first",L=" ui-corner-"+(i?"right":"left");break;case r[1]-1:R+=" ui-datepicker-group-last",L=" ui-corner-"+(i?"left":"right");break;default:R+=" ui-datepicker-group-middle",L=""}R+='">'}R+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+L+'">'+(/all|left/.test(L)&&0==F?i?y:v:"")+(/all|right/.test(L)&&0==F?i?v:y:"")+this._generateMonthYearHeader(e,f,p,u,d,F>0||H>0,I,G)+'</div><table class="ui-datepicker-calendar"><thead>'+"<tr>";for(var z=j?'<th class="ui-datepicker-week-col">'+this._get(e,"weekHeader")+"</th>":"",W=0;7>W;W++){var B=(W+C)%7;z+="<th"+((W+C+6)%7>=5?' class="ui-datepicker-week-end"':"")+">"+'<span title="'+S[B]+'">'+T[B]+"</span></th>"}R+=z+"</tr></thead><tbody>";var q=this._getDaysInMonth(p,f);p==e.selectedYear&&f==e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,q));var K=(this._getFirstDayOfMonth(p,f)-C+7)%7,U=Math.ceil((K+q)/7),J=c?this.maxRows>U?this.maxRows:U:U;this.maxRows=J;for(var Y=this._daylightSavingAdjust(new Date(p,f,1-K)),V=0;J>V;V++){R+="<tr>";for(var X=j?'<td class="ui-datepicker-week-col">'+this._get(e,"calculateWeek")(Y)+"</td>":"",W=0;7>W;W++){var Q=A?A.apply(e.input?e.input[0]:null,[Y]):[!0,""],Z=Y.getMonth()!=f,et=Z&&!M||!Q[0]||u&&u>Y||d&&Y>d;X+='<td class="'+((W+C+6)%7>=5?" ui-datepicker-week-end":"")+(Z?" ui-datepicker-other-month":"")+(Y.getTime()==N.getTime()&&f==e.selectedMonth&&e._keyEvent||D.getTime()==Y.getTime()&&D.getTime()==N.getTime()?" "+this._dayOverClass:"")+(et?" "+this._unselectableClass+" ui-state-disabled":"")+(Z&&!P?"":" "+Q[1]+(Y.getTime()==h.getTime()?" "+this._currentClass:"")+(Y.getTime()==t.getTime()?" ui-datepicker-today":""))+'"'+(Z&&!P||!Q[2]?"":' title="'+Q[2]+'"')+(et?"":' onclick="DP_jQuery_'+dpuuid+".datepicker._selectDay('#"+e.id+"',"+Y.getMonth()+","+Y.getFullYear()+', this);return false;"')+">"+(Z&&!P?"&#xa0;":et?'<span class="ui-state-default">'+Y.getDate()+"</span>":'<a class="ui-state-default'+(Y.getTime()==t.getTime()?" ui-state-highlight":"")+(Y.getTime()==h.getTime()?" ui-state-active":"")+(Z?" ui-priority-secondary":"")+'" href="#">'+Y.getDate()+"</a>")+"</td>",Y.setDate(Y.getDate()+1),Y=this._daylightSavingAdjust(Y)}R+=X+"</tr>"}f++,f>11&&(f=0,p++),R+="</tbody></table>"+(c?"</div>"+(r[0]>0&&H==r[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),E+=R}O+=E}return O+=k+($.browser.msie&&parseInt($.browser.version,10)<7&&!e.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),e._keyEvent=!1,O},_generateMonthYearHeader:function(e,t,i,n,s,a,r,o){var l=this._get(e,"changeMonth"),c=this._get(e,"changeYear"),h=this._get(e,"showMonthAfterYear"),u='<div class="ui-datepicker-title">',d="";if(a||!l)d+='<span class="ui-datepicker-month">'+r[t]+"</span>";else{var f=n&&n.getFullYear()==i,p=s&&s.getFullYear()==i;d+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+e.id+"', this, 'M');\" "+">";
for(var g=0;12>g;g++)(!f||g>=n.getMonth())&&(!p||g<=s.getMonth())&&(d+='<option value="'+g+'"'+(g==t?' selected="selected"':"")+">"+o[g]+"</option>");d+="</select>"}if(h||(u+=d+(!a&&l&&c?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",a||!c)u+='<span class="ui-datepicker-year">'+i+"</span>";else{var m=this._get(e,"yearRange").split(":"),v=(new Date).getFullYear(),b=function(e){var t=e.match(/c[+-].*/)?i+parseInt(e.substring(1),10):e.match(/[+-].*/)?v+parseInt(e,10):parseInt(e,10);return isNaN(t)?v:t},y=b(m[0]),_=Math.max(y,b(m[1]||""));for(y=n?Math.max(y,n.getFullYear()):y,_=s?Math.min(_,s.getFullYear()):_,e.yearshtml+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+e.id+"', this, 'Y');\" "+">";_>=y;y++)e.yearshtml+='<option value="'+y+'"'+(y==i?' selected="selected"':"")+">"+y+"</option>";e.yearshtml+="</select>",u+=e.yearshtml,e.yearshtml=null}return u+=this._get(e,"yearSuffix"),h&&(u+=(!a&&l&&c?"":"&#xa0;")+d),u+="</div>"},_adjustInstDate:function(e,t,i){var n=e.drawYear+("Y"==i?t:0),s=e.drawMonth+("M"==i?t:0),a=Math.min(e.selectedDay,this._getDaysInMonth(n,s))+("D"==i?t:0),r=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(n,s,a)));e.selectedDay=r.getDate(),e.drawMonth=e.selectedMonth=r.getMonth(),e.drawYear=e.selectedYear=r.getFullYear(),("M"==i||"Y"==i)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max"),s=i&&i>t?i:t;return s=n&&s>n?n:s},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,n){var s=this._getNumberOfMonths(e),a=this._daylightSavingAdjust(new Date(i,n+(0>t?t:s[0]*s[1]),1));return 0>t&&a.setDate(this._getDaysInMonth(a.getFullYear(),a.getMonth())),this._isInRange(e,a)},_isInRange:function(e,t){var i=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max");return(!i||t.getTime()>=i.getTime())&&(!n||t.getTime()<=n.getTime())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,n){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var s=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(n,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),s,this._getFormatConfig(e))}}),$.fn.datepicker=function(e){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find("body").append($.datepicker.dpDiv),$.datepicker.initialized=!0);var t=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!=e&&"getDate"!=e&&"widget"!=e?"option"==e&&2==arguments.length&&"string"==typeof arguments[1]?$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this[0]].concat(t)):this.each(function(){"string"==typeof e?$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this].concat(t)):$.datepicker._attachDatepicker(this,e)}):$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this[0]].concat(t))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.8.18",window["DP_jQuery_"+dpuuid]=$}(jQuery),/*
 * jQuery UI Dialog 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Dialog
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *  jquery.ui.button.js
 *	jquery.ui.draggable.js
 *	jquery.ui.mouse.js
 *	jquery.ui.position.js
 *	jquery.ui.resizable.js
 */
function(e,t){var i="ui-dialog ui-widget ui-widget-content ui-corner-all ",n={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},s={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},a=e.attrFn||{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0,click:!0};e.widget("ui.dialog",{options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",collision:"fit",using:function(t){var i=e(this).css(t).offset().top;0>i&&e(this).css("top",t.top-i)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),"string"!=typeof this.originalTitle&&(this.originalTitle=""),this.options.title=this.options.title||this.originalTitle;var t=this,n=t.options,s=n.title||"&#160;",a=e.ui.dialog.getTitleId(t.element),r=(t.uiDialog=e("<div></div>")).appendTo(document.body).hide().addClass(i+n.dialogClass).css({zIndex:n.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(i){n.closeOnEscape&&!i.isDefaultPrevented()&&i.keyCode&&i.keyCode===e.ui.keyCode.ESCAPE&&(t.close(i),i.preventDefault())}).attr({role:"dialog","aria-labelledby":a}).mousedown(function(e){t.moveToTop(!1,e)}),o=(t.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(r),(t.uiDialogTitlebar=e("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(r)),l=e('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){l.addClass("ui-state-hover")},function(){l.removeClass("ui-state-hover")}).focus(function(){l.addClass("ui-state-focus")}).blur(function(){l.removeClass("ui-state-focus")}).click(function(e){return t.close(e),!1}).appendTo(o);(t.uiDialogTitlebarCloseText=e("<span></span>")).addClass("ui-icon ui-icon-closethick").text(n.closeText).appendTo(l),e("<span></span>").addClass("ui-dialog-title").attr("id",a).html(s).prependTo(o),e.isFunction(n.beforeclose)&&!e.isFunction(n.beforeClose)&&(n.beforeClose=n.beforeclose),o.find("*").add(o).disableSelection(),n.draggable&&e.fn.draggable&&t._makeDraggable(),n.resizable&&e.fn.resizable&&t._makeResizable(),t._createButtons(n.buttons),t._isOpen=!1,e.fn.bgiframe&&r.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){var e=this;return e.overlay&&e.overlay.destroy(),e.uiDialog.hide(),e.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),e.uiDialog.remove(),e.originalTitle&&e.element.attr("title",e.originalTitle),e},widget:function(){return this.uiDialog},close:function(t){var i,n,s=this;if(!1!==s._trigger("beforeClose",t))return s.overlay&&s.overlay.destroy(),s.uiDialog.unbind("keypress.ui-dialog"),s._isOpen=!1,s.options.hide?s.uiDialog.hide(s.options.hide,function(){s._trigger("close",t)}):(s.uiDialog.hide(),s._trigger("close",t)),e.ui.dialog.overlay.resize(),s.options.modal&&(i=0,e(".ui-dialog").each(function(){this!==s.uiDialog[0]&&(n=e(this).css("z-index"),isNaN(n)||(i=Math.max(i,n)))}),e.ui.dialog.maxZ=i),s},isOpen:function(){return this._isOpen},moveToTop:function(t,i){var n,s=this,a=s.options;return a.modal&&!t||!a.stack&&!a.modal?s._trigger("focus",i):(a.zIndex>e.ui.dialog.maxZ&&(e.ui.dialog.maxZ=a.zIndex),s.overlay&&(e.ui.dialog.maxZ+=1,s.overlay.$el.css("z-index",e.ui.dialog.overlay.maxZ=e.ui.dialog.maxZ)),n={scrollTop:s.element.scrollTop(),scrollLeft:s.element.scrollLeft()},e.ui.dialog.maxZ+=1,s.uiDialog.css("z-index",e.ui.dialog.maxZ),s.element.attr(n),s._trigger("focus",i),s)},open:function(){if(!this._isOpen){var t=this,i=t.options,n=t.uiDialog;return t.overlay=i.modal?new e.ui.dialog.overlay(t):null,t._size(),t._position(i.position),n.show(i.show),t.moveToTop(!0),i.modal&&n.bind("keydown.ui-dialog",function(t){if(t.keyCode===e.ui.keyCode.TAB){var i=e(":tabbable",this),n=i.filter(":first"),s=i.filter(":last");return t.target!==s[0]||t.shiftKey?t.target===n[0]&&t.shiftKey?(s.focus(1),!1):void 0:(n.focus(1),!1)}}),e(t.element.find(":tabbable").get().concat(n.find(".ui-dialog-buttonpane :tabbable").get().concat(n.get()))).eq(0).focus(),t._isOpen=!0,t._trigger("open"),t}},_createButtons:function(t){var i=this,n=!1,s=e("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),r=e("<div></div>").addClass("ui-dialog-buttonset").appendTo(s);i.uiDialog.find(".ui-dialog-buttonpane").remove(),"object"==typeof t&&null!==t&&e.each(t,function(){return!(n=!0)}),n&&(e.each(t,function(t,n){n=e.isFunction(n)?{click:n,text:t}:n;var s=e('<button type="button"></button>').click(function(){n.click.apply(i.element[0],arguments)}).appendTo(r);e.each(n,function(e,t){"click"!==e&&(e in a?s[e](t):s.attr(e,t))}),e.fn.button&&s.button()}),s.appendTo(i.uiDialog))},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i,n=this,s=n.options,a=e(document);n.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(a,r){i="auto"===s.height?"auto":e(this).height(),e(this).height(e(this).height()).addClass("ui-dialog-dragging"),n._trigger("dragStart",a,t(r))},drag:function(e,i){n._trigger("drag",e,t(i))},stop:function(r,o){s.position=[o.position.left-a.scrollLeft(),o.position.top-a.scrollTop()],e(this).removeClass("ui-dialog-dragging").height(i),n._trigger("dragStop",r,t(o)),e.ui.dialog.overlay.resize()}})},_makeResizable:function(i){function n(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}i=i===t?this.options.resizable:i;var s=this,a=s.options,r=s.uiDialog.css("position"),o="string"==typeof i?i:"n,e,s,w,se,sw,ne,nw";s.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:s.element,maxWidth:a.maxWidth,maxHeight:a.maxHeight,minWidth:a.minWidth,minHeight:s._minHeight(),handles:o,start:function(t,i){e(this).addClass("ui-dialog-resizing"),s._trigger("resizeStart",t,n(i))},resize:function(e,t){s._trigger("resize",e,n(t))},stop:function(t,i){e(this).removeClass("ui-dialog-resizing"),a.height=e(this).height(),a.width=e(this).width(),s._trigger("resizeStop",t,n(i)),e.ui.dialog.overlay.resize()}}).css("position",r).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(t){var i,n=[],s=[0,0];t?(("string"==typeof t||"object"==typeof t&&"0"in t)&&(n=t.split?t.split(" "):[t[0],t[1]],1===n.length&&(n[1]=n[0]),e.each(["left","top"],function(e,t){+n[e]===n[e]&&(s[e]=n[e],n[e]=t)}),t={my:n.join(" "),at:n.join(" "),offset:s.join(" ")}),t=e.extend({},e.ui.dialog.prototype.options.position,t)):t=e.ui.dialog.prototype.options.position,i=this.uiDialog.is(":visible"),i||this.uiDialog.show(),this.uiDialog.css({top:0,left:0}).position(e.extend({of:window},t)),i||this.uiDialog.hide()},_setOptions:function(t){var i=this,a={},r=!1;e.each(t,function(e,t){i._setOption(e,t),e in n&&(r=!0),e in s&&(a[e]=t)}),r&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",a)},_setOption:function(t,n){var s=this,a=s.uiDialog;switch(t){case"beforeclose":t="beforeClose";break;case"buttons":s._createButtons(n);break;case"closeText":s.uiDialogTitlebarCloseText.text(""+n);break;case"dialogClass":a.removeClass(s.options.dialogClass).addClass(i+n);break;case"disabled":n?a.addClass("ui-dialog-disabled"):a.removeClass("ui-dialog-disabled");break;case"draggable":var r=a.is(":data(draggable)");r&&!n&&a.draggable("destroy"),!r&&n&&s._makeDraggable();break;case"position":s._position(n);break;case"resizable":var o=a.is(":data(resizable)");o&&!n&&a.resizable("destroy"),o&&"string"==typeof n&&a.resizable("option","handles",n),o||n===!1||s._makeResizable(n);break;case"title":e(".ui-dialog-title",s.uiDialogTitlebar).html(""+(n||"&#160;"))}e.Widget.prototype._setOption.apply(s,arguments)},_size:function(){var t,i,n=this.options,s=this.uiDialog.is(":visible");if(this.element.show().css({width:"auto",minHeight:0,height:0}),n.minWidth>n.width&&(n.width=n.minWidth),t=this.uiDialog.css({height:"auto",width:n.width}).height(),i=Math.max(0,n.minHeight-t),"auto"===n.height)if(e.support.minHeight)this.element.css({minHeight:i,height:"auto"});else{this.uiDialog.show();var a=this.element.css("height","auto").height();s||this.uiDialog.hide(),this.element.height(Math.max(a,i))}else this.element.height(Math.max(n.height-t,0));this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),e.extend(e.ui.dialog,{version:"1.8.18",uuid:0,maxZ:0,getTitleId:function(e){var t=e.attr("id");return t||(this.uuid+=1,t=this.uuid),"ui-dialog-title-"+t},overlay:function(t){this.$el=e.ui.dialog.overlay.create(t)}}),e.extend(e.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:e.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(e){return e+".dialog-overlay"}).join(" "),create:function(t){0===this.instances.length&&(setTimeout(function(){e.ui.dialog.overlay.instances.length&&e(document).bind(e.ui.dialog.overlay.events,function(t){return e(t.target).zIndex()<e.ui.dialog.overlay.maxZ?!1:void 0})},1),e(document).bind("keydown.dialog-overlay",function(i){t.options.closeOnEscape&&!i.isDefaultPrevented()&&i.keyCode&&i.keyCode===e.ui.keyCode.ESCAPE&&(t.close(i),i.preventDefault())}),e(window).bind("resize.dialog-overlay",e.ui.dialog.overlay.resize));var i=(this.oldInstances.pop()||e("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});return e.fn.bgiframe&&i.bgiframe(),this.instances.push(i),i},destroy:function(t){var i=e.inArray(t,this.instances);-1!=i&&this.oldInstances.push(this.instances.splice(i,1)[0]),0===this.instances.length&&e([document,window]).unbind(".dialog-overlay"),t.remove();var n=0;e.each(this.instances,function(){n=Math.max(n,this.css("z-index"))}),this.maxZ=n},height:function(){var t,i;return e.browser.msie&&e.browser.version<7?(t=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),i=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),i>t?e(window).height()+"px":t+"px"):e(document).height()+"px"},width:function(){var t,i;return e.browser.msie?(t=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),i=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),i>t?e(window).width()+"px":t+"px"):e(document).width()+"px"},resize:function(){var t=e([]);e.each(e.ui.dialog.overlay.instances,function(){t=t.add(this)}),t.css({width:0,height:0}).css({width:e.ui.dialog.overlay.width(),height:e.ui.dialog.overlay.height()})}}),e.extend(e.ui.dialog.overlay.prototype,{destroy:function(){e.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),/*
 * jQuery UI Position 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Position
 */
function(e){e.ui=e.ui||{};var t=/left|center|right/,i=/top|center|bottom/,n="center",s={},a=e.fn.position,r=e.fn.offset;e.fn.position=function(r){if(!r||!r.of)return a.apply(this,arguments);r=e.extend({},r);var o,l,c,h=e(r.of),u=h[0],d=(r.collision||"flip").split(" "),f=r.offset?r.offset.split(" "):[0,0];return 9===u.nodeType?(o=h.width(),l=h.height(),c={top:0,left:0}):u.setTimeout?(o=h.width(),l=h.height(),c={top:h.scrollTop(),left:h.scrollLeft()}):u.preventDefault?(r.at="left top",o=l=0,c={top:r.of.pageY,left:r.of.pageX}):(o=h.outerWidth(),l=h.outerHeight(),c=h.offset()),e.each(["my","at"],function(){var e=(r[this]||"").split(" ");1===e.length&&(e=t.test(e[0])?e.concat([n]):i.test(e[0])?[n].concat(e):[n,n]),e[0]=t.test(e[0])?e[0]:n,e[1]=i.test(e[1])?e[1]:n,r[this]=e}),1===d.length&&(d[1]=d[0]),f[0]=parseInt(f[0],10)||0,1===f.length&&(f[1]=f[0]),f[1]=parseInt(f[1],10)||0,"right"===r.at[0]?c.left+=o:r.at[0]===n&&(c.left+=o/2),"bottom"===r.at[1]?c.top+=l:r.at[1]===n&&(c.top+=l/2),c.left+=f[0],c.top+=f[1],this.each(function(){var t,i=e(this),a=i.outerWidth(),h=i.outerHeight(),u=parseInt(e.curCSS(this,"marginLeft",!0))||0,p=parseInt(e.curCSS(this,"marginTop",!0))||0,g=a+u+(parseInt(e.curCSS(this,"marginRight",!0))||0),m=h+p+(parseInt(e.curCSS(this,"marginBottom",!0))||0),v=e.extend({},c);"right"===r.my[0]?v.left-=a:r.my[0]===n&&(v.left-=a/2),"bottom"===r.my[1]?v.top-=h:r.my[1]===n&&(v.top-=h/2),s.fractions||(v.left=Math.round(v.left),v.top=Math.round(v.top)),t={left:v.left-u,top:v.top-p},e.each(["left","top"],function(i,n){e.ui.position[d[i]]&&e.ui.position[d[i]][n](v,{targetWidth:o,targetHeight:l,elemWidth:a,elemHeight:h,collisionPosition:t,collisionWidth:g,collisionHeight:m,offset:f,my:r.my,at:r.at})}),e.fn.bgiframe&&i.bgiframe(),i.offset(e.extend(v,{using:r.using}))})},e.ui.position={fit:{left:function(t,i){var n=e(window),s=i.collisionPosition.left+i.collisionWidth-n.width()-n.scrollLeft();t.left=s>0?t.left-s:Math.max(t.left-i.collisionPosition.left,t.left)},top:function(t,i){var n=e(window),s=i.collisionPosition.top+i.collisionHeight-n.height()-n.scrollTop();t.top=s>0?t.top-s:Math.max(t.top-i.collisionPosition.top,t.top)}},flip:{left:function(t,i){if(i.at[0]!==n){var s=e(window),a=i.collisionPosition.left+i.collisionWidth-s.width()-s.scrollLeft(),r="left"===i.my[0]?-i.elemWidth:"right"===i.my[0]?i.elemWidth:0,o="left"===i.at[0]?i.targetWidth:-i.targetWidth,l=-2*i.offset[0];t.left+=i.collisionPosition.left<0?r+o+l:a>0?r+o+l:0}},top:function(t,i){if(i.at[1]!==n){var s=e(window),a=i.collisionPosition.top+i.collisionHeight-s.height()-s.scrollTop(),r="top"===i.my[1]?-i.elemHeight:"bottom"===i.my[1]?i.elemHeight:0,o="top"===i.at[1]?i.targetHeight:-i.targetHeight,l=-2*i.offset[1];t.top+=i.collisionPosition.top<0?r+o+l:a>0?r+o+l:0}}}},e.offset.setOffset||(e.offset.setOffset=function(t,i){/static/.test(e.curCSS(t,"position"))&&(t.style.position="relative");var n=e(t),s=n.offset(),a=parseInt(e.curCSS(t,"top",!0),10)||0,r=parseInt(e.curCSS(t,"left",!0),10)||0,o={top:i.top-s.top+a,left:i.left-s.left+r};"using"in i?i.using.call(t,o):n.css(o)},e.fn.offset=function(t){var i=this[0];return i&&i.ownerDocument?t?this.each(function(){e.offset.setOffset(this,t)}):r.call(this):null}),function(){var t,i,n,a,r,o=document.getElementsByTagName("body")[0],l=document.createElement("div");t=document.createElement(o?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&e.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(var c in n)t.style[c]=n[c];t.appendChild(l),i=o||document.documentElement,i.insertBefore(t,i.firstChild),l.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;",a=e(l).offset(function(e,t){return t}).offset(),t.innerHTML="",i.removeChild(t),r=a.top+a.left+(o?2e3:0),s.fractions=r>21&&22>r}()}(jQuery),/*
 * jQuery UI Progressbar 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Progressbar
 *
 * Depends:
 *   jquery.ui.core.js
 *   jquery.ui.widget.js
 */
function(e,t){e.widget("ui.progressbar",{options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove(),e.Widget.prototype.destroy.apply(this,arguments)},value:function(e){return e===t?this._value():(this._setOption("value",e),this)},_setOption:function(t,i){"value"===t&&(this.options.value=i,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),e.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var e=this.options.value;return"number"!=typeof e&&(e=0),Math.min(this.options.max,Math.max(this.min,e))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var e=this.value(),t=this._percentage();this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),this.valueDiv.toggle(e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(t.toFixed(0)+"%"),this.element.attr("aria-valuenow",e)}}),e.extend(e.ui.progressbar,{version:"1.8.18"})}(jQuery),/*
 * jQuery UI Slider 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Slider
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(e){var t=5;e.widget("ui.slider",e.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var i=this,n=this.options,s=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),a="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",r=n.values&&n.values.length||1,o=[];this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"+(n.disabled?" ui-slider-disabled ui-disabled":"")),this.range=e([]),n.range&&(n.range===!0&&(n.values||(n.values=[this._valueMin(),this._valueMin()]),n.values.length&&2!==n.values.length&&(n.values=[n.values[0],n.values[0]])),this.range=e("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+("min"===n.range||"max"===n.range?" ui-slider-range-"+n.range:"")));for(var l=s.length;r>l;l+=1)o.push(a);this.handles=s.add(e(o.join("")).appendTo(i.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(e){e.preventDefault()}).hover(function(){n.disabled||e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")}).focus(function(){n.disabled?e(this).blur():(e(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),e(this).addClass("ui-state-focus"))}).blur(function(){e(this).removeClass("ui-state-focus")}),this.handles.each(function(t){e(this).data("index.ui-slider-handle",t)}),this.handles.keydown(function(n){var s,a,r,o,l=e(this).data("index.ui-slider-handle");if(!i.options.disabled){switch(n.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(n.preventDefault(),!i._keySliding&&(i._keySliding=!0,e(this).addClass("ui-state-active"),s=i._start(n,l),s===!1))return}switch(o=i.options.step,a=r=i.options.values&&i.options.values.length?i.values(l):i.value(),n.keyCode){case e.ui.keyCode.HOME:r=i._valueMin();break;case e.ui.keyCode.END:r=i._valueMax();break;case e.ui.keyCode.PAGE_UP:r=i._trimAlignValue(a+(i._valueMax()-i._valueMin())/t);break;case e.ui.keyCode.PAGE_DOWN:r=i._trimAlignValue(a-(i._valueMax()-i._valueMin())/t);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(a===i._valueMax())return;r=i._trimAlignValue(a+o);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(a===i._valueMin())return;r=i._trimAlignValue(a-o)}i._slide(n,l,r)}}).keyup(function(t){var n=e(this).data("index.ui-slider-handle");i._keySliding&&(i._keySliding=!1,i._stop(t,n),i._change(t,n),e(this).removeClass("ui-state-active"))}),this._refreshValue(),this._animateOff=!1},destroy:function(){return this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy(),this},_mouseCapture:function(t){var i,n,s,a,r,o,l,c,h,u=this.options;return u.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(i),s=this._valueMax()-this._valueMin()+1,r=this,this.handles.each(function(t){var i=Math.abs(n-r.values(t));s>i&&(s=i,a=e(this),o=t)}),u.range===!0&&this.values(1)===u.min&&(o+=1,a=e(this.handles[o])),l=this._start(t,o),l===!1?!1:(this._mouseSliding=!0,r._handleIndex=o,a.addClass("ui-state-active").focus(),c=a.offset(),h=!e(t.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=h?{left:0,top:0}:{left:t.pageX-c.left-a.width()/2,top:t.pageY-c.top-a.height()/2-(parseInt(a.css("borderTopWidth"),10)||0)-(parseInt(a.css("borderBottomWidth"),10)||0)+(parseInt(a.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,o,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,n,s,a;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/t,n>1&&(n=1),0>n&&(n=0),"vertical"===this.orientation&&(n=1-n),s=this._valueMax()-this._valueMin(),a=this._valueMin()+n*s,this._trimAlignValue(a)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var n,s,a;this.options.values&&this.options.values.length?(n=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&i>n||1===t&&n>i)&&(i=n),i!==this.values(t)&&(s=this.values(),s[t]=i,a=this._trigger("slide",e,{handle:this.handles[t],value:i,values:s}),n=this.values(t?0:1),a!==!1&&this.values(t,i,!0))):i!==this.value()&&(a=this._trigger("slide",e,{handle:this.handles[t],value:i}),a!==!1&&this.value(i))},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(t,i){var n,s,a;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),this._change(null,t),void 0;if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(n=this.options.values,s=arguments[0],a=0;a<n.length;a+=1)n[a]=this._trimAlignValue(s[a]),this._change(null,a);this._refreshValue()},_setOption:function(t,i){var n,s=0;switch(e.isArray(this.options.values)&&(s=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments),t){case"disabled":i?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.propAttr("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;s>n;n+=1)this._change(null,n);this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,n;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,n=e-i;return 2*Math.abs(i)>=t&&(n+=i>0?t:-t),parseFloat(n.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,i,n,s,a,r=this.options.range,o=this.options,l=this,c=this._animateOff?!1:o.animate,h={};this.options.values&&this.options.values.length?this.handles.each(function(n){t=100*((l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())),h["horizontal"===l.orientation?"left":"bottom"]=t+"%",e(this).stop(1,1)[c?"animate":"css"](h,o.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[c?"animate":"css"]({left:t+"%"},o.animate),1===n&&l.range[c?"animate":"css"]({width:t-i+"%"},{queue:!1,duration:o.animate})):(0===n&&l.range.stop(1,1)[c?"animate":"css"]({bottom:t+"%"},o.animate),1===n&&l.range[c?"animate":"css"]({height:t-i+"%"},{queue:!1,duration:o.animate}))),i=t}):(n=this.value(),s=this._valueMin(),a=this._valueMax(),t=a!==s?100*((n-s)/(a-s)):0,h["horizontal"===l.orientation?"left":"bottom"]=t+"%",this.handle.stop(1,1)[c?"animate":"css"](h,o.animate),"min"===r&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:t+"%"},o.animate),"max"===r&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-t+"%"},{queue:!1,duration:o.animate}),"min"===r&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:t+"%"},o.animate),"max"===r&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-t+"%"},{queue:!1,duration:o.animate}))}}),e.extend(e.ui.slider,{version:"1.8.18"})}(jQuery),/*
 * jQuery UI Tabs 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Tabs
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */
function(e,i){function n(){return++a}function s(){return++r}var a=0,r=0;e.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(!0)},_setOption:function(e,t){if("selected"==e){if(this.options.collapsible&&t==this.options.selected)return;this.select(t)}else this.options[e]=t,this._tabify()},_tabId:function(e){return e.title&&e.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+n()},_sanitizeSelector:function(e){return e.replace(/:/g,"\\:")},_cookie:function(){var t=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+s());return e.cookie.apply(null,[t].concat(e.makeArray(arguments)))},_ui:function(e,t){return{tab:e,panel:t,index:this.anchors.index(e)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var t=e(this);t.html(t.data("label.tabs")).removeData("label.tabs")})},_tabify:function(t){function n(t,i){t.css("display",""),!e.support.opacity&&i.opacity&&t[0].style.removeAttribute("filter")}var s=this,a=this.options,r=/^#.+/;this.list=this.element.find("ol,ul").eq(0),this.lis=e(" > li:has(a[href])",this.list),this.anchors=this.lis.map(function(){return e("a",this)[0]}),this.panels=e([]),this.anchors.each(function(t,i){var n,o=e(i).attr("href"),l=o.split("#")[0];if(l&&(l===location.toString().split("#")[0]||(n=e("base")[0])&&l===n.href)&&(o=i.hash,i.href=o),r.test(o))s.panels=s.panels.add(s.element.find(s._sanitizeSelector(o)));else if(o&&"#"!==o){e.data(i,"href.tabs",o),e.data(i,"load.tabs",o.replace(/#.*$/,""));var c=s._tabId(i);i.href="#"+c;var h=s.element.find("#"+c);h.length||(h=e(a.panelTemplate).attr("id",c).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(s.panels[t-1]||s.list),h.data("destroy.tabs",!0)),s.panels=s.panels.add(h)}else a.disabled.push(t)}),t?(this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),a.selected===i?(location.hash&&this.anchors.each(function(e,t){return t.hash==location.hash?(a.selected=e,!1):void 0}),"number"!=typeof a.selected&&a.cookie&&(a.selected=parseInt(s._cookie(),10)),"number"!=typeof a.selected&&this.lis.filter(".ui-tabs-selected").length&&(a.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))),a.selected=a.selected||(this.lis.length?0:-1)):null===a.selected&&(a.selected=-1),a.selected=a.selected>=0&&this.anchors[a.selected]||a.selected<0?a.selected:0,a.disabled=e.unique(a.disabled.concat(e.map(this.lis.filter(".ui-state-disabled"),function(e){return s.lis.index(e)}))).sort(),-1!=e.inArray(a.selected,a.disabled)&&a.disabled.splice(e.inArray(a.selected,a.disabled),1),this.panels.addClass("ui-tabs-hide"),this.lis.removeClass("ui-tabs-selected ui-state-active"),a.selected>=0&&this.anchors.length&&(s.element.find(s._sanitizeSelector(s.anchors[a.selected].hash)).removeClass("ui-tabs-hide"),this.lis.eq(a.selected).addClass("ui-tabs-selected ui-state-active"),s.element.queue("tabs",function(){s._trigger("show",null,s._ui(s.anchors[a.selected],s.element.find(s._sanitizeSelector(s.anchors[a.selected].hash))[0]))}),this.load(a.selected)),e(window).bind("unload",function(){s.lis.add(s.anchors).unbind(".tabs"),s.lis=s.anchors=s.panels=null})):a.selected=this.lis.index(this.lis.filter(".ui-tabs-selected")),this.element[a.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible"),a.cookie&&this._cookie(a.selected,a.cookie);for(var o,l=0;o=this.lis[l];l++)e(o)[-1==e.inArray(l,a.disabled)||e(o).hasClass("ui-tabs-selected")?"removeClass":"addClass"]("ui-state-disabled");if(a.cache===!1&&this.anchors.removeData("cache.tabs"),this.lis.add(this.anchors).unbind(".tabs"),"mouseover"!==a.event){var c=function(e,t){t.is(":not(.ui-state-disabled)")&&t.addClass("ui-state-"+e)},h=function(e,t){t.removeClass("ui-state-"+e)};this.lis.bind("mouseover.tabs",function(){c("hover",e(this))}),this.lis.bind("mouseout.tabs",function(){h("hover",e(this))}),this.anchors.bind("focus.tabs",function(){c("focus",e(this).closest("li"))}),this.anchors.bind("blur.tabs",function(){h("focus",e(this).closest("li"))})}var u,d;a.fx&&(e.isArray(a.fx)?(u=a.fx[0],d=a.fx[1]):u=d=a.fx);var f=d?function(t,i){e(t).closest("li").addClass("ui-tabs-selected ui-state-active"),i.hide().removeClass("ui-tabs-hide").animate(d,d.duration||"normal",function(){n(i,d),s._trigger("show",null,s._ui(t,i[0]))})}:function(t,i){e(t).closest("li").addClass("ui-tabs-selected ui-state-active"),i.removeClass("ui-tabs-hide"),s._trigger("show",null,s._ui(t,i[0]))},p=u?function(e,t){t.animate(u,u.duration||"normal",function(){s.lis.removeClass("ui-tabs-selected ui-state-active"),t.addClass("ui-tabs-hide"),n(t,u),s.element.dequeue("tabs")})}:function(e,t){s.lis.removeClass("ui-tabs-selected ui-state-active"),t.addClass("ui-tabs-hide"),s.element.dequeue("tabs")};this.anchors.bind(a.event+".tabs",function(){var t=this,i=e(t).closest("li"),n=s.panels.filter(":not(.ui-tabs-hide)"),r=s.element.find(s._sanitizeSelector(t.hash));if(i.hasClass("ui-tabs-selected")&&!a.collapsible||i.hasClass("ui-state-disabled")||i.hasClass("ui-state-processing")||s.panels.filter(":animated").length||s._trigger("select",null,s._ui(this,r[0]))===!1)return this.blur(),!1;if(a.selected=s.anchors.index(this),s.abort(),a.collapsible){if(i.hasClass("ui-tabs-selected"))return a.selected=-1,a.cookie&&s._cookie(a.selected,a.cookie),s.element.queue("tabs",function(){p(t,n)}).dequeue("tabs"),this.blur(),!1;if(!n.length)return a.cookie&&s._cookie(a.selected,a.cookie),s.element.queue("tabs",function(){f(t,r)}),s.load(s.anchors.index(this)),this.blur(),!1}if(a.cookie&&s._cookie(a.selected,a.cookie),!r.length)throw"jQuery UI Tabs: Mismatching fragment identifier.";n.length&&s.element.queue("tabs",function(){p(t,n)}),s.element.queue("tabs",function(){f(t,r)}),s.load(s.anchors.index(this)),e.browser.msie&&this.blur()}),this.anchors.bind("click.tabs",function(){return!1})},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$="+e+"]"))),e},destroy:function(){var t=this.options;return this.abort(),this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs"),this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.anchors.each(function(){var t=e.data(this,"href.tabs");t&&(this.href=t);var i=e(this).unbind(".tabs");e.each(["href","load","cache"],function(e,t){i.removeData(t+".tabs")})}),this.lis.unbind(".tabs").add(this.panels).each(function(){e.data(this,"destroy.tabs")?e(this).remove():e(this).removeClass(["ui-state-default","ui-corner-top","ui-tabs-selected","ui-state-active","ui-state-hover","ui-state-focus","ui-state-disabled","ui-tabs-panel","ui-widget-content","ui-corner-bottom","ui-tabs-hide"].join(" "))}),t.cookie&&this._cookie(null,t.cookie),this},add:function(t,n,s){s===i&&(s=this.anchors.length);var a=this,r=this.options,o=e(r.tabTemplate.replace(/#\{href\}/g,t).replace(/#\{label\}/g,n)),l=t.indexOf("#")?this._tabId(e("a",o)[0]):t.replace("#","");o.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0);var c=a.element.find("#"+l);return c.length||(c=e(r.panelTemplate).attr("id",l).data("destroy.tabs",!0)),c.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"),s>=this.lis.length?(o.appendTo(this.list),c.appendTo(this.list[0].parentNode)):(o.insertBefore(this.lis[s]),c.insertBefore(this.panels[s])),r.disabled=e.map(r.disabled,function(e){return e>=s?++e:e}),this._tabify(),1==this.anchors.length&&(r.selected=0,o.addClass("ui-tabs-selected ui-state-active"),c.removeClass("ui-tabs-hide"),this.element.queue("tabs",function(){a._trigger("show",null,a._ui(a.anchors[0],a.panels[0]))}),this.load(0)),this._trigger("add",null,this._ui(this.anchors[s],this.panels[s])),this},remove:function(t){t=this._getIndex(t);var i=this.options,n=this.lis.eq(t).remove(),s=this.panels.eq(t).remove();return n.hasClass("ui-tabs-selected")&&this.anchors.length>1&&this.select(t+(t+1<this.anchors.length?1:-1)),i.disabled=e.map(e.grep(i.disabled,function(e){return e!=t}),function(e){return e>=t?--e:e}),this._tabify(),this._trigger("remove",null,this._ui(n.find("a")[0],s[0])),this},enable:function(t){t=this._getIndex(t);var i=this.options;if(-1!=e.inArray(t,i.disabled))return this.lis.eq(t).removeClass("ui-state-disabled"),i.disabled=e.grep(i.disabled,function(e){return e!=t}),this._trigger("enable",null,this._ui(this.anchors[t],this.panels[t])),this},disable:function(e){e=this._getIndex(e);var t=this.options;return e!=t.selected&&(this.lis.eq(e).addClass("ui-state-disabled"),t.disabled.push(e),t.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[e],this.panels[e]))),this},select:function(e){if(e=this._getIndex(e),-1==e){if(!this.options.collapsible||-1==this.options.selected)return this;e=this.options.selected}return this.anchors.eq(e).trigger(this.options.event+".tabs"),this},load:function(t){t=this._getIndex(t);var i=this,n=this.options,s=this.anchors.eq(t)[0],a=e.data(s,"load.tabs");if(this.abort(),!a||0!==this.element.queue("tabs").length&&e.data(s,"cache.tabs"))return this.element.dequeue("tabs"),void 0;if(this.lis.eq(t).addClass("ui-state-processing"),n.spinner){var r=e("span",s);r.data("label.tabs",r.html()).html(n.spinner)}return this.xhr=e.ajax(e.extend({},n.ajaxOptions,{url:a,success:function(a,r){i.element.find(i._sanitizeSelector(s.hash)).html(a),i._cleanup(),n.cache&&e.data(s,"cache.tabs",!0),i._trigger("load",null,i._ui(i.anchors[t],i.panels[t]));try{n.ajaxOptions.success(a,r)}catch(o){}},error:function(e,a){i._cleanup(),i._trigger("load",null,i._ui(i.anchors[t],i.panels[t]));try{n.ajaxOptions.error(e,a,t,s)}catch(r){}}})),i.element.dequeue("tabs"),this},abort:function(){return this.element.queue([]),this.panels.stop(!1,!0),this.element.queue("tabs",this.element.queue("tabs").splice(-2,2)),this.xhr&&(this.xhr.abort(),delete this.xhr),this._cleanup(),this},url:function(e,t){return this.anchors.eq(e).removeData("cache.tabs").data("load.tabs",t),this},length:function(){return this.anchors.length}}),e.extend(e.ui.tabs,{version:"1.8.18"}),e.extend(e.ui.tabs.prototype,{rotation:null,rotate:function(e,i){var n=this,s=this.options,a=n._rotate||(n._rotate=function(t){clearTimeout(n.rotation),n.rotation=setTimeout(function(){var e=s.selected;n.select(++e<n.anchors.length?e:0)},e),t&&t.stopPropagation()}),r=n._unrotate||(n._unrotate=i?function(){t=s.selected,a()}:function(e){e.clientX&&n.rotate(null)});return e?(this.element.bind("tabsshow",a),this.anchors.bind(s.event+".tabs",r),a()):(clearTimeout(n.rotation),this.element.unbind("tabsshow",a),this.anchors.unbind(s.event+".tabs",r),delete this._rotate,delete this._unrotate),this}})}(jQuery),/**
 * jQuery Cookie plugin
 *
 * Copyright (c) 2010 Klaus Hartl (stilbuero.de)
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 */
jQuery.cookie=function(e,t,i){if(arguments.length>1&&"[object Object]"!==String(t)){if(i=jQuery.extend({},i),(null===t||void 0===t)&&(i.expires=-1),"number"==typeof i.expires){var n=i.expires,s=i.expires=new Date;s.setDate(s.getDate()+n)}return t=String(t),document.cookie=[encodeURIComponent(e),"=",i.raw?t:encodeURIComponent(t),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}i=t||{};var a,r=i.raw?function(e){return e}:decodeURIComponent;return(a=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie))?r(a[1]):null},/*
 * jQuery Plugin: Tokenizing Autocomplete Text Entry
 * Version 1.6.0
 *
 * Copyright (c) 2009 James Smith (http://loopj.com)
 * Licensed jointly under the GPL and MIT licenses,
 * choose which one suits your project best!
 *
 */
function(e){var t={method:"GET",contentType:"json",queryParam:"q",searchDelay:300,minChars:1,propertyToSearch:"name",jsonContainer:null,hintText:"Type in a search term",noResultsText:"No results",searchingText:"Searching...",deleteText:"&times;",animateDropdown:!0,tokenLimit:null,tokenDelimiter:",",preventDuplicates:!1,tokenValue:"id",prePopulate:null,processPrePopulate:!1,idPrefix:"token-input-",resultsFormatter:function(e){return"<li>"+e[this.propertyToSearch]+"</li>"},tokenFormatter:function(e){return"<li><p>"+e[this.propertyToSearch]+"</p></li>"},onResult:null,onAdd:null,onDelete:null,onReady:null},i={tokenList:"token-input-list",token:"token-input-token",tokenDelete:"token-input-delete-token",selectedToken:"token-input-selected-token",highlightedToken:"token-input-highlighted-token",dropdown:"token-input-dropdown",dropdownItem:"token-input-dropdown-item",dropdownItem2:"token-input-dropdown-item2",selectedDropdownItem:"token-input-selected-dropdown-item",inputToken:"token-input-input-token"},n={BEFORE:0,AFTER:1,END:2},s={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUMPAD_ENTER:108,COMMA:188},a={init:function(i,n){var s=e.extend({},t,n||{});return this.each(function(){e(this).data("tokenInputObject",new e.TokenList(this,i,s))})},clear:function(){return this.data("tokenInputObject").clear(),this},add:function(e){return this.data("tokenInputObject").add(e),this},remove:function(e){return this.data("tokenInputObject").remove(e),this},get:function(){return this.data("tokenInputObject").getTokens()}};e.fn.tokenInput=function(e){return a[e]?a[e].apply(this,Array.prototype.slice.call(arguments,1)):a.init.apply(this,arguments)},e.TokenList=function(t,a,r){function o(){return null!==r.tokenLimit&&M>=r.tokenLimit?(O.hide(),m(),void 0):void 0}function l(){if(A!==(A=O.val())){var e=A.replace(/&/g,"&amp;").replace(/\s/g," ").replace(/</g,"&lt;").replace(/>/g,"&gt;");z.html(e),O.width(z.width()+30)}}function c(t){var i=r.tokenFormatter(t);i=e(i).addClass(r.classes.token).insertBefore(L),e("<span>"+r.deleteText+"</span>").addClass(r.classes.tokenDelete).appendTo(i).click(function(){return p(e(this).parent()),F.change(),!1});var n={id:t.id};return n[r.propertyToSearch]=t[r.propertyToSearch],e.data(i.get(0),"tokeninput",t),P=P.slice(0,H).concat([n]).concat(P.slice(H)),H++,g(P,F),M+=1,null!==r.tokenLimit&&M>=r.tokenLimit&&(O.hide(),m()),i}function h(t){var i=r.onAdd;if(M>0&&r.preventDuplicates){var n=null;if($.children().each(function(){var i=e(this),s=e.data(i.get(0),"tokeninput");return s&&s.id===t.id?(n=i,!1):void 0}),n)return u(n),L.insertAfter(n),O.focus(),void 0}(null==r.tokenLimit||M<r.tokenLimit)&&(c(t),o()),O.val(""),m(),e.isFunction(i)&&i.call(F,t)}function u(e){e.addClass(r.classes.selectedToken),E=e.get(0),O.val(""),m()}function d(e,t){e.removeClass(r.classes.selectedToken),E=null,t===n.BEFORE?(L.insertBefore(e),H--):t===n.AFTER?(L.insertAfter(e),H++):(L.appendTo($),H=M),O.focus()}function f(t){var i=E;E&&d(e(E),n.END),i===t.get(0)?d(t,n.END):u(t)}function p(t){var i=e.data(t.get(0),"tokeninput"),n=r.onDelete,s=t.prevAll().length;s>H&&s--,t.remove(),E=null,O.focus(),P=P.slice(0,s).concat(P.slice(s+1)),H>s&&H--,g(P,F),M-=1,null!==r.tokenLimit&&O.show().val("").focus(),e.isFunction(n)&&n.call(F,i)}function g(t,i){var n=e.map(t,function(e){return e[r.tokenValue]});i.val(n.join(r.tokenDelimiter))}function m(){R.hide().empty(),N=null}function v(){R.css({position:"absolute",top:e($).offset().top+e($).outerHeight(),left:e($).offset().left,zindex:999}).show()}function b(){r.searchingText&&(R.html("<p>"+r.searchingText+"</p>"),v())}function y(){r.hintText&&(R.html("<p>"+r.hintText+"</p>"),v())}function _(e,t){return e.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+t+")(?![^<>]*>)(?![^&;]+;)","gi"),"<b>$1</b>")}function x(e,t,i){return e.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+t+")(?![^<>]*>)(?![^&;]+;)","g"),_(t,i))}function w(t,i){if(i&&i.length){R.empty();var n=e("<ul>").appendTo(R).mouseover(function(t){k(e(t.target).closest("li"))}).mousedown(function(t){return h(e(t.target).closest("li").data("tokeninput")),F.change(),!1}).hide();e.each(i,function(i,s){var a=r.resultsFormatter(s);a=x(a,s[r.propertyToSearch],t),a=e(a).appendTo(n),i%2?a.addClass(r.classes.dropdownItem):a.addClass(r.classes.dropdownItem2),0===i&&k(a),e.data(a.get(0),"tokeninput",s)}),v(),r.animateDropdown?n.slideDown("fast"):n.show()}else r.noResultsText&&(R.html("<p>"+r.noResultsText+"</p>"),v())}function k(t){t&&(N&&C(e(N)),t.addClass(r.classes.selectedDropdownItem),N=t.get(0))}function C(e){e.removeClass(r.classes.selectedDropdownItem),N=null}function j(){var t=O.val().toLowerCase();t&&t.length&&(E&&d(e(E),n.AFTER),t.length>=r.minChars?(b(),clearTimeout(G),G=setTimeout(function(){S(t)},r.searchDelay)):m())}function S(t){var i=t+T(),n=D.get(i);if(n)w(t,n);else if(r.url){var s=T(),a={};if(a.data={},s.indexOf("?")>-1){var o=s.split("?");a.url=o[0];var l=o[1].split("&");e.each(l,function(e,t){var i=t.split("=");a.data[i[0]]=i[1]})}else a.url=s;a.data[r.queryParam]=t,a.type=r.method,a.dataType=r.contentType,r.crossDomain&&(a.dataType="jsonp"),a.success=function(n){e.isFunction(r.onResult)&&(n=r.onResult.call(F,n)),D.add(i,r.jsonContainer?n[r.jsonContainer]:n),O.val().toLowerCase()===t&&w(t,r.jsonContainer?n[r.jsonContainer]:n)},e.ajax(a)}else if(r.local_data){var c=e.grep(r.local_data,function(e){return e[r.propertyToSearch].toLowerCase().indexOf(t.toLowerCase())>-1});e.isFunction(r.onResult)&&(c=r.onResult.call(F,c)),D.add(i,c),w(t,c)}}function T(){var e=r.url;return"function"==typeof r.url&&(e=r.url.call()),e}if("string"===e.type(a)||"function"===e.type(a)){r.url=a;var I=T();void 0===r.crossDomain&&(r.crossDomain=-1===I.indexOf("://")?!1:location.href.split(/\/+/g)[1]!==I.split(/\/+/g)[1])}else"object"==typeof a&&(r.local_data=a);r.classes?r.classes=e.extend({},i,r.classes):r.theme?(r.classes={},e.each(i,function(e,t){r.classes[e]=t+"-"+r.theme})):r.classes=i;var G,A,P=[],M=0,D=new e.TokenList.Cache,O=e('<input type="text"  autocomplete="off">').css({outline:"none"}).attr("id",r.idPrefix+t.id).focus(function(){(null===r.tokenLimit||r.tokenLimit!==M)&&y()}).blur(function(){m(),e(this).val("")}).bind("keyup keydown blur update",l).keydown(function(t){var i,a;switch(t.keyCode){case s.LEFT:case s.RIGHT:case s.UP:case s.DOWN:if(e(this).val()){var r=null;return r=t.keyCode===s.DOWN||t.keyCode===s.RIGHT?e(N).next():e(N).prev(),r.length&&k(r),!1}i=L.prev(),a=L.next(),i.length&&i.get(0)===E||a.length&&a.get(0)===E?t.keyCode===s.LEFT||t.keyCode===s.UP?d(e(E),n.BEFORE):d(e(E),n.AFTER):t.keyCode!==s.LEFT&&t.keyCode!==s.UP||!i.length?t.keyCode!==s.RIGHT&&t.keyCode!==s.DOWN||!a.length||u(e(a.get(0))):u(e(i.get(0)));break;case s.BACKSPACE:if(i=L.prev(),!e(this).val().length)return E?(p(e(E)),F.change()):i.length&&u(e(i.get(0))),!1;1===e(this).val().length?m():setTimeout(function(){j()},5);break;case s.TAB:case s.ENTER:case s.NUMPAD_ENTER:case s.COMMA:if(N)return h(e(N).data("tokeninput")),F.change(),!1;break;case s.ESCAPE:return m(),!0;default:String.fromCharCode(t.which)&&setTimeout(function(){j()},5)}}),F=e(t).hide().val("").focus(function(){O.focus()}).blur(function(){O.blur()}),E=null,H=0,N=null,$=e("<ul />").addClass(r.classes.tokenList).click(function(t){var i=e(t.target).closest("li");i&&i.get(0)&&e.data(i.get(0),"tokeninput")?f(i):(E&&d(e(E),n.END),O.focus())}).mouseover(function(t){var i=e(t.target).closest("li");i&&E!==this&&i.addClass(r.classes.highlightedToken)}).mouseout(function(t){var i=e(t.target).closest("li");i&&E!==this&&i.removeClass(r.classes.highlightedToken)}).insertBefore(F),L=e("<li />").addClass(r.classes.inputToken).appendTo($).append(O),R=e("<div>").addClass(r.classes.dropdown).appendTo("body").hide(),z=e("<tester/>").insertAfter(O).css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:O.css("fontSize"),fontFamily:O.css("fontFamily"),fontWeight:O.css("fontWeight"),letterSpacing:O.css("letterSpacing"),whiteSpace:"nowrap"});F.val("");var W=r.prePopulate||F.data("pre");r.processPrePopulate&&e.isFunction(r.onResult)&&(W=r.onResult.call(F,W)),W&&W.length&&e.each(W,function(e,t){c(t),o()}),e.isFunction(r.onReady)&&r.onReady.call(),this.clear=function(){$.children("li").each(function(){0===e(this).children("input").length&&p(e(this))})},this.add=function(e){h(e)},this.remove=function(t){$.children("li").each(function(){if(0===e(this).children("input").length){var i=e(this).data("tokeninput"),n=!0;for(var s in t)if(t[s]!==i[s]){n=!1;break}n&&p(e(this))}})},this.getTokens=function(){return P}},e.TokenList.Cache=function(t){var i=e.extend({max_size:500},t),n={},s=0,a=function(){n={},s=0};this.add=function(e,t){s>i.max_size&&a(),n[e]||(s+=1),n[e]=t},this.get=function(e){return n[e]}}}(jQuery),function(e){e.extend(e.fn,{delayedObserver:function(t,i,n){return this.each(function(){var s=e(this),a=n||{};s.data("oldval",s.val()).data("delay",i||.5).data("condition",a.condition||function(){return e(this).data("oldval")==e(this).val()}).data("callback",t)[a.event||"keyup"](function(){s.data("condition").apply(s)||(s.data("timer")&&clearTimeout(s.data("timer")),s.data("timer",setTimeout(function(){s.data("callback").apply(s)},1e3*s.data("delay"))),s.data("oldval",s.val()))})})}})}(jQuery),function(){if(!jQuery||!jQuery.jstree){var e=!1,t=!1,i=!1;!function(n){n.vakata={},n.vakata.css={get_css:function(e,t,i){e=e.toLowerCase();var n=i.cssRules||i.rules,s=0;do{if(n.length&&s>n.length+5)return!1;if(n[s].selectorText&&n[s].selectorText.toLowerCase()==e)return t===!0?(i.removeRule&&i.removeRule(s),i.deleteRule&&i.deleteRule(s),!0):n[s]}while(n[++s]);return!1},add_css:function(e,t){return n.jstree.css.get_css(e,!1,t)?!1:(t.insertRule?t.insertRule(e+" { }",0):t.addRule(e,null,0),n.vakata.css.get_css(e))},remove_css:function(e,t){return n.vakata.css.get_css(e,!0,t)},add_sheet:function(e){var t=!1,i=!0;if(e.str)return e.title&&(t=n("style[id='"+e.title+"-stylesheet']")[0]),t?i=!1:(t=document.createElement("style"),t.setAttribute("type","text/css"),e.title&&t.setAttribute("id",e.title+"-stylesheet")),t.styleSheet?i?(document.getElementsByTagName("head")[0].appendChild(t),t.styleSheet.cssText=e.str):t.styleSheet.cssText=t.styleSheet.cssText+" "+e.str:(t.appendChild(document.createTextNode(e.str)),document.getElementsByTagName("head")[0].appendChild(t)),t.sheet||t.styleSheet;if(e.url){if(!document.createStyleSheet)return t=document.createElement("link"),t.rel="stylesheet",t.type="text/css",t.media="all",t.href=e.url,document.getElementsByTagName("head")[0].appendChild(t),t.styleSheet;try{t=document.createStyleSheet(e.url)}catch(s){}}}};var s=[],a=-1,r={},o={};n.fn.jstree=function(e){var t="string"==typeof e,i=Array.prototype.slice.call(arguments,1),a=this;if(t){if("_"==e.substring(0,1))return a;this.each(function(){var t=s[n.data(this,"jstree-instance-id")],r=t&&n.isFunction(t[e])?t[e].apply(t,i):t;return"undefined"!=typeof r&&(0===e.indexOf("is_")||r!==!0&&r!==!1)?(a=r,!1):void 0})}else this.each(function(){var t=n.data(this,"jstree-instance-id"),a=[],o=e?n.extend({},!0,e):{},l=n(this),c=!1,h=[];a=a.concat(i),l.data("jstree")&&a.push(l.data("jstree")),o=a.length?n.extend.apply(null,[!0,o].concat(a)):o,"undefined"!=typeof t&&s[t]&&s[t].destroy(),t=parseInt(s.push({}),10)-1,n.data(this,"jstree-instance-id",t),o.plugins=n.isArray(o.plugins)?o.plugins:n.jstree.defaults.plugins.slice(),o.plugins.unshift("core"),o.plugins=o.plugins.sort().join(",,").replace(/(,|^)([^,]+)(,,\2)+(,|$)/g,"$1$2$4").replace(/,,+/g,",").replace(/,$/,"").split(","),c=n.extend(!0,{},n.jstree.defaults,o),c.plugins=o.plugins,n.each(r,function(e){-1===n.inArray(e,c.plugins)?(c[e]=null,delete c[e]):h.push(e)}),c.plugins=h,s[t]=new n.jstree._instance(t,n(this).addClass("jstree jstree-"+t),c),n.each(s[t]._get_settings().plugins,function(e,i){s[t].data[i]={}}),n.each(s[t]._get_settings().plugins,function(e,i){r[i]&&r[i].__init.apply(s[t])}),setTimeout(function(){s[t].init()},0)});return a},n.jstree={defaults:{plugins:[]},_focused:function(){return s[a]||null},_reference:function(e){if(s[e])return s[e];var t=n(e);return t.length||"string"!=typeof e||(t=n("#"+e)),t.length?s[t.closest(".jstree").data("jstree-instance-id")]||null:null},_instance:function(e,t,i){this.data={core:{}},this.get_settings=function(){return n.extend(!0,{},i)},this._get_settings=function(){return i},this.get_index=function(){return e},this.get_container=function(){return t},this.get_container_ul=function(){return t.children("ul:eq(0)")},this._set_settings=function(e){i=n.extend(!0,{},i,e)}},_fn:{},plugin:function(e,t){t=n.extend({},{__init:n.noop,__destroy:n.noop,_fn:{},defaults:!1},t),r[e]=t,n.jstree.defaults[e]=t.defaults,n.each(t._fn,function(t,i){i.plugin=e,i.old=n.jstree._fn[t],n.jstree._fn[t]=function(){var e,s=i,a=Array.prototype.slice.call(arguments),r=new n.Event("before.jstree"),o=!1;if(this.data.core.locked!==!0||"unlock"===t||"is_locked"===t){do{if(s&&s.plugin&&-1!==n.inArray(s.plugin,this._get_settings().plugins))break;s=s.old}while(s);if(s){if(0===t.indexOf("_"))e=s.apply(this,a);else{if(e=this.get_container().triggerHandler(r,{func:t,inst:this,args:a,plugin:s.plugin}),e===!1)return;"undefined"!=typeof e&&(a=e),e=s.apply(n.extend({},this,{__callback:function(e){this.get_container().triggerHandler(t+".jstree",{inst:this,args:a,rslt:e,rlbk:o})},__rollback:function(){return o=this.get_rollback()},__call_old:function(e){return s.old.apply(this,e?Array.prototype.slice.call(arguments,1):a)}}),a)}return e}}},n.jstree._fn[t].old=i.old,n.jstree._fn[t].plugin=e})},rollback:function(e){e&&(n.isArray(e)||(e=[e]),n.each(e,function(e,t){s[t.i].set_rollback(t.h,t.d)}))}},n.jstree._fn=n.jstree._instance.prototype={},n(function(){var s=navigator.userAgent.toLowerCase(),a=(s.match(/.+?(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1],r=".jstree ul, .jstree li { display:block; margin:0 0 0 0; padding:0 0 0 0; list-style-type:none; } .jstree li { display:block; min-height:18px; line-height:18px; white-space:nowrap; margin-left:18px; min-width:18px; } .jstree-rtl li { margin-left:0; margin-right:18px; } .jstree > ul > li { margin-left:0px; } .jstree-rtl > ul > li { margin-right:0px; } .jstree ins { display:inline-block; text-decoration:none; width:18px; height:18px; margin:0 0 0 0; padding:0; } .jstree a { display:inline-block; line-height:16px; height:16px; color:black; white-space:nowrap; text-decoration:none; padding:1px 2px; margin:0; } .jstree a:focus { outline: none; } .jstree a > ins { height:16px; width:16px; } .jstree a > .jstree-icon { margin-right:3px; } .jstree-rtl a > .jstree-icon { margin-left:3px; margin-right:0; } li.jstree-open > ul { display:block; } li.jstree-closed > ul { display:none; } ";if(/msie/.test(s)&&6==parseInt(a,10)){e=!0;try{document.execCommand("BackgroundImageCache",!1,!0)}catch(o){}r+=".jstree li { height:18px; margin-left:0; margin-right:0; } .jstree li li { margin-left:18px; } .jstree-rtl li li { margin-left:0px; margin-right:18px; } li.jstree-open ul { display:block; } li.jstree-closed ul { display:none !important; } .jstree li a { display:inline; border-width:0 !important; padding:0px 2px !important; } .jstree li a ins { height:16px; width:16px; margin-right:3px; } .jstree-rtl li a ins { margin-right:0px; margin-left:3px; } "}/msie/.test(s)&&7==parseInt(a,10)&&(t=!0,r+=".jstree li a { border-width:0 !important; padding:0px 2px !important; } "),!/compatible/.test(s)&&/mozilla/.test(s)&&parseFloat(a,10)<1.9&&(i=!0,r+=".jstree ins { display:-moz-inline-box; } .jstree li { line-height:12px; } .jstree a { display:-moz-inline-box; } .jstree .jstree-no-icons .jstree-checkbox { display:-moz-inline-stack !important; } "),n.vakata.css.add_sheet({str:r,title:"jstree"})}),n.jstree.plugin("core",{__init:function(){this.data.core.locked=!1,this.data.core.to_open=this.get_settings().core.initially_open,this.data.core.to_load=this.get_settings().core.initially_load},defaults:{html_titles:!1,animation:500,initially_open:[],initially_load:[],open_parents:!0,notify_plugins:!0,rtl:!1,load_open:!1,strings:{loading:"Loading ...",new_node:"New node",multiple_selection:"Multiple selection"}},_fn:{init:function(){this.set_focus(),this._get_settings().core.rtl&&this.get_container().addClass("jstree-rtl").css("direction","rtl"),this.get_container().html("<ul><li class='jstree-last jstree-leaf'><ins>&#160;</ins><a class='jstree-loading' href='#'><ins class='jstree-icon'>&#160;</ins>"+this._get_string("loading")+"</a></li></ul>"),this.data.core.li_height=this.get_container_ul().find("li.jstree-closed, li.jstree-leaf").eq(0).height()||18,this.get_container().delegate("li > ins","click.jstree",n.proxy(function(e){var t=n(e.target);t.is("ins")&&e.pageY-t.offset().top<this.data.core.li_height&&this.toggle_node(t)},this)).bind("mousedown.jstree",n.proxy(function(){this.set_focus()},this)).bind("dblclick.jstree",function(){var e;if(document.selection&&document.selection.empty)document.selection.empty();else if(window.getSelection){e=window.getSelection();try{e.removeAllRanges(),e.collapse()}catch(t){}}}),this._get_settings().core.notify_plugins&&this.get_container().bind("load_node.jstree",n.proxy(function(e,t){var i=this._get_node(t.rslt.obj),s=this;-1===i&&(i=this.get_container_ul()),i.length&&i.find("li").each(function(){var e=n(this);e.data("jstree")&&n.each(e.data("jstree"),function(t,i){s.data[t]&&n.isFunction(s["_"+t+"_notify"])&&s["_"+t+"_notify"].call(s,e,i)})})},this)),this._get_settings().core.load_open&&this.get_container().bind("load_node.jstree",n.proxy(function(e,t){var i=this._get_node(t.rslt.obj),s=this;-1===i&&(i=this.get_container_ul()),i.length&&i.find("li.jstree-open:not(:has(ul))").each(function(){s.load_node(this,n.noop,n.noop)})},this)),this.__callback(),this.load_node(-1,function(){this.loaded(),this.reload_nodes()})},destroy:function(){var e,t=this.get_index(),i=this._get_settings(),o=this;if(n.each(i.plugins,function(e,t){try{r[t].__destroy.apply(o)}catch(i){}}),this.__callback(),this.is_focused())for(e in s)if(s.hasOwnProperty(e)&&e!=t){s[e].set_focus();break}t===a&&(a=-1),this.get_container().unbind(".jstree").undelegate(".jstree").removeData("jstree-instance-id").find("[class^='jstree']").andSelf().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/gi,"")}),n(document).unbind(".jstree-"+t).undelegate(".jstree-"+t),s[t]=null,delete s[t]},_core_notify:function(e,t){t.opened&&this.open_node(e,!1,!0)},lock:function(){this.data.core.locked=!0,this.get_container().children("ul").addClass("jstree-locked").css("opacity","0.7"),this.__callback({})},unlock:function(){this.data.core.locked=!1,this.get_container().children("ul").removeClass("jstree-locked").css("opacity","1"),this.__callback({})},is_locked:function(){return this.data.core.locked},save_opened:function(){var e=this;this.data.core.to_open=[],this.get_container_ul().find("li.jstree-open").each(function(){this.id&&e.data.core.to_open.push("#"+this.id.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:"))}),this.__callback(e.data.core.to_open)},save_loaded:function(){},reload_nodes:function(e){var t=this,i=!0,s=[],a=[];e||(this.data.core.reopen=!1,this.data.core.refreshing=!0,this.data.core.to_open=n.map(n.makeArray(this.data.core.to_open),function(e){return"#"+e.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")}),this.data.core.to_load=n.map(n.makeArray(this.data.core.to_load),function(e){return"#"+e.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")}),this.data.core.to_open.length&&(this.data.core.to_load=this.data.core.to_load.concat(this.data.core.to_open))),this.data.core.to_load.length&&(n.each(this.data.core.to_load,function(e,t){return"#"==t?!0:(n(t).length?s.push(t):a.push(t),void 0)}),s.length&&(this.data.core.to_load=a,n.each(s,function(e,n){t._is_loaded(n)||(t.load_node(n,function(){t.reload_nodes(!0)},function(){t.reload_nodes(!0)}),i=!1)}))),this.data.core.to_open.length&&n.each(this.data.core.to_open,function(e,i){t.open_node(i,!1,!0)}),i&&(this.data.core.reopen&&clearTimeout(this.data.core.reopen),this.data.core.reopen=setTimeout(function(){t.__callback({},t)},50),this.data.core.refreshing=!1,this.reopen())},reopen:function(){var e=this;this.data.core.to_open.length&&n.each(this.data.core.to_open,function(t,i){e.open_node(i,!1,!0)}),this.__callback({})},refresh:function(e){var t=this;this.save_opened(),e||(e=-1),e=this._get_node(e),e||(e=-1),-1!==e?e.children("UL").remove():this.get_container_ul().empty(),this.load_node(e,function(){t.__callback({obj:e}),t.reload_nodes()})},loaded:function(){this.__callback()},set_focus:function(){if(!this.is_focused()){var e=n.jstree._focused();e&&e.unset_focus(),this.get_container().addClass("jstree-focused"),a=this.get_index(),this.__callback()}},is_focused:function(){return a==this.get_index()},unset_focus:function(){this.is_focused()&&(this.get_container().removeClass("jstree-focused"),a=-1),this.__callback()},_get_node:function(e){var t=n(e,this.get_container());return t.is(".jstree")||-1==e?-1:(t=t.closest("li",this.get_container()),t.length?t:!1)},_get_next:function(e,t){return e=this._get_node(e),-1===e?this.get_container().find("> ul > li:first-child"):e.length?t?e.nextAll("li").size()>0?e.nextAll("li:eq(0)"):!1:e.hasClass("jstree-open")?e.find("li:eq(0)"):e.nextAll("li").size()>0?e.nextAll("li:eq(0)"):e.parentsUntil(".jstree","li").next("li").eq(0):!1},_get_prev:function(e,t){if(e=this._get_node(e),-1===e)return this.get_container().find("> ul > li:last-child");if(!e.length)return!1;if(t)return e.prevAll("li").length>0?e.prevAll("li:eq(0)"):!1;if(e.prev("li").length){for(e=e.prev("li").eq(0);e.hasClass("jstree-open");)e=e.children("ul:eq(0)").children("li:last");return e}var i=e.parentsUntil(".jstree","li:eq(0)");return i.length?i:!1},_get_parent:function(e){if(e=this._get_node(e),-1==e||!e.length)return!1;var t=e.parentsUntil(".jstree","li:eq(0)");return t.length?t:-1},_get_children:function(e){return e=this._get_node(e),-1===e?this.get_container().children("ul:eq(0)").children("li"):e.length?e.children("ul:eq(0)").children("li"):!1},get_path:function(e,t){var i=[],n=this;return e=this._get_node(e),-1!==e&&e&&e.length?(e.parentsUntil(".jstree","li").each(function(){i.push(t?this.id:n.get_text(this))}),i.reverse(),i.push(t?e.attr("id"):this.get_text(e)),i):!1},_get_string:function(e){return this._get_settings().core.strings[e]||e},is_open:function(e){return e=this._get_node(e),e&&-1!==e&&e.hasClass("jstree-open")},is_closed:function(e){return e=this._get_node(e),e&&-1!==e&&e.hasClass("jstree-closed")},is_leaf:function(e){return e=this._get_node(e),e&&-1!==e&&e.hasClass("jstree-leaf")},correct_state:function(e){return e=this._get_node(e),e&&-1!==e?(e.removeClass("jstree-closed jstree-open").addClass("jstree-leaf").children("ul").remove(),this.__callback({obj:e}),void 0):!1},open_node:function(t,i,n){if(t=this._get_node(t),!t.length)return!1;if(!t.hasClass("jstree-closed"))return i&&i.call(),!1;var s=n||e?0:this._get_settings().core.animation,a=this;this._is_loaded(t)?(this._get_settings().core.open_parents&&t.parentsUntil(".jstree",".jstree-closed").each(function(){a.open_node(this,!1,!0)}),s&&t.children("ul").css("display","none"),t.removeClass("jstree-closed").addClass("jstree-open").children("a").removeClass("jstree-loading"),s?t.children("ul").stop(!0,!0).slideDown(s,function(){this.style.display="",a.after_open(t)}):a.after_open(t),this.__callback({obj:t}),i&&i.call()):(t.children("a").addClass("jstree-loading"),this.load_node(t,function(){a.open_node(t,i,n)},i))},after_open:function(e){this.__callback({obj:e})},close_node:function(t,i){t=this._get_node(t);var n=i||e?0:this._get_settings().core.animation,s=this;return t.length&&t.hasClass("jstree-open")?(n&&t.children("ul").attr("style","display:block !important"),t.removeClass("jstree-open").addClass("jstree-closed"),n?t.children("ul").stop(!0,!0).slideUp(n,function(){this.style.display="",s.after_close(t)}):s.after_close(t),this.__callback({obj:t}),void 0):!1},after_close:function(e){this.__callback({obj:e})},toggle_node:function(e){return e=this._get_node(e),e.hasClass("jstree-closed")?this.open_node(e):e.hasClass("jstree-open")?this.close_node(e):void 0},open_all:function(e,t,i){e=e?this._get_node(e):-1,e&&-1!==e||(e=this.get_container_ul()),i?e=e.find("li.jstree-closed"):(i=e,e=e.is(".jstree-closed")?e.find("li.jstree-closed").andSelf():e.find("li.jstree-closed"));var n=this;e.each(function(){var e=this;n._is_loaded(this)?n.open_node(this,!1,!t):n.open_node(this,function(){n.open_all(e,t,i)},!t)}),0===i.find("li.jstree-closed").length&&this.__callback({obj:i})},close_all:function(e,t){var i=this;e=e?this._get_node(e):this.get_container(),e&&-1!==e||(e=this.get_container_ul()),e.find("li.jstree-open").andSelf().each(function(){i.close_node(this,!t)}),this.__callback({obj:e})},clean_node:function(e){e=e&&-1!=e?n(e):this.get_container_ul(),e=e.is("li")?e.find("li").andSelf():e.find("li"),e.removeClass("jstree-last").filter("li:last-child").addClass("jstree-last").end().filter(":has(li)").not(".jstree-open").removeClass("jstree-leaf").addClass("jstree-closed"),e.not(".jstree-open, .jstree-closed").addClass("jstree-leaf").children("ul").remove(),this.__callback({obj:e})},get_rollback:function(){return this.__callback(),{i:this.get_index(),h:this.get_container().children("ul").clone(!0),d:this.data}},set_rollback:function(e,t){this.get_container().empty().append(e),this.data=t,this.__callback()},load_node:function(e){this.__callback({obj:e})},_is_loaded:function(){return!0},create_node:function(e,t,i,s,a){e=this._get_node(e),t="undefined"==typeof t?"last":t;var r,o=n("<li />"),l=this._get_settings().core;if(-1!==e&&!e.length)return!1;if(!a&&!this._is_loaded(e))return this.load_node(e,function(){this.create_node(e,t,i,s,!0)}),!1;switch(this.__rollback(),"string"==typeof i&&(i={data:i}),i||(i={}),i.attr&&o.attr(i.attr),i.metadata&&o.data(i.metadata),i.state&&o.addClass("jstree-"+i.state),i.data||(i.data=this._get_string("new_node")),n.isArray(i.data)||(r=i.data,i.data=[],i.data.push(r)),n.each(i.data,function(e,t){r=n("<a />"),n.isFunction(t)&&(t=t.call(this,i)),"string"==typeof t?r.attr("href","#")[l.html_titles?"html":"text"](t):(t.attr||(t.attr={}),t.attr.href||(t.attr.href="#"),r.attr(t.attr)[l.html_titles?"html":"text"](t.title),t.language&&r.addClass(t.language)),r.prepend("<ins class='jstree-icon'>&#160;</ins>"),t.icon&&(-1===t.icon.indexOf("/")?r.children("ins").addClass(t.icon):r.children("ins").css("background","url('"+t.icon+"') center center no-repeat")),o.append(r)}),o.prepend("<ins class='jstree-icon'>&#160;</ins>"),-1===e&&(e=this.get_container(),"before"===t&&(t="first"),"after"===t&&(t="last")),t){case"before":e.before(o),r=this._get_parent(e);break;case"after":e.after(o),r=this._get_parent(e);break;case"inside":case"first":e.children("ul").length||e.append("<ul />"),e.children("ul").prepend(o),r=e;break;case"last":e.children("ul").length||e.append("<ul />"),e.children("ul").append(o),r=e;break;default:e.children("ul").length||e.append("<ul />"),t||(t=0),r=e.children("ul").children("li").eq(t),r.length?r.before(o):e.children("ul").append(o),r=e}return(-1===r||r.get(0)===this.get_container().get(0))&&(r=-1),this.clean_node(r),this.__callback({obj:o,parent:r}),s&&s.call(this,o),o},get_text:function(e){if(e=this._get_node(e),!e.length)return!1;var t=this._get_settings().core.html_titles;return e=e.children("a:eq(0)"),t?(e=e.clone(),e.children("INS").remove(),e.html()):(e=e.contents().filter(function(){return 3==this.nodeType})[0],e.nodeValue)},set_text:function(e,t){if(e=this._get_node(e),!e.length)return!1;if(e=e.children("a:eq(0)"),this._get_settings().core.html_titles){var i=e.children("INS").clone();return e.html(t).prepend(i),this.__callback({obj:e,name:t}),!0}return e=e.contents().filter(function(){return 3==this.nodeType})[0],this.__callback({obj:e,name:t}),e.nodeValue=t},rename_node:function(e,t){e=this._get_node(e),this.__rollback(),e&&e.length&&this.set_text.apply(this,Array.prototype.slice.call(arguments))&&this.__callback({obj:e,name:t})},delete_node:function(e){if(e=this._get_node(e),!e.length)return!1;this.__rollback();var t=this._get_parent(e),i=n([]),s=this;return e.each(function(){i=i.add(s._get_prev(this))}),e=e.detach(),-1!==t&&0===t.find("> ul > li").length&&t.removeClass("jstree-open jstree-closed").addClass("jstree-leaf"),this.clean_node(t),this.__callback({obj:e,prev:i,parent:t}),e},prepare_move:function(e,t,i,s,a){var r={};if(r.ot=n.jstree._reference(e)||this,r.o=r.ot._get_node(e),r.r=-1===t?-1:this._get_node(t),r.p="undefined"==typeof i||i===!1?"last":i,!a&&o.o&&o.o[0]===r.o[0]&&o.r[0]===r.r[0]&&o.p===r.p)return this.__callback(o),s&&s.call(this,o),void 0;if(r.ot=n.jstree._reference(r.o)||this,r.rt=n.jstree._reference(r.r)||this,-1!==r.r&&r.r){if(!/^(before|after)$/.test(r.p)&&!this._is_loaded(r.r))return this.load_node(r.r,function(){this.prepare_move(e,t,i,s,!0)});switch(r.p){case"before":r.cp=r.r.index(),r.cr=r.rt._get_parent(r.r);break;case"after":r.cp=r.r.index()+1,r.cr=r.rt._get_parent(r.r);break;case"inside":case"first":r.cp=0,r.cr=r.r;break;case"last":r.cp=r.r.find(" > ul > li").length,r.cr=r.r;break;default:r.cp=r.p,r.cr=r.r}}else switch(r.cr=-1,r.p){case"first":case"before":case"inside":r.cp=0;break;case"after":case"last":r.cp=r.rt.get_container().find(" > ul > li").length;break;default:r.cp=r.p}r.np=-1==r.cr?r.rt.get_container():r.cr,r.op=r.ot._get_parent(r.o),r.cop=r.o.index(),-1===r.op&&(r.op=r.ot?r.ot.get_container():this.get_container()),!/^(before|after)$/.test(r.p)&&r.op&&r.np&&r.op[0]===r.np[0]&&r.o.index()<r.cp&&r.cp++,r.or=r.np.find(" > ul > li:nth-child("+(r.cp+1)+")"),o=r,this.__callback(o),s&&s.call(this,o)},check_move:function(){var e=o,t=!0,i=-1===e.r?this.get_container():e.r;return e&&e.o&&e.or[0]!==e.o[0]?e.op&&e.np&&e.op[0]===e.np[0]&&e.cp-1===e.o.index()?!1:(e.o.each(function(){return-1!==i.parentsUntil(".jstree","li").andSelf().index(this)?(t=!1,!1):void 0}),t):!1},move_node:function(e,t,i,s,a,r){if(!a)return this.prepare_move(e,t,i,function(e){this.move_node(e,!1,!1,s,!0,r)});if(s&&(o.cy=!0),!r&&!this.check_move())return!1;this.__rollback();var l=!1;s?(l=e.o.clone(!0),l.find("*[id]").andSelf().each(function(){this.id&&(this.id="copy_"+this.id)})):l=e.o,e.or.length?e.or.before(l):(e.np.children("ul").length||n("<ul />").appendTo(e.np),e.np.children("ul:eq(0)").append(l));try{e.ot.clean_node(e.op),e.rt.clean_node(e.np),e.op.find("> ul > li").length||e.op.removeClass("jstree-open jstree-closed").addClass("jstree-leaf").children("ul").remove()}catch(c){}return s&&(o.cy=!0,o.oc=l),this.__callback(o),o},_get_move:function(){return o}}})}(jQuery),function(e){var t,i,n;e(function(){/msie/.test(navigator.userAgent.toLowerCase())?(i=e('<textarea cols="10" rows="2"></textarea>').css({position:"absolute",top:-1e3,left:0}).appendTo("body"),n=e('<textarea cols="10" rows="2" style="overflow: hidden;"></textarea>').css({position:"absolute",top:-1e3,left:0}).appendTo("body"),t=i.width()-n.width(),i.add(n).remove()):(i=e("<div />").css({width:100,height:100,overflow:"auto",position:"absolute",top:-1e3,left:0}).prependTo("body").append("<div />").find("div").css({width:"100%",height:200}),t=100-i.width(),i.parent().remove())}),e.jstree.plugin("ui",{__init:function(){this.data.ui.selected=e(),this.data.ui.last_selected=!1,this.data.ui.hovered=null,this.data.ui.to_select=this.get_settings().ui.initially_select,this.get_container().delegate("a","click.jstree",e.proxy(function(t){t.preventDefault(),t.currentTarget.blur(),e(t.currentTarget).hasClass("jstree-loading")||this.select_node(t.currentTarget,!0,t)},this)).delegate("a","mouseenter.jstree",e.proxy(function(t){e(t.currentTarget).hasClass("jstree-loading")||this.hover_node(t.target)},this)).delegate("a","mouseleave.jstree",e.proxy(function(t){e(t.currentTarget).hasClass("jstree-loading")||this.dehover_node(t.target)},this)).bind("reopen.jstree",e.proxy(function(){this.reselect()},this)).bind("get_rollback.jstree",e.proxy(function(){this.dehover_node(),this.save_selected()},this)).bind("set_rollback.jstree",e.proxy(function(){this.reselect()},this)).bind("close_node.jstree",e.proxy(function(t,i){var n=this._get_settings().ui,s=this._get_node(i.rslt.obj),a=s&&s.length?s.children("ul").find("a.jstree-clicked"):e(),r=this;n.selected_parent_close!==!1&&a.length&&a.each(function(){r.deselect_node(this),"select_parent"===n.selected_parent_close&&r.select_node(s)})},this)).bind("delete_node.jstree",e.proxy(function(e,t){var i=this._get_settings().ui.select_prev_on_delete,n=this._get_node(t.rslt.obj),s=n&&n.length?n.find("a.jstree-clicked"):[],a=this;
s.each(function(){a.deselect_node(this)}),i&&s.length&&t.rslt.prev.each(function(){return this.parentNode?(a.select_node(this),!1):void 0})},this)).bind("move_node.jstree",e.proxy(function(e,t){t.rslt.cy&&t.rslt.oc.find("a.jstree-clicked").removeClass("jstree-clicked")},this))},defaults:{select_limit:-1,select_multiple_modifier:"ctrl",select_range_modifier:"shift",selected_parent_close:"select_parent",selected_parent_open:!0,select_prev_on_delete:!0,disable_selecting_children:!1,initially_select:[]},_fn:{_get_node:function(t,i){if("undefined"==typeof t||null===t)return i?this.data.ui.selected:this.data.ui.last_selected;var n=e(t,this.get_container());return n.is(".jstree")||-1==t?-1:(n=n.closest("li",this.get_container()),n.length?n:!1)},_ui_notify:function(e,t){t.selected&&this.select_node(e,!1)},save_selected:function(){var e=this;this.data.ui.to_select=[],this.data.ui.selected.each(function(){this.id&&e.data.ui.to_select.push("#"+this.id.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:"))}),this.__callback(this.data.ui.to_select)},reselect:function(){var t=this,i=this.data.ui.to_select;i=e.map(e.makeArray(i),function(e){return"#"+e.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")}),e.each(i,function(e,i){i&&"#"!==i&&t.select_node(i)}),this.data.ui.selected=this.data.ui.selected.filter(function(){return this.parentNode}),this.__callback()},refresh:function(){return this.save_selected(),this.__call_old()},hover_node:function(e){return e=this._get_node(e),e.length?(e.hasClass("jstree-hovered")||this.dehover_node(),this.data.ui.hovered=e.children("a").addClass("jstree-hovered").parent(),this._fix_scroll(e),this.__callback({obj:e}),void 0):!1},dehover_node:function(){var e,t=this.data.ui.hovered;return t&&t.length?(e=t.children("a").removeClass("jstree-hovered").parent(),this.data.ui.hovered[0]===e[0]&&(this.data.ui.hovered=null),this.__callback({obj:t}),void 0):!1},select_node:function(e,t,i){if(e=this._get_node(e),-1==e||!e||!e.length)return!1;var n=this._get_settings().ui,s="on"==n.select_multiple_modifier||n.select_multiple_modifier!==!1&&i&&i[n.select_multiple_modifier+"Key"],a=n.select_range_modifier!==!1&&i&&i[n.select_range_modifier+"Key"]&&this.data.ui.last_selected&&this.data.ui.last_selected[0]!==e[0]&&this.data.ui.last_selected.parent()[0]===e.parent()[0],r=this.is_selected(e),o=!0,l=this;if(t){if(n.disable_selecting_children&&s&&(e.parentsUntil(".jstree","li").children("a.jstree-clicked").length||e.children("ul").find("a.jstree-clicked:eq(0)").length))return!1;switch(o=!1,!0){case a:this.data.ui.last_selected.addClass("jstree-last-selected"),e=e[e.index()<this.data.ui.last_selected.index()?"nextUntil":"prevUntil"](".jstree-last-selected").andSelf(),-1==n.select_limit||e.length<n.select_limit?(this.data.ui.last_selected.removeClass("jstree-last-selected"),this.data.ui.selected.each(function(){this!==l.data.ui.last_selected[0]&&l.deselect_node(this)}),r=!1,o=!0):o=!1;break;case r&&!s:this.deselect_all(),r=!1,o=!0;break;case!r&&!s:(-1==n.select_limit||n.select_limit>0)&&(this.deselect_all(),o=!0);break;case r&&s:this.deselect_node(e);break;case!r&&s:(-1==n.select_limit||this.data.ui.selected.length+1<=n.select_limit)&&(o=!0)}}o&&!r&&(a||(this.data.ui.last_selected=e),e.children("a").addClass("jstree-clicked"),n.selected_parent_open&&e.parents(".jstree-closed").each(function(){l.open_node(this,!1,!0)}),this.data.ui.selected=this.data.ui.selected.add(e),this._fix_scroll(e.eq(0)),this.__callback({obj:e,e:i}))},_fix_scroll:function(e){var i,n=this.get_container()[0];if(n.scrollHeight>n.offsetHeight){if(e=this._get_node(e),!e||-1===e||!e.length||!e.is(":visible"))return;i=e.offset().top-this.get_container().offset().top,0>i&&(n.scrollTop=n.scrollTop+i-1),i+this.data.core.li_height+(n.scrollWidth>n.offsetWidth?t:0)>n.offsetHeight&&(n.scrollTop=n.scrollTop+(i-n.offsetHeight+this.data.core.li_height+1+(n.scrollWidth>n.offsetWidth?t:0)))}},deselect_node:function(e){return e=this._get_node(e),e.length?(this.is_selected(e)&&(e.children("a").removeClass("jstree-clicked"),this.data.ui.selected=this.data.ui.selected.not(e),this.data.ui.last_selected.get(0)===e.get(0)&&(this.data.ui.last_selected=this.data.ui.selected.eq(0)),this.__callback({obj:e})),void 0):!1},toggle_select:function(e){return e=this._get_node(e),e.length?(this.is_selected(e)?this.deselect_node(e):this.select_node(e),void 0):!1},is_selected:function(e){return this.data.ui.selected.index(this._get_node(e))>=0},get_selected:function(t){return t?e(t).find("a.jstree-clicked").parent():this.data.ui.selected},deselect_all:function(t){var i=t?e(t).find("a.jstree-clicked").parent():this.get_container().find("a.jstree-clicked").parent();i.children("a.jstree-clicked").removeClass("jstree-clicked"),this.data.ui.selected=e([]),this.data.ui.last_selected=!1,this.__callback({obj:i})}}}),e.jstree.defaults.plugins.push("ui")}(jQuery),function(e){e.jstree.plugin("crrm",{__init:function(){this.get_container().bind("move_node.jstree",e.proxy(function(e,t){if(this._get_settings().crrm.move.open_onmove){var i=this;t.rslt.np.parentsUntil(".jstree").andSelf().filter(".jstree-closed").each(function(){i.open_node(this,!1,!0)})}},this))},defaults:{input_width_limit:200,move:{always_copy:!1,open_onmove:!0,default_position:"last",check_move:function(){return!0}}},_fn:{_show_input:function(t,i){t=this._get_node(t);var n=this._get_settings().core.rtl,s=this._get_settings().crrm.input_width_limit,a=t.children("ins").width(),r=t.find("> a:visible > ins").width()*t.find("> a:visible > ins").length,o=this.get_text(t),l=e("<div />",{css:{position:"absolute",top:"-200px",left:n?"0px":"-1000px",visibility:"hidden"}}).appendTo("body"),c=t.css("position","relative").append(e("<input />",{value:o,"class":"jstree-rename-input",css:{padding:"0",border:"1px solid silver",position:"absolute",left:n?"auto":a+r+4+"px",right:n?a+r+4+"px":"auto",top:"0px",height:this.data.core.li_height-2+"px",lineHeight:this.data.core.li_height-2+"px",width:"150px"},blur:e.proxy(function(){var e=t.children(".jstree-rename-input"),n=e.val();""===n&&(n=o),l.remove(),e.remove(),this.set_text(t,o),this.rename_node(t,n),i.call(this,t,n,o),t.css("position","")},this),keyup:function(e){var t=e.keyCode||e.which;return 27==t?(this.value=o,this.blur(),void 0):13==t?(this.blur(),void 0):(c.width(Math.min(l.text("pW"+this.value).width(),s)),void 0)},keypress:function(e){var t=e.keyCode||e.which;return 13==t?!1:void 0}})).children(".jstree-rename-input");this.set_text(t,""),l.css({fontFamily:c.css("fontFamily")||"",fontSize:c.css("fontSize")||"",fontWeight:c.css("fontWeight")||"",fontStyle:c.css("fontStyle")||"",fontStretch:c.css("fontStretch")||"",fontVariant:c.css("fontVariant")||"",letterSpacing:c.css("letterSpacing")||"",wordSpacing:c.css("wordSpacing")||""}),c.width(Math.min(l.text("pW"+c[0].value).width(),s))[0].select()},rename:function(e){e=this._get_node(e),this.__rollback();var t=this.__callback;this._show_input(e,function(e,i,n){t.call(this,{obj:e,new_name:i,old_name:n})})},create:function(t,i,n,s,a){var r,o=this;return t=this._get_node(t),t||(t=-1),this.__rollback(),r=this.create_node(t,i,n,function(t){var i=this._get_parent(t),n=e(t).index();s&&s.call(this,t),i.length&&i.hasClass("jstree-closed")&&this.open_node(i,!1,!0),a?o.__callback({obj:t,name:this.get_text(t),parent:i,position:n}):this._show_input(t,function(e,t){o.__callback({obj:e,name:t,parent:i,position:n})})})},remove:function(e){e=this._get_node(e,!0);var t=this._get_parent(e),i=this._get_prev(e);this.__rollback(),e=this.delete_node(e),e!==!1&&this.__callback({obj:e,prev:i,parent:t})},check_move:function(){if(!this.__call_old())return!1;var e=this._get_settings().crrm.move;return e.check_move.call(this,this._get_move())?!0:!1},move_node:function(e,t,i,n,s,a){var r=this._get_settings().crrm.move;return s?((r.always_copy===!0||"multitree"===r.always_copy&&e.rt.get_index()!==e.ot.get_index())&&(n=!0),this.__call_old(!0,e,t,i,n,!0,a),void 0):("undefined"==typeof i&&(i=r.default_position),"inside"!==i||r.default_position.match(/^(before|after)$/)||(i=r.default_position),this.__call_old(!0,e,t,i,n,!1,a))},cut:function(e){return e=this._get_node(e,!0),e&&e.length?(this.data.crrm.cp_nodes=!1,this.data.crrm.ct_nodes=e,this.__callback({obj:e}),void 0):!1},copy:function(e){return e=this._get_node(e,!0),e&&e.length?(this.data.crrm.ct_nodes=!1,this.data.crrm.cp_nodes=e,this.__callback({obj:e}),void 0):!1},paste:function(e){if(e=this._get_node(e),!e||!e.length)return!1;var t=this.data.crrm.ct_nodes?this.data.crrm.ct_nodes:this.data.crrm.cp_nodes;return this.data.crrm.ct_nodes||this.data.crrm.cp_nodes?(this.data.crrm.ct_nodes&&(this.move_node(this.data.crrm.ct_nodes,e),this.data.crrm.ct_nodes=!1),this.data.crrm.cp_nodes&&this.move_node(this.data.crrm.cp_nodes,e,!1,!0),this.__callback({obj:e,nodes:t}),void 0):!1}}})}(jQuery),function(e){var t=[];e.jstree._themes=!1,e.jstree.plugin("themes",{__init:function(){this.get_container().bind("init.jstree",e.proxy(function(){var e=this._get_settings().themes;this.data.themes.dots=e.dots,this.data.themes.icons=e.icons,this.set_theme(e.theme,e.url)},this)).bind("loaded.jstree",e.proxy(function(){this.data.themes.dots?this.show_dots():this.hide_dots(),this.data.themes.icons?this.show_icons():this.hide_icons()},this))},defaults:{theme:"default",url:!1,dots:!0,icons:!0},_fn:{set_theme:function(i,n){return i?(n||(n=e.jstree._themes+i+"/style.css"),-1==e.inArray(n,t)&&(e.vakata.css.add_sheet({url:n}),t.push(n)),this.data.themes.theme!=i&&(this.get_container().removeClass("jstree-"+this.data.themes.theme),this.data.themes.theme=i),this.get_container().addClass("jstree-"+i),this.data.themes.dots?this.show_dots():this.hide_dots(),this.data.themes.icons?this.show_icons():this.hide_icons(),this.__callback(),void 0):!1},get_theme:function(){return this.data.themes.theme},show_dots:function(){this.data.themes.dots=!0,this.get_container().children("ul").removeClass("jstree-no-dots")},hide_dots:function(){this.data.themes.dots=!1,this.get_container().children("ul").addClass("jstree-no-dots")},toggle_dots:function(){this.data.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this.data.themes.icons=!0,this.get_container().children("ul").removeClass("jstree-no-icons")},hide_icons:function(){this.data.themes.icons=!1,this.get_container().children("ul").addClass("jstree-no-icons")},toggle_icons:function(){this.data.themes.icons?this.hide_icons():this.show_icons()}}}),e(function(){e.jstree._themes===!1&&e("script").each(function(){return this.src.toString().match(/jquery\.jstree[^\/]*?\.js(\?.*)?$/)?(e.jstree._themes=this.src.toString().replace(/jquery\.jstree[^\/]*?\.js(\?.*)?$/,"")+"themes/",!1):void 0}),e.jstree._themes===!1&&(e.jstree._themes="themes/")}),e.jstree.defaults.plugins.push("themes")}(jQuery),function(e){function t(t,i){var n,s=e.jstree._focused();return s&&s.data&&s.data.hotkeys&&s.data.hotkeys.enabled&&(n=s._get_settings().hotkeys[t])?n.call(s,i):void 0}var i=[];e.jstree.plugin("hotkeys",{__init:function(){if("undefined"==typeof e.hotkeys)throw"jsTree hotkeys: jQuery hotkeys plugin not included.";if(!this.data.ui)throw"jsTree hotkeys: jsTree UI plugin not included.";e.each(this._get_settings().hotkeys,function(n,s){s!==!1&&-1==e.inArray(n,i)&&(e(document).bind("keydown",n,function(e){return t(n,e)}),i.push(n))}),this.get_container().bind("lock.jstree",e.proxy(function(){this.data.hotkeys.enabled&&(this.data.hotkeys.enabled=!1,this.data.hotkeys.revert=!0)},this)).bind("unlock.jstree",e.proxy(function(){this.data.hotkeys.revert&&(this.data.hotkeys.enabled=!0)},this)),this.enable_hotkeys()},defaults:{up:function(){var e=this.data.ui.hovered||this.data.ui.last_selected||-1;return this.hover_node(this._get_prev(e)),!1},"ctrl+up":function(){var e=this.data.ui.hovered||this.data.ui.last_selected||-1;return this.hover_node(this._get_prev(e)),!1},"shift+up":function(){var e=this.data.ui.hovered||this.data.ui.last_selected||-1;return this.hover_node(this._get_prev(e)),!1},down:function(){var e=this.data.ui.hovered||this.data.ui.last_selected||-1;return this.hover_node(this._get_next(e)),!1},"ctrl+down":function(){var e=this.data.ui.hovered||this.data.ui.last_selected||-1;return this.hover_node(this._get_next(e)),!1},"shift+down":function(){var e=this.data.ui.hovered||this.data.ui.last_selected||-1;return this.hover_node(this._get_next(e)),!1},left:function(){var e=this.data.ui.hovered||this.data.ui.last_selected;return e&&(e.hasClass("jstree-open")?this.close_node(e):this.hover_node(this._get_prev(e))),!1},"ctrl+left":function(){var e=this.data.ui.hovered||this.data.ui.last_selected;return e&&(e.hasClass("jstree-open")?this.close_node(e):this.hover_node(this._get_prev(e))),!1},"shift+left":function(){var e=this.data.ui.hovered||this.data.ui.last_selected;return e&&(e.hasClass("jstree-open")?this.close_node(e):this.hover_node(this._get_prev(e))),!1},right:function(){var e=this.data.ui.hovered||this.data.ui.last_selected;return e&&e.length&&(e.hasClass("jstree-closed")?this.open_node(e):this.hover_node(this._get_next(e))),!1},"ctrl+right":function(){var e=this.data.ui.hovered||this.data.ui.last_selected;return e&&e.length&&(e.hasClass("jstree-closed")?this.open_node(e):this.hover_node(this._get_next(e))),!1},"shift+right":function(){var e=this.data.ui.hovered||this.data.ui.last_selected;return e&&e.length&&(e.hasClass("jstree-closed")?this.open_node(e):this.hover_node(this._get_next(e))),!1},space:function(){return this.data.ui.hovered&&this.data.ui.hovered.children("a:eq(0)").click(),!1},"ctrl+space":function(e){return e.type="click",this.data.ui.hovered&&this.data.ui.hovered.children("a:eq(0)").trigger(e),!1},"shift+space":function(e){return e.type="click",this.data.ui.hovered&&this.data.ui.hovered.children("a:eq(0)").trigger(e),!1},f2:function(){this.rename(this.data.ui.hovered||this.data.ui.last_selected)},del:function(){this.remove(this.data.ui.hovered||this._get_node(null))}},_fn:{enable_hotkeys:function(){this.data.hotkeys.enabled=!0},disable_hotkeys:function(){this.data.hotkeys.enabled=!1}}})}(jQuery),function(e){e.jstree.plugin("json_data",{__init:function(){var e=this._get_settings().json_data;e.progressive_unload&&this.get_container().bind("after_close.jstree",function(e,t){t.rslt.obj.children("ul").remove()})},defaults:{data:!1,ajax:!1,correct_state:!0,progressive_render:!1,progressive_unload:!1},_fn:{load_node:function(e,t,i){var n=this;this.load_node_json(e,function(){n.__callback({obj:n._get_node(e)}),t.call(this)},i)},_is_loaded:function(t){var i=this._get_settings().json_data;return t=this._get_node(t),-1==t||!t||!i.ajax&&!i.progressive_render&&!e.isFunction(i.data)||t.is(".jstree-open, .jstree-leaf")||t.children("ul").children("li").length>0},refresh:function(t){t=this._get_node(t);var i=this._get_settings().json_data;return t&&-1!==t&&i.progressive_unload&&(e.isFunction(i.data)||i.ajax)&&t.removeData("jstree-children"),this.__call_old()},load_node_json:function(t,i,n){var s,a=this.get_settings().json_data,r=function(){},o=function(){};if(t=this._get_node(t),t&&-1!==t&&(a.progressive_render||a.progressive_unload)&&!t.is(".jstree-open, .jstree-leaf")&&0===t.children("ul").children("li").length&&t.data("jstree-children"))return s=this._parse_json(t.data("jstree-children"),t),s&&(t.append(s),a.progressive_unload||t.removeData("jstree-children")),this.clean_node(t),i&&i.call(this),void 0;if(t&&-1!==t){if(t.data("jstree-is-loading"))return;t.data("jstree-is-loading",!0)}switch(!0){case!a.data&&!a.ajax:throw"Neither data nor ajax settings supplied.";case e.isFunction(a.data):a.data.call(this,t,e.proxy(function(e){e=this._parse_json(e,t),e?(-1!==t&&t?(t.append(e).children("a.jstree-loading").removeClass("jstree-loading"),t.removeData("jstree-is-loading")):this.get_container().children("ul").empty().append(e.children()),this.clean_node(t),i&&i.call(this)):(-1!==t&&t?(t.children("a.jstree-loading").removeClass("jstree-loading"),t.removeData("jstree-is-loading"),a.correct_state&&this.correct_state(t)):a.correct_state&&this.get_container().children("ul").empty(),n&&n.call(this))},this));break;case!!a.data&&!a.ajax||!!a.data&&!!a.ajax&&(!t||-1===t):t&&-1!=t||(s=this._parse_json(a.data,t),s?(this.get_container().children("ul").empty().append(s.children()),this.clean_node()):a.correct_state&&this.get_container().children("ul").empty()),i&&i.call(this);break;case!a.data&&!!a.ajax||!!a.data&&!!a.ajax&&t&&-1!==t:r=function(e,i,s){var r=this.get_settings().json_data.ajax.error;r&&r.call(this,e,i,s),-1!=t&&t.length?(t.children("a.jstree-loading").removeClass("jstree-loading"),t.removeData("jstree-is-loading"),"success"===i&&a.correct_state&&this.correct_state(t)):"success"===i&&a.correct_state&&this.get_container().children("ul").empty(),n&&n.call(this)},o=function(n,s,o){var l=this.get_settings().json_data.ajax.success;return l&&(n=l.call(this,n,s,o)||n),""===n||n&&n.toString&&""===n.toString().replace(/^[\s\n]+$/,"")||!e.isArray(n)&&!e.isPlainObject(n)?r.call(this,o,s,""):(n=this._parse_json(n,t),n?(-1!==t&&t?(t.append(n).children("a.jstree-loading").removeClass("jstree-loading"),t.removeData("jstree-is-loading")):this.get_container().children("ul").empty().append(n.children()),this.clean_node(t),i&&i.call(this)):-1!==t&&t?(t.children("a.jstree-loading").removeClass("jstree-loading"),t.removeData("jstree-is-loading"),a.correct_state&&(this.correct_state(t),i&&i.call(this))):a.correct_state&&(this.get_container().children("ul").empty(),i&&i.call(this)),void 0)},a.ajax.context=this,a.ajax.error=r,a.ajax.success=o,a.ajax.dataType||(a.ajax.dataType="json"),e.isFunction(a.ajax.url)&&(a.ajax.url=a.ajax.url.call(this,t)),e.isFunction(a.ajax.data)&&(a.ajax.data=a.ajax.data.call(this,t)),e.ajax(a.ajax)}},_parse_json:function(t,i,n){var s,a,r,o,l,c=!1,h=this._get_settings(),u=h.json_data,d=h.core.html_titles;if(!t)return c;if(u.progressive_unload&&i&&-1!==i&&i.data("jstree-children",c),e.isArray(t)){if(c=e(),!t.length)return!1;for(a=0,r=t.length;r>a;a++)s=this._parse_json(t[a],i,!0),s.length&&(c=c.add(s))}else{if("string"==typeof t&&(t={data:t}),!t.data&&""!==t.data)return c;c=e("<li />"),t.attr&&c.attr(t.attr),t.metadata&&c.data(t.metadata),t.state&&c.addClass("jstree-"+t.state),e.isArray(t.data)||(s=t.data,t.data=[],t.data.push(s)),e.each(t.data,function(i,n){s=e("<a />"),e.isFunction(n)&&(n=n.call(this,t)),"string"==typeof n?s.attr("href","#")[d?"html":"text"](n):(n.attr||(n.attr={}),n.attr.href||(n.attr.href="#"),s.attr(n.attr)[d?"html":"text"](n.title),n.language&&s.addClass(n.language)),s.prepend("<ins class='jstree-icon'>&#160;</ins>"),!n.icon&&t.icon&&(n.icon=t.icon),n.icon&&(-1===n.icon.indexOf("/")?s.children("ins").addClass(n.icon):s.children("ins").css("background","url('"+n.icon+"') center center no-repeat")),c.append(s)}),c.prepend("<ins class='jstree-icon'>&#160;</ins>"),t.children&&(u.progressive_render&&"open"!==t.state?c.addClass("jstree-closed").data("jstree-children",t.children):(u.progressive_unload&&c.data("jstree-children",t.children),e.isArray(t.children)&&t.children.length&&(s=this._parse_json(t.children,i,!0),s.length&&(l=e("<ul />"),l.append(s),c.append(l)))))}return n||(o=e("<ul />"),o.append(c),c=o),c},get_json:function(t,i,n,s){var a,r,o,l,c,h,u=[],d=this._get_settings(),f=this;return t=this._get_node(t),t&&-1!==t||(t=this.get_container().find("> ul > li")),i=e.isArray(i)?i:["id","class"],!s&&this.data.types&&i.push(d.types.type_attr),n=e.isArray(n)?n:[],t.each(function(){o=e(this),a={data:[]},i.length&&(a.attr={}),e.each(i,function(e,t){r=o.attr(t),r&&r.length&&r.replace(/jstree[^ ]*/gi,"").length&&(a.attr[t]=(" "+r).replace(/ jstree[^ ]*/gi,"").replace(/\s+$/gi," ").replace(/^ /,"").replace(/ $/,""))}),o.hasClass("jstree-open")&&(a.state="open"),o.hasClass("jstree-closed")&&(a.state="closed"),o.data()&&(a.metadata=o.data()),l=o.children("a"),l.each(function(){c=e(this),n.length||-1!==e.inArray("languages",d.plugins)||c.children("ins").get(0).style.backgroundImage.length||c.children("ins").get(0).className&&c.children("ins").get(0).className.replace(/jstree[^ ]*|$/gi,"").length?(h=!1,-1!==e.inArray("languages",d.plugins)&&e.isArray(d.languages)&&d.languages.length&&e.each(d.languages,function(e,t){return c.hasClass(t)?(h=t,!1):void 0}),r={attr:{},title:f.get_text(c,h)},e.each(n,function(e,t){r.attr[t]=(" "+(c.attr(t)||"")).replace(/ jstree[^ ]*/gi,"").replace(/\s+$/gi," ").replace(/^ /,"").replace(/ $/,"")}),-1!==e.inArray("languages",d.plugins)&&e.isArray(d.languages)&&d.languages.length&&e.each(d.languages,function(e,t){return c.hasClass(t)?(r.language=t,!0):void 0}),c.children("ins").get(0).className.replace(/jstree[^ ]*|$/gi,"").replace(/^\s+$/gi,"").length&&(r.icon=c.children("ins").get(0).className.replace(/jstree[^ ]*|$/gi,"").replace(/\s+$/gi," ").replace(/^ /,"").replace(/ $/,"")),c.children("ins").get(0).style.backgroundImage.length&&(r.icon=c.children("ins").get(0).style.backgroundImage.replace("url(","").replace(")",""))):r=f.get_text(c),l.length>1?a.data.push(r):a.data=r}),o=o.find("> ul > li"),o.length&&(a.children=f.get_json(o,i,n,!0)),u.push(a)}),u}}})}(jQuery),function(e){e.jstree.plugin("languages",{__init:function(){this._load_css()},defaults:[],_fn:{set_lang:function(t){var i=this._get_settings().languages,n=!1,s=".jstree-"+this.get_index()+" a";if(!e.isArray(i)||0===i.length)return!1;if(-1==e.inArray(t,i)){if(!i[t])return!1;t=i[t]}return t==this.data.languages.current_language?!0:(n=e.vakata.css.get_css(s+"."+this.data.languages.current_language,!1,this.data.languages.language_css),n!==!1&&(n.style.display="none"),n=e.vakata.css.get_css(s+"."+t,!1,this.data.languages.language_css),n!==!1&&(n.style.display=""),this.data.languages.current_language=t,this.__callback(t),!0)},get_lang:function(){return this.data.languages.current_language},_get_string:function(t,i){var n=this._get_settings().languages,s=this._get_settings().core.strings;return e.isArray(n)&&n.length&&(i=i&&-1!=e.inArray(i,n)?i:this.data.languages.current_language),s[i]&&s[i][t]?s[i][t]:s[t]?s[t]:t},get_text:function(t,i){if(t=this._get_node(t)||this.data.ui.last_selected,!t.size())return!1;var n=this._get_settings().languages,s=this._get_settings().core.html_titles;return e.isArray(n)&&n.length?(i=i&&-1!=e.inArray(i,n)?i:this.data.languages.current_language,t=t.children("a."+i)):t=t.children("a:eq(0)"),s?(t=t.clone(),t.children("INS").remove(),t.html()):(t=t.contents().filter(function(){return 3==this.nodeType})[0],t.nodeValue)},set_text:function(t,i,n){if(t=this._get_node(t)||this.data.ui.last_selected,!t.size())return!1;var s,a=this._get_settings().languages,r=this._get_settings().core.html_titles;return e.isArray(a)&&a.length?(n=n&&-1!=e.inArray(n,a)?n:this.data.languages.current_language,t=t.children("a."+n)):t=t.children("a:eq(0)"),r?(s=t.children("INS").clone(),t.html(i).prepend(s),this.__callback({obj:t,name:i,lang:n}),!0):(t=t.contents().filter(function(){return 3==this.nodeType})[0],this.__callback({obj:t,name:i,lang:n}),t.nodeValue=i)},_load_css:function(){var t,i=this._get_settings().languages,n="/* languages css */",s=".jstree-"+this.get_index()+" a";if(e.isArray(i)&&i.length){for(this.data.languages.current_language=i[0],t=0;t<i.length;t++)n+=s+"."+i[t]+" {",i[t]!=this.data.languages.current_language&&(n+=" display:none; "),n+=" } ";this.data.languages.language_css=e.vakata.css.add_sheet({str:n,title:"jstree-languages"})}},create_node:function(t,i,n,s){var a=this.__call_old(!0,t,i,n,function(t){var i,n=this._get_settings().languages,a=t.children("a");if(e.isArray(n)&&n.length){for(i=0;i<n.length;i++)a.is("."+n[i])||t.append(a.eq(0).clone().removeClass(n.join(" ")).addClass(n[i]));a.not("."+n.join(", .")).remove()}s&&s.call(this,t)});return a}}})}(jQuery),function(e){e.jstree.plugin("cookies",{__init:function(){if("undefined"==typeof e.cookie)throw"jsTree cookie: jQuery cookie plugin not included.";var t,i=this._get_settings().cookies;i.save_loaded&&(t=e.cookie(i.save_loaded),t&&t.length&&(this.data.core.to_load=t.split(","))),i.save_opened&&(t=e.cookie(i.save_opened),t&&t.length&&(this.data.core.to_open=t.split(","))),i.save_selected&&(t=e.cookie(i.save_selected),t&&t.length&&this.data.ui&&(this.data.ui.to_select=t.split(","))),this.get_container().one((this.data.ui?"reselect":"reopen")+".jstree",e.proxy(function(){this.get_container().bind("open_node.jstree close_node.jstree select_node.jstree deselect_node.jstree",e.proxy(function(e){this._get_settings().cookies.auto_save&&this.save_cookie((e.handleObj.namespace+e.handleObj.type).replace("jstree",""))},this))},this))},defaults:{save_loaded:"jstree_load",save_opened:"jstree_open",save_selected:"jstree_select",auto_save:!0,cookie_options:{}},_fn:{save_cookie:function(t){if(!this.data.core.refreshing){var i=this._get_settings().cookies;if(!t)return i.save_loaded&&(this.save_loaded(),e.cookie(i.save_loaded,this.data.core.to_load.join(","),i.cookie_options)),i.save_opened&&(this.save_opened(),e.cookie(i.save_opened,this.data.core.to_open.join(","),i.cookie_options)),i.save_selected&&this.data.ui&&(this.save_selected(),e.cookie(i.save_selected,this.data.ui.to_select.join(","),i.cookie_options)),void 0;switch(t){case"open_node":case"close_node":i.save_opened&&(this.save_opened(),e.cookie(i.save_opened,this.data.core.to_open.join(","),i.cookie_options)),i.save_loaded&&(this.save_loaded(),e.cookie(i.save_loaded,this.data.core.to_load.join(","),i.cookie_options));break;case"select_node":case"deselect_node":i.save_selected&&this.data.ui&&(this.save_selected(),e.cookie(i.save_selected,this.data.ui.to_select.join(","),i.cookie_options))}}}}})}(jQuery),function(e){e.jstree.plugin("sort",{__init:function(){this.get_container().bind("load_node.jstree",e.proxy(function(e,t){var i=this._get_node(t.rslt.obj);i=-1===i?this.get_container().children("ul"):i.children("ul"),this.sort(i)},this)).bind("rename_node.jstree create_node.jstree create.jstree",e.proxy(function(e,t){this.sort(t.rslt.obj.parent())},this)).bind("move_node.jstree",e.proxy(function(e,t){var i=-1==t.rslt.np?this.get_container():t.rslt.np;this.sort(i.children("ul"))},this))},defaults:function(e,t){return this.get_text(e)>this.get_text(t)?1:-1},_fn:{sort:function(t){var i=this._get_settings().sort,n=this;t.append(e.makeArray(t.children("li")).sort(e.proxy(i,n))),t.find("> li > ul").each(function(){n.sort(e(this))}),this.clean_node(t)}}})}(jQuery),function(e){var t=!1,i=!1,n=!1,s=!1,a=!1,r=!1,o=!1,l=!1,c=!1;e.vakata.dnd={is_down:!1,is_drag:!1,helper:!1,scroll_spd:10,init_x:0,init_y:0,threshold:5,helper_left:5,helper_top:10,user_data:{},drag_start:function(t,i,n){e.vakata.dnd.is_drag&&e.vakata.drag_stop({});try{t.currentTarget.unselectable="on",t.currentTarget.onselectstart=function(){return!1},t.currentTarget.style&&(t.currentTarget.style.MozUserSelect="none")}catch(s){}return e.vakata.dnd.init_x=t.pageX,e.vakata.dnd.init_y=t.pageY,e.vakata.dnd.user_data=i,e.vakata.dnd.is_down=!0,e.vakata.dnd.helper=e("<div id='vakata-dragged' />").html(n),e(document).bind("mousemove",e.vakata.dnd.drag),e(document).bind("mouseup",e.vakata.dnd.drag_stop),!1},drag:function(t){if(e.vakata.dnd.is_down){if(!e.vakata.dnd.is_drag){if(!(Math.abs(t.pageX-e.vakata.dnd.init_x)>5||Math.abs(t.pageY-e.vakata.dnd.init_y)>5))return;e.vakata.dnd.helper.appendTo("body"),e.vakata.dnd.is_drag=!0,e(document).triggerHandler("drag_start.vakata",{event:t,data:e.vakata.dnd.user_data})}if("mousemove"===t.type){var i=e(document),n=i.scrollTop(),s=i.scrollLeft();t.pageY-n<20?(r&&"down"===o&&(clearInterval(r),r=!1),r||(o="up",r=setInterval(function(){e(document).scrollTop(e(document).scrollTop()-e.vakata.dnd.scroll_spd)},150))):r&&"up"===o&&(clearInterval(r),r=!1),e(window).height()-(t.pageY-n)<20?(r&&"up"===o&&(clearInterval(r),r=!1),r||(o="down",r=setInterval(function(){e(document).scrollTop(e(document).scrollTop()+e.vakata.dnd.scroll_spd)},150))):r&&"down"===o&&(clearInterval(r),r=!1),t.pageX-s<20?(a&&"right"===l&&(clearInterval(a),a=!1),a||(l="left",a=setInterval(function(){e(document).scrollLeft(e(document).scrollLeft()-e.vakata.dnd.scroll_spd)},150))):a&&"left"===l&&(clearInterval(a),a=!1),e(window).width()-(t.pageX-s)<20?(a&&"left"===l&&(clearInterval(a),a=!1),a||(l="right",a=setInterval(function(){e(document).scrollLeft(e(document).scrollLeft()+e.vakata.dnd.scroll_spd)},150))):a&&"right"===l&&(clearInterval(a),a=!1)}e.vakata.dnd.helper.css({left:t.pageX+e.vakata.dnd.helper_left+"px",top:t.pageY+e.vakata.dnd.helper_top+"px"}),e(document).triggerHandler("drag.vakata",{event:t,data:e.vakata.dnd.user_data})}},drag_stop:function(t){a&&clearInterval(a),r&&clearInterval(r),e(document).unbind("mousemove",e.vakata.dnd.drag),e(document).unbind("mouseup",e.vakata.dnd.drag_stop),e(document).triggerHandler("drag_stop.vakata",{event:t,data:e.vakata.dnd.user_data}),e.vakata.dnd.helper.remove(),e.vakata.dnd.init_x=0,e.vakata.dnd.init_y=0,e.vakata.dnd.user_data={},e.vakata.dnd.is_down=!1,e.vakata.dnd.is_drag=!1}},e(function(){var t="#vakata-dragged { display:block; margin:0 0 0 0; padding:4px 4px 4px 24px; position:absolute; top:-2000px; line-height:16px; z-index:10000; } ";e.vakata.css.add_sheet({str:t,title:"vakata"})}),e.jstree.plugin("dnd",{__init:function(){this.data.dnd={active:!1,after:!1,inside:!1,before:!1,off:!1,prepared:!1,w:0,to1:!1,to2:!1,cof:!1,cw:!1,ch:!1,i1:!1,i2:!1,mto:!1},this.get_container().bind("mouseenter.jstree",e.proxy(function(i){if(e.vakata.dnd.is_drag&&e.vakata.dnd.user_data.jstree&&(this.data.themes&&(n.attr("class","jstree-"+this.data.themes.theme),s&&s.attr("class","jstree-"+this.data.themes.theme),e.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme)),i.currentTarget===i.target&&e.vakata.dnd.user_data.obj&&e(e.vakata.dnd.user_data.obj).length&&e(e.vakata.dnd.user_data.obj).parents(".jstree:eq(0)")[0]!==i.target)){var a,r=e.jstree._reference(i.target);r.data.dnd.foreign?(a=r._get_settings().dnd.drag_check.call(this,{o:t,r:r.get_container(),is_root:!0}),(a===!0||a.inside===!0||a.before===!0||a.after===!0)&&e.vakata.dnd.helper.children("ins").attr("class","jstree-ok")):(r.prepare_move(t,r.get_container(),"last"),r.check_move()&&e.vakata.dnd.helper.children("ins").attr("class","jstree-ok"))}},this)).bind("mouseup.jstree",e.proxy(function(i){if(e.vakata.dnd.is_drag&&e.vakata.dnd.user_data.jstree&&i.currentTarget===i.target&&e.vakata.dnd.user_data.obj&&e(e.vakata.dnd.user_data.obj).length&&e(e.vakata.dnd.user_data.obj).parents(".jstree:eq(0)")[0]!==i.target){var n,s=e.jstree._reference(i.currentTarget);s.data.dnd.foreign?(n=s._get_settings().dnd.drag_check.call(this,{o:t,r:s.get_container(),is_root:!0}),(n===!0||n.inside===!0||n.before===!0||n.after===!0)&&s._get_settings().dnd.drag_finish.call(this,{o:t,r:s.get_container(),is_root:!0})):s.move_node(t,s.get_container(),"last",i[s._get_settings().dnd.copy_modifier+"Key"])}},this)).bind("mouseleave.jstree",e.proxy(function(t){return t.relatedTarget&&t.relatedTarget.id&&"jstree-marker-line"===t.relatedTarget.id?!1:(e.vakata.dnd.is_drag&&e.vakata.dnd.user_data.jstree&&(this.data.dnd.i1&&clearInterval(this.data.dnd.i1),this.data.dnd.i2&&clearInterval(this.data.dnd.i2),this.data.dnd.to1&&clearTimeout(this.data.dnd.to1),this.data.dnd.to2&&clearTimeout(this.data.dnd.to2),e.vakata.dnd.helper.children("ins").hasClass("jstree-ok")&&e.vakata.dnd.helper.children("ins").attr("class","jstree-invalid")),void 0)},this)).bind("mousemove.jstree",e.proxy(function(t){if(e.vakata.dnd.is_drag&&e.vakata.dnd.user_data.jstree){var i=this.get_container()[0];t.pageX+24>this.data.dnd.cof.left+this.data.dnd.cw?(this.data.dnd.i1&&clearInterval(this.data.dnd.i1),this.data.dnd.i1=setInterval(e.proxy(function(){this.scrollLeft+=e.vakata.dnd.scroll_spd},i),100)):t.pageX-24<this.data.dnd.cof.left?(this.data.dnd.i1&&clearInterval(this.data.dnd.i1),this.data.dnd.i1=setInterval(e.proxy(function(){this.scrollLeft-=e.vakata.dnd.scroll_spd},i),100)):this.data.dnd.i1&&clearInterval(this.data.dnd.i1),t.pageY+24>this.data.dnd.cof.top+this.data.dnd.ch?(this.data.dnd.i2&&clearInterval(this.data.dnd.i2),this.data.dnd.i2=setInterval(e.proxy(function(){this.scrollTop+=e.vakata.dnd.scroll_spd},i),100)):t.pageY-24<this.data.dnd.cof.top?(this.data.dnd.i2&&clearInterval(this.data.dnd.i2),this.data.dnd.i2=setInterval(e.proxy(function(){this.scrollTop-=e.vakata.dnd.scroll_spd},i),100)):this.data.dnd.i2&&clearInterval(this.data.dnd.i2)}},this)).bind("scroll.jstree",e.proxy(function(){e.vakata.dnd.is_drag&&e.vakata.dnd.user_data.jstree&&n&&s&&(n.hide(),s.hide())},this)).delegate("a","mousedown.jstree",e.proxy(function(e){return 1===e.which?(this.start_drag(e.currentTarget,e),!1):void 0
},this)).delegate("a","mouseenter.jstree",e.proxy(function(t){e.vakata.dnd.is_drag&&e.vakata.dnd.user_data.jstree&&this.dnd_enter(t.currentTarget)},this)).delegate("a","mousemove.jstree",e.proxy(function(t){e.vakata.dnd.is_drag&&e.vakata.dnd.user_data.jstree&&(i&&i.length&&i.children("a")[0]===t.currentTarget||this.dnd_enter(t.currentTarget),"undefined"==typeof this.data.dnd.off.top&&(this.data.dnd.off=e(t.target).offset()),this.data.dnd.w=(t.pageY-(this.data.dnd.off.top||0))%this.data.core.li_height,this.data.dnd.w<0&&(this.data.dnd.w+=this.data.core.li_height),this.dnd_show())},this)).delegate("a","mouseleave.jstree",e.proxy(function(t){if(e.vakata.dnd.is_drag&&e.vakata.dnd.user_data.jstree){if(t.relatedTarget&&t.relatedTarget.id&&"jstree-marker-line"===t.relatedTarget.id)return!1;n&&n.hide(),s&&s.hide(),this.data.dnd.mto=setTimeout(function(e){return function(){e.dnd_leave(t)}}(this),0)}},this)).delegate("a","mouseup.jstree",e.proxy(function(t){e.vakata.dnd.is_drag&&e.vakata.dnd.user_data.jstree&&this.dnd_finish(t)},this)),e(document).bind("drag_stop.vakata",e.proxy(function(){this.data.dnd.to1&&clearTimeout(this.data.dnd.to1),this.data.dnd.to2&&clearTimeout(this.data.dnd.to2),this.data.dnd.i1&&clearInterval(this.data.dnd.i1),this.data.dnd.i2&&clearInterval(this.data.dnd.i2),this.data.dnd.after=!1,this.data.dnd.before=!1,this.data.dnd.inside=!1,this.data.dnd.off=!1,this.data.dnd.prepared=!1,this.data.dnd.w=!1,this.data.dnd.to1=!1,this.data.dnd.to2=!1,this.data.dnd.i1=!1,this.data.dnd.i2=!1,this.data.dnd.active=!1,this.data.dnd.foreign=!1,n&&n.css({top:"-2000px"}),s&&s.css({top:"-2000px"})},this)).bind("drag_start.vakata",e.proxy(function(t,i){if(i.data.jstree){var n=e(i.event.target);n.closest(".jstree").hasClass("jstree-"+this.get_index())&&this.dnd_enter(n)}},this));var a=this._get_settings().dnd;a.drag_target&&e(document).delegate(a.drag_target,"mousedown.jstree-"+this.get_index(),e.proxy(function(i){t=i.target,e.vakata.dnd.drag_start(i,{jstree:!0,obj:i.target},"<ins class='jstree-icon'></ins>"+e(i.target).text()),this.data.themes&&(n&&n.attr("class","jstree-"+this.data.themes.theme),s&&s.attr("class","jstree-"+this.data.themes.theme),e.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme)),e.vakata.dnd.helper.children("ins").attr("class","jstree-invalid");var a=this.get_container();this.data.dnd.cof=a.offset(),this.data.dnd.cw=parseInt(a.width(),10),this.data.dnd.ch=parseInt(a.height(),10),this.data.dnd.foreign=!0,i.preventDefault()},this)),a.drop_target&&e(document).delegate(a.drop_target,"mouseenter.jstree-"+this.get_index(),e.proxy(function(i){this.data.dnd.active&&this._get_settings().dnd.drop_check.call(this,{o:t,r:e(i.target),e:i})&&e.vakata.dnd.helper.children("ins").attr("class","jstree-ok")},this)).delegate(a.drop_target,"mouseleave.jstree-"+this.get_index(),e.proxy(function(){this.data.dnd.active&&e.vakata.dnd.helper.children("ins").attr("class","jstree-invalid")},this)).delegate(a.drop_target,"mouseup.jstree-"+this.get_index(),e.proxy(function(i){this.data.dnd.active&&e.vakata.dnd.helper.children("ins").hasClass("jstree-ok")&&this._get_settings().dnd.drop_finish.call(this,{o:t,r:e(i.target),e:i})},this))},defaults:{copy_modifier:"ctrl",check_timeout:100,open_timeout:500,drop_target:".jstree-drop",drop_check:function(){return!0},drop_finish:e.noop,drag_target:".jstree-draggable",drag_finish:e.noop,drag_check:function(){return{after:!1,before:!1,inside:!0}}},_fn:{dnd_prepare:function(){if(i&&i.length){if(this.data.dnd.off=i.offset(),this._get_settings().core.rtl&&(this.data.dnd.off.right=this.data.dnd.off.left+i.width()),this.data.dnd.foreign){var e=this._get_settings().dnd.drag_check.call(this,{o:t,r:i});return this.data.dnd.after=e.after,this.data.dnd.before=e.before,this.data.dnd.inside=e.inside,this.data.dnd.prepared=!0,this.dnd_show()}return this.prepare_move(t,i,"before"),this.data.dnd.before=this.check_move(),this.prepare_move(t,i,"after"),this.data.dnd.after=this.check_move(),this._is_loaded(i)?(this.prepare_move(t,i,"inside"),this.data.dnd.inside=this.check_move()):this.data.dnd.inside=!1,this.data.dnd.prepared=!0,this.dnd_show()}},dnd_show:function(){if(this.data.dnd.prepared){var t,i=["before","inside","after"],a=!1,r=this._get_settings().core.rtl;switch(i=this.data.dnd.w<this.data.core.li_height/3?["before","inside","after"]:this.data.dnd.w<=2*this.data.core.li_height/3?this.data.dnd.w<this.data.core.li_height/2?["inside","before","after"]:["inside","after","before"]:["after","inside","before"],e.each(i,e.proxy(function(t,i){return this.data.dnd[i]?(e.vakata.dnd.helper.children("ins").attr("class","jstree-ok"),a=i,!1):void 0},this)),a===!1&&e.vakata.dnd.helper.children("ins").attr("class","jstree-invalid"),t=r?this.data.dnd.off.right-18:this.data.dnd.off.left+10,a){case"before":n.css({left:t+"px",top:this.data.dnd.off.top-6+"px"}).show(),s&&s.css({left:t+8+"px",top:this.data.dnd.off.top-1+"px"}).show();break;case"after":n.css({left:t+"px",top:this.data.dnd.off.top+this.data.core.li_height-6+"px"}).show(),s&&s.css({left:t+8+"px",top:this.data.dnd.off.top+this.data.core.li_height-1+"px"}).show();break;case"inside":n.css({left:t+(r?-4:4)+"px",top:this.data.dnd.off.top+this.data.core.li_height/2-5+"px"}).show(),s&&s.hide();break;default:n.hide(),s&&s.hide()}return c=a,a}},dnd_open:function(){this.data.dnd.to2=!1,this.open_node(i,e.proxy(this.dnd_prepare,this),!0)},dnd_finish:function(e){this.data.dnd.foreign?(this.data.dnd.after||this.data.dnd.before||this.data.dnd.inside)&&this._get_settings().dnd.drag_finish.call(this,{o:t,r:i,p:c}):(this.dnd_prepare(),this.move_node(t,i,c,e[this._get_settings().dnd.copy_modifier+"Key"])),t=!1,i=!1,n.hide(),s&&s.hide()},dnd_enter:function(t){this.data.dnd.mto&&(clearTimeout(this.data.dnd.mto),this.data.dnd.mto=!1);var n=this._get_settings().dnd;this.data.dnd.prepared=!1,i=this._get_node(t),n.check_timeout?(this.data.dnd.to1&&clearTimeout(this.data.dnd.to1),this.data.dnd.to1=setTimeout(e.proxy(this.dnd_prepare,this),n.check_timeout)):this.dnd_prepare(),n.open_timeout?(this.data.dnd.to2&&clearTimeout(this.data.dnd.to2),i&&i.length&&i.hasClass("jstree-closed")&&(this.data.dnd.to2=setTimeout(e.proxy(this.dnd_open,this),n.open_timeout))):i&&i.length&&i.hasClass("jstree-closed")&&this.dnd_open()},dnd_leave:function(t){this.data.dnd.after=!1,this.data.dnd.before=!1,this.data.dnd.inside=!1,e.vakata.dnd.helper.children("ins").attr("class","jstree-invalid"),n.hide(),s&&s.hide(),i&&i[0]===t.target.parentNode&&(this.data.dnd.to1&&(clearTimeout(this.data.dnd.to1),this.data.dnd.to1=!1),this.data.dnd.to2&&(clearTimeout(this.data.dnd.to2),this.data.dnd.to2=!1))},start_drag:function(i,a){t=this._get_node(i),this.data.ui&&this.is_selected(t)&&(t=this._get_node(null,!0));var r=t.length>1?this._get_string("multiple_selection"):this.get_text(t),o=this.get_container();this._get_settings().core.html_titles||(r=r.replace(/</gi,"&lt;").replace(/>/gi,"&gt;")),e.vakata.dnd.drag_start(a,{jstree:!0,obj:t},"<ins class='jstree-icon'></ins>"+r),this.data.themes&&(n&&n.attr("class","jstree-"+this.data.themes.theme),s&&s.attr("class","jstree-"+this.data.themes.theme),e.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme)),this.data.dnd.cof=o.offset(),this.data.dnd.cw=parseInt(o.width(),10),this.data.dnd.ch=parseInt(o.height(),10),this.data.dnd.active=!0}}}),e(function(){var t="#vakata-dragged ins { display:block; text-decoration:none; width:16px; height:16px; margin:0 0 0 0; padding:0; position:absolute; top:4px; left:4px;  -moz-border-radius:4px; border-radius:4px; -webkit-border-radius:4px; } #vakata-dragged .jstree-ok { background:green; } #vakata-dragged .jstree-invalid { background:red; } #jstree-marker { padding:0; margin:0; font-size:12px; overflow:hidden; height:12px; width:8px; position:absolute; top:-30px; z-index:10001; background-repeat:no-repeat; display:none; background-color:transparent; text-shadow:1px 1px 1px white; color:black; line-height:10px; } #jstree-marker-line { padding:0; margin:0; line-height:0%; font-size:1px; overflow:hidden; height:1px; width:100px; position:absolute; top:-30px; z-index:10000; background-repeat:no-repeat; display:none; background-color:#456c43;  cursor:pointer; border:1px solid #eeeeee; border-left:0; -moz-box-shadow: 0px 0px 2px #666; -webkit-box-shadow: 0px 0px 2px #666; box-shadow: 0px 0px 2px #666;  -moz-border-radius:1px; border-radius:1px; -webkit-border-radius:1px; }";e.vakata.css.add_sheet({str:t,title:"jstree"}),n=e("<div />").attr({id:"jstree-marker"}).hide().html("&raquo;").bind("mouseleave mouseenter",function(e){return n.hide(),s.hide(),e.preventDefault(),e.stopImmediatePropagation(),!1}).appendTo("body"),s=e("<div />").attr({id:"jstree-marker-line"}).hide().bind("mouseup",function(e){return i&&i.length?(i.children("a").trigger(e),e.preventDefault(),e.stopImmediatePropagation(),!1):void 0}).bind("mouseleave",function(t){var a=e(t.relatedTarget);return(a.is(".jstree")||0===a.closest(".jstree").length)&&i&&i.length?(i.children("a").trigger(t),n.hide(),s.hide(),t.preventDefault(),t.stopImmediatePropagation(),!1):void 0}).appendTo("body"),e(document).bind("drag_start.vakata",function(e,t){t.data.jstree&&(n.show(),s&&s.show())}),e(document).bind("drag_stop.vakata",function(e,t){t.data.jstree&&(n.hide(),s&&s.hide())})})}(jQuery),function(e){e.jstree.plugin("checkbox",{__init:function(){this.data.checkbox.noui=this._get_settings().checkbox.override_ui,this.data.ui&&this.data.checkbox.noui&&(this.select_node=this.deselect_node=this.deselect_all=e.noop,this.get_selected=this.get_checked),this.get_container().bind("open_node.jstree create_node.jstree clean_node.jstree refresh.jstree",e.proxy(function(e,t){this._prepare_checkboxes(t.rslt.obj)},this)).bind("loaded.jstree",e.proxy(function(){this._prepare_checkboxes()},this)).delegate(this.data.ui&&this.data.checkbox.noui?"a":"ins.jstree-checkbox","click.jstree",e.proxy(function(e){return e.preventDefault(),this._get_node(e.target).hasClass("jstree-checked")?this.uncheck_node(e.target):this.check_node(e.target),this.data.ui&&this.data.checkbox.noui?(this.save_selected(),this.data.cookies&&this.save_cookie("select_node"),void 0):(e.stopImmediatePropagation(),!1)},this))},defaults:{override_ui:!1,two_state:!1,real_checkboxes:!1,checked_parent_open:!0,real_checkboxes_names:function(e){return["check_"+(e[0].id||Math.ceil(1e4*Math.random())),1]}},__destroy:function(){this.get_container().find("input.jstree-real-checkbox").removeClass("jstree-real-checkbox").end().find("ins.jstree-checkbox").remove()},_fn:{_checkbox_notify:function(e,t){t.checked&&this.check_node(e,!1)},_prepare_checkboxes:function(t){if(t=t&&-1!=t?this._get_node(t):this.get_container().find("> ul > li"),t!==!1){var i,n,s=this,a=this._get_settings().checkbox.two_state,r=this._get_settings().checkbox.real_checkboxes,o=this._get_settings().checkbox.real_checkboxes_names;t.each(function(){n=e(this),i=n.is("li")&&(n.hasClass("jstree-checked")||r&&n.children(":checked").length)?"jstree-checked":"jstree-unchecked",n.find("li").andSelf().each(function(){var t,n=e(this);n.children("a"+(s.data.languages?"":":eq(0)")).not(":has(.jstree-checkbox)").prepend("<ins class='jstree-checkbox'>&#160;</ins>").parent().not(".jstree-checked, .jstree-unchecked").addClass(a?"jstree-unchecked":i),r&&(n.children(":checkbox").length?n.children(":checkbox").addClass("jstree-real-checkbox"):(t=o.call(s,n),n.prepend("<input type='checkbox' class='jstree-real-checkbox' id='"+t[0]+"' name='"+t[0]+"' value='"+t[1]+"' />")),"jstree-checked"===i&&n.children(":checkbox").attr("checked","checked")),"jstree-checked"!==i||a||n.find("li").addClass("jstree-checked")})}),a||(1===t.length&&t.is("li")&&this._repair_state(t),t.is("li")?t.each(function(){s._repair_state(this)}):t.find("> ul > li").each(function(){s._repair_state(this)}),t.find(".jstree-checked").parent().parent().each(function(){s._repair_state(this)}))}},change_state:function(t,i){t=this._get_node(t);var n=!1,s=this._get_settings().checkbox.real_checkboxes;if(!t||-1===t)return!1;if(i=i===!1||i===!0?i:t.hasClass("jstree-checked"),this._get_settings().checkbox.two_state)i?(t.removeClass("jstree-checked").addClass("jstree-unchecked"),s&&t.children(":checkbox").removeAttr("checked")):(t.removeClass("jstree-unchecked").addClass("jstree-checked"),s&&t.children(":checkbox").attr("checked","checked"));else{if(i){if(n=t.find("li").andSelf(),!n.filter(".jstree-checked, .jstree-undetermined").length)return!1;n.removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked"),s&&n.children(":checkbox").removeAttr("checked")}else{if(n=t.find("li").andSelf(),!n.filter(".jstree-unchecked, .jstree-undetermined").length)return!1;n.removeClass("jstree-unchecked jstree-undetermined").addClass("jstree-checked"),s&&n.children(":checkbox").attr("checked","checked"),this.data.ui&&(this.data.ui.last_selected=t),this.data.checkbox.last_selected=t}t.parentsUntil(".jstree","li").each(function(){var t=e(this);if(i){if(t.children("ul").children("li.jstree-checked, li.jstree-undetermined").length)return t.parentsUntil(".jstree","li").andSelf().removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"),s&&t.parentsUntil(".jstree","li").andSelf().children(":checkbox").removeAttr("checked"),!1;t.removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked"),s&&t.children(":checkbox").removeAttr("checked")}else{if(t.children("ul").children("li.jstree-unchecked, li.jstree-undetermined").length)return t.parentsUntil(".jstree","li").andSelf().removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"),s&&t.parentsUntil(".jstree","li").andSelf().children(":checkbox").removeAttr("checked"),!1;t.removeClass("jstree-unchecked jstree-undetermined").addClass("jstree-checked"),s&&t.children(":checkbox").attr("checked","checked")}})}return this.data.ui&&this.data.checkbox.noui&&(this.data.ui.selected=this.get_checked()),this.__callback(t),!0},check_node:function(e){if(this.change_state(e,!1)){if(e=this._get_node(e),this._get_settings().checkbox.checked_parent_open){var t=this;e.parents(".jstree-closed").each(function(){t.open_node(this,!1,!0)})}this.__callback({obj:e})}},uncheck_node:function(e){this.change_state(e,!0)&&this.__callback({obj:this._get_node(e)})},check_all:function(){var e=this,t=this._get_settings().checkbox.two_state?this.get_container_ul().find("li"):this.get_container_ul().children("li");t.each(function(){e.change_state(this,!1)}),this.__callback()},uncheck_all:function(){var e=this,t=this._get_settings().checkbox.two_state?this.get_container_ul().find("li"):this.get_container_ul().children("li");t.each(function(){e.change_state(this,!0)}),this.__callback()},is_checked:function(e){return e=this._get_node(e),e.length?e.is(".jstree-checked"):!1},get_checked:function(e,t){return e=e&&-1!==e?this._get_node(e):this.get_container(),t||this._get_settings().checkbox.two_state?e.find(".jstree-checked"):e.find("> ul > .jstree-checked, .jstree-undetermined > ul > .jstree-checked")},get_unchecked:function(e,t){return e=e&&-1!==e?this._get_node(e):this.get_container(),t||this._get_settings().checkbox.two_state?e.find(".jstree-unchecked"):e.find("> ul > .jstree-unchecked, .jstree-undetermined > ul > .jstree-unchecked")},show_checkboxes:function(){this.get_container().children("ul").removeClass("jstree-no-checkboxes")},hide_checkboxes:function(){this.get_container().children("ul").addClass("jstree-no-checkboxes")},_repair_state:function(e){if(e=this._get_node(e),e.length){var t=this._get_settings().checkbox.real_checkboxes,i=e.find("> ul > .jstree-checked").length,n=e.find("> ul > .jstree-undetermined").length,s=e.find("> ul > li").length;0===s?e.hasClass("jstree-undetermined")&&this.change_state(e,!1):0===i&&0===n?this.change_state(e,!0):i===s?this.change_state(e,!1):(e.parentsUntil(".jstree","li").andSelf().removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"),t&&e.parentsUntil(".jstree","li").andSelf().children(":checkbox").removeAttr("checked"))}},reselect:function(){if(this.data.ui&&this.data.checkbox.noui){var t=this,i=this.data.ui.to_select;i=e.map(e.makeArray(i),function(e){return"#"+e.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")}),this.deselect_all(),e.each(i,function(e,i){t.check_node(i)}),this.__callback()}else this.__call_old()},save_loaded:function(){var e=this;this.data.core.to_load=[],this.get_container_ul().find("li.jstree-closed.jstree-undetermined").each(function(){this.id&&e.data.core.to_load.push("#"+this.id)})}}}),e(function(){var t=".jstree .jstree-real-checkbox { display:none; } ";e.vakata.css.add_sheet({str:t,title:"jstree"})})}(jQuery),function(e){e.vakata.xslt=function(t,i,n){var s,a,r,o,l="";return document.recalc?(s=document.createElement("xml"),a=document.createElement("xml"),s.innerHTML=t,a.innerHTML=i,e("body").append(s).append(a),setTimeout(function(t,i,n){return function(){n.call(null,t.transformNode(i.XMLDocument)),setTimeout(function(t,i){return function(){e(t).remove(),e(i).remove()}}(t,i),200)}}(s,a,n),100),!0):("undefined"!=typeof window.DOMParser&&"undefined"!=typeof window.XMLHttpRequest&&"undefined"==typeof window.XSLTProcessor&&(t=(new DOMParser).parseFromString(t,"text/xml"),i=(new DOMParser).parseFromString(i,"text/xml")),"undefined"!=typeof window.DOMParser&&"undefined"!=typeof window.XMLHttpRequest&&"undefined"!=typeof window.XSLTProcessor?(r=new XSLTProcessor,(o=e.isFunction(r.transformDocument)?"undefined"!=typeof window.XMLSerializer:!0)?(t=(new DOMParser).parseFromString(t,"text/xml"),i=(new DOMParser).parseFromString(i,"text/xml"),e.isFunction(r.transformDocument)?(l=document.implementation.createDocument("","",null),r.transformDocument(t,i,l,null),n.call(null,(new XMLSerializer).serializeToString(l)),!0):(r.importStylesheet(i),l=r.transformToFragment(t,document),n.call(null,e("<div />").append(l).html()),!0)):!1):!1)};var t={nest:'<?xml version="1.0" encoding="utf-8" ?><xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" ><xsl:output method="html" encoding="utf-8" omit-xml-declaration="yes" standalone="no" indent="no" media-type="text/html" /><xsl:template match="/">	<xsl:call-template name="nodes">		<xsl:with-param name="node" select="/root" />	</xsl:call-template></xsl:template><xsl:template name="nodes">	<xsl:param name="node" />	<ul>	<xsl:for-each select="$node/item">		<xsl:variable name="children" select="count(./item) &gt; 0" />		<li>			<xsl:attribute name="class">				<xsl:if test="position() = last()">jstree-last </xsl:if>				<xsl:choose>					<xsl:when test="@state = \'open\'">jstree-open </xsl:when>					<xsl:when test="$children or @hasChildren or @state = \'closed\'">jstree-closed </xsl:when>					<xsl:otherwise>jstree-leaf </xsl:otherwise>				</xsl:choose>				<xsl:value-of select="@class" />			</xsl:attribute>			<xsl:for-each select="@*">				<xsl:if test="name() != \'class\' and name() != \'state\' and name() != \'hasChildren\'">					<xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>				</xsl:if>			</xsl:for-each>	<ins class="jstree-icon"><xsl:text>&#xa0;</xsl:text></ins>			<xsl:for-each select="content/name">				<a>				<xsl:attribute name="href">					<xsl:choose>					<xsl:when test="@href"><xsl:value-of select="@href" /></xsl:when>					<xsl:otherwise>#</xsl:otherwise>					</xsl:choose>				</xsl:attribute>				<xsl:attribute name="class"><xsl:value-of select="@lang" /> <xsl:value-of select="@class" /></xsl:attribute>				<xsl:attribute name="style"><xsl:value-of select="@style" /></xsl:attribute>				<xsl:for-each select="@*">					<xsl:if test="name() != \'style\' and name() != \'class\' and name() != \'href\'">						<xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>					</xsl:if>				</xsl:for-each>					<ins>						<xsl:attribute name="class">jstree-icon 							<xsl:if test="string-length(attribute::icon) > 0 and not(contains(@icon,\'/\'))"><xsl:value-of select="@icon" /></xsl:if>						</xsl:attribute>						<xsl:if test="string-length(attribute::icon) > 0 and contains(@icon,\'/\')"><xsl:attribute name="style">background:url(<xsl:value-of select="@icon" />) center center no-repeat;</xsl:attribute></xsl:if>						<xsl:text>&#xa0;</xsl:text>					</ins>					<xsl:copy-of select="./child::node()" />				</a>			</xsl:for-each>			<xsl:if test="$children or @hasChildren"><xsl:call-template name="nodes"><xsl:with-param name="node" select="current()" /></xsl:call-template></xsl:if>		</li>	</xsl:for-each>	</ul></xsl:template></xsl:stylesheet>',flat:'<?xml version="1.0" encoding="utf-8" ?><xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" ><xsl:output method="html" encoding="utf-8" omit-xml-declaration="yes" standalone="no" indent="no" media-type="text/xml" /><xsl:template match="/">	<ul>	<xsl:for-each select="//item[not(@parent_id) or @parent_id=0 or not(@parent_id = //item/@id)]">		<xsl:call-template name="nodes">			<xsl:with-param name="node" select="." />			<xsl:with-param name="is_last" select="number(position() = last())" />		</xsl:call-template>	</xsl:for-each>	</ul></xsl:template><xsl:template name="nodes">	<xsl:param name="node" />	<xsl:param name="is_last" />	<xsl:variable name="children" select="count(//item[@parent_id=$node/attribute::id]) &gt; 0" />	<li>	<xsl:attribute name="class">		<xsl:if test="$is_last = true()">jstree-last </xsl:if>		<xsl:choose>			<xsl:when test="@state = \'open\'">jstree-open </xsl:when>			<xsl:when test="$children or @hasChildren or @state = \'closed\'">jstree-closed </xsl:when>			<xsl:otherwise>jstree-leaf </xsl:otherwise>		</xsl:choose>		<xsl:value-of select="@class" />	</xsl:attribute>	<xsl:for-each select="@*">		<xsl:if test="name() != \'parent_id\' and name() != \'hasChildren\' and name() != \'class\' and name() != \'state\'">		<xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>		</xsl:if>	</xsl:for-each>	<ins class="jstree-icon"><xsl:text>&#xa0;</xsl:text></ins>	<xsl:for-each select="content/name">		<a>		<xsl:attribute name="href">			<xsl:choose>			<xsl:when test="@href"><xsl:value-of select="@href" /></xsl:when>			<xsl:otherwise>#</xsl:otherwise>			</xsl:choose>		</xsl:attribute>		<xsl:attribute name="class"><xsl:value-of select="@lang" /> <xsl:value-of select="@class" /></xsl:attribute>		<xsl:attribute name="style"><xsl:value-of select="@style" /></xsl:attribute>		<xsl:for-each select="@*">			<xsl:if test="name() != \'style\' and name() != \'class\' and name() != \'href\'">				<xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>			</xsl:if>		</xsl:for-each>			<ins>				<xsl:attribute name="class">jstree-icon 					<xsl:if test="string-length(attribute::icon) > 0 and not(contains(@icon,\'/\'))"><xsl:value-of select="@icon" /></xsl:if>				</xsl:attribute>				<xsl:if test="string-length(attribute::icon) > 0 and contains(@icon,\'/\')"><xsl:attribute name="style">background:url(<xsl:value-of select="@icon" />) center center no-repeat;</xsl:attribute></xsl:if>				<xsl:text>&#xa0;</xsl:text>			</ins>			<xsl:copy-of select="./child::node()" />		</a>	</xsl:for-each>	<xsl:if test="$children">		<ul>		<xsl:for-each select="//item[@parent_id=$node/attribute::id]">			<xsl:call-template name="nodes">				<xsl:with-param name="node" select="." />				<xsl:with-param name="is_last" select="number(position() = last())" />			</xsl:call-template>		</xsl:for-each>		</ul>	</xsl:if>	</li></xsl:template></xsl:stylesheet>'},i=function(e){return e.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")};e.jstree.plugin("xml_data",{defaults:{data:!1,ajax:!1,xsl:"flat",clean_node:!1,correct_state:!0,get_skip_empty:!1,get_include_preamble:!0},_fn:{load_node:function(e,t,i){var n=this;this.load_node_xml(e,function(){n.__callback({obj:n._get_node(e)}),t.call(this)},i)},_is_loaded:function(t){var i=this._get_settings().xml_data;return t=this._get_node(t),-1==t||!t||!i.ajax&&!e.isFunction(i.data)||t.is(".jstree-open, .jstree-leaf")||t.children("ul").children("li").size()>0},load_node_xml:function(t,i,n){var s=this.get_settings().xml_data,a=function(){},r=function(){};if(t=this._get_node(t),t&&-1!==t){if(t.data("jstree-is-loading"))return;t.data("jstree-is-loading",!0)}switch(!0){case!s.data&&!s.ajax:throw"Neither data nor ajax settings supplied.";case e.isFunction(s.data):s.data.call(this,t,e.proxy(function(n){this.parse_xml(n,e.proxy(function(n){n&&(n=n.replace(/ ?xmlns="[^"]*"/gi,""),n.length>10?(n=e(n),-1!==t&&t?(t.children("a.jstree-loading").removeClass("jstree-loading"),t.append(n),t.removeData("jstree-is-loading")):this.get_container().children("ul").empty().append(n.children()),s.clean_node&&this.clean_node(t),i&&i.call(this)):t&&-1!==t?(t.children("a.jstree-loading").removeClass("jstree-loading"),t.removeData("jstree-is-loading"),s.correct_state&&(this.correct_state(t),i&&i.call(this))):s.correct_state&&(this.get_container().children("ul").empty(),i&&i.call(this)))},this))},this));break;case!!s.data&&!s.ajax||!!s.data&&!!s.ajax&&(!t||-1===t):t&&-1!=t||this.parse_xml(s.data,e.proxy(function(n){n?(n=n.replace(/ ?xmlns="[^"]*"/gi,""),n.length>10&&(n=e(n),this.get_container().children("ul").empty().append(n.children()),s.clean_node&&this.clean_node(t),i&&i.call(this))):s.correct_state&&(this.get_container().children("ul").empty(),i&&i.call(this))},this));break;case!s.data&&!!s.ajax||!!s.data&&!!s.ajax&&t&&-1!==t:a=function(e,i,a){var r=this.get_settings().xml_data.ajax.error;r&&r.call(this,e,i,a),-1!==t&&t.length?(t.children("a.jstree-loading").removeClass("jstree-loading"),t.removeData("jstree-is-loading"),"success"===i&&s.correct_state&&this.correct_state(t)):"success"===i&&s.correct_state&&this.get_container().children("ul").empty(),n&&n.call(this)},r=function(n,r,o){n=o.responseText;var l=this.get_settings().xml_data.ajax.success;return l&&(n=l.call(this,n,r,o)||n),""===n||n&&n.toString&&""===n.toString().replace(/^[\s\n]+$/,"")?a.call(this,o,r,""):(this.parse_xml(n,e.proxy(function(n){n&&(n=n.replace(/ ?xmlns="[^"]*"/gi,""),n.length>10?(n=e(n),-1!==t&&t?(t.children("a.jstree-loading").removeClass("jstree-loading"),t.append(n),t.removeData("jstree-is-loading")):this.get_container().children("ul").empty().append(n.children()),s.clean_node&&this.clean_node(t),i&&i.call(this)):t&&-1!==t?(t.children("a.jstree-loading").removeClass("jstree-loading"),t.removeData("jstree-is-loading"),s.correct_state&&(this.correct_state(t),i&&i.call(this))):s.correct_state&&(this.get_container().children("ul").empty(),i&&i.call(this)))},this)),void 0)},s.ajax.context=this,s.ajax.error=a,s.ajax.success=r,s.ajax.dataType||(s.ajax.dataType="xml"),e.isFunction(s.ajax.url)&&(s.ajax.url=s.ajax.url.call(this,t)),e.isFunction(s.ajax.data)&&(s.ajax.data=s.ajax.data.call(this,t)),e.ajax(s.ajax)}},parse_xml:function(i,n){var s=this._get_settings().xml_data;e.vakata.xslt(i,t[s.xsl],n)},get_xml:function(t,n,s,a,r){var o,l,c,h,u,d="",f=this._get_settings(),p=this;return t||(t="flat"),r||(r=0),n=this._get_node(n),n&&-1!==n||(n=this.get_container().find("> ul > li")),s=e.isArray(s)?s:["id","class"],!r&&this.data.types&&-1===e.inArray(f.types.type_attr,s)&&s.push(f.types.type_attr),a=e.isArray(a)?a:[],r||(f.xml_data.get_include_preamble&&(d+='<?xml version="1.0" encoding="UTF-8"?>'),d+="<root>"),n.each(function(){d+="<item",c=e(this),e.each(s,function(e,t){var n=c.attr(t);f.xml_data.get_skip_empty&&"undefined"==typeof n||(d+=" "+t+'="'+i((" "+(n||"")).replace(/ jstree[^ ]*/gi,"").replace(/\s+$/gi," ").replace(/^ /,"").replace(/ $/,""))+'"')}),c.hasClass("jstree-open")&&(d+=' state="open"'),c.hasClass("jstree-closed")&&(d+=' state="closed"'),"flat"===t&&(d+=' parent_id="'+i(r)+'"'),d+=">",d+="<content>",h=c.children("a"),h.each(function(){o=e(this),u=!1,d+="<name",-1!==e.inArray("languages",f.plugins)&&e.each(f.languages,function(e,t){return o.hasClass(t)?(d+=' lang="'+i(t)+'"',u=t,!1):void 0}),a.length&&e.each(a,function(e,t){var n=o.attr(t);f.xml_data.get_skip_empty&&"undefined"==typeof n||(d+=" "+t+'="'+i((" "+n||"").replace(/ jstree[^ ]*/gi,"").replace(/\s+$/gi," ").replace(/^ /,"").replace(/ $/,""))+'"')}),o.children("ins").get(0).className.replace(/jstree[^ ]*|$/gi,"").replace(/^\s+$/gi,"").length&&(d+=' icon="'+i(o.children("ins").get(0).className.replace(/jstree[^ ]*|$/gi,"").replace(/\s+$/gi," ").replace(/^ /,"").replace(/ $/,""))+'"'),o.children("ins").get(0).style.backgroundImage.length&&(d+=' icon="'+i(o.children("ins").get(0).style.backgroundImage.replace("url(","").replace(")","").replace(/'/gi,"").replace(/"/gi,""))+'"'),d+=">",d+="<![CDATA["+p.get_text(o,u)+"]]>",d+="</name>"}),d+="</content>",l=c[0].id||!0,c=c.find("> ul > li"),l=c.length?p.get_xml(t,c,s,a,l):"","nest"==t&&(d+=l),d+="</item>","flat"==t&&(d+=l)}),r||(d+="</root>"),d}}})}(jQuery),function(e){e.expr[":"].jstree_contains=function(e,t,i){return(e.textContent||e.innerText||"").toLowerCase().indexOf(i[3].toLowerCase())>=0},e.expr[":"].jstree_title_contains=function(e,t,i){return(e.getAttribute("title")||"").toLowerCase().indexOf(i[3].toLowerCase())>=0},e.jstree.plugin("search",{__init:function(){this.data.search.str="",this.data.search.result=e(),this._get_settings().search.show_only_matches&&this.get_container().bind("search.jstree",function(t,i){e(this).children("ul").find("li").hide().removeClass("jstree-last"),i.rslt.nodes.parentsUntil(".jstree").andSelf().show().filter("ul").each(function(){e(this).children("li:visible").eq(-1).addClass("jstree-last")})}).bind("clear_search.jstree",function(){e(this).children("ul").find("li").css("display","").end().end().jstree("clean_node",-1)})},defaults:{ajax:!1,search_method:"jstree_contains",show_only_matches:!1},_fn:{search:function(t,i){if(""===e.trim(t))return this.clear_search(),void 0;var n=this.get_settings().search,s=this,a=function(){},r=function(){};return this.data.search.str=t,!i&&n.ajax!==!1&&this.get_container_ul().find("li.jstree-closed:not(:has(ul)):eq(0)").length>0?(this.search.supress_callback=!0,a=function(){},r=function(e,t,i){var n=this.get_settings().search.ajax.success;n&&(e=n.call(this,e,t,i)||e),this.data.search.to_open=e,this._search_open()},n.ajax.context=this,n.ajax.error=a,n.ajax.success=r,e.isFunction(n.ajax.url)&&(n.ajax.url=n.ajax.url.call(this,t)),e.isFunction(n.ajax.data)&&(n.ajax.data=n.ajax.data.call(this,t)),n.ajax.data||(n.ajax.data={search_string:t}),(!n.ajax.dataType||/^json/.exec(n.ajax.dataType))&&(n.ajax.dataType="json"),e.ajax(n.ajax),void 0):(this.data.search.result.length&&this.clear_search(),this.data.search.result=this.get_container().find("a"+(this.data.languages?"."+this.get_lang():"")+":"+n.search_method+"("+this.data.search.str+")"),this.data.search.result.addClass("jstree-search").parent().parents(".jstree-closed").each(function(){s.open_node(this,!1,!0)}),this.__callback({nodes:this.data.search.result,str:t}),void 0)},clear_search:function(){this.data.search.result.removeClass("jstree-search"),this.__callback(this.data.search.result),this.data.search.result=e()},_search_open:function(){var t=this,i=!0,n=[],s=[];this.data.search.to_open.length&&(e.each(this.data.search.to_open,function(t,i){return"#"==i?!0:(e(i).length&&e(i).is(".jstree-closed")?n.push(i):s.push(i),void 0)}),n.length&&(this.data.search.to_open=s,e.each(n,function(e,i){t.open_node(i,function(){t._search_open(!0)})}),i=!1)),i&&this.search(this.data.search.str,!0)}}})}(jQuery),function(e){e.vakata.context={hide_on_mouseleave:!1,cnt:e("<div id='vakata-contextmenu' />"),vis:!1,tgt:!1,par:!1,func:!1,data:!1,rtl:!1,show:function(t,i,n,s,a,r,o){e.vakata.context.rtl=!!o;var l,c,h=e.vakata.context.parse(t);h&&(e.vakata.context.vis=!0,e.vakata.context.tgt=i,e.vakata.context.par=r||i||null,e.vakata.context.data=a||null,e.vakata.context.cnt.html(h).css({visibility:"hidden",display:"block",left:0,top:0}),e.vakata.context.hide_on_mouseleave&&e.vakata.context.cnt.one("mouseleave",function(){e.vakata.context.hide()}),l=e.vakata.context.cnt.height(),c=e.vakata.context.cnt.width(),n+c>e(document).width()&&(n=e(document).width()-(c+5),e.vakata.context.cnt.find("li > ul").addClass("right")),s+l>e(document).height()&&(s-=l+i[0].offsetHeight,e.vakata.context.cnt.find("li > ul").addClass("bottom")),e.vakata.context.cnt.css({left:n,top:s}).find("li:has(ul)").bind("mouseenter",function(){var t=e(document).width(),i=e(document).height(),n=e(this).children("ul").show();t!==e(document).width()&&n.toggleClass("right"),i!==e(document).height()&&n.toggleClass("bottom")}).bind("mouseleave",function(){e(this).children("ul").hide()}).end().css({visibility:"visible"}).show(),e(document).triggerHandler("context_show.vakata"))
},hide:function(){e.vakata.context.vis=!1,e.vakata.context.cnt.attr("class","").css({visibility:"hidden"}),e(document).triggerHandler("context_hide.vakata")},parse:function(t,i){if(!t)return!1;var n="",s=!1,a=!0;return i||(e.vakata.context.func={}),n+="<ul>",e.each(t,function(t,i){return i?(e.vakata.context.func[t]=i.action,!a&&i.separator_before&&(n+="<li class='vakata-separator vakata-separator-before'></li>"),a=!1,n+="<li class='"+(i._class||"")+(i._disabled?" jstree-contextmenu-disabled ":"")+"'><ins ",i.icon&&-1===i.icon.indexOf("/")&&(n+=" class='"+i.icon+"' "),i.icon&&-1!==i.icon.indexOf("/")&&(n+=" style='background:url("+i.icon+") center center no-repeat;' "),n+=">&#160;</ins><a href='#' rel='"+t+"'>",i.submenu&&(n+="<span style='float:"+(e.vakata.context.rtl?"left":"right")+";'>&raquo;</span>"),n+=i.label+"</a>",i.submenu&&(s=e.vakata.context.parse(i.submenu,!0),s&&(n+=s)),n+="</li>",i.separator_after&&(n+="<li class='vakata-separator vakata-separator-after'></li>",a=!0),void 0):!0}),n=n.replace(/<li class\='vakata-separator vakata-separator-after'\><\/li\>$/,""),n+="</ul>",e(document).triggerHandler("context_parse.vakata"),n.length>10?n:!1},exec:function(t){return e.isFunction(e.vakata.context.func[t])?(e.vakata.context.func[t].call(e.vakata.context.data,e.vakata.context.par),!0):!1}},e(function(){var t="#vakata-contextmenu { display:block; visibility:hidden; left:0; top:-200px; position:absolute; margin:0; padding:0; min-width:180px; background:#ebebeb; border:1px solid silver; z-index:10000; *width:180px; } #vakata-contextmenu ul { min-width:180px; *width:180px; } #vakata-contextmenu ul, #vakata-contextmenu li { margin:0; padding:0; list-style-type:none; display:block; } #vakata-contextmenu li { line-height:20px; min-height:20px; position:relative; padding:0px; } #vakata-contextmenu li a { padding:1px 6px; line-height:17px; display:block; text-decoration:none; margin:1px 1px 0 1px; } #vakata-contextmenu li ins { float:left; width:16px; height:16px; text-decoration:none; margin-right:2px; } #vakata-contextmenu li a:hover, #vakata-contextmenu li.vakata-hover > a { background:gray; color:white; } #vakata-contextmenu li ul { display:none; position:absolute; top:-2px; left:100%; background:#ebebeb; border:1px solid gray; } #vakata-contextmenu .right { right:100%; left:auto; } #vakata-contextmenu .bottom { bottom:-1px; top:auto; } #vakata-contextmenu li.vakata-separator { min-height:0; height:1px; line-height:1px; font-size:1px; overflow:hidden; margin:0 2px; background:silver; /* border-top:1px solid #fefefe; */ padding:0; } ";e.vakata.css.add_sheet({str:t,title:"vakata"}),e.vakata.context.cnt.delegate("a","click",function(e){e.preventDefault()}).delegate("a","mouseup",function(){!e(this).parent().hasClass("jstree-contextmenu-disabled")&&e.vakata.context.exec(e(this).attr("rel"))?e.vakata.context.hide():e(this).blur()}).delegate("a","mouseover",function(){e.vakata.context.cnt.find(".vakata-hover").removeClass("vakata-hover")}).appendTo("body"),e(document).bind("mousedown",function(t){e.vakata.context.vis&&!e.contains(e.vakata.context.cnt[0],t.target)&&e.vakata.context.hide()}),"undefined"!=typeof e.hotkeys&&e(document).bind("keydown","up",function(t){if(e.vakata.context.vis){var i=e.vakata.context.cnt.find("ul:visible").last().children(".vakata-hover").removeClass("vakata-hover").prevAll("li:not(.vakata-separator)").first();i.length||(i=e.vakata.context.cnt.find("ul:visible").last().children("li:not(.vakata-separator)").last()),i.addClass("vakata-hover"),t.stopImmediatePropagation(),t.preventDefault()}}).bind("keydown","down",function(t){if(e.vakata.context.vis){var i=e.vakata.context.cnt.find("ul:visible").last().children(".vakata-hover").removeClass("vakata-hover").nextAll("li:not(.vakata-separator)").first();i.length||(i=e.vakata.context.cnt.find("ul:visible").last().children("li:not(.vakata-separator)").first()),i.addClass("vakata-hover"),t.stopImmediatePropagation(),t.preventDefault()}}).bind("keydown","right",function(t){e.vakata.context.vis&&(e.vakata.context.cnt.find(".vakata-hover").children("ul").show().children("li:not(.vakata-separator)").removeClass("vakata-hover").first().addClass("vakata-hover"),t.stopImmediatePropagation(),t.preventDefault())}).bind("keydown","left",function(t){e.vakata.context.vis&&(e.vakata.context.cnt.find(".vakata-hover").children("ul").hide().children(".vakata-separator").removeClass("vakata-hover"),t.stopImmediatePropagation(),t.preventDefault())}).bind("keydown","esc",function(t){e.vakata.context.hide(),t.preventDefault()}).bind("keydown","space",function(t){e.vakata.context.cnt.find(".vakata-hover").last().children("a").click(),t.preventDefault()})}),e.jstree.plugin("contextmenu",{__init:function(){this.get_container().delegate("a","contextmenu.jstree",e.proxy(function(t){t.preventDefault(),e(t.currentTarget).hasClass("jstree-loading")||this.show_contextmenu(t.currentTarget,t.pageX,t.pageY)},this)).delegate("a","click.jstree",e.proxy(function(){this.data.contextmenu&&e.vakata.context.hide()},this)).bind("destroy.jstree",e.proxy(function(){this.data.contextmenu&&e.vakata.context.hide()},this)),e(document).bind("context_hide.vakata",e.proxy(function(){this.data.contextmenu=!1},this))},defaults:{select_node:!1,show_at_node:!0,items:{create:{separator_before:!1,separator_after:!0,label:"Create",action:function(e){this.create(e)}},rename:{separator_before:!1,separator_after:!1,label:"Rename",action:function(e){this.rename(e)}},remove:{separator_before:!1,icon:!1,separator_after:!1,label:"Delete",action:function(e){this.is_selected(e)?this.remove():this.remove(e)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(e){this.cut(e)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(e){this.copy(e)}},paste:{separator_before:!1,icon:!1,separator_after:!1,label:"Paste",action:function(e){this.paste(e)}}}}}},_fn:{show_contextmenu:function(t,i,n){t=this._get_node(t);var s=this.get_settings().contextmenu,a=t.children("a:visible:eq(0)"),r=!1,o=!1;s.select_node&&this.data.ui&&!this.is_selected(t)&&(this.deselect_all(),this.select_node(t,!0)),(s.show_at_node||"undefined"==typeof i||"undefined"==typeof n)&&(r=a.offset(),i=r.left,n=r.top+this.data.core.li_height),o=t.data("jstree")&&t.data("jstree").contextmenu?t.data("jstree").contextmenu:s.items,e.isFunction(o)&&(o=o.call(this,t)),this.data.contextmenu=!0,e.vakata.context.show(o,a,i,n,this,t,this._get_settings().core.rtl),this.data.themes&&e.vakata.context.cnt.attr("class","jstree-"+this.data.themes.theme+"-context")}}})}(jQuery),function(t){t.jstree.plugin("types",{__init:function(){var i=this._get_settings().types;this.data.types.attach_to=[],this.get_container().bind("init.jstree",t.proxy(function(){var e=i.types,n=i.type_attr,s="",a=this;t.each(e,function(e,i){return t.each(i,function(e){/^(max_depth|max_children|icon|valid_children)$/.test(e)||a.data.types.attach_to.push(e)}),i.icon?((i.icon.image||i.icon.position)&&(s+="default"==e?".jstree-"+a.get_index()+" a > .jstree-icon { ":".jstree-"+a.get_index()+" li["+n+'="'+e+'"] > a > .jstree-icon { ',i.icon.image&&(s+=" background-image:url("+i.icon.image+"); "),s+=i.icon.position?" background-position:"+i.icon.position+"; ":" background-position:0 0; ",s+="} "),void 0):!0}),""!==s&&t.vakata.css.add_sheet({str:s,title:"jstree-types"})},this)).bind("before.jstree",t.proxy(function(e,i){var n,s,a=this._get_settings().types.use_data?this._get_node(i.args[0]):!1,r=a&&-1!==a&&a.length?a.data("jstree"):!1;if(r&&r.types&&r.types[i.func]===!1)return e.stopImmediatePropagation(),!1;if(-1!==t.inArray(i.func,this.data.types.attach_to)){if(!i.args[0]||!i.args[0].tagName&&!i.args[0].jquery)return;if(n=this._get_settings().types.types,s=this._get_type(i.args[0]),(n[s]&&"undefined"!=typeof n[s][i.func]||n["default"]&&"undefined"!=typeof n["default"][i.func])&&this._check(i.func,i.args[0])===!1)return e.stopImmediatePropagation(),!1}},this)),e&&this.get_container().bind("load_node.jstree set_type.jstree",t.proxy(function(e,i){var n=i&&i.rslt&&i.rslt.obj&&-1!==i.rslt.obj?this._get_node(i.rslt.obj).parent():this.get_container_ul(),s=!1,a=this._get_settings().types;t.each(a.types,function(e,t){t.icon&&(t.icon.image||t.icon.position)&&(s="default"===e?n.find("li > a > .jstree-icon"):n.find("li["+a.type_attr+"='"+e+"'] > a > .jstree-icon"),t.icon.image&&s.css("backgroundImage","url("+t.icon.image+")"),s.css("backgroundPosition",t.icon.position||"0 0"))})},this))},defaults:{max_children:-1,max_depth:-1,valid_children:"all",use_data:!1,type_attr:"rel",types:{"default":{max_children:-1,max_depth:-1,valid_children:"all"}}},_fn:{_types_notify:function(e,t){t.type&&this._get_settings().types.use_data&&this.set_type(t.type,e)},_get_type:function(e){return e=this._get_node(e),e&&e.length?e.attr(this._get_settings().types.type_attr)||"default":!1},set_type:function(e,t){t=this._get_node(t);var i=t.length&&e?t.attr(this._get_settings().types.type_attr,e):!1;return i&&this.__callback({obj:t,type:e}),i},_check:function(e,i,n){i=this._get_node(i);var s=!1,a=this._get_type(i),r=0,o=this,l=this._get_settings().types,c=!1;if(-1===i){if(!l[e])return;s=l[e]}else{if(a===!1)return;c=l.use_data?i.data("jstree"):!1,c&&c.types&&"undefined"!=typeof c.types[e]?s=c.types[e]:l.types[a]&&"undefined"!=typeof l.types[a][e]?s=l.types[a][e]:l.types["default"]&&"undefined"!=typeof l.types["default"][e]&&(s=l.types["default"][e])}return t.isFunction(s)&&(s=s.call(this,i)),"max_depth"===e&&-1!==i&&n!==!1&&-2!==l.max_depth&&0!==s&&i.children("a:eq(0)").parentsUntil(".jstree","li").each(function(t){return-1!==l.max_depth&&l.max_depth-(t+1)<=0?(s=0,!1):(r=0===t?s:o._check(e,this,!1),-1!==r&&0>=r-(t+1)?(s=0,!1):(r>=0&&(s>r-(t+1)||0>s)&&(s=r-(t+1)),l.max_depth>=0&&(l.max_depth-(t+1)<s||0>s)&&(s=l.max_depth-(t+1)),void 0))}),s},check_move:function(){if(!this.__call_old())return!1;var e,i=this._get_move(),n=i.rt._get_settings().types,s=i.rt._check("max_children",i.cr),a=i.rt._check("max_depth",i.cr),r=i.rt._check("valid_children",i.cr),o=0,l=1;if("none"===r)return!1;if(t.isArray(r)&&i.ot&&i.ot._get_type&&(i.o.each(function(){return-1===t.inArray(i.ot._get_type(this),r)?(l=!1,!1):void 0}),l===!1))return!1;if(-2!==n.max_children&&-1!==s&&(o=-1===i.cr?this.get_container().find("> ul > li").not(i.o).length:i.cr.find("> ul > li").not(i.o).length,o+i.o.length>s))return!1;if(-2!==n.max_depth&&-1!==a){if(l=0,0===a)return!1;if("undefined"==typeof i.o.d){for(e=i.o;e.length>0;)e=e.find("> ul > li"),l++;i.o.d=l}if(a-i.o.d<0)return!1}return!0},create_node:function(e,i,n,s,a,r){if(!r&&(a||this._is_loaded(e))){var o,l="string"==typeof i&&i.match(/^before|after$/i)&&-1!==e?this._get_parent(e):this._get_node(e),c=this._get_settings().types,h=this._check("max_children",l),u=this._check("max_depth",l),d=this._check("valid_children",l);if("string"==typeof n&&(n={data:n}),n||(n={}),"none"===d)return!1;if(t.isArray(d))if(n.attr&&n.attr[c.type_attr]){if(-1===t.inArray(n.attr[c.type_attr],d))return!1}else n.attr||(n.attr={}),n.attr[c.type_attr]=d[0];if(-2!==c.max_children&&-1!==h&&(o=-1===l?this.get_container().find("> ul > li").length:l.find("> ul > li").length,o+1>h))return!1;if(-2!==c.max_depth&&-1!==u&&0>u-1)return!1}return this.__call_old(!0,e,i,n,s,a,r)}}})}(jQuery),function(e){e.jstree.plugin("html_data",{__init:function(){this.data.html_data.original_container_html=this.get_container().find(" > ul > li").clone(!0),this.data.html_data.original_container_html.find("li").andSelf().contents().filter(function(){return 3==this.nodeType}).remove()},defaults:{data:!1,ajax:!1,correct_state:!0},_fn:{load_node:function(e,t,i){var n=this;this.load_node_html(e,function(){n.__callback({obj:n._get_node(e)}),t.call(this)},i)},_is_loaded:function(t){return t=this._get_node(t),-1==t||!t||!this._get_settings().html_data.ajax&&!e.isFunction(this._get_settings().html_data.data)||t.is(".jstree-open, .jstree-leaf")||t.children("ul").children("li").size()>0},load_node_html:function(t,i,n){var s,a=this.get_settings().html_data,r=function(){},o=function(){};if(t=this._get_node(t),t&&-1!==t){if(t.data("jstree-is-loading"))return;t.data("jstree-is-loading",!0)}switch(!0){case e.isFunction(a.data):a.data.call(this,t,e.proxy(function(n){n&&""!==n&&n.toString&&""!==n.toString().replace(/^[\s\n]+$/,"")?(n=e(n),n.is("ul")||(n=e("<ul />").append(n)),-1!=t&&t?(t.children("a.jstree-loading").removeClass("jstree-loading"),t.append(n).children("ul").find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),t.removeData("jstree-is-loading")):this.get_container().children("ul").empty().append(n.children()).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),this.clean_node(t),i&&i.call(this)):t&&-1!==t?(t.children("a.jstree-loading").removeClass("jstree-loading"),t.removeData("jstree-is-loading"),a.correct_state&&(this.correct_state(t),i&&i.call(this))):a.correct_state&&(this.get_container().children("ul").empty(),i&&i.call(this))},this));break;case!a.data&&!a.ajax:t&&-1!=t||(this.get_container().children("ul").empty().append(this.data.html_data.original_container_html).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),this.clean_node()),i&&i.call(this);break;case!!a.data&&!a.ajax||!!a.data&&!!a.ajax&&(!t||-1===t):t&&-1!=t||(s=e(a.data),s.is("ul")||(s=e("<ul />").append(s)),this.get_container().children("ul").empty().append(s.children()).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),this.clean_node()),i&&i.call(this);break;case!a.data&&!!a.ajax||!!a.data&&!!a.ajax&&t&&-1!==t:t=this._get_node(t),r=function(e,i,s){var r=this.get_settings().html_data.ajax.error;r&&r.call(this,e,i,s),-1!=t&&t.length?(t.children("a.jstree-loading").removeClass("jstree-loading"),t.removeData("jstree-is-loading"),"success"===i&&a.correct_state&&this.correct_state(t)):"success"===i&&a.correct_state&&this.get_container().children("ul").empty(),n&&n.call(this)},o=function(n,s,o){var l=this.get_settings().html_data.ajax.success;return l&&(n=l.call(this,n,s,o)||n),""===n||n&&n.toString&&""===n.toString().replace(/^[\s\n]+$/,"")?r.call(this,o,s,""):(n?(n=e(n),n.is("ul")||(n=e("<ul />").append(n)),-1!=t&&t?(t.children("a.jstree-loading").removeClass("jstree-loading"),t.append(n).children("ul").find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),t.removeData("jstree-is-loading")):this.get_container().children("ul").empty().append(n.children()).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),this.clean_node(t),i&&i.call(this)):t&&-1!==t?(t.children("a.jstree-loading").removeClass("jstree-loading"),t.removeData("jstree-is-loading"),a.correct_state&&(this.correct_state(t),i&&i.call(this))):a.correct_state&&(this.get_container().children("ul").empty(),i&&i.call(this)),void 0)},a.ajax.context=this,a.ajax.error=r,a.ajax.success=o,a.ajax.dataType||(a.ajax.dataType="html"),e.isFunction(a.ajax.url)&&(a.ajax.url=a.ajax.url.call(this,t)),e.isFunction(a.ajax.data)&&(a.ajax.data=a.ajax.data.call(this,t)),e.ajax(a.ajax)}}}}),e.jstree.defaults.plugins.push("html_data")}(jQuery),function(e){e.jstree.plugin("themeroller",{__init:function(){var t=this._get_settings().themeroller;this.get_container().addClass("ui-widget-content").addClass("jstree-themeroller").delegate("a","mouseenter.jstree",function(i){e(i.currentTarget).hasClass("jstree-loading")||e(this).addClass(t.item_h)}).delegate("a","mouseleave.jstree",function(){e(this).removeClass(t.item_h)}).bind("init.jstree",e.proxy(function(e,t){t.inst.get_container().find("> ul > li > .jstree-loading > ins").addClass("ui-icon-refresh"),this._themeroller(t.inst.get_container().find("> ul > li"))},this)).bind("open_node.jstree create_node.jstree",e.proxy(function(e,t){this._themeroller(t.rslt.obj)},this)).bind("loaded.jstree refresh.jstree",e.proxy(function(){this._themeroller()},this)).bind("close_node.jstree",e.proxy(function(e,t){this._themeroller(t.rslt.obj)},this)).bind("delete_node.jstree",e.proxy(function(e,t){this._themeroller(t.rslt.parent)},this)).bind("correct_state.jstree",e.proxy(function(e,i){i.rslt.obj.children("ins.jstree-icon").removeClass(t.opened+" "+t.closed+" ui-icon").end().find("> a > ins.ui-icon").filter(function(){return-1===this.className.toString().replace(t.item_clsd,"").replace(t.item_open,"").replace(t.item_leaf,"").indexOf("ui-icon-")}).removeClass(t.item_open+" "+t.item_clsd).addClass(t.item_leaf||"jstree-no-icon")},this)).bind("select_node.jstree",e.proxy(function(e,i){i.rslt.obj.children("a").addClass(t.item_a)},this)).bind("deselect_node.jstree deselect_all.jstree",e.proxy(function(){this.get_container().find("a."+t.item_a).removeClass(t.item_a).end().find("a.jstree-clicked").addClass(t.item_a)},this)).bind("dehover_node.jstree",e.proxy(function(e,i){i.rslt.obj.children("a").removeClass(t.item_h)},this)).bind("hover_node.jstree",e.proxy(function(e,i){this.get_container().find("a."+t.item_h).not(i.rslt.obj).removeClass(t.item_h),i.rslt.obj.children("a").addClass(t.item_h)},this)).bind("move_node.jstree",e.proxy(function(e,t){this._themeroller(t.rslt.o),this._themeroller(t.rslt.op)},this))},__destroy:function(){var t=this._get_settings().themeroller,i=["ui-icon"];e.each(t,function(e,t){t=t.split(" "),t.length&&(i=i.concat(t))}),this.get_container().removeClass("ui-widget-content").find("."+i.join(", .")).removeClass(i.join(" "))},_fn:{_themeroller:function(e){var t=this._get_settings().themeroller;e=e&&-1!=e?this._get_node(e).parent():this.get_container_ul(),e.find("li.jstree-closed").children("ins.jstree-icon").removeClass(t.opened).addClass("ui-icon "+t.closed).end().children("a").addClass(t.item).children("ins.jstree-icon").addClass("ui-icon").filter(function(){return-1===this.className.toString().replace(t.item_clsd,"").replace(t.item_open,"").replace(t.item_leaf,"").indexOf("ui-icon-")}).removeClass(t.item_leaf+" "+t.item_open).addClass(t.item_clsd||"jstree-no-icon").end().end().end().end().find("li.jstree-open").children("ins.jstree-icon").removeClass(t.closed).addClass("ui-icon "+t.opened).end().children("a").addClass(t.item).children("ins.jstree-icon").addClass("ui-icon").filter(function(){return-1===this.className.toString().replace(t.item_clsd,"").replace(t.item_open,"").replace(t.item_leaf,"").indexOf("ui-icon-")}).removeClass(t.item_leaf+" "+t.item_clsd).addClass(t.item_open||"jstree-no-icon").end().end().end().end().find("li.jstree-leaf").children("ins.jstree-icon").removeClass(t.closed+" ui-icon "+t.opened).end().children("a").addClass(t.item).children("ins.jstree-icon").addClass("ui-icon").filter(function(){return-1===this.className.toString().replace(t.item_clsd,"").replace(t.item_open,"").replace(t.item_leaf,"").indexOf("ui-icon-")}).removeClass(t.item_clsd+" "+t.item_open).addClass(t.item_leaf||"jstree-no-icon")}},defaults:{opened:"ui-icon-triangle-1-se",closed:"ui-icon-triangle-1-e",item:"ui-state-default",item_h:"ui-state-hover",item_a:"ui-state-active",item_open:"ui-icon-folder-open",item_clsd:"ui-icon-folder-collapsed",item_leaf:"ui-icon-document"}}),e(function(){var t=".jstree-themeroller .ui-icon { overflow:visible; } .jstree-themeroller a { padding:0 2px; } .jstree-themeroller .jstree-no-icon { display:none; }";e.vakata.css.add_sheet({str:t,title:"jstree"})})}(jQuery),function(e){e.jstree.plugin("unique",{__init:function(){this.get_container().bind("before.jstree",e.proxy(function(t,i){var n,s,a=[],r=!0;return"move_node"==i.func&&i.args[4]===!0&&i.args[0].o&&i.args[0].o.length&&(i.args[0].o.children("a").each(function(){a.push(e(this).text().replace(/^\s+/g,""))}),r=this._check_unique(a,i.args[0].np.find("> ul > li").not(i.args[0].o),"move_node")),"create_node"==i.func&&(i.args[4]||this._is_loaded(i.args[0]))&&(n=this._get_node(i.args[0]),!i.args[1]||"before"!==i.args[1]&&"after"!==i.args[1]||(n=this._get_parent(i.args[0]),n&&-1!==n||(n=this.get_container())),"string"==typeof i.args[2]?a.push(i.args[2]):i.args[2]&&i.args[2].data?a.push(i.args[2].data):a.push(this._get_string("new_node")),r=this._check_unique(a,n.find("> ul > li"),"create_node")),"rename_node"==i.func&&(a.push(i.args[1]),s=this._get_node(i.args[0]),n=this._get_parent(s),n&&-1!==n||(n=this.get_container()),r=this._check_unique(a,n.find("> ul > li").not(s),"rename_node")),r?void 0:(t.stopPropagation(),!1)},this))},defaults:{error_callback:e.noop},_fn:{_check_unique:function(t,i,n){var s=[];return i.children("a").each(function(){s.push(e(this).text().replace(/^\s+/g,""))}),s.length&&t.length?(s=s.sort().join(",,").replace(/(,|^)([^,]+)(,,\2)+(,|$)/g,"$1$2$4").replace(/,,+/g,",").replace(/,$/,"").split(","),s.length+t.length!=s.concat(t).sort().join(",,").replace(/(,|^)([^,]+)(,,\2)+(,|$)/g,"$1$2$4").replace(/,,+/g,",").replace(/,$/,"").split(",").length?(this._get_settings().unique.error_callback.call(null,t,i,n),!1):!0):!0},check_move:function(){if(!this.__call_old())return!1;var t=this._get_move(),i=[];return t.o&&t.o.length?(t.o.children("a").each(function(){i.push(e(this).text().replace(/^\s+/g,""))}),this._check_unique(i,t.np.find("> ul > li").not(t.o),"check_move")):!0}}})}(jQuery),function(n){n.jstree.plugin("wholerow",{__init:function(){if(!this.data.ui)throw"jsTree wholerow: jsTree UI plugin not included.";this.data.wholerow.html=!1,this.data.wholerow.to=!1,this.get_container().bind("init.jstree",n.proxy(function(){this._get_settings().core.animation=0},this)).bind("open_node.jstree create_node.jstree clean_node.jstree loaded.jstree",n.proxy(function(e,t){this._prepare_wholerow_span(t&&t.rslt&&t.rslt.obj?t.rslt.obj:-1)},this)).bind("search.jstree clear_search.jstree reopen.jstree after_open.jstree after_close.jstree create_node.jstree delete_node.jstree clean_node.jstree",n.proxy(function(e,t){this.data.to&&clearTimeout(this.data.to),this.data.to=setTimeout(function(e,t){return function(){e._prepare_wholerow_ul(t)}}(this,t&&t.rslt&&t.rslt.obj?t.rslt.obj:-1),0)},this)).bind("deselect_all.jstree",n.proxy(function(){this.get_container().find(" > .jstree-wholerow .jstree-clicked").removeClass("jstree-clicked "+(this.data.themeroller?this._get_settings().themeroller.item_a:""))},this)).bind("select_node.jstree deselect_node.jstree ",n.proxy(function(e,t){t.rslt.obj.each(function(){var e=t.inst.get_container().find(" > .jstree-wholerow li:visible:eq("+parseInt((n(this).offset().top-t.inst.get_container().offset().top+t.inst.get_container()[0].scrollTop)/t.inst.data.core.li_height,10)+")");e.children("a").attr("class",t.rslt.obj.children("a").attr("class"))})},this)).bind("hover_node.jstree dehover_node.jstree",n.proxy(function(e,t){if(this.get_container().find(" > .jstree-wholerow .jstree-hovered").removeClass("jstree-hovered "+(this.data.themeroller?this._get_settings().themeroller.item_h:"")),"hover_node"===e.type){var i=this.get_container().find(" > .jstree-wholerow li:visible:eq("+parseInt((t.rslt.obj.offset().top-this.get_container().offset().top+this.get_container()[0].scrollTop)/this.data.core.li_height,10)+")");i.children("a").attr("class",t.rslt.obj.children(".jstree-hovered").attr("class"))}},this)).delegate(".jstree-wholerow-span, ins.jstree-icon, li","click.jstree",function(e){var t=n(e.currentTarget);"A"===e.target.tagName||"INS"===e.target.tagName&&t.closest("li").is(".jstree-open, .jstree-closed")||(t.closest("li").children("a:visible:eq(0)").click(),e.stopImmediatePropagation())}).delegate("li","mouseover.jstree",n.proxy(function(e){return e.stopImmediatePropagation(),n(e.currentTarget).children(".jstree-hovered, .jstree-clicked").length?!1:(this.hover_node(e.currentTarget),!1)},this)).delegate("li","mouseleave.jstree",n.proxy(function(e){n(e.currentTarget).children("a").hasClass("jstree-hovered").length||this.dehover_node(e.currentTarget)},this)),(t||e)&&n.vakata.css.add_sheet({str:".jstree-"+this.get_index()+" { position:relative; } ",title:"jstree"})},defaults:{},__destroy:function(){this.get_container().children(".jstree-wholerow").remove(),this.get_container().find(".jstree-wholerow-span").remove()},_fn:{_prepare_wholerow_span:function(e){e=e&&-1!=e?this._get_node(e):this.get_container().find("> ul > li"),e!==!1&&e.each(function(){n(this).find("li").andSelf().each(function(){var e=n(this);return e.children(".jstree-wholerow-span").length?!0:(e.prepend("<span class='jstree-wholerow-span' style='width:"+18*e.parentsUntil(".jstree","li").length+"px;'>&#160;</span>"),void 0)})})},_prepare_wholerow_ul:function(){var e=this.get_container().children("ul").eq(0),i=e.html();e.addClass("jstree-wholerow-real"),this.data.wholerow.last_html!==i&&(this.data.wholerow.last_html=i,this.get_container().children(".jstree-wholerow").remove(),this.get_container().append(e.clone().removeClass("jstree-wholerow-real").wrapAll("<div class='jstree-wholerow' />").parent().width(e.parent()[0].scrollWidth).css("top",-1*(e.height()+(t?5:0))).find("li[id]").each(function(){this.removeAttribute("id")}).end()))}}}),n(function(){var s=".jstree .jstree-wholerow-real { position:relative; z-index:1; } .jstree .jstree-wholerow-real li { cursor:pointer; } .jstree .jstree-wholerow-real a { border-left-color:transparent !important; border-right-color:transparent !important; } .jstree .jstree-wholerow { position:relative; z-index:0; height:0; } .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li { width:100%; } .jstree .jstree-wholerow, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li, .jstree .jstree-wholerow a { margin:0 !important; padding:0 !important; } .jstree .jstree-wholerow, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li { background:transparent !important; }.jstree .jstree-wholerow ins, .jstree .jstree-wholerow span, .jstree .jstree-wholerow input { display:none !important; }.jstree .jstree-wholerow a, .jstree .jstree-wholerow a:hover { text-indent:-9999px; !important; width:100%; padding:0 !important; border-right-width:0px !important; border-left-width:0px !important; } .jstree .jstree-wholerow-span { position:absolute; left:0; margin:0px; padding:0; height:18px; border-width:0; padding:0; z-index:0; }";i&&(s+=".jstree .jstree-wholerow a { display:block; height:18px; margin:0; padding:0; border:0; } .jstree .jstree-wholerow-real a { border-color:transparent !important; } "),(t||e)&&(s+=".jstree .jstree-wholerow, .jstree .jstree-wholerow li, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow a { margin:0; padding:0; line-height:18px; } .jstree .jstree-wholerow a { display:block; height:18px; line-height:18px; overflow:hidden; } "),n.vakata.css.add_sheet({str:s,title:"jstree"})})}(jQuery),function(e){var t=["getChildren","getChildrenCount","getAttr","getName","getProps"],i=function(t,i){var n=!0;return t=t||{},i=[].concat(i),e.each(i,function(i,s){return e.isFunction(t[s])?void 0:(n=!1,!1)}),n};e.jstree.plugin("model",{__init:function(){if(!this.data.json_data)throw"jsTree model: jsTree json_data plugin not included.";this._get_settings().json_data.data=function(n,s){var a=-1==n?this._get_settings().model.object:n.data("jstree_model");return i(a,t)?(this._get_settings().model.async?a.getChildren(e.proxy(function(e){this.model_done(e,s)},this)):this.model_done(a.getChildren(),s),void 0):s.call(null,!1)}},defaults:{object:!1,id_prefix:!1,async:!1},_fn:{model_done:function(t,i){var n=[],s=this._get_settings(),a=this;e.isArray(t)||(t=[t]),e.each(t,function(t,i){var r=i.getProps()||{};r.attr=i.getAttr()||{},i.getChildrenCount()&&(r.state="closed"),r.data=i.getName(),e.isArray(r.data)||(r.data=[r.data]),a.data.types&&e.isFunction(i.getType)&&(r.attr[s.types.type_attr]=i.getType()),r.attr.id&&s.model.id_prefix&&(r.attr.id=s.model.id_prefix+r.attr.id),r.metadata||(r.metadata={}),r.metadata.jstree_model=i,n.push(r)}),i.call(null,n)}}})}(jQuery)}}(),// is copyright 2008 A Beautiful Site, LLC. 
function(e){e.alerts={verticalOffset:-75,horizontalOffset:0,repositionOnResize:!0,overlayOpacity:.01,overlayColor:"#FFF",draggable:!0,okButton:"&nbsp;OK&nbsp;",cancelButton:"&nbsp;Cancel&nbsp;",dialogClass:null,alert:function(t,i,n){null==i&&(i="Alert"),e.alerts._show(i,t,null,"alert",function(e){n&&n(e)})},confirm:function(t,i,n){null==i&&(i="Confirm"),e.alerts._show(i,t,null,"confirm",function(e){n&&n(e)})},prompt:function(t,i,n,s){null==n&&(n="Prompt"),e.alerts._show(n,t,i,"prompt",function(e){s&&s(e)})},_show:function(t,i,n,s,a){e.alerts._hide(),e.alerts._overlay("show"),e("BODY").append('<div id="popup_container"><h1 id="popup_title"></h1><div id="popup_content"><div id="popup_message"></div></div></div>'),e.alerts.dialogClass&&e("#popup_container").addClass(e.alerts.dialogClass);var r=e.browser.msie&&parseInt(e.browser.version)<=6?"absolute":"fixed";switch(e("#popup_container").css({position:r,zIndex:99999,padding:0,margin:0}),e("#popup_title").text(t),e("#popup_content").addClass(s),e("#popup_message").text(i),e("#popup_message").html(e("#popup_message").text().replace(/\n/g,"<br />")),e("#popup_container").css({minWidth:e("#popup_container").outerWidth(),maxWidth:e("#popup_container").outerWidth()}),e.alerts._reposition(),e.alerts._maintainPosition(!0),s){case"alert":e("#popup_message").after('<div id="popup_panel"><input type="button" value="'+e.alerts.okButton+'" id="popup_ok" /></div>'),e("#popup_ok").click(function(){e.alerts._hide(),a(!0)}),e("#popup_ok").focus().keypress(function(t){(13==t.keyCode||27==t.keyCode)&&e("#popup_ok").trigger("click")});break;case"confirm":e("#popup_message").after('<div id="popup_panel"><input type="button" value="'+e.alerts.okButton+'" id="popup_ok" /> <input type="button" value="'+e.alerts.cancelButton+'" id="popup_cancel" /></div>'),e("#popup_ok").click(function(){e.alerts._hide(),a&&a(!0)}),e("#popup_cancel").click(function(){e.alerts._hide(),a&&a(!1)}),e("#popup_ok").focus(),e("#popup_ok, #popup_cancel").keypress(function(t){13==t.keyCode&&e("#popup_ok").trigger("click"),27==t.keyCode&&e("#popup_cancel").trigger("click")});break;case"prompt":e("#popup_message").append('<br /><input type="text" size="30" id="popup_prompt" />').after('<div id="popup_panel"><input type="button" value="'+e.alerts.okButton+'" id="popup_ok" /> <input type="button" value="'+e.alerts.cancelButton+'" id="popup_cancel" /></div>'),e("#popup_prompt").width(e("#popup_message").width()),e("#popup_ok").click(function(){var t=e("#popup_prompt").val();e.alerts._hide(),a&&a(t)}),e("#popup_cancel").click(function(){e.alerts._hide(),a&&a(null)}),e("#popup_prompt, #popup_ok, #popup_cancel").keypress(function(t){13==t.keyCode&&e("#popup_ok").trigger("click"),27==t.keyCode&&e("#popup_cancel").trigger("click")}),n&&e("#popup_prompt").val(n),e("#popup_prompt").focus().select()}if(e.alerts.draggable)try{e("#popup_container").draggable({handle:e("#popup_title")}),e("#popup_title").css({cursor:"move"})}catch(o){}},_hide:function(){e("#popup_container").remove(),e.alerts._overlay("hide"),e.alerts._maintainPosition(!1)},_overlay:function(t){switch(t){case"show":e.alerts._overlay("hide"),e("BODY").append('<div id="popup_overlay"></div>'),e("#popup_overlay").css({position:"absolute",zIndex:99998,top:"0px",left:"0px",width:"100%",height:e(document).height(),background:e.alerts.overlayColor,opacity:e.alerts.overlayOpacity});break;case"hide":e("#popup_overlay").remove()}},_reposition:function(){var t=e(window).height()/2-e("#popup_container").outerHeight()/2+e.alerts.verticalOffset,i=e(window).width()/2-e("#popup_container").outerWidth()/2+e.alerts.horizontalOffset;0>t&&(t=0),0>i&&(i=0),e.browser.msie&&parseInt(e.browser.version)<=6&&(t+=e(window).scrollTop()),e("#popup_container").css({top:t+"px",left:i+"px"}),e("#popup_overlay").height(e(document).height())},_maintainPosition:function(t){if(e.alerts.repositionOnResize)switch(t){case!0:e(window).bind("resize",e.alerts._reposition);break;case!1:e(window).unbind("resize",e.alerts._reposition)}}},jAlert=function(t,i,n){e.alerts.alert(t,i,n)},jConfirm=function(t,i,n){e.alerts.confirm(t,i,n)},jPrompt=function(t,i,n,s){e.alerts.prompt(t,i,n,s)}}(jQuery);var update_state=function(e){var t=$("span#"+e+"country :only-child").val(),i=state_mapper[t],n=$("span#"+e+"state select"),s=$("span#"+e+"state input");if(i){n.html("");var a=[["",""]].concat(i);$.each(a,function(e,t){var i=$(document.createElement("option")).attr("value",t[0]).html(t[1]);n.append(i)}),n.prop("disabled",!1).show(),s.hide().prop("disabled",!0)}else s.prop("disabled",!1).show(),n.hide().prop("disabled",!0)};$(document).ajaxStart(function(){$("#progress").slideDown()}),$(document).ajaxStop(function(){$("#progress").slideUp()}),$.fn.visible=function(e){this[e?"show":"hide"]()},show_flash_error=function(e){error_div=$(".flash.error"),error_div.length>0?(error_div.html(e),error_div.show()):$("#content .toolbar").length>0?$("#content .toolbar").before('<div class="flash error">'+e+"</div>"):$("#content h1").before('<div class="flash error">'+e+"</div>")},$.fn.radioControlsVisibilityOfElement=function(e){this.get(0)&&(showValue=this.get(0).value,radioGroup=$("input[name='"+this.get(0).name+"']"),radioGroup.each(function(){$(this).click(function(){$(e).visible(this.checked&&this.value==showValue)}),this.checked&&this.click()}))},$.fn.objectPicker=function(e){$(this).tokenInput(e+"&authenticity_token="+escape(AUTH_TOKEN),{searchDelay:600,hintText:strings.type_to_search,noResultsText:strings.no_results,searchingText:strings.searching,prePopulateFromInput:!0})},$.fn.productPicker=function(){$(this).objectPicker(Spree.routes.product_search_basic)},handle_date_picker_fields=function(){$(".datepicker").datepicker({dateFormat:"yy/mm/dd",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesMin:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],prevText:"Previous",nextText:"Next",showOn:"button",buttonImage:"/assets/datepicker/cal-eab014b80b092f262347ab1ebd0e66b0.gif",buttonImageOnly:!0})},$(document).ready(function(){handle_date_picker_fields(),$(".observe_field").on("change",function(){target=$(this).attr("data-update"),ajax_indicator=$(this).attr("data-ajax-indicator")||"#busy_indicator",$(target).hide(),$(ajax_indicator).show(),$.ajax({dataType:"html",url:$(this).attr("data-base-url")+encodeURIComponent($(this).val()),type:"get",success:function(e){$(target).html(e),$(ajax_indicator).hide(),$(target).show()}})}),$(".add_fields").click(function(){var e=$(this).data("target"),t=$(e+" tr:visible:last").clone(),i=(new Date).getTime();t.find("input").each(function(){var e=$(this);e.val(""),e.attr("id",e.attr("id").replace(/\d+/,i)),e.attr("name",e.attr("name").replace(/\d+/,i))}),$(e).append(t)}),$("body").on("click",".delete-resource",function(){var e=$(this);return confirm(e.data("confirm"))&&$.ajax({type:"POST",url:$(this).attr("href"),data:{_method:"delete",authenticity_token:AUTH_TOKEN},dataType:"script",success:function(){e.parents("tr").fadeOut("hide")},error:function(e){show_flash_error(e.responseText)}}),!1}),$("body").on("click","a.remove_fields",function(){return $(this).prev("input[type=hidden]").val("1"),$(this).closest(".fields").hide(),!1}),$(".tokeninput.products").productPicker(),$("body").on("click",".select_properties_from_prototype",function(){$("#busy_indicator").show();var e=$(this);return $.ajax({dataType:"script",url:e.attr("href"),type:"get",success:function(){e.parent("td").parent("tr").hide(),$("#busy_indicator").hide()}}),!1}),$("table.sortable").ready(function(){$("table.sortable tbody").sortable({handle:".handle",update:function(e,t){$("#progress").show(),positions={},$.each($("table.sortable tbody tr"),function(e,t){reg=/spree_(\w+_?)+_(\d+)/,parts=reg.exec($(t).attr("id")),parts&&(positions["positions["+parts[2]+"]"]=e)}),$.ajax({type:"POST",dataType:"script",url:$(t.item).closest("table.sortable").data("sortable-link"),data:positions,success:function(){$("#progress").hide()}})}})}),$("a.dismiss").click(function(){$(this).parent().fadeOut()})}),image_html=function(e){return"<img src='"+e.images[0].mini_url+"'/>"},format_product_autocomplete=function(e){var t="",i=e.data.product;if(void 0==e.data.variant)0!=i.images.length&&(t=image_html(i)),t+="<div><h4>"+i.name+"</h4>",i.master&&(t+="<span><strong>SKU: </strong>"+i.master.sku+"</span>"),t+="<span><strong>On Hand: </strong>"+i.count_on_hand+"</span></div>";else{var n=e.data.variant,s=e.data.product.name;0!=n.images.length?t=image_html(n):0!=i.images.length&&(t=image_html(i)),s+=" - "+$.map(n.option_values,function(e){return e.option_type.presentation+": "+e.presentation}).join(", "),t+="<div><h4>"+s+"</h4>",t+="<span><strong>SKU: </strong>"+n.sku+"</span>",t+="<span><strong>On Hand: </strong>"+n.count_on_hand+"</span></div>"}return t},prep_product_autocomplete_data=function(data){return $.map(eval(data),function(e){var t=e.product;return t.variants.length>0?$.map(t.variants,function(e){var i=t.name;return i+=" - "+$.map(e.option_values,function(e){return e.option_type.presentation+": "+e.presentation}).join(", "),{data:{product:t,variant:e},value:i,result:i}}):{data:{product:t},value:t.name,result:t.name}})},$.fn.product_autocomplete=function(){return this.each(function(){$(this).autocomplete({source:function(e,t){$.get(Spree.routes.product_search+"?"+jQuery.param({q:$(".product_autocomplete").val(),authenticity_token:encodeURIComponent($("meta[name=csrf-token]").attr("content"))}),function(e){result=prep_product_autocomplete_data(e),t(result)})},minLength:4,focus:function(e,t){return $(".product_autocomplete").val(t.item.label),!1},select:function(e,t){return $(".product_autocomplete").val(t.item.label),product=t.item.data,void 0==product.variant?$("#add_variant_id").val(product.product.master.id):$("#add_variant_id").val(product.variant.id),!1}}).data("autocomplete")._renderItem=function(e,t){return $(e).addClass("ac_results"),html=format_product_autocomplete(t),$("<li></li>").data("item.autocomplete",t).append("<a>"+html+"</a>").appendTo(e)},$(this).data("autocomplete")._resizeMenu=function(){var e=this.menu.element;e.outerWidth(this.element.outerWidth())}})},/*
 Copyright 2012 Igor Vaynberg
 
 Version: 2.1 Timestamp: Tue Jun 12 19:50:25 PDT 2012

 Licensed under the Apache License, Version 2.0 (the "License"); you may not use this work except in
 compliance with the License. You may obtain a copy of the License in the LICENSE file, or at:

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software distributed under the License is
 distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and limitations under the License.
 */
function(e,t){"use strict";function i(e,t){var i,n=0,s=t.length;if("undefined"==typeof e)return-1;if(e.constructor===String){for(;s>n;n+=1)if(0===e.localeCompare(t[n]))return n}else for(;s>n;n+=1)if(i=t[n],i.constructor===String){if(0===i.localeCompare(e))return n}else if(i===e)return n;return-1}function n(e,i){return e===i?!0:e===t||i===t?!1:null===e||null===i?!1:e.constructor===String?0===e.localeCompare(i):i.constructor===String?0===i.localeCompare(e):!1}function s(t,i){var n,s,a;if(null===t||t.length<1)return[];for(n=t.split(i),s=0,a=n.length;a>s;s+=1)n[s]=e.trim(n[s]);return n}function a(e){return e.outerWidth()-e.width()}function r(e){e.bind("keydown",function(){e.data("keyup-change-value",e.val())}),e.bind("keyup",function(){e.val()!==e.data("keyup-change-value")&&e.trigger("keyup-change")})}function o(i){i.bind("mousemove",function(i){var n=e(document).data("select2-lastpos");(n===t||n.x!==i.pageX||n.y!==i.pageY)&&e(i.target).trigger("mousemove-filtered",i)})}function l(e,t){var i;return function(){window.clearTimeout(i),i=window.setTimeout(t,e)}}function c(e,t){var n=l(e,function(e){t.trigger("scroll-debounced",e)});t.bind("scroll",function(e){i(e.target,t.get())>=0&&n(e)})}function h(e){e.preventDefault(),e.stopPropagation()}function u(t){var i,n;return i=e("<div></div>").css({position:"absolute",left:"-1000px",top:"-1000px",display:"none",fontSize:t.css("fontSize"),fontFamily:t.css("fontFamily"),fontStyle:t.css("fontStyle"),fontWeight:t.css("fontWeight"),letterSpacing:t.css("letterSpacing"),textTransform:t.css("textTransform"),whiteSpace:"nowrap"}),i.text(t.val()),e("body").append(i),n=i.width(),i.remove(),n}function d(t){var i,n=0,s=null,a=t.quietMillis||100;return function(r){window.clearTimeout(i),i=window.setTimeout(function(){n+=1;var i=n,a=t.data,o=t.transport||e.ajax;a=a.call(this,r.term,r.page,r.context),null!==s&&s.abort(),s=o.call(null,{url:t.url,dataType:t.dataType,data:a,success:function(e){if(!(n>i)){var s=t.results(e,r.page);r.callback(s)}}})},a)}}function f(t){var i=t,n=function(e){return""+e.text};return e.isArray(i)||(n=i.text,e.isFunction(n)||(n=function(e){return e[i.text]}),i=i.results),function(t){var s=t.term,a={};return""===s?(t.callback({results:i}),void 0):(a.results=e(i).filter(function(){return t.matcher(s,n(this))}).get(),t.callback(a),void 0)}}function p(i){return e.isFunction(i)?i:function(n){var s=n.term,a={results:[]};e(i).each(function(){var e=this.text!==t,i=e?this.text:this;(""===s||n.matcher(s,i))&&a.results.push(e?this:{id:this,text:this})}),n.callback(a)}}function g(t,i){var n=function(){};return n.prototype=new t,n.prototype.constructor=n,n.prototype.parent=t.prototype,n.prototype=e.extend(n.prototype,i),n}if(window.Select2===t){var m,v,b,y;m={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case m.LEFT:case m.RIGHT:case m.UP:case m.DOWN:return!0}return!1},isControl:function(e){switch(e=e.which?e.which:e){case m.SHIFT:case m.CTRL:case m.ALT:return!0}return!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e}},e(document).delegate("*","mousemove",function(t){e(document).data("select2-lastpos",{x:t.pageX,y:t.pageY})}),e(document).ready(function(){e(document).delegate("*","mousedown focusin touchend",function(t){var i=e(t.target).closest("div.select2-container").get(0);e(document).find("div.select2-container-active").each(function(){this!==i&&e(this).data("select2").blur()})})}),v=g(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(i){var n,s,a=".select2-results";this.opts=i=this.prepareOpts(i),this.id=i.id,i.element.data("select2")!==t&&null!==i.element.data("select2")&&this.destroy(),this.enabled=!0,this.container=this.createContainer(),i.element.attr("class")!==t&&this.container.addClass(i.element.attr("class")),this.opts.element.data("select2",this).hide().after(this.container),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),this.results=n=this.container.find(a),this.search=s=this.container.find("input[type=text]"),this.resultsPage=0,this.context=null,this.initContainer(),o(this.results),this.container.delegate(a,"mousemove-filtered",this.bind(this.highlightUnderEvent)),c(80,this.results),this.container.delegate(a,"scroll-debounced",this.bind(this.loadMoreIfNeeded)),e.fn.mousewheel&&n.mousewheel(function(e,t,i,s){var a=n.scrollTop();s>0&&0>=a-s?(n.scrollTop(0),h(e)):0>s&&n.get(0).scrollHeight-n.scrollTop()+s<=n.height()&&(n.scrollTop(n.get(0).scrollHeight-n.height()),h(e))}),r(s),s.bind("keyup-change",this.bind(this.updateResults)),s.bind("focus",function(){s.addClass("select2-focused")}),s.bind("blur",function(){s.removeClass("select2-focused")}),this.container.delegate(a,"click",this.bind(function(t){e(t.target).closest(".select2-result:not(.select2-disabled)").length>0?(this.highlightUnderEvent(t),this.selectHighlighted(t)):(h(t),this.focusSearch())})),e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),i.element.is(":disabled")&&this.disable()},destroy:function(){var e=this.opts.element.data("select2");e!==t&&(e.container.remove(),e.opts.element.removeData("select2").unbind(".select2").show())},prepareOpts:function(i){var n,a,r;if(n=i.element,"select"===n.get(0).tagName.toLowerCase()&&(this.select=a=i.element),a&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in i)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),i=e.extend({},{formatResult:function(e){return e.text},formatSelection:function(e){return e.text},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(e,t){return"Please enter "+(t-e.length)+" more characters"},minimumResultsForSearch:0,minimumInputLength:0,id:function(e){return e.id},matcher:function(e,t){return t.toUpperCase().indexOf(e.toUpperCase())>=0}},i),"function"!=typeof i.id&&(r=i.id,i.id=function(e){return e[r]}),a?(i.query=this.bind(function(i){var s={results:[],more:!1},a=i.term,r=this.getPlaceholder();n.find("option").each(function(n){var o=e(this),l=o.text();return 0===n&&r!==t&&""===l?!0:(i.matcher(a,l)&&s.results.push({id:o.attr("value"),text:l}),void 0)}),i.callback(s)}),i.id=function(e){return e.id}):"query"in i||("ajax"in i?i.query=d(i.ajax):"data"in i?i.query=f(i.data):"tags"in i&&(i.query=p(i.tags),i.createSearchChoice=function(e){return{id:e,text:e}},i.initSelection=function(t){var i=[];return e(s(t.val(),",")).each(function(){i.push({id:this,text:this})}),i})),"function"!=typeof i.query)throw"query function not defined for Select2 "+i.element.attr("id");return i},monitorSource:function(){this.opts.element.bind("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()}))},triggerChange:function(){this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger("change"),this.opts.element.data("select2-change-triggered",!1)},enable:function(){this.enabled||(this.enabled=!0,this.container.removeClass("select2-container-disabled"))},disable:function(){this.enabled&&(this.close(),this.enabled=!1,this.container.addClass("select2-container-disabled"))},opened:function(){return this.container.hasClass("select2-dropdown-open")},open:function(){this.opened()||(this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.updateResults(!0),this.dropdown.show(),this.ensureHighlightVisible(),this.focusSearch())},close:function(){this.opened()&&(this.dropdown.hide(),this.container.removeClass("select2-dropdown-open"),this.results.empty(),this.clearSearch())},clearSearch:function(){},ensureHighlightVisible:function(){var t,i,n,s,a,r,o,l=this.results;t=l.children(".select2-result"),i=this.highlight(),0>i||(n=e(t[i]),s=n.offset().top+n.outerHeight(),i===t.length-1&&(o=l.find("li.select2-more-results"),o.length>0&&(s=o.offset().top+o.outerHeight())),a=l.offset().top+l.outerHeight(),s>a&&l.scrollTop(l.scrollTop()+(s-a)),r=n.offset().top-l.offset().top,0>r&&l.scrollTop(l.scrollTop()+r))},moveHighlight:function(t){for(var i=this.results.children(".select2-result"),n=this.highlight();n>-1&&n<i.length;)if(n+=t,!e(i[n]).hasClass("select2-disabled")){this.highlight(n);break}},highlight:function(t){var n=this.results.children(".select2-result");return 0===arguments.length?i(n.filter(".select2-highlighted")[0],n.get()):(n.removeClass("select2-highlighted"),t>=n.length&&(t=n.length-1),0>t&&(t=0),e(n[t]).addClass("select2-highlighted"),this.ensureHighlightVisible(),this.opened()&&this.focusSearch(),void 0)},highlightUnderEvent:function(t){var i=e(t.target).closest(".select2-result");i.length>0&&this.highlight(i.index())},loadMoreIfNeeded:function(){var i,n=this.results,s=n.find("li.select2-more-results"),a=-1,r=this.resultsPage+1;0!==s.length&&(i=s.offset().top-n.offset().top-n.height(),0>=i&&(s.addClass("select2-active"),this.opts.query({term:this.search.val(),page:r,context:this.context,matcher:this.opts.matcher,callback:this.bind(function(i){var o=[],l=this;e(i.results).each(function(){o.push("<li class='select2-result'>"),o.push(l.opts.formatResult(this)),o.push("</li>")}),s.before(o.join("")),n.find(".select2-result").each(function(n){var s=e(this);s.data("select2-data")!==t?a=n:s.data("select2-data",i.results[n-a-1])}),i.more?s.removeClass("select2-active"):s.remove(),this.resultsPage=r})})))},updateResults:function(i){function s(e){r.html(e),r.scrollTop(0),a.removeClass("select2-active")}var a=this.search,r=this.results,o=this.opts,l=this;if(i===!0||this.showSearchInput!==!1){if(a.addClass("select2-active"),a.val().length<o.minimumInputLength)return s("<li class='select2-no-results'>"+o.formatInputTooShort(a.val(),o.minimumInputLength)+"</li>"),void 0;this.resultsPage=1,o.query({term:a.val(),page:this.resultsPage,context:null,matcher:o.matcher,callback:this.bind(function(c){var h,u=[];return this.context=c.context===t?null:c.context,this.opts.createSearchChoice&&""!==a.val()&&(h=this.opts.createSearchChoice.call(null,a.val(),c.results),h!==t&&null!==h&&l.id(h)!==t&&null!==l.id(h)&&0===e(c.results).filter(function(){return n(l.id(this),l.id(h))}).length&&c.results.unshift(h)),0===c.results.length?(s("<li class='select2-no-results'>"+o.formatNoMatches(a.val())+"</li>"),void 0):(e(c.results).each(function(){u.push("<li class='select2-result'>"),u.push(o.formatResult(this)),u.push("</li>")}),c.more===!0&&u.push("<li class='select2-more-results'>Loading more results...</li>"),s(u.join("")),r.children(".select2-result").each(function(t){var i=c.results[t];e(this).data("select2-data",i)}),this.postprocessResults(c,i),void 0)})})}},cancel:function(){this.close()},blur:function(){window.setTimeout(this.bind(function(){this.close(),this.container.removeClass("select2-container-active"),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.search.blur()}),10)},focusSearch:function(){window.setTimeout(this.bind(function(){this.search.focus()}),10)},selectHighlighted:function(){var e=this.results.find(".select2-highlighted:not(.select2-disabled)").data("select2-data");e&&this.onSelect(e)},getPlaceholder:function(){return this.opts.element.attr("placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder},getContainerWidth:function(){var e,i,n,s,a;if(this.opts.width!==t)return this.opts.width;if(e=this.opts.element.attr("style"),e!==t)for(i=e.split(";"),s=0,a=i.length;a>s;s+=1)if(n=i[s].replace(/\s/g,"").match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/),null!==n&&n.length>=1)return n[1];return this.opts.element.width()+"px"}}),b=g(v,{createContainer:function(){return e("<div></div>",{"class":"select2-container",style:"width: "+this.getContainerWidth()}).html(["    <a href='javascript:void(0)' class='select2-choice'>","   <span></span><abbr class='select2-search-choice-close' style='display:none;'></abbr>","   <div><b></b></div>","</a>","    <div class='select2-drop' style='display:none;'>","   <div class='select2-search'>","       <input type='text' autocomplete='off'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""))},open:function(){this.opened()||this.parent.open.apply(this,arguments)},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.selection.focus()},isFocused:function(){return this.selection.is(":focus")},cancel:function(){this.parent.cancel.apply(this,arguments),this.selection.focus()},initContainer:function(){var e,t=this.container,i=!1,n=".select2-choice";this.selection=e=t.find(n),this.search.bind("keydown",this.bind(function(e){switch(e.which){case m.UP:case m.DOWN:return this.moveHighlight(e.which===m.UP?-1:1),h(e),void 0;case m.TAB:case m.ENTER:return this.selectHighlighted(),h(e),void 0;case m.ESC:return this.cancel(e),e.preventDefault(),void 0}})),t.delegate(n,"click",this.bind(function(t){i=!0,this.opened()?(this.close(),e.focus()):this.enabled&&this.open(),t.preventDefault(),i=!1})),t.delegate(n,"keydown",this.bind(function(e){!this.enabled||e.which===m.TAB||m.isControl(e)||m.isFunctionKey(e)||e.which===m.ESC||(this.open(),(e.which===m.PAGE_UP||e.which===m.PAGE_DOWN||e.which===m.SPACE)&&h(e),e.which===m.ENTER&&h(e))})),t.delegate(n,"focus",function(){this.enabled&&t.addClass("select2-container-active")}),t.delegate(n,"blur",this.bind(function(){i||this.opened()||this.blur()})),e.delegate("abbr","click",this.bind(function(e){this.enabled&&(this.val(""),h(e),this.close(),this.triggerChange())})),this.setPlaceholder()},initSelection:function(){var e;""===this.opts.element.val()?this.updateSelection({id:"",text:""}):(e=this.opts.initSelection.call(null,this.opts.element),e!==t&&null!==e&&this.updateSelection(e)),this.close(),this.setPlaceholder()},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments);return"select"===e.element.get(0).tagName.toLowerCase()&&(e.initSelection=function(e){var t=e.find(":selected");return{id:t.attr("value"),text:t.text()}}),e},setPlaceholder:function(){var e=this.getPlaceholder();if(""===this.opts.element.val()&&e!==t){if(this.select&&""!==this.select.find("option:first").text())return;"object"==typeof e?this.updateSelection(e):this.selection.find("span").html(e),this.selection.addClass("select2-default"),this.selection.find("abbr").hide()}},postprocessResults:function(t,i){var s=0,a=this,r=!0;this.results.find(".select2-result").each(function(t){return n(a.id(e(this).data("select2-data")),a.opts.element.val())?(s=t,!1):void 0}),this.highlight(s),i===!0&&(r=this.showSearchInput=t.results.length>=this.opts.minimumResultsForSearch,this.container.find(".select2-search")[r?"removeClass":"addClass"]("select2-search-hidden"),this.container[r?"addClass":"removeClass"]("select2-with-searchbox"))},onSelect:function(e){var t=this.opts.element.val();this.opts.element.val(this.id(e)),this.updateSelection(e),this.close(),this.selection.focus(),n(t,this.id(e))||this.triggerChange()},updateSelection:function(e){this.selection.find("span").html(this.opts.formatSelection(e)),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.selection.find("abbr").show()},val:function(){var t,i=null;return 0===arguments.length?this.opts.element.val():(t=arguments[0],this.select?(this.select.val(t).find(":selected").each(function(){return i={id:e(this).attr("value"),text:e(this).text()},!1}),this.updateSelection(i)):(this.opts.element.val(t?this.id(t):""),this.updateSelection(t)),this.setPlaceholder(),void 0)},clearSearch:function(){this.search.val("")}}),y=g(v,{createContainer:function(){return e("<div></div>",{"class":"select2-container select2-container-multi",style:"width: "+this.getContainerWidth()}).html(["    <ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' style='width: 25px;'>","  </li>","</ul>","<div class='select2-drop' style='display:none;'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""))},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments);return t=e.extend({},{closeOnSelect:!0},t),"select"===t.element.get(0).tagName.toLowerCase()&&(t.initSelection=function(t){var i=[];return t.find(":selected").each(function(){i.push({id:e(this).attr("value"),text:e(this).text()})}),i}),t},initContainer:function(){var e,t=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=e=this.container.find(t),this.search.bind("keydown",this.bind(function(t){if(this.enabled){if(t.which===m.BACKSPACE&&""===this.search.val()){this.close();var i,n=e.find(".select2-search-choice-focus");if(n.length>0)return this.unselect(n.first()),this.search.width(10),h(t),void 0;i=e.find(".select2-search-choice"),i.length>0&&i.last().addClass("select2-search-choice-focus")}else e.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");if(this.opened())switch(t.which){case m.UP:case m.DOWN:return this.moveHighlight(t.which===m.UP?-1:1),h(t),void 0;case m.ENTER:case m.TAB:return this.selectHighlighted(),h(t),void 0;case m.ESC:return this.cancel(t),t.preventDefault(),void 0}t.which===m.TAB||m.isControl(t)||m.isFunctionKey(t)||t.which===m.BACKSPACE||t.which===m.ESC||(this.open(),(t.which===m.PAGE_UP||t.which===m.PAGE_DOWN)&&h(t))}})),this.search.bind("keyup",this.bind(this.resizeSearch)),this.container.delegate(t,"click",this.bind(function(e){this.enabled&&(this.open(),this.focusSearch(),e.preventDefault())})),this.container.delegate(t,"focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.clearPlaceholder())})),this.clearSearch()},enable:function(){this.enabled||(this.parent.enable.apply(this,arguments),this.search.show())},disable:function(){this.enabled&&(this.parent.disable.apply(this,arguments),this.search.hide())},initSelection:function(){var e;""===this.opts.element.val()&&this.updateSelection([]),(this.select||""!==this.opts.element.val())&&(e=this.opts.initSelection.call(null,this.opts.element),e!==t&&null!==e&&this.updateSelection(e)),this.close(),this.clearSearch()},clearSearch:function(){var e=this.getPlaceholder();e!==t&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(e).addClass("select2-default"),this.search.width(this.getContainerWidth())):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},open:function(){this.opened()||(this.parent.open.apply(this,arguments),this.resizeSearch(),this.focusSearch())},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var n=[],s=[],a=this;e(t).each(function(){i(a.id(this),n)<0&&(n.push(a.id(this)),s.push(this))}),t=s,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){a.addSelectedChoice(this)}),a.postprocessResults()},onSelect:function(e){this.addSelectedChoice(e),this.select&&this.postprocessResults(),this.opts.closeOnSelect?(this.close(),this.search.width(10)):(this.search.width(10),this.resizeSearch()),this.triggerChange(),this.focusSearch()},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(t){var i,n,s=this.id(t),a=this.getVal();n=["<li class='select2-search-choice'>",this.opts.formatSelection(t),"<a href='javascript:void(0)' class='select2-search-choice-close' tabindex='-1'></a>","</li>"],i=e(n.join("")),i.find("a").bind("click dblclick",this.bind(function(t){this.enabled&&(this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),h(t),this.close(),this.focusSearch())})).bind("focus",this.bind(function(){this.enabled&&this.container.addClass("select2-container-active")})),i.data("select2-data",t),i.insertBefore(this.searchContainer),a.push(s),this.setVal(a)},unselect:function(e){var t,n=this.getVal();if(e=e.closest(".select2-search-choice"),0===e.length)throw"Invalid argument: "+e+". Must be .select2-search-choice";t=i(this.id(e.data("select2-data")),n),t>=0&&(n.splice(t,1),this.setVal(n),this.select&&this.postprocessResults()),e.remove(),this.triggerChange()},postprocessResults:function(){var t=this.getVal(),n=this.results.find(".select2-result"),s=this;n.each(function(){var n=e(this),a=s.id(n.data("select2-data"));i(a,t)>=0?n.addClass("select2-disabled"):n.removeClass("select2-disabled")}),n.each(function(t){return e(this).hasClass("select2-disabled")?void 0:(s.highlight(t),!1)})},resizeSearch:function(){var e,t,i,n,s;e=u(this.search)+10,t=this.search.offset().left,i=this.selection.width(),n=this.selection.offset().left,s=i-(t-n)-a(this.search),e>s&&(s=i-a(this.search)),40>s&&(s=i-a(this.search)),this.search.width(s)},getVal:function(){var e;return this.select?(e=this.select.val(),null===e?[]:e):(e=this.opts.element.val(),s(e,","))},setVal:function(t){var n;this.select?this.select.val(t):(n=[],e(t).each(function(){i(this,n)<0&&n.push(this)}),this.opts.element.val(0===n.length?"":n.join(",")))},val:function(){var t,i=[],n=this;return 0===arguments.length?this.getVal():(t=arguments[0],this.select?(this.setVal(t),this.select.find(":selected").each(function(){i.push({id:e(this).attr("value"),text:e(this).text()})}),this.updateSelection(i)):(t=null===t?[]:t,this.setVal(t),e(t).each(function(){i.push(n.id(this))}),this.setVal(i),this.updateSelection(t)),this.clearSearch(),void 0)},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],i=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(i.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()}}),e.fn.select2=function(){var n,s,a,r,o=Array.prototype.slice.call(arguments,0),l=["val","destroy","open","close","focus","isFocused","container","onSortStart","onSortEnd","enable","disable"];return this.each(function(){if(0===o.length||"object"==typeof o[0])n=0===o.length?{}:e.extend({},o[0]),n.element=e(this),"select"===n.element.get(0).tagName.toLowerCase()?r=n.element.attr("multiple"):(r=n.multiple||!1,"tags"in n&&(n.multiple=r=!0)),s=r?new y:new b,s.init(n);else{if("string"!=typeof o[0])throw"Invalid arguments to select2 plugin: "+o;if(i(o[0],l)<0)throw"Unknown method: "+o[0];if(a=t,s=e(this).data("select2"),s===t)return;if(a="container"===o[0]?s.container:s[o[0]].apply(s,o.slice(1)),a!==t)return!1}}),a===t?this:a},window.Select2={query:{ajax:d,local:f,tags:p},util:{debounce:l},"class":{"abstract":v,single:b,multi:y}}}}(jQuery),$(function(){var e=$("select#calc_type"),t=e.attr("value");$("div#calculator-settings-warning").hide(),e.change(function(){e.attr("value")==t?($("div.calculator-settings").show(),$("div#calculator-settings-warning").hide(),$(".calculator-settings input").prop("disabled",!1)):($("div.calculator-settings").hide(),$("div#calculator-settings-warning").show(),$(".calculator-settings input").prop("disabled",!0))})}),$(document).ready(function(){add_address=function(e){var t="";return void 0!=e&&(t+=e.firstname+" "+e.lastname+", ",t+=e.address1+", "+e.address2+", ",t+=e.city+", ",t+=null!=e.state_id?e.state.name+", ":e.state_name+", ",t+=e.country.name),t},format_user_autocomplete=function(e){var t=e.data,i="<h4>"+t.email+"</h4>";return i+="<span><strong>Billing:</strong> ",i+=add_address(t.bill_address),i+="</span>",i+="<span><strong>Shipping:</strong> ",i+=add_address(t.ship_address),i+="</span>"},prep_user_autocomplete_data=function(data){return $.map(eval(data),function(e){return{data:e.user,value:e.user.email,result:e.user.email}})},$("#customer_search").length>0&&($("#customer_search").autocomplete({minChars:5,delay:1500,source:function(e,t){var i={q:$("#customer_search").val(),authenticity_token:encodeURIComponent($("meta[name=csrf-token]").attr("content"))};$.get(Spree.routes.user_search+"&"+jQuery.param(i),function(e){result=prep_user_autocomplete_data(e),t(result)})},focus:function(e,t){return $("#customer_search").val(t.item.label),$(t).addClass("ac_over"),!1},select:function(e,t){return $("#customer_search").val(t.item.label),_.each(["bill","ship"],function(e){var i=t.item.data[e+"_address"];void 0!=i&&($("#order_"+e+"_address_attributes_firstname").val(i.firstname),$("#order_"+e+"_address_attributes_lastname").val(i.lastname),$("#order_"+e+"_address_attributes_company").val(i.company),$("#order_"+e+"_address_attributes_address1").val(i.address1),$("#order_"+e+"_address_attributes_address2").val(i.address2),$("#order_"+e+"_address_attributes_city").val(i.city),$("#order_"+e+"_address_attributes_zipcode").val(i.zipcode),$("#order_"+e+"_address_attributes_state_id").val(i.state_id),$("#order_"+e+"_address_attributes_country_id").val(i.country_id),$("#order_"+e+"_address_attributes_phone").val(i.phone))}),$("#order_email").val(t.item.data.email),$("#user_id").val(t.item.data.id),$("#guest_checkout_true").prop("checked",!1),$("#guest_checkout_false").prop("checked",!0),$("#guest_checkout_false").prob("disabled",!1),!0}}).data("autocomplete")._renderItem=function(e,t){return $(e).addClass("ac_results"),html=format_user_autocomplete(t),$("<li></li>").data("item.autocomplete",t).append("<a class='ui-menu-item'>"+html+"</a>").appendTo(e)},$("#customer_search").data("autocomplete")._resizeMenu=function(){var e=this.menu.element;e.outerWidth(this.element.outerWidth())});var show_billing=function(e){e?($("#shipping").show(),$("#shipping input").prop("disabled",!1),$("#shipping select").prop("disabled",!1)):($("#shipping").hide(),$("#shipping input").prop("disabled",!0),$("#shipping select").prop("disabled",!0))};$("input#order_use_billing").click(function(){show_billing(!$(this).is(":checked"))}),$("#guest_checkout_true").change(function(){$("#customer_search").val(""),$("#user_id").val(""),$("#checkout_email").val("");var e=["firstname","lastname","company","address1","address2","city","zipcode","state_id","country_id","phone"];$.each(e,function(e,t){$("#order_bill_address_attributes"+t).val(""),$("#order_ship_address_attributes"+t).val("")})})}),$(function(){var e=$("#gtwy-type").attr("value");$("div#gateway-settings-warning").hide(),$("#gtwy-type").change(function(){$("#gtwy-type").attr("value")==e?($("div.gateway-settings").show(),$("div#gateway-settings-warning").hide()):($("div.gateway-settings").hide(),$("div#gateway-settings-warning").show())})}),$(document).ready(function(){$('input#preferences_use_s3[type="checkbox"]:checked').length>0&&$("#s3_settings").show(),$('input#preferences_use_s3[type="checkbox"]').click(function(){$("#s3_settings").toggle()}),$(".destroy_style").on("click",function(){$(this).parent().remove()}),$(".destroy_header").on("click",function(){$(this).parent().remove()});var e=1;$(".add_style").click(function(){$("#styles_list").append(generate_html_for_hash("new_attachment_styles",e))});var t=1;$(".add_header").click(function(){$("#headers_list").append(generate_html_for_hash("new_s3_headers",t))}),generate_html_for_hash=function(e,t){var i="<li>";return i+='<label for="'+e+"_"+t+'_name">',i+="Name</label>",i+='<input id="'+e+"_"+t+'_name" name="'+e+"["+t+'][name]" type="text">',i+='<label for="'+e+"_"+t+'_value">',i+="Value</label>",i+='<input id="'+e+"_"+t+'_value" name="'+e+"["+t+'][value]" type="text">',i+='<a href="#" alt="Destroy" class="destroy_style">&nbsp;x</a>',i+="</li>",t+=1,i}}),function(){$(function(){return $("#new_image_link").click(function(e){return e.preventDefault(),$(this).hide(),$.ajax({type:"GET",url:this.href,data:{authenticity_token:AUTH_TOKEN},success:function(e){return $("#images").html(e)}})})})}.call(this),function(){$("#cancel_link").click(function(e){return e.preventDefault(),$("#new_image_link").show(),$("#images").html("")})}.call(this),replace_ids=function(e){var t=(new Date).getTime();return e.replace(/NEW_RECORD/g,t)},$(function(){$("a[id*=nested]").click(function(){var template=$(this).attr("href").replace(/.*#/,"");html=replace_ids(eval(template)),$("#ul-"+$(this).attr("id")).append(html),update_remove_links()}),update_remove_links()});var update_remove_links=function(){$(".remove").click(function(){return $(this).prevAll(":first").val(1),$(this).parent().hide(),!1})};$(document).ready(function(){$("#add_line_item_to_order").on("click",function(){return""==$("#add_variant_id").val()?!1:(update_target=$(this).attr("data-update"),$.ajax({dataType:"script",url:this.href,type:"POST",data:{"line_item[variant_id]":$("#add_variant_id").val(),"line_item[quantity]":$("#add_quantity").val()}}),!1)}),$(".product_autocomplete").product_autocomplete()}),$(document).ready(function(){$.each($("td.qty input"),function(e,t){$(t).on("change",function(){var e="#"+$(this).attr("id").replace("_quantity","_id");jQuery.post("/admin/orders/"+$("input#order_number").val()+"/line_items/"+$(e).val(),{_method:"put","line_item[quantity]":$(this).val()},function(e){$("#order-form-wrapper").html(e.responseText)})})})}),$(document).ready(function(){$("#card_new").radioControlsVisibilityOfElement("#card_form"),$("select.jump_menu").change(function(){window.location=this.options[this.selectedIndex].value})}),function(){$(function(){var e;return $(".categories input:checked").length>0&&$("input[type=checkbox]:not(:checked)").attr("disabled",!0),e=".categories input[type=checkbox]",$(e).change(function(){return $(this).is(":checked")?($(e+":not(:checked)").attr("disabled",!0),$(this).removeAttr("disabled")):$("input[type=checkbox]").removeAttr("disabled")})})}.call(this);var handle_ajax_error=function(){$.jstree.rollback(last_rollback),$("#ajax_error").show().html("<strong>"+server_error+"</strong><br />"+taxonomy_tree_error)},handle_move=function(e,t){last_rollback=t.rlbk;var i=t.rslt.cp,n=t.rslt.o,s=t.rslt.np;return $.ajax({type:"POST",dataType:"json",url:base_url+n.attr("id"),data:{_method:"put","taxon[parent_id]":s.attr("id"),"taxon[position]":i,authenticity_token:AUTH_TOKEN},error:handle_ajax_error}),!0},handle_create=function(e,t){last_rollback=t.rlbk;var i=t.rslt.obj,n=t.rslt.name,s=t.rslt.position,a=t.rslt.parent;$.ajax({type:"POST",dataType:"json",url:base_url,data:{"taxon[name]":n,"taxon[parent_id]":a.attr("id"),"taxon[position]":s,authenticity_token:AUTH_TOKEN},error:handle_ajax_error,success:function(e){i.attr("id",e.taxon.id)}})},handle_rename=function(e,t){last_rollback=t.rlbk;var i=t.rslt.obj,n=t.rslt.new_name;$.ajax({type:"POST",dataType:"json",url:base_url+i.attr("id"),data:{_method:"put","taxon[name]":n,authenticity_token:AUTH_TOKEN},error:handle_ajax_error})},handle_delete=function(e,t){last_rollback=t.rlbk;var i=t.rslt.obj;jConfirm("Are you sure you want to delete this taxon?","Confirm Taxon Deletion",function(e){e?$.ajax({type:"POST",dataType:"json",url:base_url+i.attr("id"),data:{_method:"delete",authenticity_token:AUTH_TOKEN},error:handle_ajax_error}):($.jstree.rollback(last_rollback),last_rollback=null)})},taxonomy_id;$(document).ready(function(){if(void 0!=taxonomy_id){base_url=$("#taxonomy_tree").data("url").split("?")[0]+"/",child_url=base_url.replace("/taxons","/get_children.json"),is_cut=!1,last_rollback=null;var e={json_data:{data:initial,ajax:{url:child_url,data:function(e){return{parent_id:e.attr?e.attr("id"):0}}}},themes:{theme:"apple",url:"/assets/jquery.jstree/themes/apple/style.css"},strings:{new_node:new_taxon,loading:loading+"..."},crrm:{move:{check_move:function(e){var t=e.cp,i=e.o,n=e.np;return n?"root"==i.attr("rel")?!1:"taxonomy_tree"==n.attr("id")&&0==t?!1:!0:!1}}},contextmenu:{items:function(e){e.attr("id");var t=e.attr("rel"),i={};return i="root"==t?{create:{label:"Create",action:function(e){this.create(e)}},paste:{separator_before:!0,label:"Paste",action:function(e){is_cut=!1,this.paste(e)},_disabled:0==is_cut},edit:{separator_before:!0,label:"Edit",action:function(e){window.location=base_url+e.attr("id")+"/edit/"}}}:{create:{label:"Create",action:function(e){this.create(e)}},rename:{label:"Rename",action:function(e){this.rename(e)}},remove:{label:"Remove",action:function(e){this.remove(e)}},cut:{separator_before:!0,label:"Cut",action:function(e){is_cut=!0,this.cut(e)}},paste:{label:"Paste",action:function(e){is_cut=!1,this.paste(e)},_disabled:0==is_cut},edit:{separator_before:!0,label:"Edit",action:function(e){window.location=base_url+e.attr("id")+"/edit/"
}}}}},plugins:["themes","json_data","dnd","crrm","contextmenu"]};$("#taxonomy_tree").jstree(e).bind("move_node.jstree",handle_move).bind("remove.jstree",handle_delete).bind("create.jstree",handle_create).bind("rename.jstree",handle_rename),$("#taxonomy_tree a").on("dblclick",function(){$("#taxonomy_tree").jstree("rename",this)}),$(document).keypress(function(e){13==e.keyCode&&e.preventDefault()})}}),function(){var e=this,t=e._,i={},n=Array.prototype,s=Object.prototype,a=n.slice,r=n.unshift,o=s.toString,l=s.hasOwnProperty,c=n.forEach,h=n.map,u=n.reduce,d=n.reduceRight,f=n.filter,p=n.every,g=n.some,m=n.indexOf,v=n.lastIndexOf;s=Array.isArray;var b=Object.keys,y=Function.prototype.bind,_=function(e){return new j(e)};"undefined"!=typeof module&&module.exports?(module.exports=_,_._=_):e._=_,_.VERSION="1.1.6";var x=_.each=_.forEach=function(e,t,n){if(null!=e)if(c&&e.forEach===c)e.forEach(t,n);else if(_.isNumber(e.length))for(var s=0,a=e.length;a>s&&t.call(n,e[s],s,e)!==i;s++);else for(s in e)if(l.call(e,s)&&t.call(n,e[s],s,e)===i)break};_.map=function(e,t,i){var n=[];return null==e?n:h&&e.map===h?e.map(t,i):(x(e,function(e,s,a){n[n.length]=t.call(i,e,s,a)}),n)},_.reduce=_.foldl=_.inject=function(e,t,i,n){var s=void 0!==i;if(null==e&&(e=[]),u&&e.reduce===u)return n&&(t=_.bind(t,n)),s?e.reduce(t,i):e.reduce(t);if(x(e,function(e,a,r){s||0!==a?i=t.call(n,i,e,a,r):(i=e,s=!0)}),!s)throw new TypeError("Reduce of empty array with no initial value");return i},_.reduceRight=_.foldr=function(e,t,i,n){return null==e&&(e=[]),d&&e.reduceRight===d?(n&&(t=_.bind(t,n)),void 0!==i?e.reduceRight(t,i):e.reduceRight(t)):(e=(_.isArray(e)?e.slice():_.toArray(e)).reverse(),_.reduce(e,t,i,n))},_.find=_.detect=function(e,t,i){var n;return w(e,function(e,s,a){return t.call(i,e,s,a)?(n=e,!0):void 0}),n},_.filter=_.select=function(e,t,i){var n=[];return null==e?n:f&&e.filter===f?e.filter(t,i):(x(e,function(e,s,a){t.call(i,e,s,a)&&(n[n.length]=e)}),n)},_.reject=function(e,t,i){var n=[];return null==e?n:(x(e,function(e,s,a){t.call(i,e,s,a)||(n[n.length]=e)}),n)},_.every=_.all=function(e,t,n){var s=!0;return null==e?s:p&&e.every===p?e.every(t,n):(x(e,function(e,a,r){return(s=s&&t.call(n,e,a,r))?void 0:i}),s)};var w=_.some=_.any=function(e,t,n){t||(t=_.identity);var s=!1;return null==e?s:g&&e.some===g?e.some(t,n):(x(e,function(e,a,r){return(s=t.call(n,e,a,r))?i:void 0}),s)};_.include=_.contains=function(e,t){var i=!1;return null==e?i:m&&e.indexOf===m?-1!=e.indexOf(t):(w(e,function(e){return(i=e===t)?!0:void 0}),i)},_.invoke=function(e,t){var i=a.call(arguments,2);return _.map(e,function(e){return(t.call?t||e:e[t]).apply(e,i)})},_.pluck=function(e,t){return _.map(e,function(e){return e[t]})},_.max=function(e,t,i){if(!t&&_.isArray(e))return Math.max.apply(Math,e);var n={computed:-1/0};return x(e,function(e,s,a){s=t?t.call(i,e,s,a):e,s>=n.computed&&(n={value:e,computed:s})}),n.value},_.min=function(e,t,i){if(!t&&_.isArray(e))return Math.min.apply(Math,e);var n={computed:1/0};return x(e,function(e,s,a){s=t?t.call(i,e,s,a):e,s<n.computed&&(n={value:e,computed:s})}),n.value},_.sortBy=function(e,t,i){return _.pluck(_.map(e,function(e,n,s){return{value:e,criteria:t.call(i,e,n,s)}}).sort(function(e,t){var i=e.criteria,n=t.criteria;return n>i?-1:i>n?1:0}),"value")},_.sortedIndex=function(e,t,i){i||(i=_.identity);for(var n=0,s=e.length;s>n;){var a=n+s>>1;i(e[a])<i(t)?n=a+1:s=a}return n},_.toArray=function(e){return e?e.toArray?e.toArray():_.isArray(e)?e:_.isArguments(e)?a.call(e):_.values(e):[]},_.size=function(e){return _.toArray(e).length},_.first=_.head=function(e,t,i){return null==t||i?e[0]:a.call(e,0,t)},_.rest=_.tail=function(e,t,i){return a.call(e,null==t||i?1:t)},_.last=function(e){return e[e.length-1]},_.compact=function(e){return _.filter(e,function(e){return!!e})},_.flatten=function(e){return _.reduce(e,function(e,t){return _.isArray(t)?e.concat(_.flatten(t)):(e[e.length]=t,e)},[])},_.without=function(e){var t=a.call(arguments,1);return _.filter(e,function(e){return!_.include(t,e)})},_.uniq=_.unique=function(e,t){return _.reduce(e,function(e,i,n){return 0!=n&&(t===!0?_.last(e)==i:_.include(e,i))||(e[e.length]=i),e},[])},_.intersect=function(e){var t=a.call(arguments,1);return _.filter(_.uniq(e),function(e){return _.every(t,function(t){return _.indexOf(t,e)>=0})})},_.zip=function(){for(var e=a.call(arguments),t=_.max(_.pluck(e,"length")),i=Array(t),n=0;t>n;n++)i[n]=_.pluck(e,""+n);return i},_.indexOf=function(e,t,i){if(null==e)return-1;var n;if(i)return i=_.sortedIndex(e,t),e[i]===t?i:-1;if(m&&e.indexOf===m)return e.indexOf(t);for(i=0,n=e.length;n>i;i++)if(e[i]===t)return i;return-1},_.lastIndexOf=function(e,t){if(null==e)return-1;if(v&&e.lastIndexOf===v)return e.lastIndexOf(t);for(var i=e.length;i--;)if(e[i]===t)return i;return-1},_.range=function(e,t,i){arguments.length<=1&&(t=e||0,e=0),i=arguments[2]||1;for(var n=Math.max(Math.ceil((t-e)/i),0),s=0,a=Array(n);n>s;)a[s++]=e,e+=i;return a},_.bind=function(e,t){if(e.bind===y&&y)return y.apply(e,a.call(arguments,1));var i=a.call(arguments,2);return function(){return e.apply(t,i.concat(a.call(arguments)))}},_.bindAll=function(e){var t=a.call(arguments,1);return 0==t.length&&(t=_.functions(e)),x(t,function(t){e[t]=_.bind(e[t],e)}),e},_.memoize=function(e,t){var i={};return t||(t=_.identity),function(){var n=t.apply(this,arguments);return l.call(i,n)?i[n]:i[n]=e.apply(this,arguments)}},_.delay=function(e,t){var i=a.call(arguments,2);return setTimeout(function(){return e.apply(e,i)},t)},_.defer=function(e){return _.delay.apply(_,[e,1].concat(a.call(arguments,1)))};var k=function(e,t,i){var n;return function(){var s=this,a=arguments,r=function(){n=null,e.apply(s,a)};i&&clearTimeout(n),(i||!n)&&(n=setTimeout(r,t))}};_.throttle=function(e,t){return k(e,t,!1)},_.debounce=function(e,t){return k(e,t,!0)},_.once=function(e){var t,i=!1;return function(){return i?t:(i=!0,t=e.apply(this,arguments))}},_.wrap=function(e,t){return function(){var i=[e].concat(a.call(arguments));return t.apply(this,i)}},_.compose=function(){var e=a.call(arguments);return function(){for(var t=a.call(arguments),i=e.length-1;i>=0;i--)t=[e[i].apply(this,t)];return t[0]}},_.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},_.keys=b||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t,i=[];for(t in e)l.call(e,t)&&(i[i.length]=t);return i},_.values=function(e){return _.map(e,_.identity)},_.functions=_.methods=function(e){return _.filter(_.keys(e),function(t){return _.isFunction(e[t])}).sort()},_.extend=function(e){return x(a.call(arguments,1),function(t){for(var i in t)void 0!==t[i]&&(e[i]=t[i])}),e},_.defaults=function(e){return x(a.call(arguments,1),function(t){for(var i in t)null==e[i]&&(e[i]=t[i])}),e},_.clone=function(e){return _.isArray(e)?e.slice():_.extend({},e)},_.tap=function(e,t){return t(e),e},_.isEqual=function(e,t){if(e===t)return!0;var i=typeof e;if(i!=typeof t)return!1;if(e==t)return!0;if(!e&&t||e&&!t)return!1;if(e._chain&&(e=e._wrapped),t._chain&&(t=t._wrapped),e.isEqual)return e.isEqual(t);if(_.isDate(e)&&_.isDate(t))return e.getTime()===t.getTime();if(_.isNaN(e)&&_.isNaN(t))return!1;if(_.isRegExp(e)&&_.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.ignoreCase===t.ignoreCase&&e.multiline===t.multiline;if("object"!==i)return!1;if(e.length&&e.length!==t.length)return!1;i=_.keys(e);var n=_.keys(t);if(i.length!=n.length)return!1;for(var s in e)if(!(s in t&&_.isEqual(e[s],t[s])))return!1;return!0},_.isEmpty=function(e){if(_.isArray(e)||_.isString(e))return 0===e.length;for(var t in e)if(l.call(e,t))return!1;return!0},_.isElement=function(e){return!(!e||1!=e.nodeType)},_.isArray=s||function(e){return"[object Array]"===o.call(e)},_.isArguments=function(e){return!(!e||!l.call(e,"callee"))},_.isFunction=function(e){return!!(e&&e.constructor&&e.call&&e.apply)},_.isString=function(e){return!!(""===e||e&&e.charCodeAt&&e.substr)},_.isNumber=function(e){return!!(0===e||e&&e.toExponential&&e.toFixed)},_.isNaN=function(e){return e!==e},_.isBoolean=function(e){return e===!0||e===!1},_.isDate=function(e){return!(!e||!e.getTimezoneOffset||!e.setUTCFullYear)},_.isRegExp=function(e){return!(!e||!e.test||!e.exec||!e.ignoreCase&&e.ignoreCase!==!1)},_.isNull=function(e){return null===e},_.isUndefined=function(e){return void 0===e},_.noConflict=function(){return e._=t,this},_.identity=function(e){return e},_.times=function(e,t,i){for(var n=0;e>n;n++)t.call(i,n)},_.mixin=function(e){x(_.functions(e),function(t){T(t,_[t]=e[t])})};var C=0;_.uniqueId=function(e){var t=C++;return e?e+t:t},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g},_.template=function(e,t){var i=_.templateSettings;return i="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+e.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(i.interpolate,function(e,t){return"',"+t.replace(/\\'/g,"'")+",'"}).replace(i.evaluate||null,function(e,t){return"');"+t.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",i=new Function("obj",i),t?i(t):i};var j=function(e){this._wrapped=e};_.prototype=j.prototype;var S=function(e,t){return t?_(e).chain():e},T=function(e,t){j.prototype[e]=function(){var e=a.call(arguments);return r.call(e,this._wrapped),S(t.apply(_,e),this._chain)}};_.mixin(_),x(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=n[e];j.prototype[e]=function(){return t.apply(this._wrapped,arguments),S(this._wrapped,this._chain)}}),x(["concat","join","slice"],function(e){var t=n[e];j.prototype[e]=function(){return S(t.apply(this._wrapped,arguments),this._chain)}}),j.prototype.chain=function(){return this._chain=!0,this},j.prototype.value=function(){return this._wrapped}}(),function(){var e,t;$(function(){return $("#country_based").is(":checked")?e():t(),$("#country_based").click(function(){return e()}),$("#state_based").click(function(){return t()})}),e=function(){return $("#state_members :input").each(function(){return $(this).prop("disabled",!0)}),$("#state_members").hide(),$("#zone_members :input").each(function(){return $(this).prop("disabled",!0)}),$("#zone_members").hide(),$("#country_members :input").each(function(){return $(this).prop("disabled",!1)}),$("#country_members").show()},t=function(){return $("#country_members :input").each(function(){return $(this).prop("disabled",!0)}),$("#country_members").hide(),$("#zone_members :input").each(function(){return $(this).prop("disabled",!0)}),$("#zone_members").hide(),$("#state_members :input").each(function(){return $(this).prop("disabled",!1)}),$("#state_members").show()}}.call(this);var Spree={},initProductActions=function(){$(".product_autocomplete").product_autocomplete(),$(".calculator-fields").each(function(){var e=$(this),t=e.find(".type-select"),i=e.find(".settings"),n=e.find(".warning"),s=t.val();n.hide(),t.change(function(){$(this).val()==s?(n.hide(),i.show(),i.find("input").removeAttr("disabled")):(n.show(),i.hide(),i.find("input").attr("disabled","disabled"))})}),function(){var e=function(){$(".promotion_action table").each(function(){0==$(this).find("td").length?$(this).hide():$(this).show()})};e();var t=function(){$(".remove_promotion_line_item").click(function(){line_items_el=$($(".line_items_string")[0]),finder=RegExp($(this).data("variant-id")+"x\\d+"),line_items_el.val(line_items_el.val().replace(finder,"")),$(this).parents("tr").remove(),e()})};t(),$(".promotion_action.create_line_items button.add").unbind("click").click(function(){var i=$(this).parents(".promotion_action"),n=i.find("input[name='add_product_name']").val(),s=i.find("input[name='add_variant_id']").val(),a=i.find("input[name='add_quantity']").val();if(s){var r="<tr><td>"+n+"</td><td>"+a+"</td><td><img src='/assets/admin/icons/cross.png' /></td></tr>";i.find("table").append(r);var o=i.find(".line_items_string");o.val(o.val()+","+s+"x"+a),t(),e()}return!1})}()};$(document).ready(function(){initProductActions(),$("#promotion_event_name").change(function(){$("#promotion_code_field").toggle("spree.checkout.coupon_code_added"==$("#promotion_event_name").val()),$("#promotion_path_field").toggle("spree.content.visited"==$("#promotion_event_name").val())}),$("#promotion_event_name").change()}),function(){}.call(this),$(window).load(function(){function e(){$("#addText, #addShape, #addBorder, .priceWrapper, #addToBasket").removeClass("overlay"),$("#tourOverlay").fadeOut()}var t=$(window).height()-131,i=$(".canvas-container").css("margin-left");$("#loadingOverlay").fadeOut(),$("#canvasZoomWrapper").css("height",t),$("#toolPalette").css("right",parseInt(i,10)-93+"px"),$("#majorFunctions").css("left",parseInt(i,10)+"px"),$(this).joyride({tipContent:"#tourSteps",postRideCallback:e}),$("#joyRidePopup0 .button").click(function(){$("#addText").removeClass("overlay"),$("#addShape").addClass("overlay")}),$("#joyRidePopup1 .button").click(function(){$("#addShape").removeClass("overlay"),$("#addBorder").addClass("overlay")}),$("#joyRidePopup2 .button").click(function(){$("#addBorder").removeClass("overlay"),$(".priceWrapper, #addToBasket").addClass("overlay")})}),$(function(){function e(e){return e.id?"<span style='font-family: "+e.id+"'>"+e.text+"</span>":e.text}function t(e){return e.id?"<object data='/assets/svg/"+e.id.toLowerCase()+".svg'/>"+e.text:e.text}$(window).resize(function(){var e=$(window).height()-131,t=$(".canvas-container").css("margin-left");$("#canvasZoomWrapper").css("height",e),$("#toolPalette").css("right",parseInt(t,10)-93+"px"),$("#majorFunctions").css("left",parseInt(t,10)+"px")}),$("#toolPalette").draggable({containment:"#canvasZoomWrapper",handle:"#grabHandle",scroll:!1}),$("#fontFamily").select2({formatResult:e,formatSelection:e,minimumResultsForSearch:1e3,width:"element"}),$("#shapeSelect").select2({formatResult:t,formatSelection:t,minimumResultsForSearch:1e3,placeholder:"Select a Shape",width:"element"}),$("#borderSelect").select2({minimumResultsForSearch:1e3,placeholder:"Select a Border",width:"element"}),$(".showPaletteOnly").spectrum({showPaletteOnly:!0,palette:[["#ff8080","#ffff80","#80ff80","#00ff80","#80ffff","#0080ff","#ff80c0","#ff80ff"],["#ff0000","#ffff00","#80ff00","#00ff40","#00ffff","#0080c0","#8080c0","#ff00ff"],["#804040","#ff8040","#00ff00","#008080","#004080","#8080ff","#800040","#ff0080"],["#800000","#ff8000","#008000","#008040","#0000ff","#0000a0","#800080","#8000ff"],["#400000","#804000","#004000","#004040","#000080","#000040","#400040","#400080"],["#000000","#808000","#808040","#808080","#408080","#c0c0c0","#400040","#ffffff"]]}),$(".priceWrapper .price").html(function(){var e=$(this).text().split("."),t=e.pop();return e.join(".")+(e.length>0?"<sup>."+t+"</sup>":t)}),$("#toolPalette .tool, #addTextMenu .function").qtip();var i=$("#footerWrapper").outerHeight();$("#footerWrapper").css({bottom:-i}),$("#footerTab").toggle(function(){$("#footerWrapper").animate({bottom:0})},function(){$("#footerWrapper").animate({bottom:-i})})});/*! Fabric.js Copyright 2008-2012, Printio (Juriy Zaytsev, Maxim Chernyak) */
var fabric=fabric||{version:"0.8.41"};"undefined"!=typeof exports&&(exports.fabric=fabric),"undefined"!=typeof document&&"undefined"!=typeof window?(fabric.document=document,fabric.window=window):(fabric.document=require("jsdom").jsdom("<!DOCTYPE html><html><head></head><body></body></html>"),fabric.window=fabric.document.createWindow()),fabric.isTouchSupported="ontouchstart"in fabric.document.documentElement,fabric.isLikelyNode="undefined"!=typeof Buffer&&"undefined"==typeof window;/*!
 * Copyright (c) 2009 Simo Kinnunen.
 * Licensed under the MIT license.
 */
var Cufon=function(){function e(e){var t=this.face=e.face;this.glyphs=e.glyphs,this.w=e.w,this.baseSize=parseInt(t["units-per-em"],10),this.family=t["font-family"].toLowerCase(),this.weight=t["font-weight"],this.style=t["font-style"]||"normal",this.viewBox=function(){var e=t.bbox.split(/\s+/),i={minX:parseInt(e[0],10),minY:parseInt(e[1],10),maxX:parseInt(e[2],10),maxY:parseInt(e[3],10)};return i.width=i.maxX-i.minX,i.height=i.maxY-i.minY,i.toString=function(){return[this.minX,this.minY,this.width,this.height].join(" ")},i}(),this.ascent=-parseInt(t.ascent,10),this.descent=-parseInt(t.descent,10),this.height=-this.ascent+this.descent}function t(){var e={},t={oblique:"italic",italic:"oblique"};this.add=function(t){(e[t.style]||(e[t.style]={}))[t.weight]=t},this.get=function(i,n){var s=e[i]||e[t[i]]||e.normal||e.italic||e.oblique;if(!s)return null;if(n={normal:400,bold:700}[n]||parseInt(n,10),s[n])return s[n];var a,r,o={1:1,99:0}[n%100],l=[];void 0===o&&(o=n>400),500==n&&(n=400);for(var c in s)c=parseInt(c,10),(!a||a>c)&&(a=c),(!r||c>r)&&(r=c),l.push(c);return a>n&&(n=a),n>r&&(n=r),l.sort(function(e,t){return(o?e>n&&t>n?t>e:e>t:n>e&&n>t?e>t:t>e)?-1:1}),s[l[0]]}}function i(){function e(e,t){return e.contains?e.contains(t):16&e.compareDocumentPosition(t)}function t(t){var i=t.relatedTarget;i&&!e(this,i)&&n(this)}function i(){n(this)}function n(e){setTimeout(function(){f.replace(e,v.get(e).options,!0)},10)}this.attach=function(e){void 0===e.onmouseenter?(a(e,"mouseover",t),a(e,"mouseout",t)):(a(e,"mouseenter",i),a(e,"mouseleave",i))}}function n(){function e(e){return e.cufid||(e.cufid=++i)}var t={},i=0;this.get=function(i){var n=e(i);return t[n]||(t[n]={})}}function s(e){var t={},i={};this.get=function(i){return void 0!=t[i]?t[i]:e[i]},this.getSize=function(e,t){return i[e]||(i[e]=new g.Size(this.get(e),t))},this.extend=function(e){for(var i in e)t[i]=e[i];return this}}function a(e,t,i){e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent&&e.attachEvent("on"+t,function(){return i.call(e,fabric.window.event)})}function r(e,t){var i=v.get(e);return i.options?e:(t.hover&&t.hoverables[e.nodeName.toLowerCase()]&&b.attach(e),i.options=t,e)}function o(e){var t={};return function(i){return t.hasOwnProperty(i)||(t[i]=e.apply(null,arguments)),t[i]}}function l(e,t){t||(t=g.getStyle(e));for(var i,n=g.quotedList(t.get("fontFamily").toLowerCase()),s=0,a=n.length;a>s;++s)if(i=n[s],x[i])return x[i].get(t.get("fontStyle"),t.get("fontWeight"));return null}function c(e){return fabric.document.getElementsByTagName(e)}function h(){for(var e,t={},i=0,n=arguments.length;n>i;++i)for(e in arguments[i])t[e]=arguments[i][e];return t}function u(e,t,i,n,s,a){var r=n.separate;if("none"==r)return _[n.engine].apply(null,arguments);var o,l=fabric.document.createDocumentFragment(),c=t.split(k[r]),h="words"==r;h&&m&&(/^\s/.test(t)&&c.unshift(""),/\s$/.test(t)&&c.push(""));for(var u=0,d=c.length;d>u;++u)o=_[n.engine](e,h?g.textAlign(c[u],i,u,d):c[u],i,n,s,a,d-1>u),o&&l.appendChild(o);return l}function d(e,t){for(var i,n,s,a,o=r(e,t).firstChild;o;o=s){if(s=o.nextSibling,a=!1,1==o.nodeType){if(!o.firstChild)continue;if(!/cufon/.test(o.className)){arguments.callee(o,t);continue}a=!0}if(n||(n=g.getStyle(e).extend(t)),i||(i=l(e,n)),i)if(a)_[t.engine](i,null,n,t,o,e);else{var c=o.data;if("undefined"!=typeof G_vmlCanvasManager&&(c=c.replace(/\r/g,"\n")),""!==c){var h=u(i,c,n,t,o,e);h?o.parentNode.replaceChild(h,o):o.parentNode.removeChild(o)}}}}var f=function(){return f.replace.apply(null,arguments)},p=f.DOM={ready:function(){var e=!1,t={loaded:1,complete:1},i=[],n=function(){if(!e){e=!0;for(var t;t=i.shift();t());}};return fabric.document.addEventListener&&(fabric.document.addEventListener("DOMContentLoaded",n,!1),fabric.window.addEventListener("pageshow",n,!1)),!fabric.window.opera&&fabric.document.readyState&&function(){t[fabric.document.readyState]?n():setTimeout(arguments.callee,10)}(),fabric.document.readyState&&fabric.document.createStyleSheet&&function(){try{fabric.document.body.doScroll("left"),n()}catch(e){setTimeout(arguments.callee,1)}}(),a(fabric.window,"load",n),function(t){arguments.length?e?t():i.push(t):n()}}()},g=f.CSS={Size:function(e,t){this.value=parseFloat(e),this.unit=String(e).match(/[a-z%]*$/)[0]||"px",this.convert=function(e){return e/t*this.value},this.convertFrom=function(e){return e/this.value*t},this.toString=function(){return this.value+this.unit}},getStyle:function(e){return new s(e.style)},quotedList:o(function(e){for(var t,i=[],n=/\s*((["'])([\s\S]*?[^\\])\2|[^,]+)\s*/g;t=n.exec(e);)i.push(t[3]||t[1]);return i}),ready:function(){var e=!1,t=[],i=function(){e=!0;for(var i;i=t.shift();i());},n=Object.prototype.propertyIsEnumerable?c("style"):{length:0},s=c("link");return p.ready(function(){for(var e,t=0,a=0,r=s.length;e=s[a],r>a;++a)e.disabled||"stylesheet"!=e.rel.toLowerCase()||++t;fabric.document.styleSheets.length>=n.length+t?i():setTimeout(arguments.callee,10)}),function(i){e?i():t.push(i)}}(),supports:function(e,t){var i=fabric.document.createElement("span").style;return void 0===i[e]?!1:(i[e]=t,i[e]===t)},textAlign:function(e,t,i,n){return"right"==t.get("textAlign")?i>0&&(e=" "+e):n-1>i&&(e+=" "),e},textDecoration:function(e,t){t||(t=this.getStyle(e));for(var i={underline:null,overline:null,"line-through":null},n=e;n.parentNode&&1==n.parentNode.nodeType;){var s=!0;for(var a in i)i[a]||(-1!=t.get("textDecoration").indexOf(a)&&(i[a]=t.get("color")),s=!1);if(s)break;t=this.getStyle(n=n.parentNode)}return i},textShadow:o(function(e){if("none"==e)return null;for(var t,i=[],n={},s=0,a=/(#[a-f0-9]+|[a-z]+\(.*?\)|[a-z]+)|(-?[\d.]+[a-z%]*)|,/gi;t=a.exec(e);)","==t[0]?(i.push(n),n={},s=0):t[1]?n.color=t[1]:n[["offX","offY","blur"][s++]]=t[2];return i.push(n),i}),color:o(function(e){var t={};return t.color=e.replace(/^rgba\((.*?),\s*([\d.]+)\)/,function(e,i,n){return t.opacity=parseFloat(n),"rgb("+i+")"}),t}),textTransform:function(e,t){return e[{uppercase:"toUpperCase",lowercase:"toLowerCase"}[t.get("textTransform")]||"toString"]()}},m=0==" ".split(/\s+/).length,v=new n,b=new i,y=[],_={},x={},w={engine:null,hover:!1,hoverables:{a:!0},printable:!0,selector:fabric.window.Sizzle||fabric.window.jQuery&&function(e){return jQuery(e)}||fabric.window.dojo&&dojo.query||fabric.window.$$&&function(e){return $$(e)}||fabric.window.$&&function(e){return $(e)}||fabric.document.querySelectorAll&&function(e){return fabric.document.querySelectorAll(e)}||c,separate:"words",textShadow:"none"},k={words:/\s+/,characters:""};return f.now=function(){return p.ready(),f},f.refresh=function(){for(var e=y.splice(0,y.length),t=0,i=e.length;i>t;++t)f.replace.apply(null,e[t]);return f},f.registerEngine=function(e,t){return t?(_[e]=t,f.set("engine",e)):f},f.registerFont=function(i){var n=new e(i),s=n.family;return x[s]||(x[s]=new t),x[s].add(n),f.set("fontFamily",'"'+s+'"')},f.replace=function(e,t,i){return t=h(w,t),t.engine?("string"==typeof t.textShadow&&t.textShadow&&(t.textShadow=g.textShadow(t.textShadow)),i||y.push(arguments),(e.nodeType||"string"==typeof e)&&(e=[e]),g.ready(function(){for(var i=0,n=e.length;n>i;++i){var s=e[i];"string"==typeof s?f.replace(t.selector(s),t,!0):d(s,t)}}),f):f},f.replaceElement=function(e,t){return t=h(w,t),"string"==typeof t.textShadow&&t.textShadow&&(t.textShadow=g.textShadow(t.textShadow)),d(e,t)},f.engines=_,f.fonts=x,f.getOptions=function(){return h(w)},f.set=function(e,t){return w[e]=t,f},f}();Cufon.registerEngine("canvas",function(){function e(e,t){var i,n=0,s=0,a=[],r=/([mrvxe])([^a-z]*)/g;e:for(var o=0;i=r.exec(e);++o){var l=i[2].split(",");switch(i[1]){case"v":a[o]={m:"bezierCurveTo",a:[n+~~l[0],s+~~l[1],n+~~l[2],s+~~l[3],n+=~~l[4],s+=~~l[5]]};break;case"r":a[o]={m:"lineTo",a:[n+=~~l[0],s+=~~l[1]]};break;case"m":a[o]={m:"moveTo",a:[n=~~l[0],s=~~l[1]]};break;case"x":a[o]={m:"closePath",a:[]};break;case"e":break e}t[a[o].m].apply(t,a[o].a)}return a}function t(e,t){for(var i=0,n=e.length;n>i;++i){var s=e[i];t[s.m].apply(t,s.a)}}var i=Cufon.CSS.supports("display","inline-block"),n=!i&&("BackCompat"==fabric.document.compatMode||/frameset|transitional/i.test(fabric.document.doctype.publicId)),s=fabric.document.createElement("style");s.type="text/css";var a=fabric.document.createTextNode(".cufon-canvas{text-indent:0}@media screen,projection{.cufon-canvas{display:inline;display:inline-block;position:relative;vertical-align:middle"+(n?"":";font-size:1px;line-height:1px")+"}.cufon-canvas .cufon-alt{display:-moz-inline-box;display:inline-block;width:0;height:0;overflow:hidden}"+(i?".cufon-canvas canvas{position:relative}":".cufon-canvas canvas{position:absolute}")+"}"+"@media print{"+".cufon-canvas{padding:0 !important}"+".cufon-canvas canvas{display:none}"+".cufon-canvas .cufon-alt{display:inline}"+"}");try{s.appendChild(a)}catch(r){s.setAttribute("type","text/css"),s.styleSheet.cssText=a.data}return fabric.document.getElementsByTagName("head")[0].appendChild(s),function(n,s,a,r,o){function l(){q.save(),q.fillStyle=r.backgroundColor;var e=0,t=0,i=[{left:0}];"right"===r.textAlign?(q.translate(M[t],0),i[0].left=M[t]*K):"center"===r.textAlign&&(q.translate(M[t]/2,0),i[0].left=M[t]/2*K);for(var s=0,a=j.length;a>s;++s)if("\n"!==j[s]){var o=n.glyphs[j[s]]||n.missingGlyph;if(o){var l=Number(o.w||n.w)+f;r.backgroundColor&&(q.save(),q.translate(0,n.ascent),q.fillRect(0,0,l+10,-n.ascent+n.descent),q.restore()),q.translate(l,0),e+=l,s==a-1&&(i[i.length-1].width=e*K,i[i.length-1].height=(-n.ascent+n.descent)*K)}}else{t++;var c=-n.ascent-n.ascent/5*r.lineHeight,h=i[i.length-1],u={left:0};h.width=e*K,h.height=(-n.ascent+n.descent)*K,"right"===r.textAlign?(q.translate(-S,c),q.translate(M[t],0),u.left=M[t]*K):"center"===r.textAlign?(q.translate(-e-M[t-1]/2,c),q.translate(M[t]/2,0),u.left=M[t]/2*K):q.translate(-e,c),i.push(u),e=0}q.restore(),Cufon.textOptions.boundaries=i}function c(i){q.fillStyle=i||Cufon.textOptions.color||a.get("color");var s=0,o=0;"right"===r.textAlign?q.translate(M[o],0):"center"===r.textAlign&&q.translate(M[o]/2,0);for(var l=0,c=j.length;c>l;++l)if("\n"!==j[l]){var h=n.glyphs[j[l]]||n.missingGlyph;if(h){var u=Number(h.w||n.w)+f;J&&(q.save(),q.strokeStyle=q.fillStyle,q.lineWidth+=q.lineWidth,q.beginPath(),J.underline&&(q.moveTo(0,-n.face["underline-position"]+.5),q.lineTo(u,-n.face["underline-position"]+.5)),J.overline&&(q.moveTo(0,n.ascent+.5),q.lineTo(u,n.ascent+.5)),J["line-through"]&&(q.moveTo(0,-n.descent+.5),q.lineTo(u,-n.descent+.5)),q.stroke(),q.restore()),Y&&(q.save(),q.transform(1,0,-.25,1,0,0)),q.beginPath(),h.d&&(h.code?t(h.code,q):h.code=e("m"+h.d,q)),q.fill(),r.strokeStyle&&(q.closePath(),q.save(),q.lineWidth=r.strokeWidth,q.strokeStyle=r.strokeStyle,q.stroke(),q.restore()),Y&&q.restore(),q.translate(u,0),s+=u}}else{o++;var d=-n.ascent-n.ascent/5*r.lineHeight;"right"===r.textAlign?(q.translate(-S,d),q.translate(M[o],0)):"center"===r.textAlign?(q.translate(-s-M[o-1]/2,d),q.translate(M[o]/2,0)):q.translate(-s,d),s=0}}var h=null===s,u=n.viewBox,d=a.getSize("fontSize",n.baseSize),f=a.get("letterSpacing");f="normal"==f?0:d.convertFrom(parseInt(f,10));var p=0,g=0,m=0,v=0,b=r.textShadow,y=[];if(Cufon.textOptions.shadowOffsets=[],Cufon.textOptions.shadows=null,b){Cufon.textOptions.shadows=b;for(var _=0,x=b.length;x>_;++_){var w=b[_],k=d.convertFrom(parseFloat(w.offX)),C=d.convertFrom(parseFloat(w.offY));y[_]=[k,C]}}for(var j=Cufon.CSS.textTransform(h?o.alt:s,a).split(""),S=0,T=null,I=0,G=1,A=[],_=0,x=j.length;x>_;++_)if("\n"!==j[_]){var P=n.glyphs[j[_]]||n.missingGlyph;P&&(S+=T=Number(P.w||n.w)+f)}else G++,S>I&&(I=S),A.push(S),S=0;A.push(S),S=Math.max(I,S);for(var M=[],_=A.length;_--;)M[_]=S-A[_];if(null===T)return null;g+=u.width-T,v+=u.minX;var D,O;if(h)D=o,O=o.firstChild;else if(D=fabric.document.createElement("span"),D.className="cufon cufon-canvas",D.alt=s,O=fabric.document.createElement("canvas"),D.appendChild(O),r.printable){var F=fabric.document.createElement("span");F.className="cufon-alt",F.appendChild(fabric.document.createTextNode(s)),D.appendChild(F)}var E=D.style,H=O.style||{},N=d.convert(u.height-p+m),$=Math.ceil(N),L=$/N;O.width=Math.ceil(d.convert(S+g-v)*L),O.height=$,p+=u.minY,H.top=Math.round(d.convert(p-n.ascent))+"px",H.left=Math.round(d.convert(v))+"px";var R=Math.ceil(d.convert(S*L)),z=R+"px",W=d.convert(n.height),B=(r.lineHeight-1)*d.convert(-n.ascent/5)*(G-1);Cufon.textOptions.width=R,Cufon.textOptions.height=W*G+B,Cufon.textOptions.lines=G,Cufon.textOptions.totalLineHeight=B,i?(E.width=z,E.height=W+"px"):(E.paddingLeft=z,E.paddingBottom=W-1+"px");var q=Cufon.textOptions.context||O.getContext("2d"),K=$/u.height;Cufon.textOptions.fontAscent=n.ascent*K,Cufon.textOptions.boundaries=null;for(var U=Cufon.textOptions.shadowOffsets,_=y.length;_--;)U[_]=[y[_][0]*K,y[_][1]*K];q.save(),q.scale(K,K),q.translate(-v-1/K*O.width/2+(Cufon.fonts[n.family].offsetLeft||0),-p-Cufon.textOptions.height/K/2+(Cufon.fonts[n.family].offsetTop||0)),q.lineWidth=n.face["underline-thickness"],q.save();var J=Cufon.getTextDecoration(r),Y="italic"===r.fontStyle;if(q.save(),l(),b)for(var _=0,x=b.length;x>_;++_){var w=b[_];q.save(),q.translate.apply(q,y[_]),c(w.color),q.restore()}return c(),q.restore(),q.restore(),q.restore(),D}}()),Cufon.registerEngine("vml",function(){function e(e,i){return t(e,/(?:em|ex|%)$/i.test(i)?"1em":i)}function t(e,t){if(/px$/i.test(t))return parseFloat(t);var i=e.style.left,n=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,e.style.left=t;var s=e.style.pixelLeft;return e.style.left=i,e.runtimeStyle.left=n,s}if(fabric.document.namespaces){var i=fabric.document.createElement("canvas");if(!(i&&i.getContext&&i.getContext.apply)){null==fabric.document.namespaces.cvml&&fabric.document.namespaces.add("cvml","urn:schemas-microsoft-com:vml");var n=fabric.document.createElement("cvml:shape");if(n.style.behavior="url(#default#VML)",n.coordsize)return n=null,fabric.document.write('<style type="text/css">.cufon-vml-canvas{text-indent:0}@media screen{cvml\\:shape,cvml\\:shadow{behavior:url(#default#VML);display:block;antialias:true;position:absolute}.cufon-vml-canvas{position:absolute;text-align:left}.cufon-vml{display:inline-block;position:relative;vertical-align:middle}.cufon-vml .cufon-alt{position:absolute;left:-10000in;font-size:1px}a .cufon-vml{cursor:pointer}}@media print{.cufon-vml *{display:none}.cufon-vml .cufon-alt{display:inline}}</style>'),function(i,n,s,a,r,o,l){var c=null===n;c&&(n=r.alt);var h=i.viewBox,u=s.computedFontSize||(s.computedFontSize=new Cufon.CSS.Size(e(o,s.get("fontSize"))+"px",i.baseSize)),d=s.computedLSpacing;void 0==d&&(d=s.get("letterSpacing"),s.computedLSpacing=d="normal"==d?0:~~u.convertFrom(t(o,d)));var f,p;if(c)f=r,p=r.firstChild;else{if(f=fabric.document.createElement("span"),f.className="cufon cufon-vml",f.alt=n,p=fabric.document.createElement("span"),p.className="cufon-vml-canvas",f.appendChild(p),a.printable){var g=fabric.document.createElement("span");g.className="cufon-alt",g.appendChild(fabric.document.createTextNode(n)),f.appendChild(g)}l||f.appendChild(fabric.document.createElement("cvml:shape"))}var m=f.style,v=p.style,b=u.convert(h.height),y=Math.ceil(b),_=y/b,x=h.minX,w=h.minY;v.height=y,v.top=Math.round(u.convert(w-i.ascent)),v.left=Math.round(u.convert(x)),m.height=u.convert(i.height)+"px",Cufon.getTextDecoration(a);for(var k,C,j=s.get("color"),S=Cufon.CSS.textTransform(n,s).split(""),T=0,I=0,G=null,A=a.textShadow,P=0,M=0,D=S.length;D>P;++P)k=i.glyphs[S[P]]||i.missingGlyph,k&&(T+=G=~~(k.w||i.w)+d);if(null===G)return null;var O,F=-x+T+(h.width-G),E=u.convert(F*_),H=Math.round(E),N=F+","+h.height,$="r"+N+"nsnf";for(P=0;D>P;++P)if(k=i.glyphs[S[P]]||i.missingGlyph){c?(C=p.childNodes[M],C.firstChild&&C.removeChild(C.firstChild)):(C=fabric.document.createElement("cvml:shape"),p.appendChild(C)),C.stroked="f",C.coordsize=N,C.coordorigin=O=x-I+","+w,C.path=(k.d?"m"+k.d+"xe":"")+"m"+O+$,C.fillcolor=j;var L=C.style;if(L.width=H,L.height=y,A){var R,z=A[0],W=A[1],B=Cufon.CSS.color(z.color),q=fabric.document.createElement("cvml:shadow");q.on="t",q.color=B.color,q.offset=z.offX+","+z.offY,W&&(R=Cufon.CSS.color(W.color),q.type="double",q.color2=R.color,q.offset2=W.offX+","+W.offY),q.opacity=B.opacity||R&&R.opacity||1,C.appendChild(q)}I+=~~(k.w||i.w)+d,++M}return m.width=Math.max(Math.ceil(u.convert(T*_)),0),f}}}}()),Cufon.getTextDecoration=function(e){return{underline:"underline"===e.textDecoration,overline:"overline"===e.textDecoration,"line-through":"line-through"===e.textDecoration}},"undefined"!=typeof exports&&(exports.Cufon=Cufon);var JSON;JSON||(JSON={}),function(){"use strict";function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var i,n,s,a,r,o=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,r=[],"[object Array]"===Object.prototype.toString.apply(l)){for(a=l.length,i=0;a>i;i+=1)r[i]=str(i,l)||"null";return s=0===r.length?"[]":gap?"[\n"+gap+r.join(",\n"+gap)+"\n"+o+"]":"["+r.join(",")+"]",gap=o,s}if(rep&&"object"==typeof rep)for(a=rep.length,i=0;a>i;i+=1)"string"==typeof rep[i]&&(n=rep[i],s=str(n,l),s&&r.push(quote(n)+(gap?": ":":")+s));else for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(s=str(n,l),s&&r.push(quote(n)+(gap?": ":":")+s));return s=0===r.length?"{}":gap?"{\n"+gap+r.join(",\n"+gap)+"\n"+o+"}":"{"+r.join(",")+"}",gap=o,s}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,i){var n;if(gap="",indent="","number"==typeof i)for(n=0;i>n;n+=1)indent+=" ";else"string"==typeof i&&(indent=i);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var i,n,s=e[t];if(s&&"object"==typeof s)for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n=walk(s,i),void 0!==n?s[i]=n:delete s[i]);return reviver.call(e,t,s)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),fabric.log=function(){},fabric.warn=function(){},"undefined"!=typeof console&&("undefined"!=typeof console.log&&console.log.apply&&(fabric.log=function(){return console.log.apply(console,arguments)}),"undefined"!=typeof console.warn&&console.warn.apply&&(fabric.warn=function(){return console.warn.apply(console,arguments)})),fabric.Observable={observe:function(e,t){if(this.__eventListeners||(this.__eventListeners={}),1===arguments.length)for(var i in e)this.on(i,e[i]);else this.__eventListeners[e]||(this.__eventListeners[e]=[]),this.__eventListeners[e].push(t)},stopObserving:function(e,t){this.__eventListeners||(this.__eventListeners={}),this.__eventListeners[e]&&fabric.util.removeFromArray(this.__eventListeners[e],t)},fire:function(e,t){this.__eventListeners||(this.__eventListeners={});var i=this.__eventListeners[e];if(i)for(var n=0,s=i.length;s>n;n++)i[n](t||{})}},fabric.Observable.on=fabric.Observable.observe,fabric.Observable.off=fabric.Observable.stopObserving,function(){function e(e,t){var i=e.indexOf(t);return-1!==i&&e.splice(i,1),e}function t(e,t){return Math.floor(Math.random()*(t-e+1))+e}function i(e){return e*c}function n(e,t){return parseFloat(Number(e).toFixed(t))}function s(){return!1}function a(e){e||(e={});var t,i=+new Date,n=e.duration||500,s=i+n,a=e.onChange||function(){},r=e.abort||function(){return!1},o=e.easing||function(e,t,i,n){return-i*Math.cos(e/n*(Math.PI/2))+i+t},l="startValue"in e?e.startValue:0,c="endValue"in e?e.endValue:100;byValue=e.byValue||c-l,e.onStart&&e.onStart(),function h(){return t=+new Date,currentTime=t>s?n:t-i,a(o(currentTime,l,byValue,n)),t>s||r()?(e.onComplete&&e.onComplete(),void 0):(u(h),void 0)}()}function r(e,t,i){if(e){var n=new Image;n.onload=function(){t&&t.call(i,n),n=n.onload=null},n.src=e}else t&&t.call(i,e)}function o(e,t){function i(e){return fabric[fabric.util.string.camelize(fabric.util.string.capitalize(e))]}var n=[],s=0,a=e.filter(function(e){return i(e.type).async}).length;e.forEach(function(e,r){if(e.type){var o=i(e.type);o.async?o.fromObject(e,function(e){n[r]=e,++s===a&&t&&t(n)}):n[r]=o.fromObject(e)}}),0===a&&t&&t(n)}function l(e,t,i){var n=e.length>1?new fabric.PathGroup(e,t):e[0];return"undefined"!=typeof i&&n.setSourcePath(i),n}fabric.util={};var c=Math.PI/180,h=fabric.window.requestAnimationFrame||fabric.window.webkitRequestAnimationFrame||fabric.window.mozRequestAnimationFrame||fabric.window.oRequestAnimationFrame||fabric.window.msRequestAnimationFrame||function(e){fabric.window.setTimeout(e,1e3/60)},u=function(){return h.apply(fabric.window,arguments)};fabric.util.removeFromArray=e,fabric.util.degreesToRadians=i,fabric.util.toFixed=n,fabric.util.getRandomInt=t,fabric.util.falseFunction=s,fabric.util.animate=a,fabric.util.requestAnimFrame=u,fabric.util.loadImage=r,fabric.util.enlivenObjects=o,fabric.util.groupSVGElements=l}(),function(){function e(e,t){for(var i=n.call(arguments,2),s=[],a=0,r=e.length;r>a;a++)s[a]=i.length?e[a][t].apply(e[a],i):e[a][t].call(e[a]);return s}function t(e,t){if(!e||0===e.length)return void 0;var i=e.length-1,n=t?e[i][t]:e[i];if(t)for(;i--;)e[i][t]>=n&&(n=e[i][t]);else for(;i--;)e[i]>=n&&(n=e[i]);return n}function i(e,t){if(!e||0===e.length)return void 0;var i=e.length-1,n=t?e[i][t]:e[i];if(t)for(;i--;)e[i][t]<n&&(n=e[i][t]);else for(;i--;)e[i]<n&&(n=e[i]);return n}var n=Array.prototype.slice;Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(void 0===this||null===this)throw new TypeError;var t=Object(this),i=t.length>>>0;if(0===i)return-1;var n=0;if(arguments.length>0&&(n=Number(arguments[1]),n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=i)return-1;for(var s=n>=0?n:Math.max(i-Math.abs(n),0);i>s;s++)if(s in t&&t[s]===e)return s;return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){for(var i=0,n=this.length>>>0;n>i;i++)i in this&&e.call(t,this[i],i,this)}),Array.prototype.map||(Array.prototype.map=function(e,t){for(var i=[],n=0,s=this.length>>>0;s>n;n++)n in this&&(i[n]=e.call(t,this[n],n,this));return i}),Array.prototype.every||(Array.prototype.every=function(e,t){for(var i=0,n=this.length>>>0;n>i;i++)if(i in this&&!e.call(t,this[i],i,this))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(e,t){for(var i=0,n=this.length>>>0;n>i;i++)if(i in this&&e.call(t,this[i],i,this))return!0;return!1}),Array.prototype.filter||(Array.prototype.filter=function(e,t){for(var i,n=[],s=0,a=this.length>>>0;a>s;s++)s in this&&(i=this[s],e.call(t,i,s,this)&&n.push(i));return n}),Array.prototype.reduce||(Array.prototype.reduce=function(e){var t,i=this.length>>>0,n=0;if(arguments.length>1)t=arguments[1];else for(;;){if(n in this){t=this[n++];break}if(++n>=i)throw new TypeError}for(;i>n;n++)n in this&&(t=e.call(null,t,this[n],n,this));return t}),fabric.util.array={invoke:e,min:i,max:t}}(),function(){function e(e,t){for(var i in t)e[i]=t[i];return e}function t(t){return e({},t)}fabric.util.object={extend:e,clone:t}}(),function(){function e(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})}function t(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function i(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\xA0]+/,"").replace(/[\s\xA0]+$/,"")}),fabric.util.string={camelize:e,capitalize:t,escapeXml:i}}(),function(){var e=Array.prototype.slice,t=Function.prototype.apply,i=function(){};Function.prototype.bind||(Function.prototype.bind=function(n){var s,a=this,r=e.call(arguments,1);return s=r.length?function(){return t.call(a,this instanceof i?this:n,r.concat(e.call(arguments)))}:function(){return t.call(a,this instanceof i?this:n,arguments)},i.prototype=this.prototype,s.prototype=new i,s})}(),function(){function e(){}function t(){function t(){this.initialize.apply(this,arguments)}var s=null,r=i.call(arguments,0);"function"==typeof r[0]&&(s=r.shift()),t.superclass=s,t.subclasses=[],s&&(e.prototype=s.prototype,t.prototype=new e,s.subclasses.push(t));for(var o=0,l=r.length;l>o;o++)a(t,r[o],s);return t.prototype.initialize||(t.prototype.initialize=n),t.prototype.constructor=t,t}var i=Array.prototype.slice,n=function(){},s=function(){for(var e in{toString:1})if("toString"===e)return!1;return!0}(),a=function(e,t,i){for(var n in t)e.prototype[n]=n in e.prototype&&"function"==typeof e.prototype[n]?function(e){return function(){var n=this.constructor.superclass;this.constructor.superclass=i;var s=t[e].apply(this,arguments);return this.constructor.superclass=n,"initialize"!==e?s:void 0}}(n):t[n],s&&(t.toString!==Object.prototype.toString&&(e.prototype.toString=t.toString),t.valueOf!==Object.prototype.valueOf&&(e.prototype.valueOf=t.valueOf))};fabric.util.createClass=t}(),function(){function e(e){var t,i,n=Array.prototype.slice.call(arguments,1),s=n.length;for(i=0;s>i;i++)if(t=typeof e[n[i]],!/^(?:function|object|unknown)$/.test(t))return!1;return!0}function t(e,t){return{handler:t,wrappedHandler:i(e,t)}}function i(e,t){return function(i){t.call(o(e),i||fabric.window.event)}}function n(e,t){return function(i){if(g[e]&&g[e][t])for(var n=g[e][t],s=0,a=n.length;a>s;s++)n[s].call(this,i||fabric.window.event)}}function s(e){return{x:a(e)+document.getElementById("canvasZoomWrapper").scrollLeft,y:r(e)+document.getElementById("canvasZoomWrapper").scrollTop}}function a(e){var t=fabric.document.documentElement,i=fabric.document.body||{scrollLeft:0};return e.pageX||("unknown"!=typeof e.clientX?e.clientX:0)+(t.scrollLeft||i.scrollLeft)-(t.clientLeft||0)}function r(e){var t=fabric.document.documentElement,i=fabric.document.body||{scrollTop:0};return e.pageY||("unknown"!=typeof e.clientY?e.clientY:0)+(t.scrollTop||i.scrollTop)-(t.clientTop||0)}var o,l,c=function(){if("undefined"!=typeof fabric.document.documentElement.uniqueID)return function(e){return e.uniqueID};var e=0;return function(t){return t.__uniqueID||(t.__uniqueID="uniqueID__"+e++)}}();!function(){var e={};o=function(t){return e[t]},l=function(t,i){e[t]=i}}();var h,u,d=e(fabric.document.documentElement,"addEventListener","removeEventListener")&&e(fabric.window,"addEventListener","removeEventListener"),f=e(fabric.document.documentElement,"attachEvent","detachEvent")&&e(fabric.window,"attachEvent","detachEvent"),p={},g={};d?(h=function(e,t,i){e.addEventListener(t,i,!1)},u=function(e,t,i){e.removeEventListener(t,i,!1)}):f?(h=function(e,i,n){var s=c(e);l(s,e),p[s]||(p[s]={}),p[s][i]||(p[s][i]=[]);var a=t(s,n);p[s][i].push(a),e.attachEvent("on"+i,a.wrappedHandler)},u=function(e,t,i){var n,s=c(e);if(p[s]&&p[s][t])for(var a=0,r=p[s][t].length;r>a;a++)n=p[s][t][a],n&&n.handler===i&&(e.detachEvent("on"+t,n.wrappedHandler),p[s][t][a]=null)}):(h=function(e,t,i){var s=c(e);if(g[s]||(g[s]={}),!g[s][t]){g[s][t]=[];var a=e["on"+t];a&&g[s][t].push(a),e["on"+t]=n(s,t)}g[s][t].push(i)},u=function(e,t,i){var n=c(e);if(g[n]&&g[n][t])for(var s=g[n][t],a=0,r=s.length;r>a;a++)s[a]===i&&s.splice(a,1)}),fabric.util.addListener=h,fabric.util.removeListener=u,fabric.isTouchSupported&&(a=function(e){return e.touches&&e.touches[0]&&e.touches[0].pageX||e.clientX},r=function(e){return e.touches&&e.touches[0]&&e.touches[0].pageY||e.clientY}),fabric.util.getPointer=s,fabric.util.object.extend(fabric.util,fabric.Observable)}(this),function(){function e(e,t){var i=e.style;if("string"==typeof t)return e.style.cssText+=";"+t,t.indexOf("opacity")>-1?r(e,t.match(/opacity:\s*(\d?\.?\d*)/)[1]):e;for(var n in t)if("opacity"===n)r(e,t[n]);else{var s="float"===n||"cssFloat"===n?"undefined"==typeof i.styleFloat?"cssFloat":"styleFloat":n;i[s]=t[n]}return e}var t=fabric.document.createElement("div"),i="string"==typeof t.style.opacity,n="string"==typeof t.style.filter,s=fabric.document.defaultView,a=(s&&"undefined"!=typeof s.getComputedStyle,/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/),r=function(e){return e};i?r=function(e,t){return e.style.opacity=t,e}:n&&(r=function(e,t){var i=e.style;return e.currentStyle&&!e.currentStyle.hasLayout&&(i.zoom=1),a.test(i.filter)?(t=t>=.9999?"":"alpha(opacity="+100*t+")",i.filter=i.filter.replace(a,t)):i.filter+=" alpha(opacity="+100*t+")",e}),fabric.util.setStyle=e}(),function(){function e(e){return"string"==typeof e?fabric.document.getElementById(e):e}function t(e){return r.call(e,0)}function i(e,t){var i=fabric.document.createElement(e);for(var n in t)"class"===n?i.className=t[n]:"for"===n?i.htmlFor=t[n]:i.setAttribute(n,t[n]);return i}function n(e,t){-1===(" "+e.className+" ").indexOf(" "+t+" ")&&(e.className+=(e.className?" ":"")+t)}function s(e,t,n){return"string"==typeof t&&(t=i(t,n)),e.parentNode&&e.parentNode.replaceChild(t,e),t.appendChild(e),t}function a(e){var t=0,i=0;do t+=e.offsetTop||0,i+=e.offsetLeft||0,e=e.offsetParent;while(e);return{left:i,top:t}}var r=Array.prototype.slice;try{var o=t(fabric.document.childNodes)instanceof Array}catch(l){}o||(t=function(e){for(var t=new Array(e.length),i=e.length;i--;)t[i]=e[i];return t}),function(){function e(e){return"undefined"!=typeof e.onselectstart&&(e.onselectstart=fabric.util.falseFunction),n?e.style[n]="none":"string"==typeof e.unselectable&&(e.unselectable="on"),e}function t(e){return"undefined"!=typeof e.onselectstart&&(e.onselectstart=null),n?e.style[n]="":"string"==typeof e.unselectable&&(e.unselectable=""),e}var i=fabric.document.documentElement.style,n="userSelect"in i?"userSelect":"MozUserSelect"in i?"MozUserSelect":"WebkitUserSelect"in i?"WebkitUserSelect":"KhtmlUserSelect"in i?"KhtmlUserSelect":"";fabric.util.makeElementUnselectable=e,fabric.util.makeElementSelectable=t}(),function(){function e(e,t){var i=fabric.document.getElementsByTagName("head")[0],n=fabric.document.createElement("script"),s=!0;n.type="text/javascript",n.setAttribute("runat","server"),n.onload=n.onreadystatechange=function(e){if(s){if("string"==typeof this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState)return;s=!1,t(e||fabric.window.event),n=n.onload=n.onreadystatechange=null}},n.src=e,i.appendChild(n)}fabric.util.getScript=e}(),fabric.util.getById=e,fabric.util.toArray=t,fabric.util.makeElement=i,fabric.util.addClass=n,fabric.util.wrapElement=s,fabric.util.getElementOffset=a}(),function(){function e(e,t){return e+(/\?/.test(e)?"&":"?")+t}function t(){}function i(i,s){s||(s={});var a,r=s.method?s.method.toUpperCase():"GET",o=s.onComplete||function(){},l=n();return l.onreadystatechange=function(){4===l.readyState&&(o(l),l.onreadystatechange=t)},"GET"===r&&(a=null,"string"==typeof s.parameters&&(i=e(i,s.parameters))),l.open(r,i,!0),("POST"===r||"PUT"===r)&&l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),l.send(a),l}var n=function(){for(var e=[function(){return new ActiveXObject("Microsoft.XMLHTTP")},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml2.XMLHTTP.3.0")},function(){return new XMLHttpRequest}],t=e.length;t--;)try{var i=e[t]();if(i)return e[t]}catch(n){}}();fabric.util.request=i}(),function(){function e(e,t,i,n){return i*(e/=n)*e+t}function t(e,t,i,n){return-i*(e/=n)*(e-2)+t}function i(e,t,i,n){return(e/=n/2)<1?i/2*e*e+t:-i/2*(--e*(e-2)-1)+t}function n(e,t,i,n){return i*(e/=n)*e*e+t}function s(e,t,i,n){return i*((e=e/n-1)*e*e+1)+t}function a(e,t,i,n){return(e/=n/2)<1?i/2*e*e*e+t:i/2*((e-=2)*e*e+2)+t
}function r(e,t,i,n){return i*(e/=n)*e*e*e+t}function o(e,t,i,n){return-i*((e=e/n-1)*e*e*e-1)+t}function l(e,t,i,n){return(e/=n/2)<1?i/2*e*e*e*e+t:-i/2*((e-=2)*e*e*e-2)+t}function c(e,t,i,n){return i*(e/=n)*e*e*e*e+t}function h(e,t,i,n){return i*((e=e/n-1)*e*e*e*e+1)+t}function u(e,t,i,n){return(e/=n/2)<1?i/2*e*e*e*e*e+t:i/2*((e-=2)*e*e*e*e+2)+t}function d(e,t,i,n){return-i*Math.cos(e/n*(Math.PI/2))+i+t}function f(e,t,i,n){return i*Math.sin(e/n*(Math.PI/2))+t}function p(e,t,i,n){return-i/2*(Math.cos(Math.PI*e/n)-1)+t}function g(e,t,i,n){return 0==e?t:i*Math.pow(2,10*(e/n-1))+t}function m(e,t,i,n){return e==n?t+i:i*(-Math.pow(2,-10*e/n)+1)+t}function v(e,t,i,n){return 0==e?t:e==n?t+i:(e/=n/2)<1?i/2*Math.pow(2,10*(e-1))+t:i/2*(-Math.pow(2,-10*--e)+2)+t}function b(e,t,i,n){return-i*(Math.sqrt(1-(e/=n)*e)-1)+t}function y(e,t,i,n){return i*Math.sqrt(1-(e=e/n-1)*e)+t}function _(e,t,i,n){return(e/=n/2)<1?-i/2*(Math.sqrt(1-e*e)-1)+t:i/2*(Math.sqrt(1-(e-=2)*e)+1)+t}function x(e,t,i,n){var s=1.70158,a=0,r=i;if(0==e)return t;if(1==(e/=n))return t+i;if(a||(a=.3*n),r<Math.abs(i)){r=i;var s=a/4}else var s=a/(2*Math.PI)*Math.asin(i/r);return-(r*Math.pow(2,10*(e-=1))*Math.sin((e*n-s)*2*Math.PI/a))+t}function w(e,t,i,n){var s=1.70158,a=0,r=i;if(0==e)return t;if(1==(e/=n))return t+i;if(a||(a=.3*n),r<Math.abs(i)){r=i;var s=a/4}else var s=a/(2*Math.PI)*Math.asin(i/r);return r*Math.pow(2,-10*e)*Math.sin((e*n-s)*2*Math.PI/a)+i+t}function k(e,t,i,n){var s=1.70158,a=0,r=i;if(0==e)return t;if(2==(e/=n/2))return t+i;if(a||(a=n*.3*1.5),r<Math.abs(i)){r=i;var s=a/4}else var s=a/(2*Math.PI)*Math.asin(i/r);return 1>e?-.5*r*Math.pow(2,10*(e-=1))*Math.sin((e*n-s)*2*Math.PI/a)+t:.5*r*Math.pow(2,-10*(e-=1))*Math.sin((e*n-s)*2*Math.PI/a)+i+t}function C(e,t,i,n,s){return void 0==s&&(s=1.70158),i*(e/=n)*e*((s+1)*e-s)+t}function j(e,t,i,n,s){return void 0==s&&(s=1.70158),i*((e=e/n-1)*e*((s+1)*e+s)+1)+t}function S(e,t,i,n,s){return void 0==s&&(s=1.70158),(e/=n/2)<1?i/2*e*e*(((s*=1.525)+1)*e-s)+t:i/2*((e-=2)*e*(((s*=1.525)+1)*e+s)+2)+t}function T(e,t,i,n){return i-I(n-e,0,i,n)+t}function I(e,t,i,n){return(e/=n)<1/2.75?i*7.5625*e*e+t:2/2.75>e?i*(7.5625*(e-=1.5/2.75)*e+.75)+t:2.5/2.75>e?i*(7.5625*(e-=2.25/2.75)*e+.9375)+t:i*(7.5625*(e-=2.625/2.75)*e+.984375)+t}function G(e,t,i,n){return n/2>e?.5*T(2*e,0,i,n)+t:.5*I(2*e-n,0,i,n)+.5*i+t}fabric.util.ease={easeInQuad:e,easeOutQuad:t,easeInOutQuad:i,easeInCubic:n,easeOutCubic:s,easeInOutCubic:a,easeInQuart:r,easeOutQuart:o,easeInOutQuart:l,easeInQuint:c,easeOutQuint:h,easeInOutQuint:u,easeInSine:d,easeOutSine:f,easeInOutSine:p,easeInExpo:g,easeOutExpo:m,easeInOutExpo:v,easeInCirc:b,easeOutCirc:y,easeInOutCirc:_,easeInElastic:x,easeOutElastic:w,easeInOutElastic:k,easeInBack:C,easeOutBack:j,easeInOutBack:S,easeInBounce:T,easeOutBounce:I,easeInOutBounce:G}}(),function(e){"use strict";function t(e){return e in v?v[e]:e}function i(e,i){if(e){var n,s,a={};e.parentNode&&/^g$/i.test(e.parentNode.nodeName)&&(a=f.parseAttributes(e.parentNode,i));var r=i.reduce(function(i,a){return n=e.getAttribute(a),s=parseFloat(n),n&&("fill"!==a&&"stroke"!==a||"none"!==n||(n=""),"fill-rule"===a&&(n="evenodd"===n?"destination-over":n),"transform"===a&&(n=f.parseTransformAttribute(n)),a=t(a),i[a]=isNaN(s)?n:s),i},{});return r=p(r,p(l(e),f.parseStyleAttribute(e))),p(a,r)}}function n(e){if(!e)return null;e=e.trim();var t=e.indexOf(",")>-1;e=e.split(/\s+/);var i=[];if(t)for(var n=0,s=e.length;s>n;n++){var a=e[n].split(",");i.push({x:parseFloat(a[0]),y:parseFloat(a[1])})}else for(var n=0,s=e.length;s>n;n+=2)i.push({x:parseFloat(e[n]),y:parseFloat(e[n+1])});return 0!==i.length%2,i}function s(e){var i={},n=e.getAttribute("style");if(n)if("string"==typeof n)n=n.replace(/;$/,"").split(";").forEach(function(e){var n=e.split(":");i[t(n[0].trim().toLowerCase())]=n[1].trim()});else for(var s in n)"undefined"!=typeof n[s]&&(i[t(s.toLowerCase())]=n[s]);return i}function a(e){var t=f.Canvas.activeInstance,i=t?t.getContext():null;if(i)for(var n=e.length;n--;){var s=e[n].get("fill");if(/^url\(/.test(s)){var a=s.slice(5,s.length-1);f.gradientDefs[a]&&e[n].set("fill",f.Gradient.fromElement(f.gradientDefs[a],i,e[n]))}}}function r(e,t,i){function n(){0===--o&&(r=r.filter(function(e){return null!=e}),a(r),t(r))}for(var s,r=Array(e.length),o=e.length,l=0,c=e.length;c>l;l++){s=e[l];var h=f[g(s.tagName)];if(h&&h.fromElement)try{h.async?h.fromElement(s,function(e){return function(t){r.splice(e,0,t),n()}}(l),i):(r.splice(l,0,h.fromElement(s,i)),n())}catch(u){f.log(u.message||u)}else n()}}function o(e){for(var t,i=e.getElementsByTagName("style"),n={},s=0,a=i.length;a>s;s++){var r=i[0].textContent;r=r.replace(/\/\*[\s\S]*?\*\//g,""),t=r.match(/[^{]*\{[\s\S]*?\}/g),t=t.map(function(e){return e.trim()}),t.forEach(function(e){var t=e.match(/([\s\S]*?)\s*\{([^}]*)\}/),e=t[1],i=t[2].trim(),s=i.replace(/;$/,"").split(/\s*;\s*/);n[e]||(n[e]={});for(var a=0,r=s.length;r>a;a++){var o=s[a].split(/\s*:\s*/),l=o[0],c=o[1];n[e][l]=c}})}return n}function l(e){var t=e.nodeName,i=e.getAttribute("class"),n=e.getAttribute("id"),s={};for(var a in f.cssRules){var r=i&&new RegExp("^\\."+i).test(a)||n&&new RegExp("^#"+n).test(a)||new RegExp("^"+t).test(a);if(r)for(var o in f.cssRules[a])s[o]=f.cssRules[a][o]}return s}function c(e,t){function i(i){var n=i.responseXML;!n.documentElement&&f.window.ActiveXObject&&i.responseText&&(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(i.responseText.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,""))),n.documentElement&&f.parseSVGDocument(n.documentElement,function(i,n){b.set(e,{objects:f.util.array.invoke(i,"toObject"),options:n}),t(i,n)})}e=e.replace(/^\n\s*/,"").trim(),b.has(e,function(n){n?b.get(e,function(e){var i=h(e);t(i.objects,i.options)}):new f.util.request(e,{method:"get",onComplete:i})})}function h(e){var t=e.objects,i=e.options;return t=t.map(function(e){return f[g(e.type)].fromObject(e)}),{objects:t,options:i}}function u(e,t){e=e.trim();var i;if("undefined"!=typeof DOMParser){var n=new DOMParser;n&&n.parseFromString&&(i=n.parseFromString(e,"text/xml"))}else if(f.window.ActiveXObject){var i=new ActiveXObject("Microsoft.XMLDOM");i.async="false",i.loadXML(e.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,""))}f.parseSVGDocument(i.documentElement,function(e,i){t(e,i)})}function d(e){for(var t="",i=0,n=e.length;n>i;i++)"text"===e[i].type&&e[i].path&&(t+=["@font-face {","font-family: ",e[i].fontFamily,"; ","src: url('",e[i].path,"')","}"].join(""));return t&&(t=["<defs>",'<style type="text/css">',"<![CDATA[",t,"]]>","</style>","</defs>"].join("")),t}var f=e.fabric||(e.fabric={}),p=f.util.object.extend,g=f.util.string.capitalize,m=f.util.object.clone,v={cx:"left",x:"left",cy:"top",y:"top",r:"radius","fill-opacity":"opacity","fill-rule":"fillRule","stroke-width":"strokeWidth",transform:"transformMatrix"};f.parseTransformAttribute=function(){function e(e,t){var i=t[0];e[0]=Math.cos(i),e[1]=Math.sin(i),e[2]=-Math.sin(i),e[3]=Math.cos(i)}function t(e,t){var i=t[0],n=2===t.length?t[1]:t[0];e[0]=i,e[3]=n}function i(e,t){e[2]=t[0]}function n(e,t){e[1]=t[0]}function s(e,t){e[4]=t[0],2===t.length&&(e[5]=t[1])}var a=[1,0,0,1,0,0],r="(?:[-+]?\\d+(?:\\.\\d+)?(?:e[-+]?\\d+)?)",o="(?:\\s+,?\\s*|,\\s*)",l="(?:(skewX)\\s*\\(\\s*("+r+")\\s*\\))",c="(?:(skewY)\\s*\\(\\s*("+r+")\\s*\\))",h="(?:(rotate)\\s*\\(\\s*("+r+")(?:"+o+"("+r+")"+o+"("+r+"))?\\s*\\))",u="(?:(scale)\\s*\\(\\s*("+r+")(?:"+o+"("+r+"))?\\s*\\))",d="(?:(translate)\\s*\\(\\s*("+r+")(?:"+o+"("+r+"))?\\s*\\))",f="(?:(matrix)\\s*\\(\\s*("+r+")"+o+"("+r+")"+o+"("+r+")"+o+"("+r+")"+o+"("+r+")"+o+"("+r+")"+"\\s*\\))",p="(?:"+f+"|"+d+"|"+u+"|"+h+"|"+l+"|"+c+")",g="(?:"+p+"(?:"+o+p+")*"+")",m="^\\s*(?:"+g+"?)\\s*$",v=new RegExp(m),b=new RegExp(p);return function(r){var o=a.concat();return!r||r&&!v.test(r)?o:(r.replace(b,function(a){var r=new RegExp(p).exec(a).filter(function(e){return""!==e&&null!=e}),l=r[1],c=r.slice(2).map(parseFloat);switch(l){case"translate":s(o,c);break;case"rotate":e(o,c);break;case"scale":t(o,c);break;case"skewX":i(o,c);break;case"skewY":n(o,c);break;case"matrix":o=c}}),o)}}(),f.parseSVGDocument=function(){function e(e,t){for(;e&&(e=e.parentNode);)if(t.test(e.nodeName))return!0;return!1}var t=/^(path|circle|polygon|polyline|ellipse|rect|line|image)$/,i="(?:[-+]?\\d+(?:\\.\\d+)?(?:e[-+]?\\d+)?)",n=new RegExp("^\\s*("+i+"+)\\s*,?"+"\\s*("+i+"+)\\s*,?"+"\\s*("+i+"+)\\s*,?"+"\\s*("+i+"+)\\s*"+"$");return function(i,s){if(i){var a=new Date,r=f.util.toArray(i.getElementsByTagName("*"));if(0===r.length){r=i.selectNodes("//*[name(.)!='svg']");for(var l=[],c=0,h=r.length;h>c;c++)l[c]=r[c];r=l}var u=r.filter(function(i){return t.test(i.tagName)&&!e(i,/^(?:pattern|defs)$/)});if(u&&(!u||u.length)){var d,p,g=i.getAttribute("viewBox"),v=i.getAttribute("width"),b=i.getAttribute("height"),y=null,_=null;g&&(g=g.match(n))&&(d=parseInt(g[1],10),p=parseInt(g[2],10),y=parseInt(g[3],10),_=parseInt(g[4],10)),y=v?parseFloat(v):y,_=b?parseFloat(b):_;var x={width:y,height:_};f.gradientDefs=f.getGradientDefs(i),f.cssRules=o(i),f.parseElements(u,function(e){f.documentParsingTime=new Date-a,s&&s(e,x)},m(x))}}}}();var b={has:function(e,t){t(!1)},get:function(){},set:function(){}};p(f,{parseAttributes:i,parseElements:r,parseStyleAttribute:s,parsePointsAttribute:n,getCSSRules:o,loadSVGFromURL:c,loadSVGFromString:u,createSVGFontFacesMarkup:d})}("undefined"!=typeof exports?exports:this),function(){function e(e){var t=e.getAttribute("style");if(t){var i=t.split(/\s*;\s*/);""===i[i.length-1]&&i.pop();for(var n=i.length;n--;){var s=i[n].split(/\s*:\s*/),a=s[0].trim(),r=s[1].trim();if("stop-color"===a)return r}}}function t(e,t){for(var i in t){if("string"==typeof t[i]&&/^\d+%$/.test(t[i])){var n=parseFloat(t[i],10);"x1"===i||"x2"===i?t[i]=e.width*n/100:("y1"===i||"y2"===i)&&(t[i]=e.height*n/100)}"x1"===i||"x2"===i?t[i]-=e.width/2:("y1"===i||"y2"===i)&&(t[i]-=e.height/2)}}function i(e){for(var t,i=e.getElementsByTagName("linearGradient"),n=e.getElementsByTagName("radialGradient"),s={},a=i.length;a--;)t=i[a],s[t.id]=t;for(var a=n.length;a--;)t=n[a],s[t.id]=t;return s}fabric.Gradient={create:function(e,t){t||(t={});var i=t.x1||0,n=t.y1||0,s=t.x2||e.canvas.width,a=t.y2||0,r=t.colorStops,o=e.createLinearGradient(i,n,s,a);for(var l in r){var c=r[l];o.addColorStop(parseFloat(l),c)}return o},fromElement:function(i,n,s){for(var i,a,r=i.getElementsByTagName("stop"),o={},l={x1:i.getAttribute("x1")||0,y1:i.getAttribute("y1")||0,x2:i.getAttribute("x2")||"100%",y2:i.getAttribute("y2")||0},c=r.length;c--;)i=r[c],a=i.getAttribute("offset"),a=parseFloat(a)/(/%$/.test(a)?100:1),o[a]=e(i)||i.getAttribute("stop-color");return t(s,l),fabric.Gradient.create(n,{x1:l.x1,y1:l.y1,x2:l.x2,y2:l.y2,colorStops:o})},forObject:function(e,i,n){n||(n={}),t(e,n);var s=fabric.Gradient.create(i,{x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2,colorStops:n.colorStops});return s}},fabric.getGradientDefs=i}(),function(e){"use strict";function t(e,t){arguments.length>0&&this.init(e,t)}var i=e.fabric||(e.fabric={});return i.Point?(i.warn("fabric.Point is already defined"),void 0):(i.Point=t,t.prototype={constructor:t,init:function(e,t){this.x=e,this.y=t},add:function(e){return new t(this.x+e.x,this.y+e.y)},addEquals:function(e){return this.x+=e.x,this.y+=e.y,this},scalarAdd:function(e){return new t(this.x+e,this.y+e)},scalarAddEquals:function(e){return this.x+=e,this.y+=e,this},subtract:function(e){return new t(this.x-e.x,this.y-e.y)},subtractEquals:function(e){return this.x-=e.x,this.y-=e.y,this},scalarSubtract:function(e){return new t(this.x-e,this.y-e)},scalarSubtractEquals:function(e){return this.x-=e,this.y-=e,this},multiply:function(e){return new t(this.x*e,this.y*e)},multiplyEquals:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return new t(this.x/e,this.y/e)},divideEquals:function(e){return this.x/=e,this.y/=e,this},eq:function(e){return this.x==e.x&&this.y==e.y},lt:function(e){return this.x<e.x&&this.y<e.y},lte:function(e){return this.x<=e.x&&this.y<=e.y},gt:function(e){return this.x>e.x&&this.y>e.y},gte:function(e){return this.x>=e.x&&this.y>=e.y},lerp:function(e,i){return new t(this.x+(e.x-this.x)*i,this.y+(e.y-this.y)*i)},distanceFrom:function(e){var t=this.x-e.x,i=this.y-e.y;return Math.sqrt(t*t+i*i)},min:function(e){return new t(Math.min(this.x,e.x),Math.min(this.y,e.y))},max:function(e){return new t(Math.max(this.x,e.x),Math.max(this.y,e.y))},toString:function(){return this.x+","+this.y},setXY:function(e,t){this.x=e,this.y=t},setFromPoint:function(e){this.x=e.x,this.y=e.y},swap:function(e){var t=this.x,i=this.y;this.x=e.x,this.y=e.y,e.x=t,e.y=i}},void 0)}("undefined"!=typeof exports?exports:this),function(e){"use strict";function t(e){arguments.length>0&&this.init(e)}var i=e.fabric||(e.fabric={});return i.Intersection?(i.warn("fabric.Intersection is already defined"),void 0):(i.Intersection=t,i.Intersection.prototype={init:function(e){this.status=e,this.points=[]},appendPoint:function(e){this.points.push(e)},appendPoints:function(e){this.points=this.points.concat(e)}},i.Intersection.intersectLineLine=function(e,n,s,a){var r,o=(a.x-s.x)*(e.y-s.y)-(a.y-s.y)*(e.x-s.x),l=(n.x-e.x)*(e.y-s.y)-(n.y-e.y)*(e.x-s.x),c=(a.y-s.y)*(n.x-e.x)-(a.x-s.x)*(n.y-e.y);if(0!=c){var h=o/c,u=l/c;h>=0&&1>=h&&u>=0&&1>=u?(r=new t("Intersection"),r.points.push(new i.Point(e.x+h*(n.x-e.x),e.y+h*(n.y-e.y)))):r=new t("No Intersection")}else r=0==o||0==l?new t("Coincident"):new t("Parallel");return r},i.Intersection.intersectLinePolygon=function(e,i,n){for(var s=new t("No Intersection"),a=n.length,r=0;a>r;r++){var o=n[r],l=n[(r+1)%a],c=t.intersectLineLine(e,i,o,l);s.appendPoints(c.points)}return s.points.length>0&&(s.status="Intersection"),s},i.Intersection.intersectPolygonPolygon=function(e,i){for(var n=new t("No Intersection"),s=e.length,a=0;s>a;a++){var r=e[a],o=e[(a+1)%s],l=t.intersectLinePolygon(r,o,i);n.appendPoints(l.points)}return n.points.length>0&&(n.status="Intersection"),n},i.Intersection.intersectPolygonRectangle=function(e,n,s){var a=n.min(s),r=n.max(s),o=new i.Point(r.x,a.y),l=new i.Point(a.x,r.y),c=t.intersectLinePolygon(a,o,e),h=t.intersectLinePolygon(o,r,e),u=t.intersectLinePolygon(r,l,e),d=t.intersectLinePolygon(l,a,e),f=new t("No Intersection");return f.appendPoints(c.points),f.appendPoints(h.points),f.appendPoints(u.points),f.appendPoints(d.points),f.points.length>0&&(f.status="Intersection"),f},void 0)}("undefined"!=typeof exports?exports:this),function(e){"use strict";function t(e){e?this._tryParsingColor(e):this.setSource([0,0,0,1])}var i=e.fabric||(e.fabric={});return i.Color?(i.warn("fabric.Color is already defined."),void 0):(i.Color=t,i.Color.prototype={_tryParsingColor:function(e){var i=t.sourceFromHex(e);i||(i=t.sourceFromRgb(e)),i&&this.setSource(i)},getSource:function(){return this._source},setSource:function(e){this._source=e},toRgb:function(){var e=this.getSource();return"rgb("+e[0]+","+e[1]+","+e[2]+")"},toRgba:function(){var e=this.getSource();return"rgba("+e[0]+","+e[1]+","+e[2]+","+e[3]+")"},toHex:function(){var e=this.getSource(),t=e[0].toString(16);t=1==t.length?"0"+t:t;var i=e[1].toString(16);i=1==i.length?"0"+i:i;var n=e[2].toString(16);return n=1==n.length?"0"+n:n,t.toUpperCase()+i.toUpperCase()+n.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(e){var t=this.getSource();return t[3]=e,this.setSource(t),this},toGrayscale:function(){var e=this.getSource(),t=parseInt((.3*e[0]+.59*e[1]+.11*e[2]).toFixed(0),10),i=e[3];return this.setSource([t,t,t,i]),this},toBlackWhite:function(e){var t=this.getSource(),i=(.3*t[0]+.59*t[1]+.11*t[2]).toFixed(0),n=t[3],e=e||127;return i=Number(i)<Number(e)?0:255,this.setSource([i,i,i,n]),this},overlayWith:function(e){e instanceof t||(e=new t(e));for(var i=[],n=this.getAlpha(),s=.5,a=this.getSource(),r=e.getSource(),o=0;3>o;o++)i.push(Math.round(a[o]*(1-s)+r[o]*s));return i[3]=n,this.setSource(i),this}},i.Color.reRGBa=/^rgba?\((\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})(?:\s*,\s*(\d+(?:\.\d+)?))?\)$/,i.Color.reHex=/^#?([0-9a-f]{6}|[0-9a-f]{3})$/i,i.Color.fromRgb=function(e){return t.fromSource(t.sourceFromRgb(e))},i.Color.sourceFromRgb=function(e){var i=e.match(t.reRGBa);return i?[parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10),i[4]?parseFloat(i[4]):1]:void 0},i.Color.fromRgba=t.fromRgb,i.Color.fromHex=function(e){return t.fromSource(t.sourceFromHex(e))},i.Color.sourceFromHex=function(e){if(e.match(t.reHex)){var i=e.slice(e.indexOf("#")+1),n=3===i.length,s=n?i.charAt(0)+i.charAt(0):i.substring(0,2),a=n?i.charAt(1)+i.charAt(1):i.substring(2,4),r=n?i.charAt(2)+i.charAt(2):i.substring(4,6);return[parseInt(s,16),parseInt(a,16),parseInt(r,16),1]}},i.Color.fromSource=function(e){var i=new t;return i.setSource(e),i},void 0)}("undefined"!=typeof exports?exports:this),function(){"use strict";if(fabric.StaticCanvas)return fabric.warn("fabric.StaticCanvas is already defined."),void 0;var e=fabric.util.object.extend,t=fabric.util.getElementOffset,i=fabric.util.removeFromArray,n=fabric.util.removeListener,s=new Error("Could not initialize `canvas` element");fabric.StaticCanvas=function(e,t){t||(t={}),this._initStatic(e,t),fabric.StaticCanvas.activeInstance=this},e(fabric.StaticCanvas.prototype,fabric.Observable),e(fabric.StaticCanvas.prototype,{backgroundColor:"rgba(0, 0, 0, 0)",backgroundImage:"",backgroundImageOpacity:1,backgroundImageStretch:!0,includeDefaultValues:!0,stateful:!0,renderOnAddition:!0,clipTo:null,onBeforeScaleRotate:function(){},onFpsUpdate:null,_initStatic:function(e,t){this._objects=[],this._createLowerCanvas(e),this._initOptions(t),t.overlayImage&&this.setOverlayImage(t.overlayImage,this.renderAll.bind(this)),t.backgroundImage&&this.setBackgroundImage(t.backgroundImage,this.renderAll.bind(this)),this.calcOffset()},calcOffset:function(){return this._offset=t(this.lowerCanvasEl),this},setOverlayImage:function(e,t){return fabric.util.loadImage(e,function(e){this.overlayImage=e,t&&t()},this),this},setBackgroundImage:function(e,t,i){return fabric.util.loadImage(e,function(e){this.backgroundImage=e,i&&"backgroundImageOpacity"in i&&(this.backgroundImageOpacity=i.backgroundImageOpacity),i&&"backgroundImageStretch"in i&&(this.backgroundImageStretch=i.backgroundImageStretch),t&&t()},this)},_createCanvasElement:function(){var e=fabric.document.createElement("canvas");if(e.style||(e.style={}),!e)throw s;return this._initCanvasElement(e),e},_initCanvasElement:function(e){if("undefined"==typeof e.getContext&&"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement&&G_vmlCanvasManager.initElement(e),"undefined"==typeof e.getContext)throw s},_initOptions:function(e){for(var t in e)this[t]=e[t];this.width=parseInt(this.lowerCanvasEl.width,10)||0,this.height=parseInt(this.lowerCanvasEl.height,10)||0,this.lowerCanvasEl.style.width=this.width+"px",this.lowerCanvasEl.style.height=this.height+"px"},_createLowerCanvas:function(e){this.lowerCanvasEl=fabric.util.getById(e)||this._createCanvasElement(),this._initCanvasElement(this.lowerCanvasEl),fabric.util.addClass(this.lowerCanvasEl,"lower-canvas"),this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(e){return this._setDimension("width",e)},setHeight:function(e){return this._setDimension("height",e)},setDimensions:function(e){for(var t in e)this._setDimension(t,e[t]);return this},_setDimension:function(e,t){return this.lowerCanvasEl[e]=t,this.lowerCanvasEl.style[e]=t+"px",this.upperCanvasEl&&(this.upperCanvasEl[e]=t,this.upperCanvasEl.style[e]=t+"px"),this.wrapperEl&&(this.wrapperEl.style[e]=t+"px"),this[e]=t,this.calcOffset(),this.renderAll(),this},getElement:function(){return this.lowerCanvasEl},getActiveObject:function(){return null},getActiveGroup:function(){return null},_draw:function(e,t){t&&t.render(e)},add:function(){this._objects.push.apply(this._objects,arguments);for(var e=arguments.length;e--;)this.stateful&&arguments[e].setupState(),arguments[e].setCoords(),this.fire("object:added",{target:arguments[e]}),arguments[e].fire("added");return this.renderOnAddition&&this.renderAll(),this},insertAt:function(e,t,i){return i?this._objects[t]=e:this._objects.splice(t,0,e),this.stateful&&e.setupState(),e.setCoords(),this.renderAll(),this.fire("object:added",{target:e}),e.fire("added"),this},getObjects:function(){return this._objects},clearContext:function(e){return e.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this._objects.length=0,this.clearContext(this.contextContainer),this.contextTop&&this.clearContext(this.contextTop),this.renderAll(),this},renderAll:function(e){var t=this[e===!0&&this.interactive?"contextTop":"contextContainer"];this.contextTop&&this.clearContext(this.contextTop),(e===!1||"undefined"==typeof e)&&this.clearContext(t);var i=this._objects.length,n=this.getActiveGroup(),s=new Date;if(this.clipTo&&(t.save(),t.beginPath(),this.clipTo(t),t.clip()),t.fillStyle=this.backgroundColor,t.fillRect(0,0,this.width,this.height),"object"==typeof this.backgroundImage&&(t.save(),t.globalAlpha=this.backgroundImageOpacity,this.backgroundImageStretch?t.drawImage(this.backgroundImage,0,0,this.width,this.height):t.drawImage(this.backgroundImage,0,0),t.restore()),i)for(var a=0;i>a;++a)(!n||n&&this._objects[a]&&!n.contains(this._objects[a]))&&this._draw(t,this._objects[a]);if(this.clipTo&&t.restore(),n&&this._draw(this.contextTop,n),this.overlayImage&&(this.contextTop||this.contextContainer).drawImage(this.overlayImage,0,0),this.onFpsUpdate){var r=new Date-s;this.onFpsUpdate(~~(1e3/r))}return this.fire("after:render"),this},renderTop:function(){this.clearContext(this.contextTop||this.contextContainer),this.overlayImage&&(this.contextTop||this.contextContainer).drawImage(this.overlayImage,0,0),this.selection&&this._groupSelector&&this._drawSelection();var e=this.getActiveGroup();return e&&e.render(this.contextTop),this.fire("after:render"),this},toDataURL:function(e){this.renderAll(!0);var t=(this.upperCanvasEl||this.lowerCanvasEl).toDataURL("image/"+e);return this.renderAll(),t},toDataURLWithMultiplier:function(e,t){var i=this.getWidth(),n=this.getHeight(),s=i*t,a=n*t,r=this.getActiveObject(),o=this.getActiveGroup();this.setWidth(s).setHeight(a),this.contextTop.scale(t,t),o?this._tempRemoveBordersCornersFromGroup(o):r&&this.deactivateAll(),this.width=i,this.height=n,this.renderAll(!0);var l=this.toDataURL(e);return this.contextTop.scale(1/t,1/t),this.setWidth(i).setHeight(n),o?this._restoreBordersCornersOnGroup(o):r&&this.setActiveObject(r),this.renderAll(),l},_tempRemoveBordersCornersFromGroup:function(e){e.origHideCorners=e.hideCorners,e.origBorderColor=e.borderColor,e.hideCorners=!0,e.borderColor="rgba(0,0,0,0)",e.forEachObject(function(e){e.origBorderColor=e.borderColor,e.borderColor="rgba(0,0,0,0)"})},_restoreBordersCornersOnGroup:function(e){e.hideCorners=e.origHideCorners,e.borderColor=e.origBorderColor,e.forEachObject(function(e){e.borderColor=e.origBorderColor,delete e.origBorderColor})},getCenter:function(){return{top:this.getHeight()/2,left:this.getWidth()/2}},centerObjectH:function(e){return e.set("left",this.getCenter().left),this.renderAll(),this},centerObjectV:function(e){return e.set("top",this.getCenter().top),this.renderAll(),this},centerObject:function(e){return this.centerObjectH(e).centerObjectV(e)},toDatalessJSON:function(){return this.toDatalessObject()},toObject:function(){return this._toObjectMethod("toObject")},toDatalessObject:function(){return this._toObjectMethod("toDatalessObject")},_toObjectMethod:function(e){var t={objects:this._objects.map(function(t){if(!this.includeDefaultValues){var i=t.includeDefaultValues;t.includeDefaultValues=!1}var n=t[e]();return this.includeDefaultValues||(t.includeDefaultValues=i),n},this),background:this.backgroundColor};return this.backgroundImage&&(t.backgroundImage=this.backgroundImage.src,t.backgroundImageOpacity=this.backgroundImageOpacity,t.backgroundImageStretch=this.backgroundImageStretch),t},toSVG:function(){var e=['<?xml version="1.0" standalone="no" ?>','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN" ','"http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">',"<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',this.width,'" ','height="',this.height,'" ','xml:space="preserve">',"<desc>Created with Fabric.js ",fabric.version,"</desc>",fabric.createSVGFontFacesMarkup(this.getObjects())];this.backgroundImage&&e.push('<image x="0" y="0" ','width="',this.width,'" height="',this.height,'" preserveAspectRatio="',this.backgroundImageStretch?"none":"defer",'" xlink:href="',this.backgroundImage.src,'" style="opacity:',this.backgroundImageOpacity,'"></image>');for(var t=0,i=this.getObjects(),n=i.length;n>t;t++)e.push(i[t].toSVG());return e.push("</svg>"),e.join("")},isEmpty:function(){return 0===this._objects.length},remove:function(e){return i(this._objects,e),this.getActiveObject()===e&&(this.fire("before:selection:cleared",{target:e}),this.discardActiveObject(),this.fire("selection:cleared")),this.renderAll(),e},sendToBack:function(e){return i(this._objects,e),this._objects.unshift(e),this.renderAll()},bringToFront:function(e){return i(this._objects,e),this._objects.push(e),this.renderAll()},sendBackwards:function(e){var t=this._objects.indexOf(e),n=t;if(0!==t){for(var s=t-1;s>=0;--s)if(e.intersectsWithObject(this._objects[s])||e.isContainedWithinObject(this._objects[s])){n=s;break}i(this._objects,e),this._objects.splice(n,0,e)}return this.renderAll()},bringForward:function(e){var t=this.getObjects(),n=t.indexOf(e),s=n;if(n!==t.length-1){for(var a=n+1,r=this._objects.length;r>a;++a)if(e.intersectsWithObject(t[a])||e.isContainedWithinObject(this._objects[a])){s=a;break}i(t,e),t.splice(s,0,e)}this.renderAll()},item:function(e){return this.getObjects()[e]},complexity:function(){return this.getObjects().reduce(function(e,t){return e+=t.complexity?t.complexity():0},0)},forEachObject:function(e,t){for(var i=this.getObjects(),n=i.length;n--;)e.call(t,i[n],n,i);return this},dispose:function(){return this.clear(),this.interactive&&(n(this.upperCanvasEl,"mousedown",this._onMouseDown),n(this.upperCanvasEl,"mousemove",this._onMouseMove),n(fabric.window,"resize",this._onResize)),this},_resizeImageToFit:function(e){var t=e.width||e.offsetWidth,i=this.getWidth()/t;t&&(e.width=t*i)}}),fabric.StaticCanvas.prototype.toString=function(){return"#<fabric.Canvas ("+this.complexity()+"): "+"{ objects: "+this.getObjects().length+" }>"},e(fabric.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',toGrayscale:function(e){var t,i,n,s,a=e.getContext("2d"),r=a.getImageData(0,0,e.width,e.height),o=r.data,l=r.width,c=r.height;for(n=0;l>n;n++)for(s=0;c>s;s++)t=4*n*c+4*s,i=(o[t]+o[t+1]+o[t+2])/3,o[t]=i,o[t+1]=i,o[t+2]=i;a.putImageData(r,0,0)},supports:function(e){var t=fabric.document.createElement("canvas");if("undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(t),!t||!t.getContext)return null;var i=t.getContext("2d");if(!i)return null;switch(e){case"getImageData":return"undefined"!=typeof i.getImageData;case"toDataURL":return"undefined"!=typeof t.toDataURL;default:return null}}}),fabric.StaticCanvas.prototype.toJSON=fabric.StaticCanvas.prototype.toObject}("undefined"!=typeof exports?exports:this),function(){function e(){}var t=fabric.util.object.extend,i=fabric.util.getPointer,n=fabric.util.addListener,s=fabric.util.removeListener,a={tr:"ne-resize",br:"se-resize",bl:"sw-resize",tl:"nw-resize",ml:"w-resize",mt:"n-resize",mr:"e-resize",mb:"s-resize"},r=fabric.util.array.min,o=fabric.util.array.max,l=Math.sqrt,c=Math.pow,h=Math.atan2,u=Math.abs,d=Math.min,f=Math.max,p=.5;fabric.Canvas=function(e,t){t||(t={}),this._initStatic(e,t),this._initInteractive(),fabric.Canvas.activeInstance=this},e.prototype=fabric.StaticCanvas.prototype,fabric.Canvas.prototype=new e;var g={interactive:!0,selection:!0,selectionColor:"rgba(100, 100, 255, 0.3)",selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,freeDrawingColor:"rgb(0, 0, 0)",freeDrawingLineWidth:1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",rotationCursor:"crosshair",containerClass:"canvas-container",_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._freeDrawingXPoints=[],this._freeDrawingYPoints=[],this._initWrapperElement(),this._createUpperCanvas(),this._initEvents(),this.calcOffset()},_initEvents:function(){var e=this;this._onMouseDown=function(t){e.__onMouseDown(t),n(fabric.document,"mouseup",e._onMouseUp),fabric.isTouchSupported&&n(fabric.document,"touchend",e._onMouseUp),n(fabric.document,"mousemove",e._onMouseMove),fabric.isTouchSupported&&n(fabric.document,"touchmove",e._onMouseMove),s(e.upperCanvasEl,"mousemove",e._onMouseMove),fabric.isTouchSupported&&s(e.upperCanvasEl,"touchmove",e._onMouseMove)},this._onMouseUp=function(t){e.__onMouseUp(t),s(fabric.document,"mouseup",e._onMouseUp),fabric.isTouchSupported&&s(fabric.document,"touchend",e._onMouseUp),s(fabric.document,"mousemove",e._onMouseMove),fabric.isTouchSupported&&s(fabric.document,"touchmove",e._onMouseMove),n(e.upperCanvasEl,"mousemove",e._onMouseMove),fabric.isTouchSupported&&n(e.upperCanvasEl,"touchmove",e._onMouseMove)},this._onMouseMove=function(t){t.preventDefault&&t.preventDefault(),e.__onMouseMove(t)},this._onResize=function(){e.calcOffset()},n(fabric.window,"resize",this._onResize),fabric.isTouchSupported?(n(this.upperCanvasEl,"touchstart",this._onMouseDown),n(this.upperCanvasEl,"touchmove",this._onMouseMove)):(n(this.upperCanvasEl,"mousedown",this._onMouseDown),n(this.upperCanvasEl,"mousemove",this._onMouseMove))},__onMouseUp:function(e){if(this.isDrawingMode&&this._isCurrentlyDrawing)return this._finalizeDrawingPath(),this.fire("mouse:up",{e:e}),void 0;if(this._currentTransform){var t=this._currentTransform,i=t.target;i._scaling&&(i._scaling=!1);for(var n=this._objects.length;n--;)this._objects[n].setCoords();this.stateful&&i.hasStateChanged()&&(i.isMoving=!1,this.fire("object:modified",{target:i}),i.fire("modified"))}this._currentTransform=null,this._groupSelector&&this._findSelectedObjects(e);var s=this.getActiveGroup();s&&(s.setObjectsCoords(),s.set("isMoving",!1),this._setCursor(this.defaultCursor)),this._groupSelector=null,this.renderAll(),this._setCursorFromEvent(e,i),this._setCursor("");var a=this;setTimeout(function(){a._setCursorFromEvent(e,i)},50),this.fire("mouse:up",{target:i,e:e}),i&&i.fire("mouseup",{e:e})},__onMouseDown:function(e){var t="which"in e?1==e.which:1==e.button;if(t||fabric.isTouchSupported){if(this.isDrawingMode)return this._prepareForDrawing(e),this._captureDrawingPath(e),this.fire("mouse:down",{e:e}),void 0;if(!this._currentTransform){var i,n=this.findTarget(e),s=this.getPointer(e),a=this.getActiveGroup();if(this._shouldClearSelection(e))this._groupSelector={ex:s.x,ey:s.y,top:0,left:0},this.deactivateAllWithDispatch();else{this.stateful&&n.saveState(),(i=n._findTargetCorner(e,this._offset))&&this.onBeforeScaleRotate(n),this._setupCurrentTransform(e,n);var r=e.shiftKey&&(a||this.getActiveObject())&&this.selection;r?this._handleGroupLogic(e,n):(n!==this.getActiveGroup()&&this.deactivateAll(),this.setActiveObject(n,e))}this.renderAll(),this.fire("mouse:down",{target:n,e:e}),n&&n.fire("mousedown",{e:e})}}},__onMouseMove:function(e){if(this.isDrawingMode)return this._isCurrentlyDrawing&&this._captureDrawingPath(e),this.fire("mouse:move",{e:e}),void 0;var t=this._groupSelector;if(null!==t){var n=i(e);t.left=n.x-this._offset.left-t.ex,t.top=n.y-this._offset.top-t.ey,this.renderTop()}else if(this._currentTransform){var n=i(e),s=n.x,a=n.y;this._currentTransform.target.isMoving=!0,"rotate"===this._currentTransform.action?(e.shiftKey||(this._rotateObject(s,a),this.fire("object:rotating",{target:this._currentTransform.target}),this._currentTransform.target.fire("rotating")),this._currentTransform.target.hasRotatingPoint||(this._scaleObject(s,a),this.fire("object:scaling",{target:this._currentTransform.target}),this._currentTransform.target.fire("scaling"))):"scale"===this._currentTransform.action?(this._scaleObject(s,a),this.fire("object:scaling",{target:this._currentTransform.target}),this._currentTransform.target.fire("scaling")):"scaleX"===this._currentTransform.action?(this._scaleObject(s,a,"x"),this.fire("object:scaling",{target:this._currentTransform.target}),this._currentTransform.target.fire("scaling")):"scaleY"===this._currentTransform.action?(this._scaleObject(s,a,"y"),this.fire("object:scaling",{target:this._currentTransform.target}),this._currentTransform.target.fire("scaling")):(this._translateObject(s,a),this.fire("object:moving",{target:this._currentTransform.target}),this._setCursor(this.moveCursor),this._currentTransform.target.fire("moving")),this.renderAll()
}else{var r=this.upperCanvasEl.style,o=this.findTarget(e);if(o)this._setCursorFromEvent(e,o),o.isActive()&&o.setCornersVisibility&&o.setCornersVisibility(!0);else{for(var l=this._objects.length;l--;)this._objects[l]&&!this._objects[l].active&&this._objects[l].setActive(!1);r.cursor=this.defaultCursor}}this.fire("mouse:move",{target:o,e:e}),o&&o.fire("mousemove",{e:e})},containsPoint:function(e,t){var i=this.getPointer(e),n=this._normalizePointer(t,i),s=n.x,a=n.y,r=t._getImageLines(t.oCoords),o=t._findCrossPoints(s,a,r);return o&&1===o%2||t._findTargetCorner(e,this._offset)?!0:!1},_normalizePointer:function(e,t){var i=this.getActiveGroup(),n=t.x,s=t.y,a=i&&"group"!==e.type&&i.contains(e);return a&&(n-=i.left,s-=i.top),{x:n,y:s}},_shouldClearSelection:function(e){var t=this.findTarget(e),i=this.getActiveGroup();return!t||t&&i&&!i.contains(t)&&i!==t&&!e.shiftKey},_setupCurrentTransform:function(e,t){var n,s="drag",a=i(e);(n=t._findTargetCorner(e,this._offset))&&(s="ml"===n||"mr"===n?"scaleX":"mt"===n||"mb"===n?"scaleY":"mtr"===n?"rotate":t.hasRotatingPoint?"scale":"rotate"),this._currentTransform={target:t,action:s,scaleX:t.scaleX,scaleY:t.scaleY,offsetX:a.x-t.left,offsetY:a.y-t.top,ex:a.x,ey:a.y,left:t.left,top:t.top,theta:t.theta,width:t.width*t.scaleX},this._currentTransform.original={left:t.left,top:t.top}},_handleGroupLogic:function(e,t){if(t!==this.getActiveGroup()||(t=this.findTarget(e,!0),t&&!t.isType("group"))){var i=this.getActiveGroup();if(i)i.contains(t)?(i.removeWithUpdate(t),t.setActive(!1),1===i.size()&&this.discardActiveGroup()):i.addWithUpdate(t),this.fire("selection:created",{target:i,e:e}),i.setActive(!0);else{if(this._activeObject&&t!==this._activeObject){var n=new fabric.Group([this._activeObject,t]);this.setActiveGroup(n),i=this.getActiveGroup()}t.setActive(!0)}i&&i.saveCoords()}},_prepareForDrawing:function(e){this._isCurrentlyDrawing=!0,this.discardActiveObject().renderAll();var t=this.getPointer(e);this._freeDrawingXPoints.length=this._freeDrawingYPoints.length=0,this._freeDrawingXPoints.push(t.x),this._freeDrawingYPoints.push(t.y),this.contextTop.beginPath(),this.contextTop.moveTo(t.x,t.y),this.contextTop.strokeStyle=this.freeDrawingColor,this.contextTop.lineWidth=this.freeDrawingLineWidth,this.contextTop.lineCap=this.contextTop.lineJoin="round"},_captureDrawingPath:function(e){var t=this.getPointer(e);this._freeDrawingXPoints.push(t.x),this._freeDrawingYPoints.push(t.y),this.contextTop.lineTo(t.x,t.y),this.contextTop.stroke()},_finalizeDrawingPath:function(){this.contextTop.closePath(),this._isCurrentlyDrawing=!1;var e,t,i=r(this._freeDrawingXPoints),n=r(this._freeDrawingYPoints),s=o(this._freeDrawingXPoints),a=o(this._freeDrawingYPoints),l=(this.contextTop,[]),c=this._freeDrawingXPoints,h=this._freeDrawingYPoints;l.push("M ",c[0]-i," ",h[0]-n," ");for(var u=1;e=c[u],t=h[u];u++)l.push("L ",e-i," ",t-n," ");if(l=l.join(""),"M 0 0 L 0 0 "!==l){var d=new fabric.Path(l);d.fill=null,d.stroke=this.freeDrawingColor,d.strokeWidth=this.freeDrawingLineWidth,this.add(d),d.set("left",i+(s-i)/2).set("top",n+(a-n)/2).setCoords(),this.renderAll(),this.fire("path:created",{path:d})}},_translateObject:function(e,t){var i=this._currentTransform.target;i.lockMovementX||i.set("left",e-this._currentTransform.offsetX),i.lockMovementY||i.set("top",t-this._currentTransform.offsetY)},_scaleObject:function(e,t,i){var n=this._currentTransform,s=this._offset,a=n.target;if(!a.lockScalingX||!a.lockScalingY){var r=l(c(n.ey-n.top-s.top,2)+c(n.ex-n.left-s.left,2)),o=l(c(t-n.top-s.top,2)+c(e-n.left-s.left,2));a._scaling=!0,i?"x"!==i||a.lockUniScaling?"y"!==i||a.lockUniScaling||a.lockScalingY||a.set("scaleY",n.scaleY*o/r):a.lockScalingX||a.set("scaleX",n.scaleX*o/r):(a.lockScalingX||a.set("scaleX",n.scaleX*o/r),a.lockScalingY||a.set("scaleY",n.scaleY*o/r))}},_rotateObject:function(e,t){var i=this._currentTransform,n=this._offset;if(!i.target.lockRotation){var s=h(i.ey-i.top-n.top,i.ex-i.left-n.left),a=h(t-i.top-n.top,e-i.left-n.left);i.target.set("theta",a-s+i.theta)}},_setCursor:function(e){this.upperCanvasEl.style.cursor=e},_setCursorFromEvent:function(e,t){var i=this.upperCanvasEl.style;if(!t)return i.cursor=this.defaultCursor,!1;var n=this.getActiveGroup(),s=!(!t._findTargetCorner||n&&n.contains(t)||!t._findTargetCorner(e,this._offset));if(s)if(s in a)i.cursor=a[s];else{if("mtr"!==s||!t.hasRotatingPoint)return i.cursor=this.defaultCursor,!1;i.cursor=this.rotationCursor}else i.cursor=this.hoverCursor;return!0},_drawSelection:function(){var e=this._groupSelector,t=e.left,i=e.top,n=u(t),s=u(i);this.contextTop.fillStyle=this.selectionColor,this.contextTop.fillRect(e.ex-(t>0?0:-t),e.ey-(i>0?0:-i),n,s),this.contextTop.lineWidth=this.selectionLineWidth,this.contextTop.strokeStyle=this.selectionBorderColor,this.contextTop.strokeRect(e.ex+p-(t>0?0:n),e.ey+p-(i>0?0:s),n,s)},_findSelectedObjects:function(e){for(var t,i=[],n=this._groupSelector.ex,s=this._groupSelector.ey,a=n+this._groupSelector.left,r=s+this._groupSelector.top,o=new fabric.Point(d(n,a),d(s,r)),l=new fabric.Point(f(n,a),f(s,r)),c=0,h=this._objects.length;h>c;++c)t=this._objects[c],t&&(t.intersectsWithRect(o,l)||t.isContainedWithinRect(o,l))&&this.selection&&t.selectable&&(t.setActive(!0),i.push(t));if(1===i.length)this.setActiveObject(i[0],e);else if(i.length>1){var i=new fabric.Group(i);this.setActiveGroup(i),i.saveCoords(),this.fire("selection:created",{target:i})}this.renderAll()},findTarget:function(e,t){var i;this.getPointer(e);var n=this.getActiveGroup();if(n&&!t&&this.containsPoint(e,n))return i=n;for(var s=this._objects.length;s--;)if(this._objects[s]&&this.containsPoint(e,this._objects[s])){i=this._objects[s],this.relatedTarget=i;break}return i&&i.selectable?i:void 0},getPointer:function(e){var t=i(e);return{x:t.x-this._offset.left,y:t.y-this._offset.top}},_createUpperCanvas:function(){this.upperCanvasEl=this._createCanvasElement(),this.upperCanvasEl.className="upper-canvas",this.wrapperEl.appendChild(this.upperCanvasEl),this._applyCanvasStyle(this.upperCanvasEl),this.contextTop=this.upperCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=fabric.util.wrapElement(this.lowerCanvasEl,"div",{"class":this.containerClass}),fabric.util.setStyle(this.wrapperEl,{width:this.getWidth()+"px",height:this.getHeight()+"px",position:"relative"}),fabric.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(e){var t=this.getWidth()||e.width,i=this.getHeight()||e.height;fabric.util.setStyle(e,{position:"absolute",width:t+"px",height:i+"px",left:0,top:0}),e.width=t,e.height=i,fabric.util.makeElementUnselectable(e)},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},setActiveObject:function(e,t){return this._activeObject&&this._activeObject.setActive(!1),this._activeObject=e,e.setActive(!0),this.renderAll(),this.fire("object:selected",{target:e,e:t}),e.fire("selected",{e:t}),this},getActiveObject:function(){return this._activeObject},discardActiveObject:function(){return this._activeObject&&this._activeObject.setActive(!1),this._activeObject=null,this},setActiveGroup:function(e){return this._activeGroup=e,e&&e.setActive(!0),this},getActiveGroup:function(){return this._activeGroup},discardActiveGroup:function(){var e=this.getActiveGroup();return e&&e.destroy(),this.setActiveGroup(null)},deactivateAll:function(){for(var e=this.getObjects(),t=0,i=e.length;i>t;t++)e[t].setActive(!1);return this.discardActiveGroup(),this.discardActiveObject(),this},deactivateAllWithDispatch:function(){var e=this.getActiveGroup()||this.getActiveObject();return e&&this.fire("before:selection:cleared",{target:e}),this.deactivateAll(),e&&this.fire("selection:cleared"),this}};fabric.Canvas.prototype.toString=fabric.StaticCanvas.prototype.toString,t(fabric.Canvas.prototype,g);for(var m in fabric.StaticCanvas)"prototype"!==m&&(fabric.Canvas[m]=fabric.StaticCanvas[m]);fabric.isTouchSupported&&(fabric.Canvas.prototype._setCursorFromEvent=function(){}),fabric.Element=fabric.Canvas}(),fabric.util.object.extend(fabric.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(e,t){t=t||{};var i=function(){},n=t.onComplete||i,s=t.onChange||i,a=this;return fabric.util.animate({startValue:e.get("left"),endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(t){e.set("left",t),a.renderAll(),s()},onComplete:function(){e.setCoords(),n()}}),this},fxCenterObjectV:function(e,t){t=t||{};var i=function(){},n=t.onComplete||i,s=t.onChange||i,a=this;return fabric.util.animate({startValue:e.get("top"),endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(t){e.set("top",t),a.renderAll(),s()},onComplete:function(){e.setCoords(),n()}}),this},fxRemove:function(e,t){t=t||{};var i=function(){},n=t.onComplete||i,s=t.onChange||i,a=this;return fabric.util.animate({startValue:e.get("opacity"),endValue:0,duration:this.FX_DURATION,onStart:function(){e.setActive(!1)},onChange:function(t){e.set("opacity",t),a.renderAll(),s()},onComplete:function(){a.remove(e),n()}}),this}}),fabric.util.object.extend(fabric.StaticCanvas.prototype,{loadFromDatalessJSON:function(e,t){if(e){var i="string"==typeof e?JSON.parse(e):e;!i||i&&!i.objects||(this.clear(),this.backgroundColor=i.background,this._enlivenDatalessObjects(i.objects,t))}},_enlivenDatalessObjects:function(e,t){function i(e,i){n.insertAt(e,i,!0),e.setCoords(),++s===a&&t&&t()}var n=this,s=0,a=e.length;0===a&&t&&t();try{e.forEach(function(e,t){var n=e.paths?"paths":"path",s=e[n];if(delete e[n],"string"!=typeof s)switch(e.type){case"image":fabric[fabric.util.string.capitalize(e.type)].fromObject(e,function(e){i(e,t)});break;default:var a=fabric[fabric.util.string.camelize(fabric.util.string.capitalize(e.type))];a&&a.fromObject&&(s&&(e[n]=s),i(a.fromObject(e),t))}else if("image"===e.type)fabric.util.loadImage(s,function(n){var a=new fabric.Image(n);a.setSourcePath(s),fabric.util.object.extend(a,e),a.setAngle(e.angle),i(a,t)});else if("text"===e.type){e.path=s;var r=fabric.Text.fromObject(e),o=function(){"[object Opera]"===Object.prototype.toString.call(fabric.window.opera)?setTimeout(function(){i(r,t)},500):i(r,t)};fabric.util.getScript(s,o)}else fabric.loadSVGFromURL(s,function(n){var a=fabric.util.groupSVGElements(n,e,s);a instanceof fabric.PathGroup||(fabric.util.object.extend(a,e),"undefined"!=typeof e.angle&&a.setAngle(e.angle)),i(a,t)})},this)}catch(r){fabric.log(r.message)}},loadFromJSON:function(e,t){if(e){var i=JSON.parse(e);if(i&&(!i||i.objects)){this.clear();var n=this;return this._enlivenObjects(i.objects,function(){n.backgroundColor=i.background,i.backgroundImage?n.setBackgroundImage(i.backgroundImage,function(){n.backgroundImageOpacity=i.backgroundImageOpacity,n.backgroundImageStretch=i.backgroundImageStretch,n.renderAll(),t&&t()}):t&&t()}),this}}},_enlivenObjects:function(e,t){var i=this;fabric.util.enlivenObjects(e,function(e){e.forEach(function(e,t){i.insertAt(e,t,!0)}),t&&t()})},_toDataURL:function(e,t){this.clone(function(i){t(i.toDataURL(e))})},_toDataURLWithMultiplier:function(e,t,i){this.clone(function(n){i(n.toDataURLWithMultiplier(e,t))})},clone:function(e){var t=JSON.stringify(this);this.cloneWithoutData(function(i){i.loadFromJSON(t,function(){e&&e(i)})})},cloneWithoutData:function(e){var t=fabric.document.createElement("canvas");t.width=this.getWidth(),t.height=this.getHeight();var i=new fabric.Canvas(t);i.clipTo=this.clipTo,this.backgroundImage?(i.setBackgroundImage(this.backgroundImage.src,function(){i.renderAll(),e&&e(i)}),i.backgroundImageOpacity=this.backgroundImageOpacity,i.backgroundImageStretch=this.backgroundImageStretch):e&&e(i)}}),function(e){"use strict";var t=e.fabric||(e.fabric={}),i=t.util.object.extend,n=(t.util.object.clone,t.util.toFixed),s=t.util.string.capitalize,a=t.util.getPointer,r=t.util.degreesToRadians,o=Array.prototype.slice;if(!t.Object){t.Object=t.util.createClass({type:"object",includeDefaultValues:!0,NUM_FRACTION_DIGITS:2,MIN_SCALE_LIMIT:.1,stateProperties:"top left width height scaleX scaleY flipX flipY theta angle opacity cornersize fill overlayFill stroke strokeWidth fillRule borderScaleFactor transformMatrix selectable".split(" "),top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,theta:0,opacity:1,angle:0,cornersize:12,padding:0,borderColor:"rgba(102,153,255,0.75)",cornerColor:"rgba(102,153,255,0.5)",fill:"rgb(0,0,0)",fillRule:"source-over",overlayFill:null,stroke:null,strokeWidth:1,borderOpacityWhenMoving:.4,borderScaleFactor:1,transformMatrix:null,selectable:!0,hasControls:!0,hasBorders:!0,hasRotatingPoint:!1,rotatingPointOffset:40,callSuper:function(e){var t=this.constructor.superclass.prototype[e];return arguments.length>1?t.apply(this,o.call(arguments,1)):t.call(this)},initialize:function(e){e&&this.setOptions(e)},setOptions:function(e){for(var t,i=this.stateProperties.length;i--;)t=this.stateProperties[i],t in e&&this.set(t,e[t])},transform:function(e){e.globalAlpha=this.opacity,e.translate(this.left,this.top),e.rotate(this.theta),e.scale(this.scaleX*(this.flipX?-1:1),this.scaleY*(this.flipY?-1:1))},toObject:function(){var e={type:this.type,left:n(this.left,this.NUM_FRACTION_DIGITS),top:n(this.top,this.NUM_FRACTION_DIGITS),width:n(this.width,this.NUM_FRACTION_DIGITS),height:n(this.height,this.NUM_FRACTION_DIGITS),fill:this.fill,overlayFill:this.overlayFill,stroke:this.stroke,strokeWidth:this.strokeWidth,scaleX:n(this.scaleX,this.NUM_FRACTION_DIGITS),scaleY:n(this.scaleY,this.NUM_FRACTION_DIGITS),angle:n(this.getAngle(),this.NUM_FRACTION_DIGITS),flipX:this.flipX,flipY:this.flipY,opacity:n(this.opacity,this.NUM_FRACTION_DIGITS),selectable:this.selectable,hasControls:this.hasControls,hasBorders:this.hasBorders,hasRotatingPoint:this.hasRotatingPoint};return this.includeDefaultValues||(e=this._removeDefaultValues(e)),e},toDatalessObject:function(){return this.toObject()},getSvgStyles:function(){return["stroke: ",this.stroke?this.stroke:"none","; ","stroke-width: ",this.strokeWidth?this.strokeWidth:"0","; ","fill: ",this.fill?this.fill:"none","; ","opacity: ",this.opacity?this.opacity:"1",";"].join("")},getSvgTransform:function(){var e=this.getAngle();return["translate(",n(this.left,2)," ",n(this.top,2),")",0!==e?" rotate("+n(e,2)+")":"",1===this.scaleX&&1===this.scaleY?"":" scale("+n(this.scaleX,2)+" "+n(this.scaleY,2)+")"].join("")},_removeDefaultValues:function(e){var i=t.Object.prototype.options;return i&&this.stateProperties.forEach(function(t){e[t]===i[t]&&delete e[t]}),e},isActive:function(){return!!this.active},setActive:function(e){return this.active=!!e,this},toString:function(){return"#<fabric."+s(this.type)+">"},set:function(e,t){var i=("scaleX"===e||"scaleY"===e)&&t<this.MIN_SCALE_LIMIT;if(i&&(t=this.MIN_SCALE_LIMIT),"object"==typeof e)for(var n in e)this.set(n,e[n]);else"angle"===e?this.setAngle(t):this[e]=t;return this},toggle:function(e){var t=this.get(e);return"boolean"==typeof t&&this.set(e,!t),this},setSourcePath:function(e){return this.sourcePath=e,this},get:function(e){return"angle"===e?this.getAngle():this[e]},render:function(e,t){if(0!==this.width&&0!==this.height){e.save();var i=this.transformMatrix;i&&e.setTransform(i[0],i[1],i[2],i[3],i[4],i[5]),t||this.transform(e),this.stroke&&(e.lineWidth=this.strokeWidth,e.strokeStyle=this.stroke),this.overlayFill?e.fillStyle=this.overlayFill:this.fill&&(e.fillStyle=this.fill),this._render(e,t),this.active&&!t&&(this.drawBorders(e),this.hideCorners||this.drawCorners(e)),e.restore()}},getWidth:function(){return this.width*this.scaleX},getHeight:function(){return this.height*this.scaleY},scale:function(e){return this.scaleX=e,this.scaleY=e,this},scaleToWidth:function(e){return this.scale(e/this.width)},scaleToHeight:function(e){return this.scale(e/this.height)},setOpacity:function(e){return this.set("opacity",e),this},getAngle:function(){return 180*this.theta/Math.PI},setAngle:function(e){return this.theta=e/180*Math.PI,this.angle=e,this},setCoords:function(){this.currentWidth=this.width*this.scaleX,this.currentHeight=this.height*this.scaleY,this._hypotenuse=Math.sqrt(Math.pow(this.currentWidth/2,2)+Math.pow(this.currentHeight/2,2)),this._angle=Math.atan(this.currentHeight/this.currentWidth);var e=Math.cos(this._angle+this.theta)*this._hypotenuse,t=Math.sin(this._angle+this.theta)*this._hypotenuse,i=this.theta,n=Math.sin(i),s=Math.cos(i),a={x:this.left-e,y:this.top-t},r={x:a.x+this.currentWidth*s,y:a.y+this.currentWidth*n},o={x:r.x-this.currentHeight*n,y:r.y+this.currentHeight*s},l={x:a.x-this.currentHeight*n,y:a.y+this.currentHeight*s},c={x:a.x-this.currentHeight/2*n,y:a.y+this.currentHeight/2*s},h={x:a.x+this.currentWidth/2*s,y:a.y+this.currentWidth/2*n},u={x:r.x-this.currentHeight/2*n,y:r.y+this.currentHeight/2*s},d={x:l.x+this.currentWidth/2*s,y:l.y+this.currentWidth/2*n},f={x:a.x+this.currentWidth/2*s,y:a.y+this.currentWidth/2*n};return this.oCoords={tl:a,tr:r,br:o,bl:l,ml:c,mt:h,mr:u,mb:d,mtr:f},this._setCornerCoords(),this},getBoundingRectWidth:function(){var e=[this.oCoords.tl.x,this.oCoords.tr.x,this.oCoords.br.x,this.oCoords.bl.x],i=t.util.array.min(e),n=t.util.array.max(e);return Math.abs(i-n)},getBoundingRectHeight:function(){var e=[this.oCoords.tl.y,this.oCoords.tr.y,this.oCoords.br.y,this.oCoords.bl.y],i=t.util.array.min(e),n=t.util.array.max(e);return Math.abs(i-n)},drawBorders:function(e){if(this.hasBorders){var t=this.padding,i=2*t;e.save(),e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,e.strokeStyle=this.borderColor;var n=1/(this.scaleX<this.MIN_SCALE_LIMIT?this.MIN_SCALE_LIMIT:this.scaleX),s=1/(this.scaleY<this.MIN_SCALE_LIMIT?this.MIN_SCALE_LIMIT:this.scaleY);e.lineWidth=1/this.borderScaleFactor,e.scale(n,s);var a=this.getWidth(),r=this.getHeight();if(e.strokeRect(~~(-(a/2)-t)+.5,~~(-(r/2)-t)+.5,~~(a+i),~~(r+i)),this.hasRotatingPoint&&!this.hideCorners&&!this.lockRotation){var o=(this.flipY?r:-r)/2;e.beginPath(),e.moveTo(0,o),e.lineTo(0,o+(this.flipY?this.rotatingPointOffset:-this.rotatingPointOffset)),e.closePath(),e.stroke()}return e.restore(),this}},drawCorners:function(e){if(this.hasControls){var t,i,n=this.cornersize,s=n/2,a=this.padding,r=-(this.width/2),o=-(this.height/2),l=n/this.scaleX,c=n/this.scaleY,h=(a+s)/this.scaleY,u=(a+s)/this.scaleX,d=(a+s-n)/this.scaleX,f=(a+s-n)/this.scaleY,p=this.height;return e.save(),e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,e.fillStyle=this.cornerColor,t=r-u,i=o-h,e.fillRect(t,i,l,c),t=r+this.width-u,i=o-h,e.fillRect(t,i,l,c),t=r-u,i=o+p+f,e.fillRect(t,i,l,c),t=r+this.width+d,i=o+p+f,e.fillRect(t,i,l,c),t=r+this.width/2-u,i=o-h,e.fillRect(t,i,l,c),t=r+this.width/2-u,i=o+p+f,e.fillRect(t,i,l,c),t=r+this.width+d,i=o+p/2-h,e.fillRect(t,i,l,c),t=r-u,i=o+p/2-h,e.fillRect(t,i,l,c),this.hasRotatingPoint&&(t=r+this.width/2-u,i=this.flipY?o+p+this.rotatingPointOffset/this.scaleY-c/2:o-this.rotatingPointOffset/this.scaleY-c/2,e.fillRect(t,i,l,c)),e.restore(),this}},clone:function(e){return this.constructor.fromObject?this.constructor.fromObject(this.toObject(),e):new t.Object(this.toObject())},cloneAsImage:function(e){if(t.Image){var i=new Image;i.onload=function(){e&&e(new t.Image(i),n),i=i.onload=null};var n={angle:this.get("angle"),flipX:this.get("flipX"),flipY:this.get("flipY")};this.set("angle",0).set("flipX",!1).set("flipY",!1),this.toDataURL(function(e){i.src=e})}return this},toDataURL:function(e){function i(t){t.left=n.width/2,t.top=n.height/2,t.setActive(!1),s.add(t);var i=s.toDataURL("png");s.dispose(),s=t=null,e&&e(i)}var n=t.document.createElement("canvas");n.getContext||"undefined"==typeof G_vmlCanvasManager||G_vmlCanvasManager.initElement(n),this.setCoords(),n.width=this.getBoundingRectWidth(),n.height=this.getBoundingRectHeight(),t.util.wrapElement(n,"div");var s=new t.Canvas(n);s.backgroundColor="transparent",s.renderAll(),this.constructor.async?this.clone(i):i(this.clone())},hasStateChanged:function(){return this.stateProperties.some(function(e){return this[e]!==this.originalState[e]},this)},saveState:function(){return this.stateProperties.forEach(function(e){this.originalState[e]=this.get(e)},this),this},setupState:function(){this.originalState={},this.saveState()},intersectsWithRect:function(e,i){var n=this.oCoords,s=new t.Point(n.tl.x,n.tl.y),a=new t.Point(n.tr.x,n.tr.y),r=new t.Point(n.bl.x,n.bl.y),o=new t.Point(n.br.x,n.br.y),l=t.Intersection.intersectPolygonRectangle([s,a,o,r],e,i);return"Intersection"===l.status},intersectsWithObject:function(e){function i(e){return{tl:new t.Point(e.tl.x,e.tl.y),tr:new t.Point(e.tr.x,e.tr.y),bl:new t.Point(e.bl.x,e.bl.y),br:new t.Point(e.br.x,e.br.y)}}var n=i(this.oCoords),s=i(e.oCoords),a=t.Intersection.intersectPolygonPolygon([n.tl,n.tr,n.br,n.bl],[s.tl,s.tr,s.br,s.bl]);return"Intersection"===a.status},isContainedWithinObject:function(e){return this.isContainedWithinRect(e.oCoords.tl,e.oCoords.br)},isContainedWithinRect:function(e,i){var n=this.oCoords,s=new t.Point(n.tl.x,n.tl.y),a=new t.Point(n.tr.x,n.tr.y),r=new t.Point(n.bl.x,n.bl.y);return new t.Point(n.br.x,n.br.y),s.x>e.x&&a.x<i.x&&s.y>e.y&&r.y<i.y},isType:function(e){return this.type===e},_findTargetCorner:function(e,t){if(!this.hasControls)return!1;var i,n,s=a(e),r=s.x-t.left,o=s.y-t.top;for(var l in this.oCoords){if("mtr"===l&&!this.hasRotatingPoint)return!1;if(n=this._getImageLines(this.oCoords[l].corner,l),i=this._findCrossPoints(r,o,n),1==i%2&&0!=i)return this.__corner=l,l}return!1},_findCrossPoints:function(e,t,i){var n,s,a,r,o,l,c,h=0;for(var u in i)if(c=i[u],!(c.o.y<t&&c.d.y<t||c.o.y>=t&&c.d.y>=t||(c.o.x==c.d.x&&c.o.x>=e?(o=c.o.x,l=t):(n=0,s=(c.d.y-c.o.y)/(c.d.x-c.o.x),a=t-n*e,r=c.o.y-s*c.o.x,o=-(a-r)/(n-s),l=a+n*o),o>=e&&(h+=1),2!=h)))break;return h},_getImageLines:function(e){return{topline:{o:e.tl,d:e.tr},rightline:{o:e.tr,d:e.br},bottomline:{o:e.br,d:e.bl},leftline:{o:e.bl,d:e.tl}}},_setCornerCoords:function(){var e=this.oCoords,t=r(45-this.getAngle()),i=Math.sqrt(2*Math.pow(this.cornersize,2))/2,n=i*Math.cos(t),s=i*Math.sin(t),a=Math.sin(this.theta),o=Math.cos(this.theta);e.tl.corner={tl:{x:e.tl.x-s,y:e.tl.y-n},tr:{x:e.tl.x+n,y:e.tl.y-s},bl:{x:e.tl.x-n,y:e.tl.y+s},br:{x:e.tl.x+s,y:e.tl.y+n}},e.tr.corner={tl:{x:e.tr.x-s,y:e.tr.y-n},tr:{x:e.tr.x+n,y:e.tr.y-s},br:{x:e.tr.x+s,y:e.tr.y+n},bl:{x:e.tr.x-n,y:e.tr.y+s}},e.bl.corner={tl:{x:e.bl.x-s,y:e.bl.y-n},bl:{x:e.bl.x-n,y:e.bl.y+s},br:{x:e.bl.x+s,y:e.bl.y+n},tr:{x:e.bl.x+n,y:e.bl.y-s}},e.br.corner={tr:{x:e.br.x+n,y:e.br.y-s},bl:{x:e.br.x-n,y:e.br.y+s},br:{x:e.br.x+s,y:e.br.y+n},tl:{x:e.br.x-s,y:e.br.y-n}},e.ml.corner={tl:{x:e.ml.x-s,y:e.ml.y-n},tr:{x:e.ml.x+n,y:e.ml.y-s},bl:{x:e.ml.x-n,y:e.ml.y+s},br:{x:e.ml.x+s,y:e.ml.y+n}},e.mt.corner={tl:{x:e.mt.x-s,y:e.mt.y-n},tr:{x:e.mt.x+n,y:e.mt.y-s},bl:{x:e.mt.x-n,y:e.mt.y+s},br:{x:e.mt.x+s,y:e.mt.y+n}},e.mr.corner={tl:{x:e.mr.x-s,y:e.mr.y-n},tr:{x:e.mr.x+n,y:e.mr.y-s},bl:{x:e.mr.x-n,y:e.mr.y+s},br:{x:e.mr.x+s,y:e.mr.y+n}},e.mb.corner={tl:{x:e.mb.x-s,y:e.mb.y-n},tr:{x:e.mb.x+n,y:e.mb.y-s},bl:{x:e.mb.x-n,y:e.mb.y+s},br:{x:e.mb.x+s,y:e.mb.y+n}},e.mtr.corner={tl:{x:e.mtr.x-s+a*this.rotatingPointOffset,y:e.mtr.y-n-o*this.rotatingPointOffset},tr:{x:e.mtr.x+n+a*this.rotatingPointOffset,y:e.mtr.y-s-o*this.rotatingPointOffset},bl:{x:e.mtr.x-n+a*this.rotatingPointOffset,y:e.mtr.y+s-o*this.rotatingPointOffset},br:{x:e.mtr.x+s+a*this.rotatingPointOffset,y:e.mtr.y+n-o*this.rotatingPointOffset}}},toGrayscale:function(){var e=this.get("fill");return e&&this.set("overlayFill",new t.Color(e).toGrayscale().toRgb()),this},complexity:function(){return 0},toJSON:function(){return this.toObject()},setGradientFill:function(e,i){this.set("fill",t.Gradient.forObject(this,e,i))},animate:function(e,i,n){var s=this;n||(n={}),"from"in n||(n.from=this.get(e)),/[+-]/.test((i+"").charAt(0))&&(i=this.get(e)+parseFloat(i)),t.util.animate({startValue:n.from,endValue:i,byValue:n.by,easing:n.easing,duration:n.duration,onChange:function(t){s.set(e,t),n.onChange&&n.onChange()},onComplete:function(){s.setCoords(),n.onComplete&&n.onComplete()}})}}),t.Object.prototype.rotate=t.Object.prototype.setAngle;for(var l=t.Object.prototype,c=l.stateProperties.length;c--;){var h=l.stateProperties[c],u=h.charAt(0).toUpperCase()+h.slice(1),d="set"+u,f="get"+u;l[f]||(l[f]=function(e){return new Function('return this.get("'+e+'")')}(h)),l[d]||(l[d]=function(e){return new Function("value",'return this.set("'+e+'", value)')}(h))}i(t.Object.prototype,t.Observable)}}("undefined"!=typeof exports?exports:this),function(e){"use strict";var t=e.fabric||(e.fabric={}),i=t.util.object.extend,n=t.Object.prototype.set,s={x1:1,x2:1,y1:1,y2:1};return t.Line?(t.warn("fabric.Line is already defined"),void 0):(t.Line=t.util.createClass(t.Object,{type:"line",initialize:function(e,t){e||(e=[0,0,0,0]),this.callSuper("initialize",t),this.set("x1",e[0]),this.set("y1",e[1]),this.set("x2",e[2]),this.set("y2",e[3]),this._setWidthHeight(t)},_setWidthHeight:function(e){e||(e={}),this.set("width",this.x2-this.x1||1),this.set("height",this.y2-this.y1||1),this.set("left","left"in e?e.left:this.x1+this.width/2),this.set("top","top"in e?e.top:this.y1+this.height/2)},set:function(e,t){return n.call(this,e,t),e in s&&this._setWidthHeight(),this},_render:function(e){e.beginPath(),e.moveTo(1===this.width?0:-this.width/2,1===this.height?0:-this.height/2),e.lineTo(1===this.width?0:this.width/2,1===this.height?0:this.height/2),e.lineWidth=this.strokeWidth;var t=e.strokeStyle;e.strokeStyle=e.fillStyle,e.stroke(),e.strokeStyle=t},complexity:function(){return 1},toObject:function(){return i(this.callSuper("toObject"),{x1:this.get("x1"),y1:this.get("y1"),x2:this.get("x2"),y2:this.get("y2")})},toSVG:function(){return["<line ",'x1="',this.get("x1"),'" ','y1="',this.get("y1"),'" ','x2="',this.get("x2"),'" ','y2="',this.get("y2"),'" ','style="',this.getSvgStyles(),'" ',"/>"].join("")}}),t.Line.ATTRIBUTE_NAMES="x1 y1 x2 y2 stroke stroke-width transform".split(" "),t.Line.fromElement=function(e,n){var s=t.parseAttributes(e,t.Line.ATTRIBUTE_NAMES),a=[s.x1||0,s.y1||0,s.x2||0,s.y2||0];return new t.Line(a,i(s,n))},t.Line.fromObject=function(e){var i=[e.x1,e.y1,e.x2,e.y2];return new t.Line(i,e)},void 0)}("undefined"!=typeof exports?exports:this),function(e){"use strict";function t(e){return"radius"in e&&e.radius>0}var i=e.fabric||(e.fabric={}),n=2*Math.PI,s=i.util.object.extend;return i.Circle?(i.warn("fabric.Circle is already defined."),void 0):(i.Circle=i.util.createClass(i.Object,{type:"circle",initialize:function(e){e=e||{},this.set("radius",e.radius||0),this.callSuper("initialize",e);var t=2*this.get("radius");this.set("width",t).set("height",t)},toObject:function(){return s(this.callSuper("toObject"),{radius:this.get("radius")})},toSVG:function(){return'<circle cx="0" cy="0" r="'+this.radius+'" '+'style="'+this.getSvgStyles()+'" '+'transform="'+this.getSvgTransform()+'" '+"/>"},_render:function(e,t){e.beginPath(),e.globalAlpha*=this.opacity,e.arc(t?this.left:0,t?this.top:0,this.radius,0,n,!1),e.closePath(),this.fill&&e.fill(),this.stroke&&e.stroke()},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(e){this.radius=e,this.set("width",2*e).set("height",2*e)},complexity:function(){return 1}}),i.Circle.ATTRIBUTE_NAMES="cx cy r fill fill-opacity opacity stroke stroke-width transform".split(" "),i.Circle.fromElement=function(e,n){n||(n={});var a=i.parseAttributes(e,i.Circle.ATTRIBUTE_NAMES);if(!t(a))throw Error("value of `r` attribute is required and can not be negative");return"left"in a&&(a.left-=n.width/2||0),"top"in a&&(a.top-=n.height/2||0),new i.Circle(s(a,n))},i.Circle.fromObject=function(e){return new i.Circle(e)},void 0)}("undefined"!=typeof exports?exports:this),function(e){"use strict";var t=e.fabric||(e.fabric={});return t.Triangle?(t.warn("fabric.Triangle is already defined"),void 0):(t.Triangle=t.util.createClass(t.Object,{type:"triangle",initialize:function(e){e=e||{},this.callSuper("initialize",e),this.set("width",e.width||100).set("height",e.height||100)},_render:function(e){var t=this.width/2,i=this.height/2;e.beginPath(),e.moveTo(-t,i),e.lineTo(0,-i),e.lineTo(t,i),e.closePath(),this.fill&&e.fill(),this.stroke&&e.stroke()},complexity:function(){return 1},toSVG:function(){var e=this.width/2,t=this.height/2,i=[-e+" "+t,"0 "+-t,e+" "+t].join(",");return'<polygon points="'+i+'" '+'style="'+this.getSvgStyles()+'" '+'transform="'+this.getSvgTransform()+'" '+"/>"}}),t.Triangle.fromObject=function(e){return new t.Triangle(e)},void 0)}("undefined"!=typeof exports?exports:this),function(e){"use strict";var t=e.fabric||(e.fabric={}),i=2*Math.PI,n=t.util.object.extend;return t.Ellipse?(t.warn("fabric.Ellipse is already defined."),void 0):(t.Ellipse=t.util.createClass(t.Object,{type:"ellipse",initialize:function(e){e=e||{},this.callSuper("initialize",e),this.set("rx",e.rx||0),this.set("ry",e.ry||0),this.set("width",2*this.get("rx")),this.set("height",2*this.get("ry"))},toObject:function(){return n(this.callSuper("toObject"),{rx:this.get("rx"),ry:this.get("ry")})},toSVG:function(){return["<ellipse ",'rx="',this.get("rx"),'" ','ry="',this.get("ry"),'" ','style="',this.getSvgStyles(),'" ','transform="',this.getSvgTransform(),'" ',"/>"].join("")},render:function(e,t){return 0!==this.rx&&0!==this.ry?this.callSuper("render",e,t):void 0},_render:function(e,t){e.beginPath(),e.save(),e.globalAlpha*=this.opacity,e.transform(1,0,0,this.ry/this.rx,0,0),e.arc(t?this.left:0,t?this.top:0,this.rx,0,i,!1),this.stroke&&e.stroke(),this.fill&&e.fill(),e.restore()},complexity:function(){return 1}}),t.Ellipse.ATTRIBUTE_NAMES="cx cy rx ry fill fill-opacity opacity stroke stroke-width transform".split(" "),t.Ellipse.fromElement=function(e,i){i||(i={});var s=t.parseAttributes(e,t.Ellipse.ATTRIBUTE_NAMES);return"left"in s&&(s.left-=i.width/2||0),"top"in s&&(s.top-=i.height/2||0),new t.Ellipse(n(s,i))},t.Ellipse.fromObject=function(e){return new t.Ellipse(e)},void 0)}("undefined"!=typeof exports?exports:this),function(e){"use strict";function t(e){return e.left=e.left||0,e.top=e.top||0,e}var i=e.fabric||(e.fabric={});return i.Rect?(console.warn("fabric.Rect is already defined"),void 0):(i.Rect=i.util.createClass(i.Object,{type:"rect",options:{rx:0,ry:0},initialize:function(e){this._initStateProperties(),this.callSuper("initialize",e),this._initRxRy()},_initStateProperties:function(){this.stateProperties=this.stateProperties.concat(["rx","ry"])},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(e){var t=this.rx||0,i=this.ry||0,n=-this.width/2,s=-this.height/2,a=this.width,r=this.height;e.beginPath(),e.globalAlpha*=this.opacity,this.group&&e.translate(this.x||0,this.y||0),e.moveTo(n+t,s),e.lineTo(n+a-t,s),e.quadraticCurveTo(n+a,s,n+a,s+i,n+a,s+i),e.lineTo(n+a,s+r-i),e.quadraticCurveTo(n+a,s+r,n+a-t,s+r,n+a-t,s+r),e.lineTo(n+t,s+r),e.quadraticCurveTo(n,s+r,n,s+r-i,n,s+r-i),e.lineTo(n,s+i),e.quadraticCurveTo(n,s,n+t,s,n+t,s),e.closePath(),this.fill&&e.fill(),this.stroke&&e.stroke()},_normalizeLeftTopProperties:function(e){return e.left&&this.set("left",e.left+this.getWidth()/2),this.set("x",e.left||0),e.top&&this.set("top",e.top+this.getHeight()/2),this.set("y",e.top||0),this},complexity:function(){return 1},toObject:function(){return i.util.object.extend(this.callSuper("toObject"),{rx:this.get("rx")||0,ry:this.get("ry")||0})},toSVG:function(){return'<rect x="'+-1*this.width/2+'" y="'+-1*this.height/2+'" '+'rx="'+this.get("rx")+'" ry="'+this.get("ry")+'" '+'width="'+this.width+'" height="'+this.height+'" '+'style="'+this.getSvgStyles()+'" '+'transform="'+this.getSvgTransform()+'" '+"/>"}}),i.Rect.ATTRIBUTE_NAMES="x y width height rx ry fill fill-opacity opacity stroke stroke-width transform".split(" "),i.Rect.fromElement=function(e,n){if(!e)return null;var s=i.parseAttributes(e,i.Rect.ATTRIBUTE_NAMES);s=t(s);var a=new i.Rect(i.util.object.extend(n?i.util.object.clone(n):{},s));return a._normalizeLeftTopProperties(s),a},i.Rect.fromObject=function(e){return new i.Rect(e)},void 0)}("undefined"!=typeof exports?exports:this),function(e){"use strict";var t=e.fabric||(e.fabric={}),i=t.util.toFixed;return t.Polyline?(t.warn("fabric.Polyline is already defined"),void 0):(t.Polyline=t.util.createClass(t.Object,{type:"polyline",initialize:function(e,t){t=t||{},this.set("points",e),this.callSuper("initialize",t),this._calcDimensions()},_calcDimensions:function(){return t.Polygon.prototype._calcDimensions.call(this)},toObject:function(){return t.Polygon.prototype.toObject.call(this)},toSVG:function(){for(var e=[],t=0,n=this.points.length;n>t;t++)e.push(i(this.points[t].x,2),",",i(this.points[t].y,2)," ");return["<polyline ",'points="',e.join(""),'" ','style="',this.getSvgStyles(),'" ','transform="',this.getSvgTransform(),'" ',"/>"].join("")
},_render:function(e){var t;e.beginPath(),e.moveTo(this.points[0].x,this.points[0].y);for(var i=0,n=this.points.length;n>i;i++)t=this.points[i],e.lineTo(t.x,t.y);this.fill&&e.fill(),this.stroke&&e.stroke()},complexity:function(){return this.get("points").length}}),t.Polyline.ATTRIBUTE_NAMES="fill fill-opacity opacity stroke stroke-width transform".split(" "),t.Polyline.fromElement=function(e,i){if(!e)return null;i||(i={});for(var n=t.parsePointsAttribute(e.getAttribute("points")),s=t.parseAttributes(e,t.Polyline.ATTRIBUTE_NAMES),a=0,r=n.length;r>a;a++)n[a].x-=i.width/2||0,n[a].y-=i.height/2||0;return new t.Polyline(n,t.util.object.extend(s,i))},t.Polyline.fromObject=function(e){var i=e.points;return new t.Polyline(i,e)},void 0)}("undefined"!=typeof exports?exports:this),function(e){"use strict";var t=e.fabric||(e.fabric={}),i=t.util.object.extend,n=t.util.array.min,s=t.util.array.max,a=t.util.toFixed;return t.Polygon?(t.warn("fabric.Polygon is already defined"),void 0):(t.Polygon=t.util.createClass(t.Object,{type:"polygon",initialize:function(e,t){t=t||{},this.points=e,this.callSuper("initialize",t),this._calcDimensions()},_calcDimensions:function(){var e=this.points,t=n(e,"x"),i=n(e,"y"),a=s(e,"x"),r=s(e,"y");this.width=a-t,this.height=r-i,this.minX=t,this.minY=i},toObject:function(){return i(this.callSuper("toObject"),{points:this.points.concat()})},toSVG:function(){for(var e=[],t=0,i=this.points.length;i>t;t++)e.push(a(this.points[t].x,2),",",a(this.points[t].y,2)," ");return["<polygon ",'points="',e.join(""),'" ','style="',this.getSvgStyles(),'" ','transform="',this.getSvgTransform(),'" ',"/>"].join("")},_render:function(e){var t;e.beginPath(),e.moveTo(this.points[0].x,this.points[0].y);for(var i=0,n=this.points.length;n>i;i++)t=this.points[i],e.lineTo(t.x,t.y);this.fill&&e.fill(),this.stroke&&(e.closePath(),e.stroke())},complexity:function(){return this.points.length}}),t.Polygon.ATTRIBUTE_NAMES="fill fill-opacity opacity stroke stroke-width transform".split(" "),t.Polygon.fromElement=function(e,n){if(!e)return null;n||(n={});for(var s=t.parsePointsAttribute(e.getAttribute("points")),a=t.parseAttributes(e,t.Polygon.ATTRIBUTE_NAMES),r=0,o=s.length;o>r;r++)s[r].x-=n.width/2||0,s[r].y-=n.height/2||0;return new t.Polygon(s,i(a,n))},t.Polygon.fromObject=function(e){return new t.Polygon(e.points,e)},void 0)}("undefined"!=typeof exports?exports:this),function(e){function t(e,t,s,a){for(var r=a[0],o=a[1],l=a[2],c=a[3],h=a[4],u=a[5],d=a[6],f=i(u,d,r,o,c,h,l,t,s),p=0;p<f.length;p++){var g=n.apply(this,f[p]);e.bezierCurveTo.apply(e,g)}}function i(e,t,i,n,s,a,o,c,u){if(r=h.call(arguments),l[r])return l[r];var d=o*(Math.PI/180),f=Math.sin(d),p=Math.cos(d);i=Math.abs(i),n=Math.abs(n);var g=.5*p*(c-e)+.5*f*(u-t),m=.5*p*(u-t)-.5*f*(c-e),v=g*g/(i*i)+m*m/(n*n);v>1&&(v=Math.sqrt(v),i*=v,n*=v);var b=p/i,y=f/i,_=-f/n,x=p/n,w=b*c+y*u,k=_*c+x*u,C=b*e+y*t,j=_*e+x*t,S=(C-w)*(C-w)+(j-k)*(j-k),T=1/S-.25;0>T&&(T=0);var I=Math.sqrt(T);a==s&&(I=-I);var G=.5*(w+C)-I*(j-k),A=.5*(k+j)+I*(C-w),P=Math.atan2(k-A,w-G),M=Math.atan2(j-A,C-G),D=M-P;0>D&&1==a?D+=2*Math.PI:D>0&&0==a&&(D-=2*Math.PI);for(var O=Math.ceil(Math.abs(D/(.5*Math.PI+.001))),F=[],E=0;O>E;E++){var H=P+E*D/O,N=P+(E+1)*D/O;F[E]=[G,A,H,N,i,n,f,p]}return l[r]=F}function n(e,t,i,n,s,a,o,l){if(r=h.call(arguments),c[r])return c[r];var u=l*s,d=-o*a,f=o*s,p=l*a,g=.5*(n-i),m=8/3*Math.sin(.5*g)*Math.sin(.5*g)/Math.sin(g),v=e+Math.cos(i)-m*Math.sin(i),b=t+Math.sin(i)+m*Math.cos(i),y=e+Math.cos(n),_=t+Math.sin(n),x=y+m*Math.sin(n),w=_-m*Math.cos(n);return c[r]=[u*v+d*b,f*v+p*b,u*x+d*w,f*x+p*w,u*y+d*_,f*y+p*_]}function s(e){return"H"===e[0]?e[1]:e[e.length-2]}function a(e){return"V"===e[0]?e[1]:e[e.length-1]}var r,o={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},l={},c={},h=Array.prototype.join,u=e.fabric||(e.fabric={}),d=u.util.array.min,f=u.util.array.max,p=u.util.object.extend,g=Object.prototype.toString;return u.Path?(u.warn("fabric.Path is already defined"),void 0):u.Object?(u.Path=u.util.createClass(u.Object,{type:"path",initialize:function(e,t){if(t=t||{},this.setOptions(t),!e)throw Error("`path` argument is required");var i="[object Array]"===g.call(e);this.path=i?e:e.match&&e.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi),this.path&&(i||this._initializeFromString(t),t.sourcePath&&this.setSourcePath(t.sourcePath))},_initializeFromString:function(e){var t="width"in e,i="height"in e;this.path=this._parsePath(),t&&i||(p(this,this._parseDimensions()),t&&(this.width=e.width),i&&(this.height=e.height))},_render:function(e){for(var i,n,s,a=0,r=0,o=0,l=0,c=-(this.width/2),h=-(this.height/2),u=0,d=this.path.length;d>u;++u)switch(i=this.path[u],i[0]){case"l":a+=i[1],r+=i[2],e.lineTo(a+c,r+h);break;case"L":a=i[1],r=i[2],e.lineTo(a+c,r+h);break;case"h":a+=i[1],e.lineTo(a+c,r+h);break;case"H":a=i[1],e.lineTo(a+c,r+h);break;case"v":r+=i[1],e.lineTo(a+c,r+h);break;case"V":r=i[1],e.lineTo(a+c,r+h);break;case"m":a+=i[1],r+=i[2],e.moveTo(a+c,r+h);break;case"M":a=i[1],r=i[2],e.moveTo(a+c,r+h);break;case"c":n=a+i[5],s=r+i[6],o=a+i[3],l=r+i[4],e.bezierCurveTo(a+i[1]+c,r+i[2]+h,o+c,l+h,n+c,s+h),a=n,r=s;break;case"C":a=i[5],r=i[6],o=i[3],l=i[4],e.bezierCurveTo(i[1]+c,i[2]+h,o+c,l+h,a+c,r+h);break;case"s":n=a+i[3],s=r+i[4],o=2*a-o,l=2*r-l,e.bezierCurveTo(o+c,l+h,a+i[1]+c,r+i[2]+h,n+c,s+h),o=a+i[1],l=r+i[2],a=n,r=s;break;case"S":n=i[3],s=i[4],o=2*a-o,l=2*r-l,e.bezierCurveTo(o+c,l+h,i[1]+c,i[2]+h,n+c,s+h),a=n,r=s,o=i[1],l=i[2];break;case"q":a+=i[3],r+=i[4],e.quadraticCurveTo(i[1]+c,i[2]+h,a+c,r+h);break;case"Q":a=i[3],r=i[4],o=i[1],l=i[2],e.quadraticCurveTo(o+c,l+h,a+c,r+h);break;case"T":n=a,s=r,a=i[1],r=i[2],o=-o+2*n,l=-l+2*s,e.quadraticCurveTo(o+c,l+h,a+c,r+h);break;case"a":t(e,a+c,r+h,[i[1],i[2],i[3],i[4],i[5],i[6]+a+c,i[7]+r+h]),a+=i[6],r+=i[7];break;case"A":t(e,a+c,r+h,[i[1],i[2],i[3],i[4],i[5],i[6]+c,i[7]+h]),a=i[6],r=i[7];break;case"z":case"Z":e.closePath()}},render:function(e,t){e.save();var i=this.transformMatrix;i&&e.transform(i[0],i[1],i[2],i[3],i[4],i[5]),t||this.transform(e),this.overlayFill?e.fillStyle=this.overlayFill:this.fill&&(e.fillStyle=this.fill),this.stroke&&(e.strokeStyle=this.stroke),e.beginPath(),this._render(e),this.fill&&e.fill(),this.stroke&&(e.strokeStyle=this.stroke,e.lineWidth=this.strokeWidth,e.lineCap=e.lineJoin="round",e.stroke()),!t&&this.active&&(this.drawBorders(e),this.hideCorners||this.drawCorners(e)),e.restore()},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(){var e=p(this.callSuper("toObject"),{path:this.path});return this.sourcePath&&(e.sourcePath=this.sourcePath),this.transformMatrix&&(e.transformMatrix=this.transformMatrix),e},toDatalessObject:function(){var e=this.toObject();return this.sourcePath&&(e.path=this.sourcePath),delete e.sourcePath,e},toSVG:function(){for(var e=[],t=0,i=this.path.length;i>t;t++)e.push(this.path[t].join(" "));var n=e.join(" ");return['<g transform="',this.getSvgTransform(),'">',"<path ",'width="',this.width,'" height="',this.height,'" ','d="',n,'" ','style="',this.getSvgStyles(),'" ','transform="translate(',-this.width/2," ",-this.height/2,')" />',"</g>"].join("")},complexity:function(){return this.path.length},_parsePath:function(){for(var e,t,i,n,s,a=[],r=0,l=this.path.length;l>r;r++){e=this.path[r],t=e.slice(1).trim().replace(/(\d)-/g,"$1###-").split(/\s|,|###/),s=[e.charAt(0)];for(var n=0,c=t.length;c>n;n++)i=parseFloat(t[n]),isNaN(i)||s.push(i);var h=s[0].toLowerCase(),u=o[h];if(s.length-1>u)for(var d=1,f=s.length;f>d;d+=u)a.push([s[0]].concat(s.slice(d,d+u)));else a.push(s)}return a},_parseDimensions:function(){var e,t,i,n,r=[],o=[],l=!1;this.path.forEach(function(c,h){"H"!==c[0]&&(e=0===h?s(c):s(this.path[h-1])),"V"!==c[0]&&(t=0===h?a(c):a(this.path[h-1])),c[0]===c[0].toLowerCase()&&(l=!0),i=l?e+s(c):"V"===c[0]?e:s(c),n=l?t+a(c):"H"===c[0]?t:a(c);var u=parseInt(i,10);isNaN(u)||r.push(u),u=parseInt(n,10),isNaN(u)||o.push(u)},this);var c=d(r),h=d(o),u=0,p=0,g={top:h-p,left:c-u,bottom:f(o)-p,right:f(r)-u};return g.width=g.right-g.left,g.height=g.bottom-g.top,g}}),u.Path.fromObject=function(e){return new u.Path(e.path,e)},u.Path.ATTRIBUTE_NAMES="d fill fill-opacity opacity fill-rule stroke stroke-width transform".split(" "),u.Path.fromElement=function(e,t){var i=u.parseAttributes(e,u.Path.ATTRIBUTE_NAMES);return new u.Path(i.d,p(i,t))},void 0):(u.warn("fabric.Path requires fabric.Object"),void 0)}("undefined"!=typeof exports?exports:this),function(e){"use strict";function t(e){for(var t=0,n=e.length;n>t;t++)if(!(e[t]instanceof i.Object)){var s=o(l(e[t].type));e[t]=i[s].fromObject(e[t])}return e}var i=e.fabric||(e.fabric={}),n=i.util.object.extend,s=i.util.array.invoke,a=i.Object.prototype.set,r=i.Object.prototype.toObject,o=i.util.string.camelize,l=i.util.string.capitalize;return i.PathGroup?(i.warn("fabric.PathGroup is already defined"),void 0):(i.PathGroup=i.util.createClass(i.Path,{type:"path-group",forceFillOverwrite:!1,initialize:function(e,t){t=t||{},this.paths=e||[];for(var i=this.paths.length;i--;)this.paths[i].group=this;this.setOptions(t),this.setCoords(),t.sourcePath&&this.setSourcePath(t.sourcePath)},render:function(e){if(this.stub)e.save(),this.transform(e),this.stub.render(e,!1),this.active&&(this.drawBorders(e),this.drawCorners(e)),e.restore();else{e.save();var t=this.transformMatrix;t&&e.transform(t[0],t[1],t[2],t[3],t[4],t[5]),this.transform(e);for(var i=0,n=this.paths.length;n>i;++i)this.paths[i].render(e,!0);this.active&&(this.drawBorders(e),this.hideCorners||this.drawCorners(e)),e.restore()}},set:function(e,t){if("fill"!==e&&"overlayFill"!==e||!this.isSameColor())a.call(this,e,t);else{this[e]=t;for(var i=this.paths.length;i--;)this.paths[i].set(e,t)}return this},toObject:function(){return n(r.call(this),{paths:s(this.getObjects(),"clone"),sourcePath:this.sourcePath})},toDatalessObject:function(){var e=this.toObject();return this.sourcePath&&(e.paths=this.sourcePath),e},toSVG:function(){for(var e=this.getObjects(),t=["<g ",'width="',this.width,'" ','height="',this.height,'" ','style="',this.getSvgStyles(),'" ','transform="',this.getSvgTransform(),'" ',">"],i=0,n=e.length;n>i;i++)t.push(e[i].toSVG());return t.push("</g>"),t.join("")},toString:function(){return"#<fabric.PathGroup ("+this.complexity()+"): { top: "+this.top+", left: "+this.left+" }>"},isSameColor:function(){var e=this.getObjects()[0].get("fill");return this.getObjects().every(function(t){return t.get("fill")===e})},complexity:function(){return this.paths.reduce(function(e,t){return e+(t&&t.complexity?t.complexity():0)},0)},toGrayscale:function(){for(var e=this.paths.length;e--;)this.paths[e].toGrayscale();return this},getObjects:function(){return this.paths}}),i.PathGroup.fromObject=function(e){var n=t(e.paths);return new i.PathGroup(n,e)},void 0)}("undefined"!=typeof exports?exports:this),function(e){"use strict";var t=e.fabric||(e.fabric={}),i=t.util.object.extend,n=t.util.array.min,s=t.util.array.max,a=t.util.array.invoke,r=t.util.removeFromArray;t.Group||(t.Group=t.util.createClass(t.Object,{type:"group",initialize:function(e,t){this.objects=e||[],this.originalState={},this.callSuper("initialize"),this._calcBounds(),this._updateObjectsCoords(),t&&i(this,t),this._setOpacityIfSame(),this.setCoords(!0),this.saveCoords()},_updateObjectsCoords:function(){var e=this.left,t=this.top;this.forEachObject(function(i){var n=i.get("left"),s=i.get("top");i.set("originalLeft",n),i.set("originalTop",s),i.set("left",n-e),i.set("top",s-t),i.setCoords(),i.hideCorners=!0},this)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},getObjects:function(){return this.objects},addWithUpdate:function(e){return this._restoreObjectsState(),this.objects.push(e),this._calcBounds(),this._updateObjectsCoords(),this},removeWithUpdate:function(e){return this._restoreObjectsState(),r(this.objects,e),e.setActive(!1),this._calcBounds(),this._updateObjectsCoords(),this},add:function(e){return this.objects.push(e),this},remove:function(e){return r(this.objects,e),this},size:function(){return this.getObjects().length},set:function(e,t){if("function"==typeof t)this.set(e,t(this[e]));else if("fill"===e||"opacity"===e){var i=this.objects.length;for(this[e]=t;i--;)this.objects[i].set(e,t)}else this[e]=t;return this},contains:function(e){return this.objects.indexOf(e)>-1},toObject:function(){return i(this.callSuper("toObject"),{objects:a(this.objects,"clone")})},render:function(e,t){e.save(),this.transform(e);var i=Math.max(this.scaleX,this.scaleY);var n,s=0;for(this.objects.length;n=this.objects[s];s++){var a=n.borderScaleFactor;n.borderScaleFactor=i,n.render(e),n.borderScaleFactor=a}!t&&this.active&&(this.drawBorders(e),this.hideCorners||this.drawCorners(e)),e.restore(),this.setCoords()},item:function(e){return this.getObjects()[e]},complexity:function(){return this.getObjects().reduce(function(e,t){return e+="function"==typeof t.complexity?t.complexity():0},0)},_restoreObjectsState:function(){return this.objects.forEach(this._restoreObjectState,this),this},_restoreObjectState:function(e){var t=this.get("left"),i=this.get("top"),n=this.getAngle()*(Math.PI/180),s=(e.get("originalLeft"),e.get("originalTop"),Math.cos(n)*e.get("top")+Math.sin(n)*e.get("left")),a=-Math.sin(n)*e.get("top")+Math.cos(n)*e.get("left");return e.setAngle(e.getAngle()+this.getAngle()),e.set("left",t+a*this.get("scaleX")),e.set("top",i+s*this.get("scaleY")),e.set("scaleX",e.get("scaleX")*this.get("scaleX")),e.set("scaleY",e.get("scaleY")*this.get("scaleY")),e.setCoords(),e.hideCorners=!1,e.setActive(!1),e.setCoords(),this},destroy:function(){return this._restoreObjectsState()},saveCoords:function(){return this._originalLeft=this.get("left"),this._originalTop=this.get("top"),this},hasMoved:function(){return this._originalLeft!==this.get("left")||this._originalTop!==this.get("top")},setObjectsCoords:function(){return this.forEachObject(function(e){e.setCoords()}),this},activateAllObjects:function(){return this.forEachObject(function(e){e.setActive()}),this},forEachObject:t.StaticCanvas.prototype.forEachObject,_setOpacityIfSame:function(){var e=this.getObjects(),t=e[0]?e[0].get("opacity"):1,i=e.every(function(e){return e.get("opacity")===t});i&&(this.opacity=t)},_calcBounds:function(){for(var e,t,i,a,r,o,l,c=[],h=[],u=0,d=this.objects.length;d>u;++u){r=this.objects[u],r.setCoords();for(var f in r.oCoords)c.push(r.oCoords[f].x),h.push(r.oCoords[f].y)}e=n(c),i=s(c),t=n(h),a=s(h),o=i-e||0,l=a-t||0,this.width=o,this.height=l,this.left=e+o/2||0,this.top=t+l/2||0},containsPoint:function(e){var t=this.get("width")/2,i=this.get("height")/2,n=this.get("left"),s=this.get("top");return n-t<e.x&&n+t>e.x&&s-i<e.y&&s+i>e.y},toGrayscale:function(){for(var e=this.objects.length;e--;)this.objects[e].toGrayscale()}}),t.Group.fromObject=function(e,i){t.util.enlivenObjects(e.objects,function(n){delete e.objects,i&&i(new t.Group(n,e))})},t.Group.async=!0)}("undefined"!=typeof exports?exports:this),function(e){"use strict";var t=fabric.util.object.extend;return e.fabric||(e.fabric={}),e.fabric.Image?(fabric.warn("fabric.Image is already defined."),void 0):fabric.Object?(fabric.Image=fabric.util.createClass(fabric.Object,{active:!1,bordervisibility:!1,cornervisibility:!1,type:"image",initialize:function(e,t){t||(t={}),this.callSuper("initialize",t),this._initElement(e),this._originalImage=this.getElement(),this._initConfig(t),this.filters=[],t.filters&&(this.filters=t.filters,this.applyFilters())},getElement:function(){return this._element},setElement:function(e){return this._element=e,this._initConfig(),this},getOriginalSize:function(){var e=this.getElement();return{width:e.width,height:e.height}},setBorderVisibility:function(){this._resetWidthHeight(),this._adjustWidthHeightToBorders(showBorder),this.setCoords()},setCornersVisibility:function(e){this.cornervisibility=!!e},render:function(e,t){e.save(),t||this.transform(e),this._render(e),this.active&&!t&&(this.drawBorders(e),this.hideCorners||this.drawCorners(e)),e.restore()},toObject:function(){return t(this.callSuper("toObject"),{src:this._originalImage.src||this._originalImage._src,filters:this.filters.concat()})},toSVG:function(){return'<g transform="'+this.getSvgTransform()+'">'+'<image xlink:href="'+this.getSvgSrc()+'" '+'style="'+this.getSvgStyles()+'" '+'transform="translate('+-this.width/2+" "+-this.height/2+')" '+'width="'+this.width+'" '+'height="'+this.height+'"'+"/>"+"</g>"},getSrc:function(){return this.getElement().src||this.getElement()._src},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},clone:function(e){this.constructor.fromObject(this.toObject(),e)},applyFilters:function(e){if(0===this.filters.length)return this.setElement(this._originalImage),e&&e(),void 0;var t="undefined"!=typeof Buffer&&"undefined"==typeof window,i=this._originalImage,n=fabric.document.createElement("canvas"),s=t?new(require("canvas").Image):fabric.document.createElement("img"),a=this;if(n.getContext||"undefined"==typeof G_vmlCanvasManager||G_vmlCanvasManager.initElement(n),n.width=i.width,n.height=i.height,n.getContext("2d").drawImage(i,0,0),this.filters.forEach(function(e){e&&e.applyTo(n)}),s.onload=function(){a._element=s,e&&e(),s.onload=n=i=null},s.width=i.width,s.height=i.height,t){var r=n.toDataURL("image/png").replace(/data:image\/png;base64,/,"");s.src=new Buffer(r,"base64"),a._element=s,e&&e()}else s.src=n.toDataURL("image/png");return this},_render:function(e){e.drawImage(this.getElement(),-this.width/2,-this.height/2,this.width,this.height)},_adjustWidthHeightToBorders:function(e){e?(this.currentBorder=this.borderwidth,this.width+=2*this.currentBorder,this.height+=2*this.currentBorder):this.currentBorder=0},_resetWidthHeight:function(){var e=this.getElement();this.set("width",e.width),this.set("height",e.height)},_initElement:function(e){this.setElement(fabric.util.getById(e)),fabric.util.addClass(this.getElement(),fabric.Image.CSS_CANVAS)},_initConfig:function(e){e||(e={}),this.setOptions(e),this._setBorder(),this._setWidthHeight(e)},_initFilters:function(e){e.filters&&e.filters.length&&(this.filters=e.filters.map(function(e){return e&&fabric.Image.filters[e.type].fromObject(e)}))},_setBorder:function(){this.currentBorder=this.bordervisibility?this.borderwidth:0},_setWidthHeight:function(e){var t=2*this.currentBorder;this.width="width"in e?e.width:(this.getElement().width||0)+t,this.height="height"in e?e.height:(this.getElement().height||0)+t},complexity:function(){return 1}}),fabric.Image.CSS_CANVAS="canvas-img",fabric.Image.prototype.getSvgSrc=fabric.Image.prototype.getSrc,fabric.Image.fromObject=function(e,t){var i=fabric.document.createElement("img"),n=e.src;e.width&&(i.width=e.width),e.height&&(i.height=e.height),i.onload=function(){fabric.Image.prototype._initFilters.call(e,e);var n=new fabric.Image(i,e);t&&t(n),i=i.onload=null},i.src=n},fabric.Image.fromURL=function(e,t,i){var n=fabric.document.createElement("img");n.onload=function(){t&&t(new fabric.Image(n,i)),n=n.onload=null},n.src=e},fabric.Image.ATTRIBUTE_NAMES="x y width height fill fill-opacity opacity stroke stroke-width transform xlink:href".split(" "),fabric.Image.fromElement=function(e,i,n){n||(n={});var s=fabric.parseAttributes(e,fabric.Image.ATTRIBUTE_NAMES);fabric.Image.fromURL(s["xlink:href"],i,t(s,n))},fabric.Image.async=!0,void 0):(fabric.warn("fabric.Object is required for fabric.Image initialization"),void 0)}("undefined"!=typeof exports?exports:this),fabric.util.object.extend(fabric.Object.prototype,{_getAngleValueForStraighten:function(){var e=this.get("angle");return e>-225&&-135>=e?-180:e>-135&&-45>=e?-90:e>-45&&45>=e?0:e>45&&135>=e?90:e>135&&225>=e?180:e>225&&315>=e?270:e>315?360:0},straighten:function(){var e=this._getAngleValueForStraighten();return this.setAngle(e),this},fxStraighten:function(e){e=e||{};var t=function(){},i=e.onComplete||t,n=e.onChange||t,s=this;return fabric.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(e){s.setAngle(e),n()},onComplete:function(){s.setCoords(),i()},onStart:function(){s.setActive(!1)}}),this}}),fabric.util.object.extend(fabric.StaticCanvas.prototype,{straightenObject:function(e){return e.straighten(),this.renderAll(),this},fxStraightenObject:function(e){return e.fxStraighten({onChange:this.renderAll.bind(this)}),this}}),fabric.Image.filters={},fabric.Image.filters.Grayscale=fabric.util.createClass({type:"Grayscale",applyTo:function(e){var t,i,n,s,a=e.getContext("2d"),r=a.getImageData(0,0,e.width,e.height),o=r.data,l=r.width,c=r.height;for(n=0;l>n;n++)for(s=0;c>s;s++)t=4*n*c+4*s,i=(o[t]+o[t+1]+o[t+2])/3,o[t]=i,o[t+1]=i,o[t+2]=i;a.putImageData(r,0,0)},toJSON:function(){return{type:this.type}}}),fabric.Image.filters.Grayscale.fromObject=function(){return new fabric.Image.filters.Grayscale},fabric.Image.filters.RemoveWhite=fabric.util.createClass({type:"RemoveWhite",initialize:function(e){e||(e={}),this.threshold=e.threshold||30,this.distance=e.distance||20},applyTo:function(e){for(var t,i,n,s=e.getContext("2d"),a=s.getImageData(0,0,e.width,e.height),r=a.data,o=this.threshold,l=this.distance,c=255-o,h=Math.abs,u=0,d=r.length;d>u;u+=4)t=r[u],i=r[u+1],n=r[u+2],t>c&&i>c&&n>c&&h(t-i)<l&&h(t-n)<l&&h(i-n)<l&&(r[u+3]=1);s.putImageData(a,0,0)},toJSON:function(){return{type:this.type,threshold:this.threshold,distance:this.distance}}}),fabric.Image.filters.RemoveWhite.fromObject=function(e){return new fabric.Image.filters.RemoveWhite(e)},fabric.Image.filters.Invert=fabric.util.createClass({type:"Invert",applyTo:function(e){var t,i=e.getContext("2d"),n=i.getImageData(0,0,e.width,e.height),s=n.data,a=s.length;for(t=0;a>t;t+=4)s[t]=255-s[t],s[t+1]=255-s[t+1],s[t+2]=255-s[t+2];i.putImageData(n,0,0)},toJSON:function(){return{type:this.type}}}),fabric.Image.filters.Invert.fromObject=function(){return new fabric.Image.filters.Invert},fabric.Image.filters.Sepia=fabric.util.createClass({type:"Sepia",applyTo:function(e){var t,i,n=e.getContext("2d"),s=n.getImageData(0,0,e.width,e.height),a=s.data,r=a.length;for(t=0;r>t;t+=4)i=.3*a[t]+.59*a[t+1]+.11*a[t+2],a[t]=i+100,a[t+1]=i+50,a[t+2]=i+255;n.putImageData(s,0,0)},toJSON:function(){return{type:this.type}}}),fabric.Image.filters.Sepia.fromObject=function(){return new fabric.Image.filters.Sepia},fabric.Image.filters.Sepia2=fabric.util.createClass({type:"Sepia2",applyTo:function(e){var t,i,n,s,a=e.getContext("2d"),r=a.getImageData(0,0,e.width,e.height),o=r.data,l=o.length;for(t=0;l>t;t+=4)i=o[t],n=o[t+1],s=o[t+2],o[t]=(.393*i+.769*n+.189*s)/1.351,o[t+1]=(.349*i+.686*n+.168*s)/1.203,o[t+2]=(.272*i+.534*n+.131*s)/2.14;a.putImageData(r,0,0)},toJSON:function(){return{type:this.type}}}),fabric.Image.filters.Sepia2.fromObject=function(){return new fabric.Image.filters.Sepia2},fabric.Image.filters.Brightness=fabric.util.createClass({type:"Brightness",initialize:function(e){e||(e={}),this.brightness=e.brightness||100},applyTo:function(e){for(var t=e.getContext("2d"),i=t.getImageData(0,0,e.width,e.height),n=i.data,s=this.brightness,a=0,r=n.length;r>a;a+=4)n[a]+=s,n[a+1]+=s,n[a+2]+=s;t.putImageData(i,0,0)},toJSON:function(){return{type:this.type,brightness:this.brightness}}}),fabric.Image.filters.Brightness.fromObject=function(e){return new fabric.Image.filters.Brightness(e)},fabric.Image.filters.Noise=fabric.util.createClass({type:"Noise",initialize:function(e){e||(e={}),this.noise=e.noise||100},applyTo:function(e){for(var t,i=e.getContext("2d"),n=i.getImageData(0,0,e.width,e.height),s=n.data,a=this.noise,r=0,o=s.length;o>r;r+=4)t=(.5-Math.random())*a,s[r]+=t,s[r+1]+=t,s[r+2]+=t;i.putImageData(n,0,0)},toJSON:function(){return{type:this.type,noise:this.noise}}}),fabric.Image.filters.Noise.fromObject=function(e){return new fabric.Image.filters.Noise(e)},fabric.Image.filters.GradientTransparency=fabric.util.createClass({type:"GradientTransparency",initialize:function(e){e||(e={}),this.threshold=e.threshold||100},applyTo:function(e){for(var t=e.getContext("2d"),i=t.getImageData(0,0,e.width,e.height),n=i.data,s=this.threshold,a=n.length,r=0,o=n.length;o>r;r+=4)n[r+3]=s+255*(a-r)/a;t.putImageData(i,0,0)},toJSON:function(){return{type:this.type,threshold:this.threshold}}}),fabric.Image.filters.GradientTransparency.fromObject=function(e){return new fabric.Image.filters.GradientTransparency(e)},function(e){"use strict";var t=e.fabric||(e.fabric={}),i=t.util.object.extend,n=t.util.object.clone,s=t.util.toFixed;return t.Text?(t.warn("fabric.Text is already defined"),void 0):t.Object?(t.Text=t.util.createClass(t.Object,{fontSize:40,fontWeight:100,fontFamily:"Times New Roman",textDecoration:"",textShadow:"",textAlign:"left",fontStyle:"",lineHeight:1.3,strokeStyle:"",strokeWidth:1,backgroundColor:"",path:null,type:"text",useNative:!0,initialize:function(e,t){this._initStateProperties(),this.text=e,this.setOptions(t),this.theta=this.angle*Math.PI/180,this._initDimensions(),this.setCoords()},_initDimensions:function(){var e=t.document.createElement("canvas");e.getContext||"undefined"==typeof G_vmlCanvasManager||G_vmlCanvasManager.initElement(e),this._render(e.getContext("2d"))},_initStateProperties:function(){this.stateProperties=this.stateProperties.concat(),this.stateProperties.push("fontFamily","fontWeight","fontSize","path","text","textDecoration","textShadow","textAlign","fontStyle","lineHeight","strokeStyle","strokeWidth","backgroundColor"),t.util.removeFromArray(this.stateProperties,"width")},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_render:function(e){"undefined"==typeof Cufon||this.useNative===!0?this._renderViaNative(e):this._renderViaCufon(e)},_renderViaCufon:function(e){var t=Cufon.textOptions||(Cufon.textOptions={});t.left=this.left,t.top=this.top,t.context=e,t.color=this.fill;var i=this._initDummyElementForCufon();this.transform(e),Cufon.replaceElement(i,{engine:"canvas",separate:"none",fontFamily:this.fontFamily,fontWeight:this.fontWeight,textDecoration:this.textDecoration,textShadow:this.textShadow,textAlign:this.textAlign,fontStyle:this.fontStyle,lineHeight:this.lineHeight,strokeStyle:this.strokeStyle,strokeWidth:this.strokeWidth,backgroundColor:this.backgroundColor}),this.width=t.width,this.height=t.height,this._totalLineHeight=t.totalLineHeight,this._fontAscent=t.fontAscent,this._boundaries=t.boundaries,this._shadowOffsets=t.shadowOffsets,this._shadows=t.shadows||[],this.setCoords()},_renderViaNative:function(e){this.transform(e),this._setTextStyles(e);var t=this.text.split(/\r?\n/);this.width=this._getTextWidth(e,t),this.height=this._getTextHeight(e,t),this._renderTextBackground(e,t),"left"!==this.textAlign&&(e.save(),e.translate("center"===this.textAlign?this.width/2:this.width,0)),this._setTextShadow(e),this._renderTextFill(e,t),this.textShadow&&e.restore(),this._renderTextStroke(e,t),"left"!==this.textAlign&&e.restore(),this._renderTextDecoration(e,t),this._setBoundaries(e,t),this._totalLineHeight=0,this.setCoords()},_setBoundaries:function(e,t){this._boundaries=[];for(var i=0,n=t.length;n>i;i++){var s=e.measureText(t[i]).width,a=this._getLineLeftOffset(s);this._boundaries.push({height:this.fontSize,width:s,left:a})}},_setTextStyles:function(e){e.fillStyle=this.fill,e.strokeStyle=this.strokeStyle,e.lineWidth=this.strokeWidth,e.textBaseline="top",e.textAlign=this.textAlign,e.font=this._getFontDeclaration()},_getTextHeight:function(e,t){return this.fontSize*t.length*this.lineHeight},_getTextWidth:function(e,t){for(var i=e.measureText(t[0]).width,n=1,s=t.length;s>n;n++){var a=e.measureText(t[n]).width;a>i&&(i=a)}return i},_setTextShadow:function(e){if(this.textShadow){var t=/\s+(-?\d+)(?:px)?\s+(-?\d+)(?:px)?\s+(\d+)(?:px)?\s*/,i=this.textShadow,n=t.exec(this.textShadow),s=i.replace(t,"");e.save(),e.shadowColor=s,e.shadowOffsetX=parseInt(n[1],10),e.shadowOffsetY=parseInt(n[2],10),e.shadowBlur=parseInt(n[3],10),this._shadows=[{blur:e.shadowBlur,color:e.shadowColor,offX:e.shadowOffsetX,offY:e.shadowOffsetY}],this._shadowOffsets=[[parseInt(e.shadowOffsetX,10),parseInt(e.shadowOffsetY,10)]]}},_renderTextFill:function(e,t){this._boundaries=[];for(var i=0,n=t.length;n>i;i++)e.fillText(t[i],-this.width/2,-this.height/2+i*this.fontSize*this.lineHeight)},_renderTextStroke:function(e,t){if(this.strokeStyle)for(var i=0,n=t.length;n>i;i++)e.strokeText(t[i],-this.width/2,-this.height/2+i*this.fontSize*this.lineHeight)},_renderTextBackground:function(e,t){if(this.backgroundColor){e.save(),e.fillStyle=this.backgroundColor;for(var i=0,n=t.length;n>i;i++){var s=e.measureText(t[i]).width,a=this._getLineLeftOffset(s);e.fillRect(-this.width/2+a,-this.height/2+i*this.fontSize*this.lineHeight,s,this.fontSize)}e.restore()}},_getLineLeftOffset:function(e){return"center"===this.textAlign?(this.width-e)/2:"right"===this.textAlign?this.width-e:0},_renderTextDecoration:function(e,t){function i(i){for(var s=0,a=t.length;a>s;s++){var r=e.measureText(t[s]).width,o=this._getLineLeftOffset(r);e.fillRect(-this.width/2+o,i+s*this.fontSize*this.lineHeight-n,r,1)}}var n=this._getTextHeight(e,t)/2;this.textDecoration.indexOf("underline")>-1&&i.call(this,this.fontSize),this.textDecoration.indexOf("line-through")>-1&&i.call(this,this.fontSize/2),this.textDecoration.indexOf("overline")>-1&&i.call(this,0)},_getFontDeclaration:function(){return[this.fontStyle,this.fontWeight,this.fontSize+"px",this.fontFamily].join(" ")},_initDummyElementForCufon:function(){var e=t.document.createElement("pre"),i=t.document.createElement("div");return i.appendChild(e),"undefined"==typeof G_vmlCanvasManager?e.innerHTML=this.text:e.innerText=this.text.replace(/\r?\n/gi,"\r"),e.style.fontSize=this.fontSize+"px",e.style.letterSpacing="normal",e},render:function(e,t){e.save(),this._render(e),!t&&this.active&&(this.drawBorders(e),this.hideCorners||this.drawCorners(e)),e.restore()},toObject:function(){return i(this.callSuper("toObject"),{text:this.text,fontSize:this.fontSize,fontWeight:this.fontWeight,fontFamily:this.fontFamily,fontStyle:this.fontStyle,lineHeight:this.lineHeight,textDecoration:this.textDecoration,textShadow:this.textShadow,textAlign:this.textAlign,path:this.path,strokeStyle:this.strokeStyle,strokeWidth:this.strokeWidth,backgroundColor:this.backgroundColor})},toSVG:function(){var e=this.text.split(/\r?\n/),t=this.useNative?this.fontSize*this.lineHeight:-this._fontAscent-this._fontAscent/5*this.lineHeight,i=-(this.width/2),n=this.useNative?this.fontSize-1:this.height/2-e.length*this.fontSize-this._totalLineHeight,a=this._getSVGTextAndBg(t,i,e),r=this._getSVGShadows(t,e);return n+=this._fontAscent?this._fontAscent/5*this.lineHeight:0,['<g transform="',this.getSvgTransform(),'">',a.textBgRects.join(""),"<text ",this.fontFamily?"font-family=\"'"+this.fontFamily+"'\" ":"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",this.textDecoration?'text-decoration="'+this.textDecoration+'" ':"",'style="',this.getSvgStyles(),'" ','transform="translate(',s(i,2)," ",s(n,2),')">',r.join(""),a.textSpans.join(""),"</text>","</g>"].join("")},_getSVGShadows:function(e,i){var n,a,r,o,l=[],c=1;if(!this._shadows||!this._boundaries)return l;for(n=0,r=this._shadows.length;r>n;n++)for(a=0,o=i.length;o>a;a++)if(""!==i[a]){var h=this._boundaries&&this._boundaries[a]?this._boundaries[a].left:0;l.push('<tspan x="',s(h+c+this._shadowOffsets[n][0],2),0===a||this.useNative?'" y':'" dy','="',s(this.useNative?e*a-this.height/2+this._shadowOffsets[n][1]:e+(0===a?this._shadowOffsets[n][1]:0),2),'" ',this._getFillAttributes(this._shadows[n].color),">",t.util.string.escapeXml(i[a]),"</tspan>"),c=1}else c++;return l},_getSVGTextAndBg:function(e,i,n){var a,r,o,l=[],c=[],h=1;for(a=0,o=n.length;o>a;a++)""!==n[a]?(r=this._boundaries&&this._boundaries[a]?s(this._boundaries[a].left,2):0,l.push('<tspan x="',r,'" ',0===a||this.useNative?"y":"dy",'="',s(this.useNative?e*a-this.height/2:e*h,2),'" ',this._getFillAttributes(this.fill),">",t.util.string.escapeXml(n[a]),"</tspan>"),h=1):h++,this.backgroundColor&&this._boundaries&&c.push("<rect ",this._getFillAttributes(this.backgroundColor),' x="',s(i+this._boundaries[a].left,2),'" y="',s(e*a-this.height/2,2),'" width="',s(this._boundaries[a].width,2),'" height="',s(this._boundaries[a].height,2),'"></rect>');return{textSpans:l,textBgRects:c}},_getFillAttributes:function(e){var i=e?new t.Color(e):"";return i&&i.getSource()&&1!==i.getAlpha()?'opacity="'+i.getAlpha()+'" fill="'+i.setAlpha(1).toRgb()+'"':'fill="'+e+'"'},setColor:function(e){return this.set("fill",e),this},setFontsize:function(e){return this.set("fontSize",e),this.setCoords(),this},getText:function(){return this.text},setText:function(e){return this.set("text",e),this.setCoords(),this
},set:function(e,t){if("object"==typeof e)for(var i in e)this.set(i,e[i]);else this[e]=t,"fontFamily"===e&&this.path&&(this.path=this.path.replace(/(.*?)([^\/]*)(\.font\.js)/,"$1"+t+"$3"));return this}}),t.Text.fromObject=function(e){return new t.Text(e.text,n(e))},t.Text.fromElement=function(){},void 0):(t.warn("fabric.Text requires fabric.Object"),void 0)}("undefined"!=typeof exports?exports:this),function(){function request(e,t,i){var n=URL.parse(e),s=HTTP.createClient(n.port,n.hostname),a=s.request("GET",n.pathname,{host:n.hostname});s.addListener("error",function(e){e.errno===process.ECONNREFUSED?fabric.log("ECONNREFUSED: connection refused to "+s.host+":"+s.port):fabric.log(e.message)}),a.end(),a.on("response",function(e){var n="";t&&e.setEncoding(t),e.on("end",function(){i(n)}),e.on("data",function(t){200==e.statusCode&&(n+=t)})})}if("undefined"==typeof document||"undefined"==typeof window){var DOMParser=new require("xmldom").DOMParser,URL=require("url"),HTTP=require("http"),Canvas=require("canvas"),Image=require("canvas").Image;fabric.util.loadImage=function(e,t){request(e,"binary",function(i){var n=new Image;n.src=new Buffer(i,"binary"),n._src=e,t(n)})},fabric.loadSVGFromURL=function(e,t){e=e.replace(/^\n\s*/,"").replace(/\?.*$/,"").trim(),request(e,"",function(e){var i=(new DOMParser).parseFromString(e);fabric.parseSVGDocument(i.documentElement,function(e,i){t(e,i)})})},fabric.util.getScript=function(url,callback){request(url,"",function(body){eval(body),callback&&callback()})},fabric.Image.fromObject=function(e,t){fabric.util.loadImage(e.src,function(i){var n=new fabric.Image(i);n._initConfig(e),n._initFilters(e),t(n)})},fabric.createCanvasForNode=function(e,t){var i=fabric.document.createElement("canvas"),n=new Canvas(e||600,t||600);i.style={},i.width=n.width,i.height=n.height;var s=fabric.Canvas||fabric.StaticCanvas,a=new s(i);return a.contextContainer=n.getContext("2d"),a.nodeCanvas=n,a},fabric.StaticCanvas.prototype.createPNGStream=function(){return this.nodeCanvas.createPNGStream()},fabric.Canvas&&fabric.Canvas.prototype.createPNGStream;var origSetWidth=fabric.StaticCanvas.prototype.setWidth;fabric.StaticCanvas.prototype.setWidth=function(e){return origSetWidth.call(this),this.nodeCanvas.width=e,this},fabric.Canvas&&(fabric.Canvas.prototype.setWidth=fabric.StaticCanvas.prototype.setWidth);var origSetHeight=fabric.StaticCanvas.prototype.setHeight;fabric.StaticCanvas.prototype.setHeight=function(e){return origSetHeight.call(this),this.nodeCanvas.height=e,this},fabric.Canvas&&(fabric.Canvas.prototype.setHeight=fabric.StaticCanvas.prototype.setHeight)}}(),$(function(){function e(){$(".megaMenu",this).show(),$(this).addClass("open")}function t(){$(".megaMenu",this).hide(),$(this).removeClass("open")}function i(){var e=$(".megaMenu ul").outerWidth(),t=$(".megaMenu .blueColumn").outerWidth(!0);$(".megaMenu").each(function(){var i=$("ul",this).length;$(".blueColumn",this).length>0?$(this).css({display:"none",visibility:"visible",width:e*i+t}):$(this).css({display:"none",visibility:"visible",width:e*i})})}var n={over:e,timeout:0,out:t};$("nav ul li.topLevel").hoverIntent(n),$(".megaMenu").each(function(){var e=$(this).children();equalHeight(e)}),i();var s=$("#basketDropDown").outerHeight();$("#basketTab").toggle(function(){$("#basketDropDown").show(),$("#basketContainer").css({"z-index":30}).animate({bottom:-s+8})},function(){$("#basketContainer").animate({bottom:8},function(){$("#basketDropDown").hide(),$(this).css({"z-index":10})})}),$("form#update-minicart a.delete").live("click",function(e){$(this).parent().siblings('div[data-hook="minicart_item_quantity"]').find("input.line_item_quantity").val(0),$(this).parents("form").first().submit(),e.preventDefault()})}),$(window).load(function(){function e(){$("h1, h2",this).fadeIn()}function t(){$("#heroSlider h1, #heroSlider h2").hide()}$("#heroSlider .heroSlide:first").fadeIn(function(){$("#heroSlider").cycle({after:e,before:t,next:"#heroControls .next",prev:"#heroControls .prev",slideResize:!1})}),$("#heroContainer").removeClass("loading"),$("#signCarousel .tileRow").fadeIn(),$("#signCarousel").removeClass("loading");var i=$(".signCarousel .imageTile"),n=$(i).length;1===n%2&&$(".signCarousel .tileRow .imageTile:last").remove()}),$(function(){function e(){$(this).parent(".bottomRow").length>0?$(this).css({borderWidth:2,opacity:1,zIndex:30}).stop(!0,!0).animate({bottom:-41,height:o+50,marginLeft:-s/2-2,opacity:1,width:l},300,"easeOutBack"):$(this).css({borderWidth:2,opacity:1,zIndex:30}).stop(!0,!0).animate({height:o+50,marginLeft:-s/2-2,opacity:1,top:-26,width:l},300,"easeOutBack"),$("img",this).stop(!0,!0).animate({height:o,width:l},300,"easeOutBack"),$(".infoPanel",this).stop(!0,!0).delay(300).fadeIn(300),$(i).find(n).not(this).stop(!0,!0).animate({opacity:.7})}function t(){$(this).parent(".bottomRow").length>0?$(this).stop(!0,!0).animate({bottom:0,height:a,marginLeft:0,width:r},100,"easeInBack",function(){$(this).css({borderWidth:1,zIndex:1})}):$(this).stop(!0,!0).animate({height:a,marginLeft:0,top:0,width:r},100,"easeInBack",function(){$(this).css({borderWidth:1,zIndex:1})}),$("img",this).stop(!0,!0).animate({height:a,width:r},100,"easeInBack"),$(".infoPanel",this).stop(!0,!0).hide(),$(i).find(n).not(this).stop(!0,!0).delay(200).animate({opacity:1})}$("#heroContainer").hover(function(){$("#heroControls .arrowControl",this).stop(!0,!0).fadeIn()},function(){$("#heroControls .arrowControl",this).stop(!0,!0).fadeOut()}),$(".arrowControl").hover(function(){$(".arrow",this).stop(!0,!0).animate({opacity:1})},function(){$(".arrow",this).stop(!0,!0).animate({opacity:.5})}),$("#createYourSignNow").hover(function(){$(this).stop(!0,!0).animate({bottom:"0"},100)},function(){$(this).stop(!0,!0).animate({bottom:"-3px"},100)}),$(".threeSteps .grid_4").hover(function(){$(".radialGradient",this).stop(!0,!0).fadeIn()},function(){$(".radialGradient",this).stop(!0,!0).fadeOut()}),$(".howArePeopleUsingSignApp").hover(function(){$(".arrowControl",this).stop(!0,!0).fadeIn()},function(){$(".arrowControl",this).stop(!0,!0).fadeOut()});var i=$(".signCarousel"),n=$(".signCarousel .imageTile"),s=n.outerWidth(),a=$(".signCarousel .imageTile img").height(),r=$(".signCarousel .imageTile img").width(),o=417,l=500,c=$(n).length,h=c/2;$(i).css({marginLeft:-s,width:s*h}),$(n).slice(0,h).wrapAll('<div class="tileRow topRow"></div>'),$(n).slice(h).wrapAll('<div class="tileRow bottomRow"></div>'),$(".tileRow").each(function(){$(this).find(".imageTile").each(function(e){var t=e*s;$(this).css("left",t+"px")})});var u={over:e,timeout:0,out:t};$(".imageTile").hoverIntent(u),$(".howArePeopleUsingSignApp .next").click(function(){var e=$(".signCarousel .tileRow .imageTile:last").position(),t=s*h;$(".signCarousel .tileRow").animate({left:"-="+s},"easeInOutExpo"),$(".signCarousel .tileRow.topRow .imageTile:last").after($(".signCarousel .tileRow.topRow .imageTile:first").css("left",e.left+s)),$(".signCarousel .tileRow.topRow .imageTile:last").css({left:e+t}),$(".signCarousel .tileRow.bottomRow .imageTile:last").after($(".signCarousel .tileRow.bottomRow .imageTile:first").css("left",e.left+s)),$(".signCarousel .tileRow.bottomRow .imageTile:last").css({left:e+t})}),$(".howArePeopleUsingSignApp .prev").click(function(){var e=$(".signCarousel .tileRow .imageTile:first").position(),t=s*h;$(".signCarousel .tileRow").animate({left:"+="+s}),$(".signCarousel .tileRow.topRow .imageTile:first").before($(".signCarousel .tileRow.topRow .imageTile:last").css("left",e.left-s)),$(".signCarousel .tileRow.topRow .imageTile:first").css({left:e+t}),$(".signCarousel .tileRow.bottomRow .imageTile:first").before($(".signCarousel .tileRow.bottomRow .imageTile:last").css("left",e.left-s)),$(".signCarousel .tileRow.bottomRow .imageTile:first").css({left:e+t})}),$(".featurePanels .grid_4").hover(function(){$(".icon",this).stop(!0,!0).animate({opacity:0}),$(".icon.hover",this).stop(!0,!0).animate({opacity:1}),$(".radialGradient",this).stop(!0,!0).fadeIn()},function(){$(".icon",this).stop(!0,!0).animate({opacity:1}),$(".icon.hover",this).stop(!0,!0).animate({opacity:0}),$(".radialGradient",this).stop(!0,!0).fadeOut()})}),function(e){e.fn.hoverIntent=function(t,i){var n={sensitivity:7,interval:100,timeout:0};n=e.extend(n,i?{over:t,out:i}:t);var s,a,r,o,l=function(e){s=e.pageX,a=e.pageY},c=function(t,i){return i.hoverIntent_t=clearTimeout(i.hoverIntent_t),Math.abs(r-s)+Math.abs(o-a)<n.sensitivity?(e(i).unbind("mousemove",l),i.hoverIntent_s=1,n.over.apply(i,[t])):(r=s,o=a,i.hoverIntent_t=setTimeout(function(){c(t,i)},n.interval),void 0)},h=function(e,t){return t.hoverIntent_t=clearTimeout(t.hoverIntent_t),t.hoverIntent_s=0,n.out.apply(t,[e])},u=function(t){var i=jQuery.extend({},t),s=this;s.hoverIntent_t&&(s.hoverIntent_t=clearTimeout(s.hoverIntent_t)),"mouseenter"==t.type?(r=i.pageX,o=i.pageY,e(s).bind("mousemove",l),1!=s.hoverIntent_s&&(s.hoverIntent_t=setTimeout(function(){c(i,s)},n.interval))):(e(s).unbind("mousemove",l),1==s.hoverIntent_s&&(s.hoverIntent_t=setTimeout(function(){h(i,s)},n.timeout)))};return this.bind("mouseenter",u).bind("mouseleave",u)}}(jQuery),function(e){function t(e){var t=e.data("_ARS_data");return t||(t={rotateUnits:"deg",scale:1,rotate:0},e.data("_ARS_data",t)),t}function i(e,t){e.css("transform","rotate("+t.rotate+t.rotateUnits+") scale("+t.scale+","+t.scale+")")}e.fn.rotate=function(n){var s,a=e(this),r=t(a);return"undefined"==typeof n?r.rotate+r.rotateUnits:(s=n.toString().match(/^(-?\d+(\.\d+)?)(.+)?$/),s&&(s[3]&&(r.rotateUnits=s[3]),r.rotate=s[1],i(a,r)),this)},e.fn.scale=function(n){var s=e(this),a=t(s);return"undefined"==typeof n?a.scale:(a.scale=n,i(s,a),this)};var n=e.fx.prototype.cur;e.fx.prototype.cur=function(){return"rotate"==this.prop?parseFloat(e(this.elem).rotate()):"scale"==this.prop?parseFloat(e(this.elem).scale()):n.apply(this,arguments)},e.fx.step.rotate=function(i){var n=t(e(i.elem));e(i.elem).rotate(i.now+n.rotateUnits)},e.fx.step.scale=function(t){e(t.elem).scale(t.now)};var s=e.fn.animate;e.fn.animate=function(i){if("undefined"!=typeof i.rotate){var n,a,r=i.rotate.toString().match(/^(([+-]=)?(-?\d+(\.\d+)?))(.+)?$/);r&&r[5]&&(n=e(this),a=t(n),a.rotateUnits=r[5]),i.rotate=r[1]}return s.apply(this,arguments)}}(jQuery),jQuery.base64=function(){function e(e,t){var i=a.indexOf(e.charAt(t));if(-1===i)throw"Cannot decode base64";return i}function t(t){var i,n,a=0,r=t.length,o=[];if(t=String(t),0===r)return t;if(0!==r%4)throw"Cannot decode base64";for(t.charAt(r-1)===s&&(a=1,t.charAt(r-2)===s&&(a=2),r-=4),i=0;r>i;i+=4)n=e(t,i)<<18|e(t,i+1)<<12|e(t,i+2)<<6|e(t,i+3),o.push(String.fromCharCode(n>>16,255&n>>8,255&n));switch(a){case 1:n=e(t,i)<<18|e(t,i+1)<<12|e(t,i+2)<<6,o.push(String.fromCharCode(n>>16,255&n>>8));break;case 2:n=e(t,i)<<18|e(t,i+1)<<12,o.push(String.fromCharCode(n>>16))}return o.join("")}function i(e,t){var i=e.charCodeAt(t);if(i>255)throw"INVALID_CHARACTER_ERR: DOM Exception 5";return i}function n(e){if(1!==arguments.length)throw"SyntaxError: exactly one argument required";e=String(e);var t,n,r=[],o=e.length-e.length%3;if(0===e.length)return e;for(t=0;o>t;t+=3)n=i(e,t)<<16|i(e,t+1)<<8|i(e,t+2),r.push(a.charAt(n>>18)),r.push(a.charAt(63&n>>12)),r.push(a.charAt(63&n>>6)),r.push(a.charAt(63&n));switch(e.length-o){case 1:n=i(e,t)<<16,r.push(a.charAt(n>>18)+a.charAt(63&n>>12)+s+s);break;case 2:n=i(e,t)<<16|i(e,t+1)<<8,r.push(a.charAt(n>>18)+a.charAt(63&n>>12)+a.charAt(63&n>>6)+s)}return r.join("")}var s="=",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r="1.0";return{decode:t,encode:n,VERSION:r}}(jQuery),function(e){function t(e){for(var t,i=["transform","WebkitTransform","msTransform","MozTransform","OTransform"];t=i.shift();)if("undefined"!=typeof e.style[t])return t;return"transform"}var i=null,n=e.fn.css;e.fn.css=function(s,a){if(null===i&&(i="undefined"!=typeof e.cssProps?e.cssProps:"undefined"!=typeof e.props?e.props:{}),"undefined"==typeof i.transform&&("transform"==s||"object"==typeof s&&"undefined"!=typeof s.transform)&&(i.transform=t(this.get(0))),"transform"!=i.transform)if("transform"==s){if(s=i.transform,"undefined"==typeof a&&jQuery.style)return jQuery.style(this.get(0),s)}else"object"==typeof s&&"undefined"!=typeof s.transform&&(s[i.transform]=s.transform,delete s.transform);return n.apply(this,arguments)}}(jQuery),function(e,t,i,n){var s=i(e),a=i(t),r=i.fancybox=function(){r.open.apply(this,arguments)},o=!1,l=t.createTouch!==n,c=function(e){return"string"===i.type(e)},h=function(e,t){return t&&c(e)&&0<e.indexOf("%")&&(e=r.getViewport()[t]/100*parseInt(e,10)),Math.round(e)+"px"};i.extend(r,{version:"2.0.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,autoSize:!0,autoResize:!l,autoCenter:!l,fitToView:!0,aspectRatio:!1,topRatio:.5,fixed:!1,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},keys:{next:[13,32,34,39,40],prev:[8,33,37,38],close:[27]},tpl:{wrap:'<div class="fancybox-wrap"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe class="fancybox-iframe" name="fancybox-frame{rnd}" frameborder="0" hspace="0"'+(i.browser.msie?' allowtransparency="true"':"")+"></iframe>",swf:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="wmode" value="transparent" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{href}" /><embed src="{href}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="100%" height="100%" wmode="transparent"></embed></object>',error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<div title="Close" class="fancybox-item fancybox-close"></div>',next:'<a title="Next" class="fancybox-nav fancybox-next"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev"><span></span></a>'},openEffect:"fade",openSpeed:300,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:300,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:300,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:300,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:{speedIn:0,speedOut:300,opacity:.8,css:{cursor:"pointer"},closeClick:!0},title:{type:"float"}}},group:{},opts:{},coming:null,current:null,isOpen:!1,isOpened:!1,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(e,t){r.close(!0),e&&!i.isArray(e)&&(e=e instanceof i?i(e).get():[e]),r.isActive=!0,r.opts=i.extend(!0,{},r.defaults,t),i.isPlainObject(t)&&t.keys!==n&&(r.opts.keys=t.keys?i.extend({},r.defaults.keys,t.keys):!1),r.group=e,r._start(r.opts.index||0)},cancel:function(){r.coming&&!1===r.trigger("onCancel")||(r.coming=null,r.hideLoading(),r.ajaxLoad&&r.ajaxLoad.abort(),r.ajaxLoad=null,r.imgPreload&&(r.imgPreload.onload=r.imgPreload.onabort=r.imgPreload.onerror=null))},close:function(e){r.cancel(),r.current&&!1!==r.trigger("beforeClose")&&(r.unbindEvents(),!r.isOpen||e&&!0===e[0]?(i(".fancybox-wrap").stop().trigger("onReset").remove(),r._afterZoomOut()):(r.isOpen=r.isOpened=!1,i(".fancybox-item, .fancybox-nav").remove(),r.wrap.stop(!0).removeClass("fancybox-opened"),r.inner.css("overflow","hidden"),r.transitions[r.current.closeMethod]()))},play:function(e){var t=function(){clearTimeout(r.player.timer)},n=function(){t(),r.current&&r.player.isActive&&(r.player.timer=setTimeout(r.next,r.current.playSpeed))},s=function(){t(),i("body").unbind(".player"),r.player.isActive=!1,r.trigger("onPlayEnd")};r.player.isActive||e&&!1===e[0]?s():r.current&&(r.current.loop||r.current.index<r.group.length-1)&&(r.player.isActive=!0,i("body").bind({"afterShow.player onUpdate.player":n,"onCancel.player beforeClose.player":s,"beforeLoad.player":t}),n(),r.trigger("onPlayStart"))},next:function(){r.current&&r.jumpto(r.current.index+1)},prev:function(){r.current&&r.jumpto(r.current.index-1)},jumpto:function(e){r.current&&(e=parseInt(e,10),1<r.group.length&&r.current.loop&&(e>=r.group.length?e=0:0>e&&(e=r.group.length-1)),r.group[e]!==n&&(r.cancel(),r._start(e)))},reposition:function(e,t){var i;r.isOpen&&(i=r._getPosition(t),e&&"scroll"===e.type?(delete i.position,r.wrap.stop(!0,!0).animate(i,200)):r.wrap.css(i))},update:function(e){r.isOpen&&(o||setTimeout(function(){var t=r.current,i=!e||e&&"orientationchange"===e.type;o&&(o=!1,t)&&((!e||"scroll"!==e.type||i)&&(t.autoSize&&"iframe"!==t.type&&(r.inner.height("auto"),t.height=r.inner.height()),(t.autoResize||i)&&r._setDimension(),t.canGrow&&"iframe"!==t.type&&r.inner.height("auto")),(t.autoCenter||i)&&r.reposition(e),r.trigger("onUpdate"))},200),o=!0)},toggle:function(){r.isOpen&&(r.current.fitToView=!r.current.fitToView,r.update())},hideLoading:function(){a.unbind("keypress.fb"),i("#fancybox-loading").remove()},showLoading:function(){r.hideLoading(),a.bind("keypress.fb",function(e){27===e.keyCode&&(e.preventDefault(),r.cancel())}),i('<div id="fancybox-loading"><div></div></div>').click(r.cancel).appendTo("body")},getViewport:function(){return{x:s.scrollLeft(),y:s.scrollTop(),w:l&&e.innerWidth?e.innerWidth:s.width(),h:l&&e.innerHeight?e.innerHeight:s.height()}},unbindEvents:function(){r.wrap&&r.wrap.unbind(".fb"),a.unbind(".fb"),s.unbind(".fb")},bindEvents:function(){var e=r.current,t=e.keys;e&&(s.bind("resize.fb orientationchange.fb"+(e.autoCenter&&!e.fixed?" scroll.fb":""),r.update),t&&a.bind("keydown.fb",function(e){var n;n=e.target||e.srcElement,e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||n&&(n.type||i(n).is("[contenteditable]"))||(n=e.keyCode,-1<i.inArray(n,t.close)?(r.close(),e.preventDefault()):-1<i.inArray(n,t.next)?(r.next(),e.preventDefault()):-1<i.inArray(n,t.prev)&&(r.prev(),e.preventDefault()))}),i.fn.mousewheel&&e.mouseWheel&&1<r.group.length&&r.wrap.bind("mousewheel.fb",function(e,t){var i=e.target||null;0===t||i&&0!==i.clientHeight&&(i.scrollHeight!==i.clientHeight||i.scrollWidth!==i.clientWidth)||(e.preventDefault(),r[t>0?"prev":"next"]())}))},trigger:function(e,t){var n,s=t||r[-1<i.inArray(e,["onCancel","beforeLoad","afterLoad"])?"coming":"current"];if(s){if(i.isFunction(s[e])&&(n=s[e].apply(s,Array.prototype.slice.call(arguments,1))),!1===n)return!1;s.helpers&&i.each(s.helpers,function(t,n){n&&i.isPlainObject(r.helpers[t])&&i.isFunction(r.helpers[t][e])&&r.helpers[t][e](n,s)}),i.event.trigger(e+".fb")}},isImage:function(e){return c(e)&&e.match(/\.(jpe?g|gif|png|bmp)((\?|#).*)?$/i)},isSWF:function(e){return c(e)&&e.match(/\.(swf)((\?|#).*)?$/i)},_start:function(e){var t,n,s,a={},o=r.group[e]||null;if(o&&(o.nodeType||o instanceof i)&&(t=!0,i.metadata&&(a=i(o).metadata())),a=i.extend(!0,{},r.opts,{index:e,element:o},i.isPlainObject(o)?o:a),i.each(["href","title","content","type"],function(e,n){a[n]=r.opts[n]||t&&i(o).attr(n)||a[n]||null}),"number"==typeof a.margin&&(a.margin=[a.margin,a.margin,a.margin,a.margin]),a.modal&&i.extend(!0,a,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{css:{cursor:"auto"},closeClick:!1}}}),r.coming=a,!1===r.trigger("beforeLoad"))r.coming=null;else switch(n=a.type,e=a.href||o,n||(t&&(n=i(o).data("fancybox-type"),n||(n=(n=o.className.match(/fancybox\.(\w+)/))?n[1]:null)),!n&&c(e)&&(r.isImage(e)?n="image":r.isSWF(e)?n="swf":e.match(/^#/)&&(n="inline")),n||(n=t?"inline":"html"),a.type=n),"inline"===n||"html"===n?(a.content||(a.content="inline"===n?i(c(e)?e.replace(/.*(?=#[^\s]+$)/,""):e):o),a.content&&a.content.length||(n=null)):e||(n=null),"ajax"===n&&c(e)&&(s=e.split(/\s+/,2),e=s.shift(),a.selector=s.shift()),a.href=e,a.group=r.group,a.isDom=t,n){case"image":r._loadImage();break;case"ajax":r._loadAjax();break;case"inline":case"iframe":case"swf":case"html":r._afterLoad();break;default:r._error("type")}},_error:function(e){r.hideLoading(),i.extend(r.coming,{type:"html",autoSize:!0,minWidth:0,minHeight:0,padding:15,hasError:e,content:r.coming.tpl.error}),r._afterLoad()},_loadImage:function(){var e=r.imgPreload=new Image;e.onload=function(){this.onload=this.onerror=null,r.coming.width=this.width,r.coming.height=this.height,r._afterLoad()},e.onerror=function(){this.onload=this.onerror=null,r._error("image")},e.src=r.coming.href,(e.complete===n||!e.complete)&&r.showLoading()},_loadAjax:function(){r.showLoading(),r.ajaxLoad=i.ajax(i.extend({},r.coming.ajax,{url:r.coming.href,error:function(e,t){r.coming&&"abort"!==t?r._error("ajax",e):r.hideLoading()},success:function(e,t){"success"===t&&(r.coming.content=e,r._afterLoad())}}))},_preloadImages:function(){var e,t,n,s=r.group,a=r.current,o=s.length,l=Math.min(a.preload,o-1);if(a.preload&&!(2>s.length))for(n=1;l>=n;n+=1)e=s[(a.index+n)%o],t=e.href||i(e).attr("href")||e,("image"===e.type||r.isImage(t))&&((new Image).src=t)},_afterLoad:function(){r.hideLoading(),r.coming&&!1!==r.trigger("afterLoad",r.current)?(r.isOpened?(i(".fancybox-item, .fancybox-nav").remove(),r.wrap.stop(!0).removeClass("fancybox-opened"),r.inner.css("overflow","hidden"),r.transitions[r.current.prevMethod]()):(i(".fancybox-wrap").stop().trigger("onReset").remove(),r.trigger("afterClose")),r.unbindEvents(),r.isOpen=!1,r.current=r.coming,r.wrap=i(r.current.tpl.wrap).addClass("fancybox-"+(l?"mobile":"desktop")+" fancybox-type-"+r.current.type+" fancybox-tmp "+r.current.wrapCSS).appendTo("body"),r.skin=i(".fancybox-skin",r.wrap).css("padding",h(r.current.padding)),r.outer=i(".fancybox-outer",r.wrap),r.inner=i(".fancybox-inner",r.wrap),r._setContent()):r.coming=!1},_setContent:function(){var e=r.current,t=e.content,n=e.type,s=e.minWidth,a=e.minHeight,o=e.maxWidth,c=e.maxHeight;switch(n){case"inline":case"ajax":case"html":e.selector?t=i("<div>").html(t).find(e.selector):t instanceof i&&(t.parent().hasClass("fancybox-inner")&&t.parents(".fancybox-wrap").unbind("onReset"),t=t.show().detach(),i(r.wrap).bind("onReset",function(){t.appendTo("body").hide()})),e.autoSize&&(s=i('<div class="fancybox-wrap '+r.current.wrapCSS+' fancybox-tmp"></div>').appendTo("body").css({minWidth:h(s,"w"),minHeight:h(a,"h"),maxWidth:h(o,"w"),maxHeight:h(c,"h")}).append(t),e.width=s.width(),e.height=s.height(),s.width(r.current.width),s.height()>e.height&&(s.width(e.width+1),e.width=s.width(),e.height=s.height()),t=s.contents().detach(),s.remove());break;case"image":t=e.tpl.image.replace("{href}",e.href),e.aspectRatio=!0;break;case"swf":t=e.tpl.swf.replace(/\{width\}/g,e.width).replace(/\{height\}/g,e.height).replace(/\{href\}/g,e.href);break;case"iframe":t=i(e.tpl.iframe.replace("{rnd}",(new Date).getTime())).attr("scrolling",e.scrolling).attr("src",e.href),e.scrolling=l?"scroll":"auto"}("image"===n||"swf"===n)&&(e.autoSize=!1,e.scrolling="visible"),"iframe"===n&&e.autoSize?(r.showLoading(),r._setDimension(),r.inner.css("overflow",e.scrolling),t.bind({onCancel:function(){i(this).unbind(),r._afterZoomOut()},load:function(){r.hideLoading();try{this.contentWindow.document.location&&(r.current.height=i(this).contents().find("body").height())}catch(e){r.current.autoSize=!1}r[r.isOpen?"_afterZoomIn":"_beforeShow"]()}}).appendTo(r.inner)):(r.inner.append(t),r._beforeShow())},_beforeShow:function(){r.coming=null,r.trigger("beforeShow"),r._setDimension(),r.wrap.hide().removeClass("fancybox-tmp"),r.bindEvents(),r._preloadImages(),r.transitions[r.isOpened?r.current.nextMethod:r.current.openMethod]()},_setDimension:function(){var e,t=r.wrap,n=r.inner,s=r.current,a=r.getViewport(),o=s.margin,l=2*s.padding,u=s.width,d=s.height,f=s.maxWidth+l,p=s.maxHeight+l,g=s.minWidth+l,m=s.minHeight+l;if(a.w-=o[1]+o[3],a.h-=o[0]+o[2],c(u)&&0<u.indexOf("%")&&(u=(a.w-l)*parseFloat(u)/100),c(d)&&0<d.indexOf("%")&&(d=(a.h-l)*parseFloat(d)/100),o=u/d,u+=l,d+=l,s.fitToView&&(f=Math.min(a.w,f),p=Math.min(a.h,p)),s.aspectRatio?(u>f&&(u=f,d=(u-l)/o+l),d>p&&(d=p,u=(d-l)*o+l),g>u&&(u=g,d=(u-l)/o+l),m>d&&(d=m,u=(d-l)*o+l)):(u=Math.max(g,Math.min(u,f)),d=Math.max(m,Math.min(d,p))),u=Math.round(u),d=Math.round(d),i(t.add(n)).width("auto").height("auto"),n.width(u-l).height(d-l),t.width(u),e=t.height(),u>f||e>p)for(;(u>f||e>p)&&u>g&&e>m;)d-=10,s.aspectRatio?(u=Math.round((d-l)*o+l),g>u&&(u=g,d=(u-l)/o+l)):u-=10,n.width(u-l).height(d-l),t.width(u),e=t.height();s.dim={width:h(u),height:h(e)},s.canGrow=s.autoSize&&d>m&&p>d,s.canShrink=!1,s.canExpand=!1,u-l<s.width||d-l<s.height?s.canExpand=!0:(u>a.w||e>a.h)&&u>g&&d>m&&(s.canShrink=!0),r.innerSpace=e-l-n.height()},_getPosition:function(e){var t=r.current,i=r.getViewport(),n=t.margin,s=r.wrap.width()+n[1]+n[3],a=r.wrap.height()+n[0]+n[2],o={position:"absolute",top:n[0]+i.y,left:n[3]+i.x};return t.autoCenter&&t.fixed&&!e&&a<=i.h&&s<=i.w&&(o={position:"fixed",top:n[0],left:n[3]}),o.top=h(Math.max(o.top,o.top+(i.h-a)*t.topRatio)),o.left=h(Math.max(o.left,o.left+.5*(i.w-s))),o},_afterZoomIn:function(){var e=r.current,t=e?e.scrolling:"no";e&&(r.isOpen=r.isOpened=!0,r.wrap.addClass("fancybox-opened"),r.inner.css("overflow","yes"===t?"scroll":"no"===t?"hidden":t),r.trigger("afterShow"),r.update(),(e.closeClick||e.nextClick)&&r.inner.css("cursor","pointer").bind("click.fb",function(t){i(t.target).is("a")||i(t.target).parent().is("a")||r[e.closeClick?"close":"next"]()}),e.closeBtn&&i(e.tpl.closeBtn).appendTo(r.skin).bind("click.fb",r.close),e.arrows&&1<r.group.length&&((e.loop||0<e.index)&&i(e.tpl.prev).appendTo(r.outer).bind("click.fb",r.prev),(e.loop||e.index<r.group.length-1)&&i(e.tpl.next).appendTo(r.outer).bind("click.fb",r.next)),r.opts.autoPlay&&!r.player.isActive)&&(r.opts.autoPlay=!1,r.play())},_afterZoomOut:function(){var e=r.current;r.wrap.trigger("onReset").remove(),i.extend(r,{group:{},opts:{},current:null,isActive:!1,isOpened:!1,isOpen:!1,wrap:null,skin:null,outer:null,inner:null}),r.trigger("afterClose",e)}}),r.transitions={getOrigPosition:function(){var e=r.current,t=e.element,n=e.padding,s=i(e.orig),a={},o=50,l=50;return!s.length&&e.isDom&&i(t).is(":visible")&&(s=i(t).find("img:first"),s.length||(s=i(t))),s.length?(a=s.offset(),s.is("img")&&(o=s.outerWidth(),l=s.outerHeight())):(e=r.getViewport(),a.top=e.y+.5*(e.h-l),a.left=e.x+.5*(e.w-o)),a={top:h(a.top-n),left:h(a.left-n),width:h(o+2*n),height:h(l+2*n)}},step:function(e,t){var i,n,s=t.prop;("width"===s||"height"===s)&&(i=Math.ceil(e-2*r.current.padding),"height"===s&&(n=(e-t.start)/(t.end-t.start),t.start>t.end&&(n=1-n),i-=r.innerSpace*n),r.inner[s](i))},zoomIn:function(){var e=r.wrap,t=r.current,n=t.openEffect,s="elastic"===n,a=i.extend({},t.dim,r._getPosition(s)),o=i.extend({opacity:1},a);delete o.position,s?(a=this.getOrigPosition(),t.openOpacity&&(a.opacity=0),r.outer.add(r.inner).width("auto").height("auto")):"fade"===n&&(a.opacity=0),e.css(a).show().animate(o,{duration:"none"===n?0:t.openSpeed,easing:t.openEasing,step:s?this.step:null,complete:r._afterZoomIn})},zoomOut:function(){var e=r.wrap,t=r.current,i=t.openEffect,n="elastic"===i,s={opacity:0};n&&("fixed"===e.css("position")&&e.css(r._getPosition(!0)),s=this.getOrigPosition(),t.closeOpacity&&(s.opacity=0)),e.animate(s,{duration:"none"===i?0:t.closeSpeed,easing:t.closeEasing,step:n?this.step:null,complete:r._afterZoomOut})},changeIn:function(){var e=r.wrap,t=r.current,i=t.nextEffect,n="elastic"===i,s=r._getPosition(n),a={opacity:1};s.opacity=0,n&&(s.top=h(parseInt(s.top,10)-200),a.top="+=200px"),e.css(s).show().animate(a,{duration:"none"===i?0:t.nextSpeed,easing:t.nextEasing,complete:r._afterZoomIn})},changeOut:function(){var e=r.wrap,t=r.current,n=t.prevEffect,s={opacity:0};e.removeClass("fancybox-opened"),"elastic"===n&&(s.top="+=200px"),e.animate(s,{duration:"none"===n?0:t.prevSpeed,easing:t.prevEasing,complete:function(){i(this).trigger("onReset").remove()}})}},r.helpers.overlay={overlay:null,update:function(){var e,n;this.overlay.width("100%").height("100%"),i.browser.msie||l?(e=Math.max(t.documentElement.scrollWidth,t.body.scrollWidth),n=Math.max(t.documentElement.offsetWidth,t.body.offsetWidth),e=n>e?s.width():e):e=a.width(),this.overlay.width(e).height(a.height())},beforeShow:function(e){this.overlay||(e=i.extend(!0,{},r.defaults.helpers.overlay,e),this.overlay=i('<div id="fancybox-overlay"></div>').css(e.css).appendTo("body"),e.closeClick&&this.overlay.bind("click.fb",r.close),r.current.fixed&&!l?this.overlay.addClass("overlay-fixed"):(this.update(),this.onUpdate=function(){this.update()}),this.overlay.fadeTo(e.speedIn,e.opacity))},afterClose:function(e){this.overlay&&this.overlay.fadeOut(e.speedOut||0,function(){i(this).remove()}),this.overlay=null}},r.helpers.title={beforeShow:function(e){var t;(t=r.current.title)&&(t=i('<div class="fancybox-title fancybox-title-'+e.type+'-wrap">'+t+"</div>").appendTo("body"),"float"===e.type&&(t.width(t.width()),t.wrapInner('<span class="child"></span>'),r.current.margin[2]+=Math.abs(parseInt(t.css("margin-bottom"),10))),t.appendTo("over"===e.type?r.inner:"outside"===e.type?r.wrap:r.skin))}},i.fn.fancybox=function(e){var t,n=i(this),s=this.selector||"",o=function(a){var o,l=this,c=t;!(a.ctrlKey||a.altKey||a.shiftKey||a.metaKey||i(l).is(".fancybox-wrap")||(a.preventDefault(),a=e.groupAttr||"data-fancybox-group",o=i(l).attr(a),o||(a="rel",o=l[a]),o&&""!==o&&"nofollow"!==o&&(l=s.length?i(s):n,l=l.filter("["+a+'="'+o+'"]'),c=l.index(this)),e.index=c,!r.open(l,e)))},e=e||{};return t=e.index||0,s?a.undelegate(s,"click.fb-start").delegate(s,"click.fb-start",o):n.unbind("click.fb-start").bind("click.fb-start",o),this},i(t).ready(function(){r.defaults.fixed=i.support.fixedPosition||!(i.browser.msie&&6>=i.browser.version)&&!l})}(window,document,jQuery),/*! jQuery UI - v1.8.23 - 2012-08-15
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.core.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
function(e,t){function i(t,i){var s=t.nodeName.toLowerCase();if("area"===s){var a,r=t.parentNode,o=r.name;return t.href&&o&&"map"===r.nodeName.toLowerCase()?(a=e("img[usemap=#"+o+"]")[0],!!a&&n(a)):!1}return(/input|select|textarea|button|object/.test(s)?!t.disabled:"a"==s?t.href||i:i)&&n(t)}function n(t){return!e(t).parents().andSelf().filter(function(){return"hidden"===e.curCSS(this,"visibility")||e.expr.filters.hidden(this)}).length}e.ui=e.ui||{},e.ui.version||(e.extend(e.ui,{version:"1.8.23",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),e.fn.extend({propAttr:e.fn.prop||e.fn.attr,_focus:e.fn.focus,focus:function(t,i){return"number"==typeof t?this.each(function(){var n=this;setTimeout(function(){e(n).focus(),i&&i.call(n)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return t=e.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.curCSS(this,"position",1))&&/(auto|scroll)/.test(e.curCSS(this,"overflow",1)+e.curCSS(this,"overflow-y",1)+e.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.curCSS(this,"overflow",1)+e.curCSS(this,"overflow-y",1)+e.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var n,s,a=e(this[0]);a.length&&a[0]!==document;){if(n=a.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(s=parseInt(a.css("zIndex"),10),!isNaN(s)&&0!==s))return s;a=a.parent()}return 0},disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(i,n){function s(t,i,n,s){return e.each(a,function(){i-=parseFloat(e.curCSS(t,"padding"+this,!0))||0,n&&(i-=parseFloat(e.curCSS(t,"border"+this+"Width",!0))||0),s&&(i-=parseFloat(e.curCSS(t,"margin"+this,!0))||0)}),i}var a="Width"===n?["Left","Right"]:["Top","Bottom"],r=n.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(i){return i===t?o["inner"+n].call(this):this.each(function(){e(this).css(r,s(this,i)+"px")})},e.fn["outer"+n]=function(t,i){return"number"!=typeof t?o["outer"+n].call(this,t):this.each(function(){e(this).css(r,s(this,t,!0,i)+"px")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),s=isNaN(n);return(s||n>=0)&&i(t,!s)}}),e(function(){var t=document.body,i=t.appendChild(i=document.createElement("div"));i.offsetHeight,e.extend(i.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),e.support.minHeight=100===i.offsetHeight,e.support.selectstart="onselectstart"in i,t.removeChild(i).style.display="none"}),e.curCSS||(e.curCSS=e.css),e.extend(e.ui,{plugin:{add:function(t,i,n){var s=e.ui[t].prototype;for(var a in n)s.plugins[a]=s.plugins[a]||[],s.plugins[a].push([i,n[a]])},call:function(e,t,i){var n=e.plugins[t];if(n&&e.element[0].parentNode)for(var s=0;s<n.length;s++)e.options[n[s][0]]&&n[s][1].apply(e.element,i)}},contains:function(e,t){return document.compareDocumentPosition?16&e.compareDocumentPosition(t):e!==t&&e.contains(t)},hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",s=!1;return t[n]>0?!0:(t[n]=1,s=t[n]>0,t[n]=0,s)},isOverAxis:function(e,t,i){return e>t&&t+i>e},isOver:function(t,i,n,s,a,r){return e.ui.isOverAxis(t,n,a)&&e.ui.isOverAxis(i,s,r)}}))}(jQuery),/*! jQuery UI - v1.8.23 - 2012-08-15
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.widget.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
function(e,t){if(e.cleanData){var i=e.cleanData;e.cleanData=function(t){for(var n,s=0;null!=(n=t[s]);s++)try{e(n).triggerHandler("remove")}catch(a){}i(t)}}else{var n=e.fn.remove;e.fn.remove=function(t,i){return this.each(function(){return i||(!t||e.filter(t,[this]).length)&&e("*",this).add([this]).each(function(){try{e(this).triggerHandler("remove")}catch(t){}}),n.call(e(this),t,i)})}}e.widget=function(t,i,n){var s,a=t.split(".")[0];t=t.split(".")[1],s=a+"-"+t,n||(n=i,i=e.Widget),e.expr[":"][s]=function(i){return!!e.data(i,t)},e[a]=e[a]||{},e[a][t]=function(e,t){arguments.length&&this._createWidget(e,t)};var r=new i;r.options=e.extend(!0,{},r.options),e[a][t].prototype=e.extend(!0,r,{namespace:a,widgetName:t,widgetEventPrefix:e[a][t].prototype.widgetEventPrefix||t,widgetBaseClass:s},n),e.widget.bridge(t,e[a][t])},e.widget.bridge=function(i,n){e.fn[i]=function(s){var a="string"==typeof s,r=Array.prototype.slice.call(arguments,1),o=this;return s=!a&&r.length?e.extend.apply(null,[!0,s].concat(r)):s,a&&"_"===s.charAt(0)?o:(a?this.each(function(){var n=e.data(this,i),a=n&&e.isFunction(n[s])?n[s].apply(n,r):n;return a!==n&&a!==t?(o=a,!1):void 0}):this.each(function(){var t=e.data(this,i);t?t.option(s||{})._init():e.data(this,i,new n(s,this))}),o)}},e.Widget=function(e,t){arguments.length&&this._createWidget(e,t)},e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(t,i){e.data(i,this.widgetName,this),this.element=e(i),this.options=e.extend(!0,{},this.options,this._getCreateOptions(),t);var n=this;this.element.bind("remove."+this.widgetName,function(){n.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled "+"ui-state-disabled")},widget:function(){return this.element},option:function(i,n){var s=i;if(0===arguments.length)return e.extend({},this.options);if("string"==typeof i){if(n===t)return this.options[i];s={},s[i]=n}return this._setOptions(s),this},_setOptions:function(t){var i=this;return e.each(t,function(e,t){i._setOption(e,t)}),this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&this.widget()[t?"addClass":"removeClass"](this.widgetBaseClass+"-disabled"+" "+"ui-state-disabled").attr("aria-disabled",t),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(t,i,n){var s,a,r=this.options[t];if(n=n||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],a=i.originalEvent,a)for(s in a)s in i||(i[s]=a[s]);return this.element.trigger(i,n),!(e.isFunction(r)&&r.call(this.element[0],i,n)===!1||i.isDefaultPrevented())}}}(jQuery),/*! jQuery UI - v1.8.23 - 2012-08-15
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.mouse.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
function(e){var t=!1;e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,s=1==i.which,a="string"==typeof this.options.cancel&&i.target.nodeName?e(i.target).closest(this.options.cancel).length:!1;return s&&!a&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){return!e.browser.msie||document.documentMode>=9||t.button?this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted):this._mouseUp(t)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target==this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),/*! jQuery UI - v1.8.23 - 2012-08-15
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.draggable.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
function(e){e.widget("ui.draggable",e.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"==this.options.helper&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},destroy:function(){return this.element.data("draggable")?(this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this):void 0},_mouseCapture:function(t){var i=this.options;return this.helper||i.disabled||e(t.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(t),this.handle?(i.iframeFix&&e(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){e('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),i.containment&&this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,i){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",t,n)===!1)return this._mouseUp({}),!1;this.position=n.position}return this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=!1;e.ui.ddmanager&&!this.options.dropBehaviour&&(i=e.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1);for(var n=this.element[0],s=!1;n&&(n=n.parentNode);)n==document&&(s=!0);if(!s&&"original"===this.options.helper)return!1;if("invalid"==this.options.revert&&!i||"valid"==this.options.revert&&i||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)){var a=this;e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){a._trigger("stop",t)!==!1&&a._clear()})}else this._trigger("stop",t)!==!1&&this._clear();return!1},_mouseUp:function(t){return this.options.iframeFix===!0&&e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){var i=this.options.handle&&e(this.options.handle,this.element).length?!1:!0;return e(this.options.handle,this.element).find("*").andSelf().each(function(){this==t.target&&(i=!0)}),i},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t])):"clone"==i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"==i.appendTo?this.element[0].parentNode:i.appendTo),n[0]!=this.element[0]&&!/(fixed|absolute)/.test(n.css("position"))&&n.css("position","absolute"),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&e.browser.msie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;if("parent"==t.containment&&(t.containment=this.helper[0].parentNode),("document"==t.containment||"window"==t.containment)&&(this.containment=["document"==t.containment?0:e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==t.containment?0:e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==t.containment?0:e(window).scrollLeft())+e("document"==t.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==t.containment?0:e(window).scrollTop())+(e("document"==t.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(t.containment)||t.containment.constructor==Array)t.containment.constructor==Array&&(this.containment=t.containment);else{var i=e(t.containment),n=i[0];if(!n)return;var s=(i.offset(),"hidden"!=e(n).css("overflow"));this.containment=[(parseInt(e(n).css("borderLeftWidth"),10)||0)+(parseInt(e(n).css("paddingLeft"),10)||0),(parseInt(e(n).css("borderTopWidth"),10)||0)+(parseInt(e(n).css("paddingTop"),10)||0),(s?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(e(n).css("borderLeftWidth"),10)||0)-(parseInt(e(n).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(s?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(e(n).css("borderTopWidth"),10)||0)-(parseInt(e(n).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i}},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"==t?1:-1,s=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),a=/(html|body)/i.test(s[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-(e.browser.safari&&e.browser.version<526&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():a?0:s.scrollTop())*n),left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-(e.browser.safari&&e.browser.version<526&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():a?0:s.scrollLeft())*n)}},_generatePosition:function(t){var i=this.options,n="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(n[0].tagName),a=t.pageX,r=t.pageY;if(this.originalPosition){var o;if(this.containment){if(this.relative_container){var l=this.relative_container.offset();o=[this.containment[0]+l.left,this.containment[1]+l.top,this.containment[2]+l.left,this.containment[3]+l.top]}else o=this.containment;t.pageX-this.offset.click.left<o[0]&&(a=o[0]+this.offset.click.left),t.pageY-this.offset.click.top<o[1]&&(r=o[1]+this.offset.click.top),t.pageX-this.offset.click.left>o[2]&&(a=o[2]+this.offset.click.left),t.pageY-this.offset.click.top>o[3]&&(r=o[3]+this.offset.click.top)}if(i.grid){var c=i.grid[1]?this.originalPageY+Math.round((r-this.originalPageY)/i.grid[1])*i.grid[1]:this.originalPageY;r=o?c-this.offset.click.top<o[1]||c-this.offset.click.top>o[3]?c-this.offset.click.top<o[1]?c+i.grid[1]:c-i.grid[1]:c:c;var h=i.grid[0]?this.originalPageX+Math.round((a-this.originalPageX)/i.grid[0])*i.grid[0]:this.originalPageX;a=o?h-this.offset.click.left<o[0]||h-this.offset.click.left>o[2]?h-this.offset.click.left<o[0]?h+i.grid[0]:h-i.grid[0]:h:h}}return{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(e.browser.safari&&e.browser.version<526&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():s?0:n.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(e.browser.safari&&e.browser.version<526&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():s?0:n.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,i,n){return n=n||this._uiHash(),e.ui.plugin.call(this,t,[i,n]),"drag"==t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.extend(e.ui.draggable,{version:"1.8.23"}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i){var n=e(this).data("draggable"),s=n.options,a=e.extend({},i,{item:n.element});n.sortables=[],e(s.connectToSortable).each(function(){var i=e.data(this,"sortable");i&&!i.options.disabled&&(n.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",t,a))})},stop:function(t,i){var n=e(this).data("draggable"),s=e.extend({},i,{item:n.element});e.each(n.sortables,function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"==n.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,s))})},drag:function(t,i){var n=e(this).data("draggable"),s=this;e.each(n.sortables,function(){this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(s).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=n.offset.click.top,this.instance.offset.click.left=n.offset.click.left,this.instance.offset.parent.left-=n.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=n.offset.parent.top-this.instance.offset.parent.top,n._trigger("toSortable",t),n.dropped=this.instance.element,n.currentItem=n.element,this.instance.fromOutside=n),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),n._trigger("fromSortable",t),n.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),i=e(this).data("draggable").options;t.css("cursor")&&(i._cursor=t.css("cursor")),t.css("cursor",i.cursor)},stop:function(){var t=e(this).data("draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i){var n=e(i.helper),s=e(this).data("draggable").options;n.css("opacity")&&(s._opacity=n.css("opacity")),n.css("opacity",s.opacity)},stop:function(t,i){var n=e(this).data("draggable").options;n._opacity&&e(i.helper).css("opacity",n._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("draggable");t.scrollParent[0]!=document&&"HTML"!=t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var i=e(this).data("draggable"),n=i.options,s=!1;i.scrollParent[0]!=document&&"HTML"!=i.scrollParent[0].tagName?(n.axis&&"x"==n.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-t.pageY<n.scrollSensitivity?i.scrollParent[0].scrollTop=s=i.scrollParent[0].scrollTop+n.scrollSpeed:t.pageY-i.overflowOffset.top<n.scrollSensitivity&&(i.scrollParent[0].scrollTop=s=i.scrollParent[0].scrollTop-n.scrollSpeed)),n.axis&&"y"==n.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-t.pageX<n.scrollSensitivity?i.scrollParent[0].scrollLeft=s=i.scrollParent[0].scrollLeft+n.scrollSpeed:t.pageX-i.overflowOffset.left<n.scrollSensitivity&&(i.scrollParent[0].scrollLeft=s=i.scrollParent[0].scrollLeft-n.scrollSpeed))):(n.axis&&"x"==n.axis||(t.pageY-e(document).scrollTop()<n.scrollSensitivity?s=e(document).scrollTop(e(document).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<n.scrollSensitivity&&(s=e(document).scrollTop(e(document).scrollTop()+n.scrollSpeed))),n.axis&&"y"==n.axis||(t.pageX-e(document).scrollLeft()<n.scrollSensitivity?s=e(document).scrollLeft(e(document).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<n.scrollSensitivity&&(s=e(document).scrollLeft(e(document).scrollLeft()+n.scrollSpeed)))),s!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t)}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("draggable"),i=t.options;t.snapElements=[],e(i.snap.constructor!=String?i.snap.items||":data(draggable)":i.snap).each(function(){var i=e(this),n=i.offset();this!=t.element[0]&&t.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:n.top,left:n.left})})},drag:function(t,i){for(var n=e(this).data("draggable"),s=n.options,a=s.snapTolerance,r=i.offset.left,o=r+n.helperProportions.width,l=i.offset.top,c=l+n.helperProportions.height,h=n.snapElements.length-1;h>=0;h--){var u=n.snapElements[h].left,d=u+n.snapElements[h].width,f=n.snapElements[h].top,p=f+n.snapElements[h].height;if(r>u-a&&d+a>r&&l>f-a&&p+a>l||r>u-a&&d+a>r&&c>f-a&&p+a>c||o>u-a&&d+a>o&&l>f-a&&p+a>l||o>u-a&&d+a>o&&c>f-a&&p+a>c){if("inner"!=s.snapMode){var g=Math.abs(f-c)<=a,m=Math.abs(p-l)<=a,v=Math.abs(u-o)<=a,b=Math.abs(d-r)<=a;g&&(i.position.top=n._convertPositionTo("relative",{top:f-n.helperProportions.height,left:0}).top-n.margins.top),m&&(i.position.top=n._convertPositionTo("relative",{top:p,left:0}).top-n.margins.top),v&&(i.position.left=n._convertPositionTo("relative",{top:0,left:u-n.helperProportions.width}).left-n.margins.left),b&&(i.position.left=n._convertPositionTo("relative",{top:0,left:d}).left-n.margins.left)}var y=g||m||v||b;if("outer"!=s.snapMode){var g=Math.abs(f-l)<=a,m=Math.abs(p-c)<=a,v=Math.abs(u-r)<=a,b=Math.abs(d-o)<=a;g&&(i.position.top=n._convertPositionTo("relative",{top:f,left:0}).top-n.margins.top),m&&(i.position.top=n._convertPositionTo("relative",{top:p-n.helperProportions.height,left:0}).top-n.margins.top),v&&(i.position.left=n._convertPositionTo("relative",{top:0,left:u}).left-n.margins.left),b&&(i.position.left=n._convertPositionTo("relative",{top:0,left:d-n.helperProportions.width}).left-n.margins.left)}!n.snapElements[h].snapping&&(g||m||v||b||y)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,t,e.extend(n._uiHash(),{snapItem:n.snapElements[h].item})),n.snapElements[h].snapping=g||m||v||b||y}else n.snapElements[h].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,t,e.extend(n._uiHash(),{snapItem:n.snapElements[h].item})),n.snapElements[h].snapping=!1}}}),e.ui.plugin.add("draggable","stack",{start:function(){var t=e(this).data("draggable").options,i=e.makeArray(e(t.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});if(i.length){var n=parseInt(i[0].style.zIndex)||0;e(i).each(function(e){this.style.zIndex=n+e}),this[0].style.zIndex=n+i.length}}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i){var n=e(i.helper),s=e(this).data("draggable").options;n.css("zIndex")&&(s._zIndex=n.css("zIndex")),n.css("zIndex",s.zIndex)},stop:function(t,i){var n=e(this).data("draggable").options;n._zIndex&&e(i.helper).css("zIndex",n._zIndex)}})}(jQuery),/*! jQuery UI - v1.8.23 - 2012-08-15
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.slider.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
function(e){var t=5;e.widget("ui.slider",e.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var i=this,n=this.options,s=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),a="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",r=n.values&&n.values.length||1,o=[];this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"+(n.disabled?" ui-slider-disabled ui-disabled":"")),this.range=e([]),n.range&&(n.range===!0&&(n.values||(n.values=[this._valueMin(),this._valueMin()]),n.values.length&&2!==n.values.length&&(n.values=[n.values[0],n.values[0]])),this.range=e("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+("min"===n.range||"max"===n.range?" ui-slider-range-"+n.range:"")));for(var l=s.length;r>l;l+=1)o.push(a);this.handles=s.add(e(o.join("")).appendTo(i.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(e){e.preventDefault()}).hover(function(){n.disabled||e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")}).focus(function(){n.disabled?e(this).blur():(e(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),e(this).addClass("ui-state-focus"))}).blur(function(){e(this).removeClass("ui-state-focus")}),this.handles.each(function(t){e(this).data("index.ui-slider-handle",t)}),this.handles.keydown(function(n){var s,a,r,o,l=e(this).data("index.ui-slider-handle");if(!i.options.disabled){switch(n.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(n.preventDefault(),!i._keySliding&&(i._keySliding=!0,e(this).addClass("ui-state-active"),s=i._start(n,l),s===!1))return}switch(o=i.options.step,a=r=i.options.values&&i.options.values.length?i.values(l):i.value(),n.keyCode){case e.ui.keyCode.HOME:r=i._valueMin();break;case e.ui.keyCode.END:r=i._valueMax();break;case e.ui.keyCode.PAGE_UP:r=i._trimAlignValue(a+(i._valueMax()-i._valueMin())/t);break;case e.ui.keyCode.PAGE_DOWN:r=i._trimAlignValue(a-(i._valueMax()-i._valueMin())/t);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(a===i._valueMax())return;r=i._trimAlignValue(a+o);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(a===i._valueMin())return;r=i._trimAlignValue(a-o)}i._slide(n,l,r)}}).keyup(function(t){var n=e(this).data("index.ui-slider-handle");i._keySliding&&(i._keySliding=!1,i._stop(t,n),i._change(t,n),e(this).removeClass("ui-state-active"))}),this._refreshValue(),this._animateOff=!1},destroy:function(){return this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy(),this},_mouseCapture:function(t){var i,n,s,a,r,o,l,c,h,u=this.options;return u.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(i),s=this._valueMax()-this._valueMin()+1,r=this,this.handles.each(function(t){var i=Math.abs(n-r.values(t));s>i&&(s=i,a=e(this),o=t)}),u.range===!0&&this.values(1)===u.min&&(o+=1,a=e(this.handles[o])),l=this._start(t,o),l===!1?!1:(this._mouseSliding=!0,r._handleIndex=o,a.addClass("ui-state-active").focus(),c=a.offset(),h=!e(t.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=h?{left:0,top:0}:{left:t.pageX-c.left-a.width()/2,top:t.pageY-c.top-a.height()/2-(parseInt(a.css("borderTopWidth"),10)||0)-(parseInt(a.css("borderBottomWidth"),10)||0)+(parseInt(a.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,o,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,n,s,a;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/t,n>1&&(n=1),0>n&&(n=0),"vertical"===this.orientation&&(n=1-n),s=this._valueMax()-this._valueMin(),a=this._valueMin()+n*s,this._trimAlignValue(a)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var n,s,a;this.options.values&&this.options.values.length?(n=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&i>n||1===t&&n>i)&&(i=n),i!==this.values(t)&&(s=this.values(),s[t]=i,a=this._trigger("slide",e,{handle:this.handles[t],value:i,values:s}),n=this.values(t?0:1),a!==!1&&this.values(t,i,!0))):i!==this.value()&&(a=this._trigger("slide",e,{handle:this.handles[t],value:i}),a!==!1&&this.value(i))},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(t,i){var n,s,a;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),this._change(null,t),void 0;if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(n=this.options.values,s=arguments[0],a=0;a<n.length;a+=1)n[a]=this._trimAlignValue(s[a]),this._change(null,a);this._refreshValue()},_setOption:function(t,i){var n,s=0;switch(e.isArray(this.options.values)&&(s=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments),t){case"disabled":i?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.propAttr("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;s>n;n+=1)this._change(null,n);this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,n;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,n=e-i;return 2*Math.abs(i)>=t&&(n+=i>0?t:-t),parseFloat(n.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,i,n,s,a,r=this.options.range,o=this.options,l=this,c=this._animateOff?!1:o.animate,h={};this.options.values&&this.options.values.length?this.handles.each(function(n){t=100*((l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())),h["horizontal"===l.orientation?"left":"bottom"]=t+"%",e(this).stop(1,1)[c?"animate":"css"](h,o.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[c?"animate":"css"]({left:t+"%"},o.animate),1===n&&l.range[c?"animate":"css"]({width:t-i+"%"},{queue:!1,duration:o.animate})):(0===n&&l.range.stop(1,1)[c?"animate":"css"]({bottom:t+"%"},o.animate),1===n&&l.range[c?"animate":"css"]({height:t-i+"%"},{queue:!1,duration:o.animate}))),i=t}):(n=this.value(),s=this._valueMin(),a=this._valueMax(),t=a!==s?100*((n-s)/(a-s)):0,h["horizontal"===l.orientation?"left":"bottom"]=t+"%",this.handle.stop(1,1)[c?"animate":"css"](h,o.animate),"min"===r&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:t+"%"},o.animate),"max"===r&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-t+"%"},{queue:!1,duration:o.animate}),"min"===r&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:t+"%"},o.animate),"max"===r&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-t+"%"},{queue:!1,duration:o.animate}))}}),e.extend(e.ui.slider,{version:"1.8.23"})}(jQuery),/*
 
	Awkward Showcase - jQuery plugin 
	http://www.jquery.com
	http://www.awkwardgroup.com/sandbox/awkward-showcase-a-jquery-plugin
	http://demo.awkwardgroup.com/showcase
	Version: 1.1.1

	Copyright (C) 2011 Awkward Group (http://www.awkwardgroup.com)
	Licensed under Attribution-ShareAlike 3.0 Unported
	http://creativecommons.org/licenses/by-sa/3.0/

	Markup example for jQuery("#showcase").awShowcase();
 
	<div id="showcase" class="showcase">
		<!-- Each child div in #showcase represents a slide -->
		<div class="showcase-slide">
			<!-- Put the slide content in a div with the class .showcase-content -->
			<div class="showcase-content">
				<!-- If the slide contains multiple elements you should wrap them in a div with the class .showcase-content-wrapper. 
				We usually wrap even if there is only one element, because it looks better. :-) -->
				<div class="showcase-content-wrapper">
					<img src="images/01.jpg" alt="01" />
				</div>
			</div>
			<!-- Put the caption content in a div with the class .showcase-caption -->
			<div class="showcase-caption">
				The Caption
			</div>
			<!-- Put the tooltips in a div with the class .showcase-tooltips. -->
			<div class="showcase-tooltips">
				<!-- Each anchor in .showcase-tooltips represents a tooltip. The coords attribute represents the position of the tooltip. -->
				<a href="http://www.awkward.se" coords="634,130">
					<!-- The content of the anchor-tag is displayed in the tooltip. -->
					This is a tooltip that displays the anchor html in a nice way.
				</a>
				<a href="http://www.awkward.se" coords="356, 172">
					<!-- You can add multiple elements to the anchor-tag which are display in the tooltip. -->
					<img src="images/glasses.png" />
					<span style="display: block; font-weight: bold; padding: 3px 0 3px 0; text-align: center;">
						White Glasses: 500$
					</span>
				</a>
			</div>
		</div>
		<div class="showcase-slide">
			<div class="showcase-content">
				<div class="showcase-content-wrapper">
					Content...
				</div>
			</div>
		</div>
	</div>

*/
function(e){e.fn.awShowcase=function(t){function n(i){var n=e(document.createElement("div")).attr("id","showcase-content-"+i).css("overflow","hidden").css("position","absolute").addClass("showcase-content").html(I[i]);return t.viewline||n.css("width",t.content_width),t.fit_to_parent&&!t.viewline&&n.css("left",x/2-t.content_width/2),n}function s(){var e=parseInt(g)+1;e===A&&t.continuous?e=0:e!==A||t.continuous||(v=!0,clearInterval(y)),v||a(e,"next")}function a(i,s){if(g!==i&&!w){var h,u,d,p=0,v=t.fit_to_parent?x/2-t.content_width/2:0;if(i>g&&"previous"!==s||"next"===s)if(t.viewline){if(A-1>g){for(t.speed_change||(w=!0),f(),t.pauseonover&&window.clearInterval(y),S=0,d=g+1,len=A;len>d;++d)h=B[d],S+=h.find(".showcase-content").children().width();S>x?(j=C,C-=B[g].find(".showcase-content").children().width()):$(".showcase-arrow-next").is(":visible")&&(j=C,C=-(k-(S+(x-S))),$(".showcase-arrow-next").fadeOut(300)),T.animate({left:C+"px"},t.transition_speed,function(){w=!1}),$(".showcase-arrow-next").is(":visible")&&g++,$(".showcase-arrow-previous").fadeIn(300)}}else t.speed_change||(w=!0),h=e(_).find("#showcase-content-"+parseInt(g)),u=n(i),T.append(u),t.dynamic_height?u.css("height",u.find(".showcase-content").children().height()):u.css("height",t.content_height),h.find(".showcase-content").children().height()>u.find(".showcase-content").children().height()&&t.dynamic_height&&(T.stop(!0,!0).animate({height:u.find(".showcase-content").children().height()},200),p=100),"hslide"===t.transition?e(h).delay(p).animate({left:-t.content_width},t.transition_speed+t.transition_delay,function(){h.remove()}):"vslide"===t.transition?e(h).delay(p).animate({top:-t.content_height},t.transition_speed+t.transition_delay,function(){h.remove()}):e(h).delay(p).fadeOut(t.transition_speed,function(){h.remove()}),c(h,!0),l(h,!0),"hslide"===t.transition?(u.css("left",x),e(u).delay(p).animate({left:v},t.transition_speed,function(){c(u),l(u),r(u)})):"vslide"===t.transition?(u.css("top",_.height()),e(u).delay(p).animate({top:"0px"},t.transition_speed,function(){c(u),l(u),r(u)})):(u.css("left",v),u.css("display","none"),e(u).delay(p).fadeIn(t.transition_speed,function(){c(u),l(u),r(u)}));else(g>i||"previous"===s)&&(t.viewline?(0!==g&&(t.speed_change||(w=!0),f(),t.pauseonover&&window.clearInterval(y),T.animate({left:j+"px"},t.transition_speed,function(){w=!1}),C=j,g--,0===g&&$(".showcase-arrow-previous").fadeOut(300),old_id=g-1,sub_width=e(B[old_id]).width(),j+=sub_width),$(".showcase-arrow-next").fadeIn(300)):(t.speed_change||(w=!0),h=e(_).find("#showcase-content-"+parseInt(g)),u=n(i),T.append(u),t.dynamic_height?u.css("height",u.find(".showcase-content").children().height()):u.css("height",t.content_height),h.find(".showcase-content").children().height()>u.find(".showcase-content").children().height()&&t.dynamic_height&&(T.stop(!0,!0).animate({height:u.find(".showcase-content").children().height()},200),p=100),"hslide"===t.transition?e(h).delay(p).animate({left:x+"px"},t.transition_speed+t.transition_delay,function(){c(h,!0),l(h,!0),h.remove()}):"vslide"===t.transition?e(h).delay(p).animate({top:t.content_height+"px"},t.transition_speed+t.transition_delay,function(){c(h,!0),l(h,!0),h.remove()}):e(h).delay(p).fadeOut(t.transition_speed,function(){c(h,!0),l(h,!0),h.remove()}),"hslide"===t.transition?(u.css("left","-"+t.content_width+"px"),e(u).delay(p).animate({left:v},t.transition_speed,function(){c(u),l(u),r(u)})):"vslide"===t.transition?(u.css("top","-"+_.height()+"px"),e(u).delay(p).animate({top:"0px"},t.transition_speed,function(){c(u),l(u),r(u)})):(u.css("left",v),u.css("display","none"),e(u).delay(p).fadeIn(t.transition_speed,function(){c(u),l(u),r(u)})),T.append(u)));t.viewline||(m=g,g=i,t.thumbnails&&(g>m&&"previous"!==s||"next"===s?o("forward",!0):(m>g||"previous"===s)&&o("backward",!0)),t.arrows&&(e(_).find(".showcase-arrow-previous").unbind("click").click(function(){y&&(t.stoponclick&&(b=!0),clearInterval(y)),a(0===g?A-1:parseInt(g)-1,"previous")}),e(_).find(".showcase-arrow-next").unbind("click").click(function(){y&&(t.stoponclick&&(b=!0),clearInterval(y)),a(g===A-1?0:parseInt(g)+1,"next")})),t.thumbnails&&(d=0,_.find(".showcase-thumbnail").each(function(){var t=e(this);t.removeClass("active"),d===g&&t.addClass("active"),d++})),"show"===t.show_caption&&e(u).find(".showcase-caption").show()),t.buttons&&(d=0,_.find(".showcase-button-wrapper span").each(function(){var t=e(this);t.removeClass("active"),d===g&&t.addClass("active"),d++})),"function"==typeof t.custom_function&&t.custom_function()}}function r(e){t.dynamic_height&&T.stop(!0,!0).animate({height:e.find(".showcase-content").children().height()},200),w=!1}function o(i,n,s){var a=!0,r=u(e(P).find(".showcase-thumbnail"));"horizontal"===t.thumbnails_direction&&(r=d(e(P).find(".showcase-thumbnail")));var o=1;if(0===t.thumbnails_slidex&&(t.thumbnails_slidex=D),n){for(var l=L,c=0;0>l;)l+="horizontal"===t.thumbnails_direction?d(e(G[0])):u(e(G[0])),c++;var h=c,f=D+c-1;g>=h&&f>=g&&(a=!1);var p;if(g-f>t.thumbnails_slidex)for(p=g-f;p>t.thumbnails_slidex;)p-=t.thumbnails_slidex,o++;else if(h-g>t.thumbnails_slidex)for(p=h-g;p>t.thumbnails_slidex;)p-=t.thumbnails_slidex,o++;else o=1}"forward"===i&&a?("vertical"===t.thumbnails_direction&&t.content_height<M+L?L-=r*t.thumbnails_slidex*o:"horizontal"===t.thumbnails_direction&&t.content_width<M+L?L-=r*t.thumbnails_slidex*o:0===g&&(s||(L=0)),"horizontal"===t.thumbnails_direction?P.animate({left:L},300):P.animate({top:L},300)):a&&(0>L?L+=r*t.thumbnails_slidex*o:g===A-1?s||(L-=r*t.thumbnails_slidex*o):L=0,"horizontal"===t.thumbnails_direction?P.animate({left:L},300):P.animate({top:L},300))}function l(i,n){var s=i.find(".showcase-caption");n?s.stop(!0,!0).fadeOut(300):"onload"===t.show_caption?s.fadeIn(300):"onhover"===t.show_caption&&(e(i).mouseenter(function(){s.fadeIn(300)}),e(i).mouseleave(function(){s.stop(!0,!0).fadeOut(100)}))}function c(i,n){i.find(".showcase-tooltips a").each(function(){if(n)e(this).stop(!0,!0).fadeOut(300);else{var s=e(this).attr("coords");s=s.split(","),e(this).addClass("showcase-plus-anchor"),e(this).css("position","absolute"),e(this).css("display","none"),e(this).css("width",t.tooltip_icon_width),e(this).css("height",t.tooltip_icon_height),e(this).css("left",parseInt(s[0])-parseInt(t.tooltip_icon_width)/2),e(this).css("top",parseInt(s[1])-parseInt(t.tooltip_icon_height)/2);var a=e(this).html();e(this).mouseenter(function(){h(i,s[0],s[1],a)}),e(this).mouseleave(function(){h(i,s[0],s[1],a)}),e(this).html(""),e(this).fadeIn(300)}})}function h(i,n,s,a){if(null===R){R=e(document.createElement("div")).addClass("showcase-tooltip").css("display","none").css("position","absolute").css("max-width",t.tooltip_width).html(a),i.append(R);var r=2*parseInt(R.css("padding-right"))+2*parseInt(R.css("border-right-width")),o=2*parseInt(R.css("padding-bottom"))+2*parseInt(R.css("border-bottom-width"));lastx=parseInt(n)+R.width()+r,lasty=parseInt(s)+R.height()+o,lastx<t.content_width?R.css("left",parseInt(n)+parseInt(t.tooltip_offsetx)):R.css("left",parseInt(n)-parseInt(t.tooltip_offsetx)-(parseInt(R.width())+parseInt(t.tooltip_offsetx))),lasty<t.content_height?R.css("top",parseInt(s)+parseInt(t.tooltip_offsety)):R.css("top",parseInt(s)-parseInt(t.tooltip_offsety)-(parseInt(R.height())+parseInt(o))),R.fadeIn(400)}else R.fadeOut(400),R.remove(),R=null}function u(t,i,n,s,a){i="undefined"!=typeof i?i:!0,n="undefined"!=typeof n?n:!0,s="undefined"!=typeof s?s:!0,a="undefined"!=typeof a?a:!0;var r=i?e(t).height():0,o=n?parseFloat(e(t).css("margin-top"))+parseFloat(e(t).css("margin-bottom")):0,l=s?parseFloat(e(t).css("padding-top"))+parseFloat(e(t).css("padding-bottom")):0,c=a?parseFloat(e(t).css("border-top-width"))+parseFloat(e(t).css("border-bottom-width")):0;return r+=o+l+c}function d(t,i,n,s,a){i="undefined"!=typeof i?i:!0,n="undefined"!=typeof n?n:!0,s="undefined"!=typeof s?s:!0,a="undefined"!=typeof a?a:!0;var r=i?e(t).width():0,o=n?parseFloat(e(t).css("margin-left"))+parseFloat(e(t).css("margin-right")):0,l=s?parseFloat(e(t).css("padding-left"))+parseFloat(e(t).css("padding-right")):0,c=a?parseFloat(e(t).css("border-left-width"))+parseFloat(e(t).css("border-right-width")):0;return r+=o+l+c}function f(){k=0,T.children("div").each(function(){k+=$(this).find(".showcase-content").children().width(),B.push($(this))})}var p={content_width:700,content_height:470,fit_to_parent:!1,auto:!1,interval:3e3,continuous:!1,loading:!0,tooltip_width:200,tooltip_icon_width:32,tooltip_icon_height:32,tooltip_offsetx:18,tooltip_offsety:0,arrows:!0,buttons:!0,btn_numbers:!1,keybord_keys:!1,mousetrace:!1,pauseonover:!0,stoponclick:!0,transition:"hslide",transition_delay:300,transition_speed:500,show_caption:"onload",thumbnails:!1,thumbnails_position:"outside-last",thumbnails_direction:"vertical",thumbnails_slidex:0,dynamic_height:!1,speed_change:!1,viewline:!1,fullscreen_width_x:15,custom_function:null};t=e.extend(p,t);var g=0,m=0,v=!1,b=!1,y=null,_=e(this),x=t.content_width,w=!1,k=1e4,C=0,j=0,S=0,T=e(document.createElement("div")).css("overflow","hidden").css("position","relative").addClass("showcase-content-container").prependTo(_);t.fit_to_parent&&(x=e(_).width()+t.fullscreen_width_x),t.viewline&&(t.thumbnails=!1,t.dynamic_height=!1,T.css("width",k),_.css("overflow","hidden"),$(".showcase-arrow-previous").hide());var I=[],G=[],A=0;_.children(".showcase-slide").each(function(){var i=e(this);if(A++,t.thumbnails){var s=i.find(".showcase-thumbnail");G.push(s),s.remove()}var a=i.find(".showcase-content").children().width(),r=i.find(".showcase-content").children().height();I.push(i.html()),i.remove();var o=n(A-1);(t.viewline||1===A)&&T.append(o),t.viewline&&(o.css("position","relative"),o.css("float","left"),o.css("width",a)),t.dynamic_height?(o.css("height",r),1===A&&T.css("height",r)):(o.css("height",t.content_height),1===A&&T.css("height",t.content_height)),(t.viewline||1===A)&&(c(o),l(o),"show"===t.show_caption&&e(o).find(".showcase-caption").show())});var P,M=0,D=0;if(t.thumbnails){for(thumb_container=e("<div />"),thumb_restriction=e("<div />"),P=e("<div />"),i=G.length-1;i>=0;--i){var O=e(G[i]).css({overflow:"hidden"});O.attr("id","showcase-thumbnail-"+i),O.addClass(0===i?"active":""),O.click(function(e,t){return function(){y&&(b=!0,clearInterval(y)),a(e,t)}}(i,"")),P.prepend(O)}"outside-first"===t.thumbnails_position||"outside-last"===t.thumbnails_position?("horizontal"!==t.thumbnails_direction?(T.css("float","left"),T.css("width",t.content_width),thumb_container.css("float","left"),thumb_container.css("height",t.content_height)):e(P).find(".showcase-thumbnail").css("float","left"),"outside-last"===t.thumbnails_position?(_.append(thumb_container),"horizontal"!==t.thumbnails_direction&&_.append(e("<div />").addClass("clear"))):(_.prepend(thumb_container),"horizontal"!==t.thumbnails_direction&&_.append(e("<div />").addClass("clear")))):(thumb_container.css({position:"absolute","z-index":20}),"horizontal"===t.thumbnails_direction?(thumb_container.css({left:0,right:0}),e(P).find(".showcase-thumbnail").css("float","left"),e(P).append(e("<div />").addClass("clear")),"inside-first"===t.thumbnails_position?thumb_container.css("top",0):thumb_container.css("bottom",0)):(thumb_container.css({top:0,bottom:0}),"inside-first"===t.thumbnails_position?thumb_container.css("left",0):thumb_container.css("right",0)),T.prepend(thumb_container)),thumb_container.addClass("showcase-thumbnail-container"),thumb_container.css("overflow","hidden"),thumb_restriction.addClass("showcase-thumbnail-restriction"),thumb_restriction.css({overflow:"hidden",position:"relative"}),P.addClass("showcase-thumbnail-wrapper"),"horizontal"===t.thumbnails_direction?P.addClass("showcase-thumbnail-wrapper-horizontal"):P.addClass("showcase-thumbnail-wrapper-vertical"),P.css("position","relative"),thumb_restriction.append(P),thumb_container.append(thumb_restriction);var F=e('<div class="showcase-thumbnail-button-backward" />');"horizontal"!==t.thumbnails_direction?F.html('<span class="showcase-thumbnail-vertical"><span>Up</span></span>'):(F.css({"float":"left"}),F.html('<span class="showcase-thumbnail-horizontal"><span>Left</span></span>')),F.click(function(){o("backward",!1,!0)}),thumb_container.prepend(F);var E=e('<div class="showcase-thumbnail-button-forward" />');"horizontal"!==t.thumbnails_direction?E.html('<span class="showcase-thumbnail-vertical"><span>Down</span></span>'):(E.css({"float":"left"}),E.html('<span class="showcase-thumbnail-horizontal"><span>Right</span></span>')),E.click(function(){o("forward",!1,!0)}),thumb_container.append(E);var H=0;if("horizontal"!==t.thumbnails_direction)for(H=u(P,!1),H+=u(F)+u(E);H<t.content_height;)H+=u(e(G[0])),D++;else for(H=d(P,!1),H+=d(F)+d(E);x>H;)H+=d(e(G[0])),D++;if(D+1>G.length&&("horizontal"!==t.thumbnails_direction&&thumb_restriction.css("margin-top",u(F)),F.hide(),E.hide()),"horizontal"!==t.thumbnails_direction){var N=u(F)+u(E);thumb_restriction.css("height",t.content_height-N)}"horizontal"===t.thumbnails_direction?(e(".showcase-thumbnail").each(function(){M+=d(e(this))}),P.css("width",M)):e(".showcase-thumbnail").each(function(){M+=u(e(this))})}if(t.thumbnails&&-1!==t.thumbnails_position.indexOf("outside")&&"horizontal"!==t.thumbnails_direction&&!t.viewline?_.css("width",x+d(P,!0,!1)):t.fit_to_parent||_.css("width",x),A>1&&t.auto&&(y=window.setInterval(s,t.interval)),t.auto&&t.pauseonover&&(_.mouseenter(function(){v=!0,clearInterval(y)}),_.mouseleave(function(){b||(v=!1,y=window.setInterval(s,t.interval))})),t.arrows&&A>1&&(e(document.createElement("div")).addClass("showcase-arrow-previous").prependTo(_).click(function(){y&&(t.stoponclick&&(b=!0),clearInterval(y)),a(0===g?A-1:parseInt(g)-1,"previous")}),e(document.createElement("div")).addClass("showcase-arrow-next").prependTo(_).click(function(){y&&(t.stoponclick&&(b=!0),clearInterval(y)),a(g+1,"next")}),t.viewline&&$(".showcase-arrow-previous").hide()),t.buttons&&A>1)for(e(document.createElement("div")).css("clear","both").addClass("showcase-button-wrapper").appendTo(_),i=0;A>i;)e(document.createElement("span")).attr("id","showcase-navigation-button-"+i).addClass(0===i?"active":"").html(t.btn_numbers?parseInt(i)+1:"&nbsp;").click(function(e,i){return function(){y&&(t.stoponclick&&(b=!0),clearInterval(y)),a(e,i)}}(i,"")).appendTo(e(_).find(".showcase-button-wrapper")),i++;t.keybord_keys&&e(document).keydown(function(e){t.stoponclick&&(b=!0),y&&clearInterval(y),37===e.keyCode&&a(0===g?A-1:parseInt(g)-1,"previous"),39===e.keyCode&&a(g===A-1?0:parseInt(g)+1,"next")});var L=0,R=null;if(t.mousetrace){var z=e(document.createElement("div")).css("position","absolute").css("top","0").css("background-color","#fff").css("color","#000").css("padding","3px 5px").css("x-index","30").html("X: 0 Y: 0");_.append(z);var W=_.offset();T.mousemove(function(e){z.html("X: "+(e.pageX-W.left)+" Y: "+(e.pageY-W.top))})}$("#awOnePageButton").click(function(){if($(".view-page").is(":visible")){var i=e(document.createElement("div"));i.addClass("showcase-onepage"),_.before(i),y&&(b=!0,clearInterval(y)),$(this).find(".view-page").hide(),$(this).find(".view-slide").show(),_.hide(),$.each(I,function(e){obj=n(e),obj.css("position","relative"),i.append(obj),c(obj),l(obj),t.dynamic_height?obj.css("height",obj.find(".showcase-content").children().height()):obj.css("height",t.content_height)});var s=e(document.createElement("div"));s.addClass("clear"),i.append(s)}else $(".showcase-onepage").remove(),$(this).find(".view-page").show(),$(this).find(".view-slide").hide(),_.show();return!1});var B=[];_.removeClass("showcase-load")}}(jQuery),/*	
 *	jQuery carouFredSel 5.6.4
 *	Demo's and documentation:
 *	caroufredsel.frebsite.nl
 *	
 *	Copyright (c) 2012 Fred Heusschen
 *	www.frebsite.nl
 *
 *	Dual licensed under the MIT and GPL licenses.
 *	http://en.wikipedia.org/wiki/MIT_License
 *	http://en.wikipedia.org/wiki/GNU_General_Public_License
 */
eval(function(e,t,i,n,s,a){if(s=function(e){return(t>e?"":s(parseInt(e/t)))+((e%=t)>35?String.fromCharCode(e+29):e.toString(36))},!"".replace(/^/,String)){for(;i--;)a[s(i)]=n[i]||s(i);n=[function(e){return a[e]}],s=function(){return"\\w+"},i=1}for(;i--;)n[i]&&(e=e.replace(new RegExp("\\b"+s(i)+"\\b","g"),n[i]));return e}("(H($){8($.1P.1J)J;$.1P.1J=H(y,z){8(1g.V==0){1e(N,'5s 4q 6u 1m \"'+1g.3U+'\".');J 1g}8(1g.V>1){J 1g.1K(H(){$(1g).1J(y,z)})}F A=1g,$19=1g[0];8(A.1r('4r')){F B=A.1D('34','3w');A.X('34',['5t',[N]])}Q{F B=O}A.3V=H(o,b,c){o=3W($19,o);F e=['G','1n','T','17','1a','1b'];1m(F a=0,l=e.V;a<l;a++){o[e[a]]=3W($19,o[e[a]])}8(K o.1n=='13'){8(o.1n<=50)o.1n={'G':o.1n};Q o.1n={'1j':o.1n}}Q{8(K o.1n=='1k')o.1n={'1G':o.1n}}8(K o.G=='13')o.G={'P':o.G};Q 8(o.G=='1d')o.G={'P':o.G,'S':o.G,'1l':o.G};8(K o.G!='1o')o.G={};8(b)2u=$.25(N,{},$.1P.1J.4s,o);7=$.25(N,{},$.1P.1J.4s,o);8(K 7.G.12!='1o')7.G.12={};8(7.G.2J==0&&K c=='13'){7.G.2J=c}C.4t=(7.2K);C.2k=(7.2k=='4u'||7.2k=='1t')?'1a':'17';F f=[['S','35','26','1l','5u','2L','1t','2M','1E',0,1,2,3],['1l','5u','2L','S','35','26','2M','1t','3X',3,2,1,0]];F g=f[0].V,5v=(7.2k=='2N'||7.2k=='1t')?0:1;7.d={};1m(F d=0;d<g;d++){7.d[f[0][d]]=f[5v][d]}F h=A.11();1x(K 7.G.P){W'1o':7.G.12.2O=7.G.P.2O;7.G.12.27=7.G.P.27;7.G.P=O;18;W'1k':8(7.G.P=='1d'){7.G.12.1d=N}Q{7.G.12.2l=7.G.P}7.G.P=O;18;W'H':7.G.12.2l=7.G.P;7.G.P=O;18}8(K 7.G.1v=='1y'){7.G.1v=(h.1v(':2P').V>0)?':P':'*'}8(7[7.d['S']]=='T'){7[7.d['S']]=3x(h,7,'26')}8(3Y(7[7.d['S']])&&!7.2K){7[7.d['S']]=3Z(36($1A.3a(),7,'35'),7[7.d['S']]);C.4t=N}8(7[7.d['1l']]=='T'){7[7.d['1l']]=3x(h,7,'2L')}8(!7.G[7.d['S']]){8(7.2K){1e(N,'5w a '+7.d['S']+' 1m 6v G!');7.G[7.d['S']]=3x(h,7,'26')}Q{7.G[7.d['S']]=(4v(h,7,'26'))?'1d':h[7.d['26']](N)}}8(!7.G[7.d['1l']]){7.G[7.d['1l']]=(4v(h,7,'2L'))?'1d':h[7.d['2L']](N)}8(!7[7.d['1l']]){7[7.d['1l']]=7.G[7.d['1l']]}8(!7.G.P&&!7.2K){8(7.G[7.d['S']]=='1d'){7.G.12.1d=N}8(!7.G.12.1d){8(K 7[7.d['S']]=='13'){7.G.P=1L.3y(7[7.d['S']]/7.G[7.d['S']])}Q{F i=36($1A.3a(),7,'35');7.G.P=1L.3y(i/7.G[7.d['S']]);7[7.d['S']]=7.G.P*7.G[7.d['S']];8(!7.G.12.2l)7.1B=O}8(7.G.P=='6w'||7.G.P<1){1e(N,'28 a 4w 13 3z P G: 5w 41 \"1d\".');7.G.12.1d=N}}}8(!7[7.d['S']]){7[7.d['S']]='1d';8(!7.2K&&7.G.1v=='*'&&!7.G.12.1d&&7.G[7.d['S']]!='1d'){7[7.d['S']]=7.G.P*7.G[7.d['S']];7.1B=O}}8(7.G.12.1d){7.3A=(7[7.d['S']]=='1d')?36($1A.3a(),7,'35'):7[7.d['S']];8(7.1B===O){7[7.d['S']]='1d'}7.G.P=2Q(h,7,0)}Q 8(7.G.1v!='*'){7.G.12.42=7.G.P;7.G.P=3B(h,7,0)}8(K 7.1B=='1y'){7.1B=(7[7.d['S']]=='1d')?O:'4x'}7.G.P=2R(7.G.P,7,7.G.12.2l,$19);7.G.12.2m=7.G.P;7.1u=O;8(7.2K){8(!7.G.12.2O)7.G.12.2O=7.G.P;8(!7.G.12.27)7.G.12.27=7.G.P;7.1B=O;7.1i=[0,0,0,0];F j=$1A.1W(':P');8(j)$1A.3b();F k=3Z(36($1A.3a(),7,'35'),7[7.d['S']]);8(K 7[7.d['S']]=='13'&&k<7[7.d['S']]){k=7[7.d['S']]}8(j)$1A.3c();F m=4y(1L.2v(k/7.G[7.d['S']]),7.G.12);8(m>h.V){m=h.V}F n=1L.3y(k/m),4z=7[7.d['1l']],5x=3Y(4z);h.1K(H(){F a=$(1g),4A=n-5y(a,7,'6x');a[7.d['S']](4A);8(5x){a[7.d['1l']](3Z(4A,4z))}});7.G.P=m;7.G[7.d['S']]=n;7[7.d['S']]=m*n}Q{7.1i=5z(7.1i);8(7.1B=='2M')7.1B='1t';8(7.1B=='4B')7.1B='2N';1x(7.1B){W'4x':W'1t':W'2N':8(7[7.d['S']]!='1d'){F p=43(3d(h,7),7);7.1u=N;7.1i[7.d[1]]=p[1];7.1i[7.d[3]]=p[0]}18;2w:7.1B=O;7.1u=(7.1i[0]==0&&7.1i[1]==0&&7.1i[2]==0&&7.1i[3]==0)?O:N;18}}8(K 7.2n=='1s'&&7.2n)7.2n='6y'+A.6z('6A');8(K 7.G.3e!='13')7.G.3e=7.G.P;8(K 7.1n.1j!='13')7.1n.1j=5A;8(K 7.1n.G=='1y')7.1n.G=(7.G.12.1d||7.G.1v!='*')?'P':7.G.P;7.T=3C($19,7.T,'T');7.17=3C($19,7.17);7.1a=3C($19,7.1a);7.1b=3C($19,7.1b,'1b');7.T=$.25(N,{},7.1n,7.T);7.17=$.25(N,{},7.1n,7.17);7.1a=$.25(N,{},7.1n,7.1a);7.1b=$.25(N,{},7.1n,7.1b);8(K 7.1b.44!='1s')7.1b.44=O;8(K 7.1b.3f!='H'&&7.1b.3f!==O)7.1b.3f=$.1P.1J.5B;8(K 7.T.1H!='1s')7.T.1H=N;8(K 7.T.4C!='13')7.T.4C=0;8(K 7.T.45=='1y')7.T.45=N;8(K 7.T.4D!='1s')7.T.4D=N;8(K 7.T.3g!='13')7.T.3g=(7.T.1j<10)?6B:7.T.1j*5;8(7.29){7.29=4E(7.29)}8(I.1e){1e(I,'3h S: '+7.S);1e(I,'3h 1l: '+7.1l);8(7.3A)1e(I,'6C '+7.d['S']+': '+7.3A);1e(I,'5C 6D: '+7.G.S);1e(I,'5C 6E: '+7.G.1l);1e(I,'46 3z G P: '+7.G.P);8(7.T.1H)1e(I,'46 3z G 4F 6F: '+7.T.G);8(7.17.Y)1e(I,'46 3z G 4F 4G: '+7.17.G);8(7.1a.Y)1e(I,'46 3z G 4F 5D: '+7.1a.G)}};A.5E=H(){A.1r('4r',N);F a={'4H':A.16('4H'),'4I':A.16('4I'),'3D':A.16('3D'),'2M':A.16('2M'),'2N':A.16('2N'),'4B':A.16('4B'),'1t':A.16('1t'),'S':A.16('S'),'1l':A.16('1l'),'4J':A.16('4J'),'1E':A.16('1E'),'3X':A.16('3X'),'4K':A.16('4K')};1x(a.3D){W'4L':F b='4L';18;W'5F':F b='5F';18;2w:F b='6G'}$1A.16(a).16({'6H':'2P','3D':b});A.1r('5G',a).16({'4H':'1t','4I':'47','3D':'4L','2M':0,'1t':0,'4J':0,'1E':0,'3X':0,'4K':0});8(7.1u){A.11().1K(H(){F m=2o($(1g).16(7.d['1E']));8(2p(m))m=0;$(1g).1r('1R',m)})}};A.5H=H(){A.4M();A.14(L('4N',I),H(e,a){e.1h();8(!C.20){8(7.T.Y){7.T.Y.2S(2q('48',I))}}C.20=N;8(7.T.1H){7.T.1H=O;A.X(L('2T',I),a)}J N});A.14(L('4O',I),H(e){e.1h();8(C.1S){3E(R)}J N});A.14(L('2T',I),H(e,a,b){e.1h();1F=3i(1F);8(a&&C.1S){R.20=N;F c=2x()-R.2U;R.1j-=c;8(R.1p)R.1p.1j-=c;8(R.1Q)R.1Q.1j-=c;3E(R,O)}8(!C.1X&&!C.1S){8(b)1F.3F+=2x()-1F.2U}8(!C.1X){8(7.T.Y){7.T.Y.2S(2q('5I',I))}}C.1X=N;8(7.T.5J){F d=7.T.3g-1F.3F,3G=3H-1L.2v(d*3H/7.T.3g);7.T.5J.1z($19,3G,d)}J N});A.14(L('1H',I),H(e,b,c,d){e.1h();1F=3i(1F);F v=[b,c,d],t=['1k','13','1s'],a=2V(v,t);F b=a[0],c=a[1],d=a[2];8(b!='17'&&b!='1a')b=C.2k;8(K c!='13')c=0;8(K d!='1s')d=O;8(d){C.20=O;7.T.1H=N}8(!7.T.1H){e.21();J 1e(I,'3h 48: 28 2W.')}8(C.1X){8(7.T.Y){7.T.Y.2y(2q('48',I));7.T.Y.2y(2q('5I',I))}}C.1X=O;1F.2U=2x();F f=7.T.3g+c;3I=f-1F.3F;3G=3H-1L.2v(3I*3H/f);1F.T=6I(H(){8(7.T.5K){7.T.5K.1z($19,3G,3I)}8(C.1S){A.X(L('1H',I),b)}Q{A.X(L(b,I),7.T)}},3I);8(7.T.5L){7.T.5L.1z($19,3G,3I)}J N});A.14(L('2X',I),H(e){e.1h();8(R.20){R.20=O;C.1X=O;C.1S=N;R.2U=2x();2a(R)}Q{A.X(L('1H',I))}J N});A.14(L('17',I)+' '+L('1a',I),H(e,b,f,g){e.1h();8(C.20||A.1W(':2P')){e.21();J 1e(I,'3h 48 6J 2P: 28 2W.')}8(7.G.3e>=M.U){e.21();J 1e(I,'28 5M G ('+M.U+', '+7.G.3e+' 5N): 28 2W.')}F v=[b,f,g],t=['1o','13/1k','H'],a=2V(v,t);F b=a[0],f=a[1],g=a[2];F h=e.4P.1c(I.3j.3J.V);8(K b!='1o'||b==2b)b=7[h];8(K g=='H')b.22=g;8(K f!='13'){8(7.G.1v!='*'){f='P'}Q{F i=[f,b.G,7[h].G];1m(F a=0,l=i.V;a<l;a++){8(K i[a]=='13'||i[a]=='5O'||i[a]=='P'){f=i[a];18}}}1x(f){W'5O':e.21();J A.1D(h+'6K',[b,g]);18;W'P':8(!7.G.12.1d&&7.G.1v=='*'){f=7.G.P}18}}8(R.20){A.X(L('2X',I));A.X(L('3k',I),[h,[b,f,g]]);e.21();J 1e(I,'3h 6L 2W.')}8(b.1j>0){8(C.1S){8(b.3k)A.X(L('3k',I),[h,[b,f,g]]);e.21();J 1e(I,'3h 6M 2W.')}}8(b.4Q&&!b.4Q.1z($19)){e.21();J 1e(I,'6N \"4Q\" 6O O.')}1F.3F=0;A.X(L('5P'+h,I),[b,f]);8(7.29){F s=7.29,c=[b,f];1m(F j=0,l=s.V;j<l;j++){F d=h;8(!s[j][2])d=(d=='17')?'1a':'17';8(!s[j][1])c[0]=s[j][0].1D('34',['5Q',d]);c[1]=f+s[j][3];s[j][0].X('34',['5P'+d,c])}}J N});A.14(L('6P',I),H(e,f,g){e.1h();F h=A.11();8(!7.1M){8(M.Z==0){8(7.3l){A.X(L('1a',I),M.U-1)}J e.21()}}8(7.1u)1N(h,7);8(K g!='13'){8(7.G.12.1d){g=4a(h,7,M.U-1)}Q 8(7.G.1v!='*'){F i=(K f.G=='13')?f.G:4R(A,7);g=5R(h,7,M.U-1,i)}Q{g=7.G.P}g=4b(g,7,f.G,$19)}8(!7.1M){8(M.U-g<M.Z){g=M.U-M.Z}}7.G.12.2m=7.G.P;8(7.G.12.1d){F j=2Q(h,7,M.U-g);8(7.G.P+g<=j&&g<M.U){g++;j=2Q(h,7,M.U-g)}7.G.P=2R(j,7,7.G.12.2l,$19)}Q 8(7.G.1v!='*'){F j=3B(h,7,M.U-g);7.G.P=2R(j,7,7.G.12.2l,$19)}8(7.1u)1N(h,7,N);8(g==0){e.21();J 1e(I,'0 G 41 1n: 28 2W.')}1e(I,'5S '+g+' G 4G.');M.Z+=g;23(M.Z>=M.U){M.Z-=M.U}8(!7.1M){8(M.Z==0&&f.4c)f.4c.1z($19);8(!7.3l)2z(7,M.Z,I)}A.11().1c(M.U-g,M.U).6Q(A);8(M.U<7.G.P+g){A.11().1c(0,(7.G.P+g)-M.U).4d(N).3K(A)}F h=A.11(),2r=5T(h,7,g),1T=5U(h,7),2c=h.1O(g-1),2d=2r.2Y(),2A=1T.2Y();8(7.1u)1N(h,7);8(7.1B){F p=43(1T,7),k=p[0],2s=p[1]}Q{F k=0,2s=0}F l=(k<0)?7.1i[7.d[3]]:0;8(f.1I=='5V'&&7.G.P<g){F m=h.1c(7.G.12.2m,g),4e=7.G[7.d['S']];m.1K(H(){F a=$(1g);a.1r('4f',a.1W(':2P')).3b()});7.G[7.d['S']]='1d'}Q{F m=O}F n=3m(h.1c(0,g),7,'S'),2e=4g(2B(1T,7,N),7,!7.1u);8(m)7.G[7.d['S']]=4e;8(7.1u){1N(h,7,N);8(2s>=0){1N(2d,7,7.1i[7.d[1]])}1N(2c,7,7.1i[7.d[3]])}8(7.1B){7.1i[7.d[1]]=2s;7.1i[7.d[3]]=k}F o={},1w=f.1j;8(f.1I=='47')1w=0;Q 8(1w=='T')1w=7.1n.1j/7.1n.G*g;Q 8(1w<=0)1w=0;Q 8(1w<10)1w=n/1w;R=24(1w,f.1G);8(7[7.d['S']]=='1d'||7[7.d['1l']]=='1d'){R.1f.1q([$1A,2e])}8(7.1u){F q=7.1i[7.d[3]];8(2A.4S(2c).V){F r={};r[7.d['1E']]=2c.1r('1R');8(k<0)2c.16(r);Q R.1f.1q([2c,r])}8(2A.4S(2d).V){F s={};s[7.d['1E']]=2d.1r('1R');R.1f.1q([2d,s])}8(2s>=0){F t={};t[7.d['1E']]=2A.1r('1R')+7.1i[7.d[1]];R.1f.1q([2A,t])}}Q{F q=0}o[7.d['1t']]=q;F u=[2r,1T,2e,1w];8(f.2f)f.2f.3L($19,u);1Y.2f=3M(1Y.2f,$19,u);1x(f.1I){W'2C':W'2g':W'2D':W'2h':R.1p=24(R.1j,R.1G);R.1Q=24(R.1j,R.1G);R.1j=0;18}1x(f.1I){W'2g':W'2D':W'2h':F v=A.4d().3K($1A);18}1x(f.1I){W'2h':v.11().1c(0,g).1U();W'2g':W'2D':v.11().1c(7.G.P).1U();18}1x(f.1I){W'2C':R.1p.1f.1q([A,{'2i':0}]);18;W'2g':v.16({'2i':0});R.1p.1f.1q([A,{'S':'+=0'},H(){v.1U()}]);R.1Q.1f.1q([v,{'2i':1}]);18;W'2D':R=4T(R,A,v,7,N);18;W'2h':R=4U(R,A,v,7,N,g);18}F w=H(){F b=7.G.P+g-M.U;8(b>0){A.11().1c(M.U).1U();2r=$(A.11().1c(M.U-(7.G.P-b)).4h().5W(A.11().1c(0,b).4h()))}8(m){m.1K(H(){F a=$(1g);8(!a.1r('4f'))a.3c()})}8(7.1u){F c=A.11().1O(7.G.P+g-1);c.16(7.d['1E'],c.1r('1R'))}R.1f=[];8(R.1p)R.1p=24(R.4V,R.1G);F d=H(){1x(f.1I){W'2C':W'2g':A.16('1v','');18}R.1Q=24(0,2b);C.1S=O;F a=[2r,1T,2e];8(f.22)f.22.3L($19,a);1Y.22=3M(1Y.22,$19,a);8(1V.V){A.X(L(1V[0][0],I),1V[0][1]);1V.5X()}8(!C.1X)A.X(L('1H',I))};1x(f.1I){W'2C':R.1p.1f.1q([A,{'2i':1},d]);2a(R.1p);18;W'2h':R.1p.1f.1q([A,{'S':'+=0'},d]);2a(R.1p);18;2w:d();18}};R.1f.1q([A,o,w]);C.1S=N;A.16(7.d['1t'],-(n-l));1F=3i(1F);2a(R);4W(7.2n,A.1D(L('3w',I)));A.X(L('2E',I),[O,2e]);J N});A.14(L('6R',I),H(e,f,g){e.1h();F h=A.11();8(!7.1M){8(M.Z==7.G.P){8(7.3l){A.X(L('17',I),M.U-1)}J e.21()}}8(7.1u)1N(h,7);8(K g!='13'){8(7.G.1v!='*'){F i=(K f.G=='13')?f.G:4R(A,7);g=5Y(h,7,0,i)}Q{g=7.G.P}g=4b(g,7,f.G,$19)}F j=(M.Z==0)?M.U:M.Z;8(!7.1M){8(7.G.12.1d){F k=2Q(h,7,g),i=4a(h,7,j-1)}Q{F k=7.G.P,i=7.G.P}8(g+k>j){g=j-i}}7.G.12.2m=7.G.P;8(7.G.12.1d){F k=4X(h,7,g,j);23(7.G.P-g>=k&&g<M.U){g++;k=4X(h,7,g,j)}7.G.P=2R(k,7,7.G.12.2l,$19)}Q 8(7.G.1v!='*'){F k=3B(h,7,g);7.G.P=2R(k,7,7.G.12.2l,$19)}8(7.1u)1N(h,7,N);8(g==0){e.21();J 1e(I,'0 G 41 1n: 28 2W.')}1e(I,'5S '+g+' G 5D.');M.Z-=g;23(M.Z<0){M.Z+=M.U}8(!7.1M){8(M.Z==7.G.P&&f.4c)f.4c.1z($19);8(!7.3l)2z(7,M.Z,I)}8(M.U<7.G.P+g){A.11().1c(0,(7.G.P+g)-M.U).4d(N).3K(A)}F h=A.11(),2r=4Y(h,7),1T=4Z(h,7,g),2c=h.1O(g-1),2d=2r.2Y(),2A=1T.2Y();8(7.1u)1N(h,7);8(7.1B){F p=43(1T,7),l=p[0],2s=p[1]}Q{F l=0,2s=0}8(f.1I=='5V'&&7.G.12.2m<g){F m=h.1c(7.G.12.2m,g),4e=7.G[7.d['S']];m.1K(H(){F a=$(1g);a.1r('4f',a.1W(':2P')).3b()});7.G[7.d['S']]='1d'}Q{F m=O}F n=3m(h.1c(0,g),7,'S'),2e=4g(2B(1T,7,N),7,!7.1u);8(m)7.G[7.d['S']]=4e;8(7.1B){8(7.1i[7.d[1]]<0){7.1i[7.d[1]]=0}}8(7.1u){1N(h,7,N);1N(2d,7,7.1i[7.d[1]])}8(7.1B){7.1i[7.d[1]]=2s;7.1i[7.d[3]]=l}F o={},1w=f.1j;8(f.1I=='47')1w=0;Q 8(1w=='T')1w=7.1n.1j/7.1n.G*g;Q 8(1w<=0)1w=0;Q 8(1w<10)1w=n/1w;R=24(1w,f.1G);8(7[7.d['S']]=='1d'||7[7.d['1l']]=='1d'){R.1f.1q([$1A,2e])}8(7.1u){F q=2A.1r('1R');8(2s>=0){q+=7.1i[7.d[1]]}2A.16(7.d['1E'],q);8(2c.4S(2d).V){F r={};r[7.d['1E']]=2d.1r('1R');R.1f.1q([2d,r])}F s=2c.1r('1R');8(l>=0){s+=7.1i[7.d[3]]}F t={};t[7.d['1E']]=s;R.1f.1q([2c,t])}o[7.d['1t']]=-n;8(l<0){o[7.d['1t']]+=l}F u=[2r,1T,2e,1w];8(f.2f)f.2f.3L($19,u);1Y.2f=3M(1Y.2f,$19,u);1x(f.1I){W'2C':W'2g':W'2D':W'2h':R.1p=24(R.1j,R.1G);R.1Q=24(R.1j,R.1G);R.1j=0;18}1x(f.1I){W'2g':W'2D':W'2h':F v=A.4d().3K($1A);18}1x(f.1I){W'2h':v.11().1c(7.G.12.2m).1U();18;W'2g':W'2D':v.11().1c(0,g).1U();v.11().1c(7.G.P).1U();18}1x(f.1I){W'2C':R.1p.1f.1q([A,{'2i':0}]);18;W'2g':v.16({'2i':0});R.1p.1f.1q([A,{'S':'+=0'},H(){v.1U()}]);R.1Q.1f.1q([v,{'2i':1}]);18;W'2D':R=4T(R,A,v,7,O);18;W'2h':R=4U(R,A,v,7,O,g);18}F w=H(){F b=7.G.P+g-M.U,5Z=(7.1u)?7.1i[7.d[3]]:0;A.16(7.d['1t'],5Z);8(b>0){A.11().1c(M.U).1U()}F c=A.11().1c(0,g).3K(A).2Y();8(b>0){1T=3d(h,7)}8(m){m.1K(H(){F a=$(1g);8(!a.1r('4f'))a.3c()})}8(7.1u){8(M.U<7.G.P+g){F d=A.11().1O(7.G.P-1);d.16(7.d['1E'],d.1r('1R')+7.1i[7.d[3]])}c.16(7.d['1E'],c.1r('1R'))}R.1f=[];8(R.1p)R.1p=24(R.4V,R.1G);F e=H(){1x(f.1I){W'2C':W'2g':A.16('1v','');18}R.1Q=24(0,2b);C.1S=O;F a=[2r,1T,2e];8(f.22)f.22.3L($19,a);1Y.22=3M(1Y.22,$19,a);8(1V.V){A.X(L(1V[0][0],I),1V[0][1]);1V.5X()}8(!C.1X)A.X(L('1H',I))};1x(f.1I){W'2C':R.1p.1f.1q([A,{'2i':1},e]);2a(R.1p);18;W'2h':R.1p.1f.1q([A,{'S':'+=0'},e]);2a(R.1p);18;2w:e();18}};R.1f.1q([A,o,w]);C.1S=N;1F=3i(1F);2a(R);4W(7.2n,A.1D(L('3w',I)));A.X(L('2E',I),[O,2e]);J N});A.14(L('2Z',I),H(e,b,c,d,f,g,h){e.1h();F v=[b,c,d,f,g,h],t=['1k/13/1o','13','1s','1o','1k','H'],a=2V(v,t);F f=a[3],g=a[4],h=a[5];b=3n(a[0],a[1],a[2],M,A);8(b==0)J;8(K f!='1o')f=O;8(C.1S){8(K f!='1o'||f.1j>0)J O}8(g!='17'&&g!='1a'){8(7.1M){8(b<=M.U/2)g='1a';Q g='17'}Q{8(M.Z==0||M.Z>b)g='1a';Q g='17'}}8(g=='17')b=M.U-b;A.X(L(g,I),[f,b,h]);J N});A.14(L('6S',I),H(e,a,b){e.1h();F c=A.1D(L('3N',I));J A.1D(L('51',I),[c-1,a,'17',b])});A.14(L('6T',I),H(e,a,b){e.1h();F c=A.1D(L('3N',I));J A.1D(L('51',I),[c+1,a,'1a',b])});A.14(L('51',I),H(e,a,b,c,d){e.1h();8(K a!='13')a=A.1D(L('3N',I));F f=7.1b.G||7.G.P,27=1L.2v(M.U/f)-1;8(a<0)a=27;8(a>27)a=0;J A.1D(L('2Z',I),[a*f,0,N,b,c,d])});A.14(L('60',I),H(e,s){e.1h();8(s)s=3n(s,0,N,M,A);Q s=0;s+=M.Z;8(s!=0){23(s>M.U)s-=M.U;A.6U(A.11().1c(s,M.U))}J N});A.14(L('29',I),H(e,s){e.1h();8(s)s=4E(s);Q 8(7.29)s=7.29;Q J 1e(I,'5s 6V 41 29.');F n=A.1D(L('3w',I)),x=N;1m(F j=0,l=s.V;j<l;j++){8(!s[j][0].1D(L('2Z',I),[n,s[j][3],N])){x=O}}J x});A.14(L('3k',I),H(e,a,b){e.1h();8(K a=='H'){a.1z($19,1V)}Q 8(31(a)){1V=a}Q 8(K a!='1y'){1V.1q([a,b])}J 1V});A.14(L('6W',I),H(e,b,c,d,f){e.1h();F v=[b,c,d,f],t=['1k/1o','1k/13/1o','1s','13'],a=2V(v,t);F b=a[0],c=a[1],d=a[2],f=a[3];8(K b=='1o'&&K b.3o=='1y')b=$(b);8(K b=='1k')b=$(b);8(K b!='1o'||K b.3o=='1y'||b.V==0)J 1e(I,'28 a 4w 1o.');8(K c=='1y')c='4i';8(7.1u){b.1K(H(){F m=2o($(1g).16(7.d['1E']));8(2p(m))m=0;$(1g).1r('1R',m)})}F g=c,3O='3O';8(c=='4i'){8(d){8(M.Z==0){c=M.U-1;3O='61'}Q{c=M.Z;M.Z+=b.V}8(c<0)c=0}Q{c=M.U-1;3O='61'}}Q{c=3n(c,f,d,M,A)}8(g!='4i'&&!d){8(c<M.Z)M.Z+=b.V}8(M.Z>=M.U)M.Z-=M.U;F h=A.11().1O(c);8(h.V){h[3O](b)}Q{A.62(b)}M.U=A.11().V;F i=A.1D('52');3p(7,M.U,I);2z(7,M.Z,I);A.X(L('53',I));A.X(L('2E',I),[N,i]);J N});A.14(L('63',I),H(e,c,d,f){e.1h();F v=[c,d,f],t=['1k/13/1o','1s','13'],a=2V(v,t);c=a[0];d=a[1];f=a[2];F g=O;8(c 64 $&&c.V>1){h=$();c.1K(H(i,a){F b=A.X(L('63',I),[$(1g),d,f]);8(b)h=h.6X(b)});J h}8(K c=='1y'||c=='4i'){h=A.11().2Y()}Q{c=3n(c,f,d,M,A);F h=A.11().1O(c);8(h.V){8(c<M.Z)M.Z-=h.V}}8(h&&h.V){h.6Y();M.U=A.11().V;F j=A.1D('52');3p(7,M.U,I);2z(7,M.Z,I);A.X(L('2E',I),[N,j])}J h});A.14(L('2f',I)+' '+L('22',I),H(e,a){e.1h();F b=e.4P.1c(I.3j.3J.V);8(31(a))1Y[b]=a;8(K a=='H')1Y[b].1q(a);J 1Y[b]});A.14(L('3w',I),H(e,a){e.1h();8(M.Z==0)F b=0;Q F b=M.U-M.Z;8(K a=='H')a.1z($19,b);J b});A.14(L('3N',I),H(e,a){e.1h();F b=7.1b.G||7.G.P;F c=1L.2v(M.U/b-1);8(M.Z==0)F d=0;Q 8(M.Z<M.U%b)F d=0;Q 8(M.Z==b&&!7.1M)F d=c;Q F d=1L.6Z((M.U-M.Z)/b);8(d<0)d=0;8(d>c)d=c;8(K a=='H')a.1z($19,d);J d});A.14(L('70',I),H(e,a){e.1h();$i=3d(A.11(),7);8(K a=='H')a.1z($19,$i);J $i});A.14(L('1c',I),H(e,f,l,b){e.1h();8(M.U==0)J O;F v=[f,l,b],t=['13','13','H'],a=2V(v,t);f=(K a[0]=='13')?a[0]:0;l=(K a[1]=='13')?a[1]:M.U;b=a[2];f+=M.Z;l+=M.Z;23(f>M.U){f-=M.U}23(l>M.U){l-=M.U}23(f<0){f+=M.U}23(l<0){l+=M.U}F c=A.11();8(l>f){F d=c.1c(f,l)}Q{F d=$(c.1c(f,M.U).4h().5W(c.1c(0,l).4h()))}8(K b=='H')b.1z($19,d);J d});A.14(L('1X',I)+' '+L('20',I)+' '+L('1S',I),H(e,a){e.1h();F b=e.4P.1c(I.3j.3J.V);8(K a=='H')a.1z($19,C[b]);J C[b]});A.14(L('5Q',I),H(e,a,b,c){e.1h();F d=O;8(K a=='H'){a.1z($19,7)}Q 8(K a=='1o'){2u=$.25(N,{},2u,a);8(b!==O)d=N;Q 7=$.25(N,{},7,a)}Q 8(K a!='1y'){8(K b=='H'){F f=4j('7.'+a);8(K f=='1y')f='';b.1z($19,f)}Q 8(K b!='1y'){8(K c!=='1s')c=N;4j('2u.'+a+' = b');8(c!==O)d=N;Q 4j('7.'+a+' = b')}Q{J 4j('7.'+a)}}8(d){1N(A.11(),7);A.3V(2u);A.54();F g=3P(A,7,O);A.X(L('2E',I),[N,g])}J 7});A.14(L('53',I),H(e,a,b){e.1h();8(K a=='1y'||a.V==0)a=$('71');Q 8(K a=='1k')a=$(a);8(K a!='1o')J 1e(I,'28 a 4w 1o.');8(K b!='1k'||b.V==0)b='a.65';a.72(b).1K(H(){F h=1g.66||'';8(h.V>0&&A.11().68($(h))!=-1){$(1g).1Z('55').55(H(e){e.2j();A.X(L('2Z',I),h)})}});J N});A.14(L('2E',I),H(e,b,c){e.1h();8(!7.1b.1C)J;8(b){F d=7.1b.G||7.G.P,l=1L.2v(M.U/d);8(7.1b.3f){7.1b.1C.11().1U();7.1b.1C.1K(H(){1m(F a=0;a<l;a++){F i=A.11().1O(3n(a*d,0,N,M,A));$(1g).62(7.1b.3f(a+1,i))}})}7.1b.1C.1K(H(){$(1g).11().1Z(7.1b.3q).1K(H(a){$(1g).14(7.1b.3q,H(e){e.2j();A.X(L('2Z',I),[a*d,0,N,7.1b])})})})}7.1b.1C.1K(H(){$(1g).11().2y(2q('69',I)).1O(A.1D(L('3N',I))).2S(2q('69',I))});J N});A.14(L('52',I),H(e){F a=A.11(),3Q=7.G.P;8(7.G.12.1d)3Q=2Q(a,7,0);Q 8(7.G.1v!='*')3Q=3B(a,7,0);8(!7.1M&&M.Z!=0&&3Q>M.Z){8(7.G.12.1d){F b=4a(a,7,M.Z)-M.Z}Q 8(7.G.1v!='*'){F b=6a(a,7,M.Z)-M.Z}Q{b=7.G.P-M.Z}1e(I,'73 74-1M: 75 '+b+' G 4G.');A.X('17',b)}7.G.P=2R(3Q,7,7.G.12.2l,$19);J 3P(A,7)});A.14(L('5t',I),H(e,a){e.1h();1F=3i(1F);A.1r('4r',O);A.X(L('4O',I));8(a){A.X(L('60',I))}8(7.1u){1N(A.11(),7)}A.16(A.1r('5G'));A.4M();A.56();$1A.76(A);J N});A.14('34',H(e,n,o){e.1h();J A.1D(L(n,I),o)})};A.4M=H(){A.1Z(L('',I));A.1Z(L('',I,O));A.1Z('34')};A.54=H(){A.56();3p(7,M.U,I);2z(7,M.Z,I);8(7.T.2t){F c=3r(7.T.2t);$1A.14(L('4k',I,O),H(){A.X(L('2T',I),c)}).14(L('4l',I,O),H(){A.X(L('2X',I))})}8(7.T.Y){7.T.Y.14(L(7.T.3q,I,O),H(e){e.2j();F a=O,c=2b;8(C.1X){a='1H'}Q 8(7.T.45){a='2T';c=3r(7.T.45)}8(a){A.X(L(a,I),c)}})}8(7.17.Y){7.17.Y.14(L(7.17.3q,I,O),H(e){e.2j();A.X(L('17',I))});8(7.17.2t){F c=3r(7.17.2t);7.17.Y.14(L('4k',I,O),H(){A.X(L('2T',I),c)}).14(L('4l',I,O),H(){A.X(L('2X',I))})}}8(7.1a.Y){7.1a.Y.14(L(7.1a.3q,I,O),H(e){e.2j();A.X(L('1a',I))});8(7.1a.2t){F c=3r(7.1a.2t);7.1a.Y.14(L('4k',I,O),H(){A.X(L('2T',I),c)}).14(L('4l',I,O),H(){A.X(L('2X',I))})}}8($.1P.2F){8(7.17.2F){8(!C.57){C.57=N;$1A.2F(H(e,a){8(a>0){e.2j();F b=59(7.17.2F);A.X(L('17',I),b)}})}}8(7.1a.2F){8(!C.5a){C.5a=N;$1A.2F(H(e,a){8(a<0){e.2j();F b=59(7.1a.2F);A.X(L('1a',I),b)}})}}}8($.1P.3R){F d=(7.17.5b)?H(){A.X(L('17',I))}:2b,3S=(7.1a.5b)?H(){A.X(L('1a',I))}:2b;8(3S||3S){8(!C.3R){C.3R=N;F f={'77':30,'78':30,'79':N};1x(7.2k){W'4u':W'6b':f.7a=d;f.7b=3S;18;2w:f.7c=3S;f.7d=d}$1A.3R(f)}}}8(7.1b.1C){8(7.1b.2t){F c=3r(7.1b.2t);7.1b.1C.14(L('4k',I,O),H(){A.X(L('2T',I),c)}).14(L('4l',I,O),H(){A.X(L('2X',I))})}}8(7.17.2G||7.1a.2G){$(3T).14(L('6c',I,O,N,N),H(e){F k=e.6d;8(k==7.1a.2G){e.2j();A.X(L('1a',I))}8(k==7.17.2G){e.2j();A.X(L('17',I))}})}8(7.1b.44){$(3T).14(L('6c',I,O,N,N),H(e){F k=e.6d;8(k>=49&&k<58){k=(k-49)*7.G.P;8(k<=M.U){e.2j();A.X(L('2Z',I),[k,0,N,7.1b])}}})}8(7.T.1H){A.X(L('1H',I),7.T.4C)}8(C.4t){F g=$(3s),5c=g.S(),5d=g.1l();g.14(L('7e',I,O,N,N),H(e){8(g.S()!=5c||g.1l()!=5d){A.X(L('4O',I));8(7.T.4D&&!C.1X){A.X(L('1H',I))}1N(A.11(),7);A.3V(2u);F a=3P(A,7,O);3p(7,M.U,I);2z(7,M.Z,I);A.X(L('2E',I),[N,a]);5c=g.S();5d=g.1l()}})}};A.56=H(){F a=L('',I),3t=L('',I,O);5e=L('',I,O,N,N);$(3T).1Z(5e);$(3s).1Z(5e);$1A.1Z(3t);8(7.T.Y)7.T.Y.1Z(3t);8(7.17.Y)7.17.Y.1Z(3t);8(7.1a.Y)7.1a.Y.1Z(3t);8(7.1b.1C){7.1b.1C.1Z(3t);8(7.1b.3f){7.1b.1C.11().1U()}}3p(7,'3b',I);2z(7,'2y',I)};F C={'2k':'1a','1X':N,'1S':O,'20':O,'5a':O,'57':O,'3R':O},M={'U':A.11().V,'Z':0},1F={'7f':2b,'T':2b,'3k':2b,'2U':2x(),'3F':0},R={'20':O,'1j':0,'2U':0,'1G':'','1f':[]},1Y={'2f':[],'22':[]},1V=[],I=$.25(N,{},$.1P.1J.6e,z),7={},2u=y,$1A=A.7g('<'+I.5f.4q+' 7h=\"'+I.5f.6f+'\" />').3a();I.3U=A.3U;I.4m=$.1P.1J.4m++;A.3V(2u,N,B);A.5E();A.5H();A.54();8(31(7.G.2J)){F D=7.G.2J}Q{F D=[];8(7.G.2J!=0){D.1q(7.G.2J)}}8(7.2n){D.7i(6g(7.2n))}8(D.V>0){1m(F a=0,l=D.V;a<l;a++){F s=D[a];8(s==0){5g}8(s===N){s=3s.7j.66;8(s.V<1){5g}}Q 8(s==='6h'){s=1L.3y(1L.6h()*M.U)}8(A.1D(L('2Z',I),[s,0,N,{1I:'47'}])){18}}}F E=3P(A,7,O),6i=3d(A.11(),7);8(7.6j){7.6j.1z($19,6i,E)}A.X(L('2E',I),[N,E]);A.X(L('53',I));J A};$.1P.1J.4m=1;$.1P.1J.4s={'29':O,'3l':N,'1M':N,'2K':O,'2k':'1t','G':{'2J':0},'1n':{'1G':'7k','1j':5A,'2t':O,'2F':O,'5b':O,'3q':'55','3k':O}};$.1P.1J.6e={'1e':O,'3j':{'3J':'','6k':'7l'},'5f':{'4q':'7m','6f':'7n'},'5h':{}};$.1P.1J.5B=H(a,b){J'<a 7o=\"#\"><6l>'+a+'</6l></a>'};H 24(d,e){J{1f:[],1j:d,4V:d,1G:e,2U:2x()}}H 2a(s){8(K s.1p=='1o'){2a(s.1p)}1m(F a=0,l=s.1f.V;a<l;a++){F b=s.1f[a];8(!b)5g;8(b[3])b[0].4N();b[0].6m(b[1],{6n:b[2],1j:s.1j,1G:s.1G})}8(K s.1Q=='1o'){2a(s.1Q)}}H 3E(s,c){8(K c!='1s')c=N;8(K s.1p=='1o'){3E(s.1p,c)}1m(F a=0,l=s.1f.V;a<l;a++){F b=s.1f[a];b[0].4N(N);8(c){b[0].16(b[1]);8(K b[2]=='H')b[2]()}}8(K s.1Q=='1o'){3E(s.1Q,c)}}H 3i(t){8(t.T)7p(t.T);J t}H 3M(b,t,c){8(b.V){1m(F a=0,l=b.V;a<l;a++){b[a].3L(t,c)}}J[]}H 7q(a,c,x,d,f){F o={'1j':d,'1G':a.1G};8(K f=='H')o.6n=f;c.6m({2i:x},o)}H 4T(a,b,c,o,d){F e=2B(4Y(b.11(),o),o,N)[0],5i=2B(c.11(),o,N)[0],4n=(d)?-5i:e,2H={},3u={};2H[o.d['S']]=5i;2H[o.d['1t']]=4n;3u[o.d['1t']]=0;a.1p.1f.1q([b,{'2i':1}]);a.1Q.1f.1q([c,3u,H(){$(1g).1U()}]);c.16(2H);J a}H 4U(a,b,c,o,d,n){F e=2B(4Z(b.11(),o,n),o,N)[0],5j=2B(c.11(),o,N)[0],4n=(d)?-5j:e,2H={},3u={};2H[o.d['S']]=5j;2H[o.d['1t']]=0;3u[o.d['1t']]=4n;a.1Q.1f.1q([c,3u,H(){$(1g).1U()}]);c.16(2H);J a}H 3p(o,t,c){8(t=='3c'||t=='3b'){F f=t}Q 8(o.G.3e>=t){1e(c,'28 5M G: 7r 7s ('+t+' G, '+o.G.3e+' 5N).');F f='3b'}Q{F f='3c'}F s=(f=='3c')?'2y':'2S',h=2q('2P',c);8(o.T.Y)o.T.Y[f]()[s](h);8(o.17.Y)o.17.Y[f]()[s](h);8(o.1a.Y)o.1a.Y[f]()[s](h);8(o.1b.1C)o.1b.1C[f]()[s](h)}H 2z(o,f,c){8(o.1M||o.3l)J;F a=(f=='2y'||f=='2S')?f:O,4o=2q('7t',c);8(o.T.Y&&a){o.T.Y[a](4o)}8(o.17.Y){F b=a||(f==0)?'2S':'2y';o.17.Y[b](4o)}8(o.1a.Y){F b=a||(f==o.G.P)?'2S':'2y';o.1a.Y[b](4o)}}H 3W(a,b){8(K b=='H')b=b.1z(a);8(K b=='1y')b={};J b}H 3C(a,b,c){8(K c!='1k')c='';b=3W(a,b);8(K b=='1k'){F d=5k(b);8(d==-1)b=$(b);Q b=d}8(c=='1b'){8(K b=='1s')b={'44':b};8(K b.3o!='1y')b={'1C':b};8(K b.1C=='H')b.1C=b.1C.1z(a);8(K b.1C=='1k')b.1C=$(b.1C);8(K b.G!='13')b.G=O}Q 8(c=='T'){8(K b.3o!='1y')b={'Y':b};8(K b=='1s')b={'1H':b};8(K b=='13')b={'3g':b};8(K b.Y=='H')b.Y=b.Y.1z(a);8(K b.Y=='1k')b.Y=$(b.Y)}Q{8(K b.3o!='1y')b={'Y':b};8(K b=='13')b={'2G':b};8(K b.Y=='H')b.Y=b.Y.1z(a);8(K b.Y=='1k')b.Y=$(b.Y);8(K b.2G=='1k')b.2G=5k(b.2G)}J b}H 3n(a,b,c,d,e){8(K a=='1k'){8(2p(a))a=$(a);Q a=2o(a)}8(K a=='1o'){8(K a.3o=='1y')a=$(a);a=e.11().68(a);8(a==-1)a=0;8(K c!='1s')c=O}Q{8(K c!='1s')c=N}8(2p(a))a=0;Q a=2o(a);8(2p(b))b=0;Q b=2o(b);8(c){a+=d.Z}a+=b;8(d.U>0){23(a>=d.U){a-=d.U}23(a<0){a+=d.U}}J a}H 4a(i,o,s){F t=0,x=0;1m(F a=s;a>=0;a--){F j=i.1O(a);t+=(j.1W(':P'))?j[o.d['26']](N):0;8(t>o.3A)J x;8(a==0)a=i.V;x++}}H 6a(i,o,s){J 5l(i,o.G.1v,o.G.12.42,s)}H 5R(i,o,s,m){J 5l(i,o.G.1v,m,s)}H 5l(i,f,m,s){F t=0,x=0;1m(F a=s,l=i.V;a>=0;a--){x++;8(x==l)J x;F j=i.1O(a);8(j.1W(f)){t++;8(t==m)J x}8(a==0)a=l}}H 4R(a,o){J o.G.12.42||a.11().1c(0,o.G.P).1v(o.G.1v).V}H 2Q(i,o,s){F t=0,x=0;1m(F a=s,l=i.V-1;a<=l;a++){F j=i.1O(a);t+=(j.1W(':P'))?j[o.d['26']](N):0;8(t>o.3A)J x;x++;8(x==l+1)J x;8(a==l)a=-1}}H 4X(i,o,s,l){F v=2Q(i,o,s);8(!o.1M){8(s+v>l)v=l-s}J v}H 3B(i,o,s){J 5m(i,o.G.1v,o.G.12.42,s,o.1M)}H 5Y(i,o,s,m){J 5m(i,o.G.1v,m+1,s,o.1M)-1}H 5m(i,f,m,s,c){F t=0,x=0;1m(F a=s,l=i.V-1;a<=l;a++){x++;8(x==l)J x;F j=i.1O(a);8(j.1W(f)){t++;8(t==m)J x}8(a==l)a=-1}}H 3d(i,o){J i.1c(0,o.G.P)}H 5T(i,o,n){J i.1c(n,o.G.12.2m+n)}H 5U(i,o){J i.1c(0,o.G.P)}H 4Y(i,o){J i.1c(0,o.G.12.2m)}H 4Z(i,o,n){J i.1c(n,o.G.P+n)}H 1N(i,o,m){F x=(K m=='1s')?m:O;8(K m!='13')m=0;i.1K(H(){F j=$(1g);F t=2o(j.16(o.d['1E']));8(2p(t))t=0;j.1r('6o',t);j.16(o.d['1E'],((x)?j.1r('6o'):m+j.1r('1R')))})}H 3P(a,o,p){F b=a.3a(),$i=a.11(),$v=3d($i,o),4p=4g(2B($v,o,N),o,p);b.16(4p);8(o.1u){F p=o.1i,r=p[o.d[1]];8(o.1B){8(r<0)r=0}F c=$v.2Y();c.16(o.d['1E'],c.1r('1R')+r);a.16(o.d['2M'],p[o.d[0]]);a.16(o.d['1t'],p[o.d[3]])}a.16(o.d['S'],4p[o.d['S']]+(3m($i,o,'S')*2));a.16(o.d['1l'],5n($i,o,'1l'));J 4p}H 2B(i,o,a){F b=3m(i,o,'S',a),6p=5n(i,o,'1l',a);J[b,6p]}H 5n(i,o,a,b){8(K b!='1s')b=O;8(K o[o.d[a]]=='13'&&b)J o[o.d[a]];8(K o.G[o.d[a]]=='13')J o.G[o.d[a]];F c=(a.5o().32('S')>-1)?'26':'2L';J 3x(i,o,c)}H 3x(i,o,b){F s=0;1m(F a=0,l=i.V;a<l;a++){F j=i.1O(a);F m=(j.1W(':P'))?j[o.d[b]](N):0;8(s<m)s=m}J s}H 36(b,o,c){8(!b.1W(':P'))J 0;F d=b[o.d[c]](),5p=(o.d[c].5o().32('S')>-1)?['7u','7v']:['7w','7x'];1m(F a=0,l=5p.V;a<l;a++){F m=2o(b.16(5p[a]));d-=(2p(m))?0:m}J d}H 3m(i,o,b,c){8(K c!='1s')c=O;8(K o[o.d[b]]=='13'&&c)J o[o.d[b]];8(K o.G[o.d[b]]=='13')J o.G[o.d[b]]*i.V;F d=(b.5o().32('S')>-1)?'26':'2L',s=0;1m(F a=0,l=i.V;a<l;a++){F j=i.1O(a);s+=(j.1W(':P'))?j[o.d[d]](N):0}J s}H 4v(i,o,b){F s=O,v=O;1m(F a=0,l=i.V;a<l;a++){F j=i.1O(a);F c=(j.1W(':P'))?j[o.d[b]](N):0;8(s===O)s=c;Q 8(s!=c)v=N;8(s==0)v=N}J v}H 5y(i,o,d){J i[o.d['7y'+d]](N)-36(i,o,'7z'+d)}H 3Y(x){J(K x=='1k'&&x.1c(-1)=='%')}H 3Z(s,o){8(3Y(o)){o=o.1c(0,-1);8(2p(o))J s;s*=o/3H}J s}H L(n,c,a,b,d){8(K a!='1s')a=N;8(K b!='1s')b=N;8(K d!='1s')d=O;8(a)n=c.3j.3J+n;8(b)n=n+'.'+c.3j.6k;8(b&&d)n+=c.4m;J n}H 2q(n,c){J(K c.5h[n]=='1k')?c.5h[n]:n}H 4g(a,o,p){8(K p!='1s')p=N;F b=(o.1u&&p)?o.1i:[0,0,0,0];F c={};c[o.d['S']]=a[0]+b[1]+b[3];c[o.d['1l']]=a[1]+b[0]+b[2];J c}H 2V(c,d){F e=[];1m(F a=0,6q=c.V;a<6q;a++){1m(F b=0,6r=d.V;b<6r;b++){8(d[b].32(K c[a])>-1&&K e[b]=='1y'){e[b]=c[a];18}}}J e}H 5z(p){8(K p=='1y')J[0,0,0,0];8(K p=='13')J[p,p,p,p];Q 8(K p=='1k')p=p.3v('7A').6s('').3v('7B').6s('').3v(' ');8(!31(p)){J[0,0,0,0]}1m(F i=0;i<4;i++){p[i]=2o(p[i])}1x(p.V){W 0:J[0,0,0,0];W 1:J[p[0],p[0],p[0],p[0]];W 2:J[p[0],p[1],p[0],p[1]];W 3:J[p[0],p[1],p[2],p[1]];2w:J[p[0],p[1],p[2],p[3]]}}H 43(a,o){F x=(K o[o.d['S']]=='13')?1L.2v(o[o.d['S']]-3m(a,o,'S')):0;1x(o.1B){W'1t':J[0,x];W'2N':J[x,0];W'4x':2w:J[1L.2v(x/2),1L.3y(x/2)]}}H 4b(x,o,a,b){F v=x;8(K a=='H'){v=a.1z(b,v)}Q 8(K a=='1k'){F p=a.3v('+'),m=a.3v('-');8(m.V>p.V){F c=N,5q=m[0],2I=m[1]}Q{F c=O,5q=p[0],2I=p[1]}1x(5q){W'7C':v=(x%2==1)?x-1:x;18;W'7D':v=(x%2==0)?x-1:x;18;2w:v=x;18}2I=2o(2I);8(!2p(2I)){8(c)2I=-2I;v+=2I}}8(K v!='13')v=1;8(v<1)v=1;J v}H 2R(x,o,a,b){J 4y(4b(x,o,a,b),o.G.12)}H 4y(v,i){8(K i.2O=='13'&&v<i.2O)v=i.2O;8(K i.27=='13'&&v>i.27)v=i.27;8(v<1)v=1;J v}H 4E(s){8(!31(s))s=[[s]];8(!31(s[0]))s=[s];1m(F j=0,l=s.V;j<l;j++){8(K s[j][0]=='1k')s[j][0]=$(s[j][0]);8(K s[j][1]!='1s')s[j][1]=N;8(K s[j][2]!='1s')s[j][2]=N;8(K s[j][3]!='13')s[j][3]=0}J s}H 5k(k){8(k=='2N')J 39;8(k=='1t')J 37;8(k=='4u')J 38;8(k=='6b')J 40;J-1}H 4W(n,v){8(n)3T.2n=n+'='+v+'; 7E=/'}H 6g(n){n+='=';F b=3T.2n.3v(';');1m(F a=0,l=b.V;a<l;a++){F c=b[a];23(c.7F(0)==' '){c=c.1c(1)}8(c.32(n)==0){J c.1c(n.V)}}J 0}H 3r(p){8(p&&K p=='1k'){F i=(p.32('7G')>-1)?N:O,r=(p.32('2X')>-1)?N:O}Q{F i=r=O}J[i,r]}H 59(a){J(K a=='13')?a:2b}H 31(a){J K(a)=='1o'&&(a 64 7H)}H 2x(){J 7I 7J().2x()}H 1e(d,m){8(K d=='1o'){F s=' ('+d.3U+')';d=d.1e}Q{F s=''}8(!d)J O;8(K m=='1k')m='1J'+s+': '+m;Q m=['1J'+s+':',m];8(3s.5r&&3s.5r.6t)3s.5r.6t(m);J O}$.1P.65=H(o,c){J 1g.1J(o,c)};$.25($.1G,{'7K':H(t){F a=t*t;J t*(-a*t+4*a-6*t+4)},'7L':H(t){J t*(4*t*t-9*t+6)},'7M':H(t){F a=t*t;J t*(33*a*a-7N*a*t+7O*a-67*t+15)}})})(7P);",62,486,"|||||||opts|if|||||||||||||||||||||||||||||||||var|items|function|conf|return|typeof|cf_e|itms|true|false|visible|else|scrl|width|auto|total|length|case|trigger|button|first||children|visibleConf|number|bind||css|prev|break|tt0|next|pagination|slice|variable|debug|anims|this|stopPropagation|padding|duration|string|height|for|scroll|object|pre|push|data|boolean|left|usePadding|filter|a_dur|switch|undefined|call|wrp|align|container|triggerHandler|marginRight|tmrs|easing|play|fx|carouFredSel|each|Math|circular|sz_resetMargin|eq|fn|post|cfs_origCssMargin|isScrolling|c_new|remove|queu|is|isPaused|clbk|unbind|isStopped|stopImmediatePropagation|onAfter|while|sc_setScroll|extend|outerWidth|max|Not|synchronise|sc_startScroll|null|l_cur|l_old|w_siz|onBefore|crossfade|uncover|opacity|preventDefault|direction|adjust|old-js|cookie|parseInt|isNaN|cf_c|c_old|pR|pauseOnHover|opts_orig|ceil|default|getTime|removeClass|nv_enableNavi|l_new|ms_getSizes|fade|cover|updatePageStatus|mousewheel|key|css_o|adj|start|responsive|outerHeight|top|right|min|hidden|gn_getVisibleItemsNext|cf_getItemsAdjust|addClass|pause|startTime|cf_sortParams|scrolling|resume|last|slideTo||is_array|indexOf||_cfs_triggerEvent|innerWidth|ms_getTrueInnerSize||||parent|hide|show|gi_getCurrentItems|minimum|anchorBuilder|pauseDuration|Carousel|sc_clearTimers|events|queue|infinite|ms_getTotalSize|gn_getItemIndex|jquery|nv_showNavi|event|bt_pauseOnHoverConfig|window|ns2|ani_o|split|currentPosition|ms_getTrueLargestSize|floor|of|maxDimention|gn_getVisibleItemsNextFilter|go_getNaviObject|position|sc_stopScroll|timePassed|perc|100|dur2|prefix|appendTo|apply|sc_callCallbacks|currentPage|before|sz_setSizes|vI|touchwipe|wN|document|selector|_cfs_init|go_getObject|marginBottom|ms_isPercentage|ms_getPercentage||to|org|cf_getAlignPadding|keys|pauseOnEvent|Number|none|stopped||gn_getVisibleItemsPrev|cf_getAdjust|onEnd|clone|orgW|isHidden|cf_mapWrapperSizes|get|end|eval|mouseenter|mouseleave|serialNumber|cur_l|di|sz|element|cfs_isCarousel|defaults|upDateOnWindowResize|up|ms_hasVariableSizes|valid|center|cf_getItemAdjustMinMax|seco|nw|bottom|delay|pauseOnResize|cf_getSynchArr|scrolled|backward|textAlign|float|marginTop|marginLeft|absolute|_cfs_unbind_events|stop|finish|type|conditions|gn_getVisibleOrg|not|fx_cover|fx_uncover|orgDuration|cf_setCookie|gn_getVisibleItemsNextTestCircular|gi_getOldItemsNext|gi_getNewItemsNext||slideToPage|updateSizes|linkAnchors|_cfs_bind_buttons|click|_cfs_unbind_buttons|mousewheelPrev||bt_mousesheelNumber|mousewheelNext|wipe|_windowWidth|_windowHeight|ns3|wrapper|continue|classnames|new_w|old_w|cf_getKeyCode|gn_getItemsPrevFilter|gn_getItemsNextFilter|ms_getLargestSize|toLowerCase|arr|sta|console|No|destroy|innerHeight|dx|Set|secp|ms_getPaddingBorderMargin|cf_getPadding|500|pageAnchorBuilder|Item|forward|_cfs_build|fixed|cfs_origCss|_cfs_bind_events|paused|onPausePause|onPauseEnd|onPauseStart|enough|needed|page|slide_|configuration|gn_getScrollItemsPrevFilter|Scrolling|gi_getOldItemsPrev|gi_getNewItemsPrev|directscroll|concat|shift|gn_getScrollItemsNextFilter|new_m|jumpToStart|after|append|removeItem|instanceof|caroufredsel|hash||index|selected|gn_getVisibleItemsPrevFilter|down|keyup|keyCode|configs|classname|cf_readCookie|random|itm|onCreate|namespace|span|animate|complete|cfs_tempCssMargin|s2|l1|l2|join|log|found|the|Infinity|Width|caroufredsel_cookie_|attr|id|2500|Available|widths|heights|automatically|relative|overflow|setTimeout|or|Page|resumed|currently|Callback|returned|slide_prev|prependTo|slide_next|prevPage|nextPage|prepend|carousel|insertItem|add|detach|round|currentVisible|body|find|Preventing|non|sliding|replaceWith|min_move_x|min_move_y|preventDefaultEvents|wipeUp|wipeDown|wipeLeft|wipeRight|resize|timer|wrap|class|unshift|location|swing|cfs|div|caroufredsel_wrapper|href|clearTimeout|fx_fade|hiding|navigation|disabled|paddingLeft|paddingRight|paddingTop|paddingBottom|outer|inner|px|em|even|odd|path|charAt|immediate|Array|new|Date|quadratic|cubic|elastic|106|126|jQuery".split("|"),0,{})),function(e,t){"use strict";function i(t){e.fn.cycle.debug&&n(t)}function n(){window.console&&console.log&&console.log("[cycle] "+Array.prototype.join.call(arguments," "))}function s(t,i,n){var s=e(t).data("cycle.opts"),a=!!t.cyclePause;a&&s.paused?s.paused(t,s,i,n):!a&&s.resumed&&s.resumed(t,s,i,n)}function a(i,a,r){function l(t,i,s){if(!t&&i===!0){var a=e(s).data("cycle.opts");if(!a)return n("options not found, can not resume"),!1;s.cycleTimeout&&(clearTimeout(s.cycleTimeout),s.cycleTimeout=0),d(a.elements,a,1,!a.backwards)}}if(i.cycleStop===t&&(i.cycleStop=0),(a===t||null===a)&&(a={}),a.constructor==String){switch(a){case"destroy":case"stop":var c=e(i).data("cycle.opts");return c?(i.cycleStop++,i.cycleTimeout&&clearTimeout(i.cycleTimeout),i.cycleTimeout=0,c.elements&&e(c.elements).stop(),e(i).removeData("cycle.opts"),"destroy"==a&&o(i,c),!1):!1;case"toggle":return i.cyclePause=1===i.cyclePause?0:1,l(i.cyclePause,r,i),s(i),!1;case"pause":return i.cyclePause=1,s(i),!1;case"resume":return i.cyclePause=0,l(!1,r,i),s(i),!1;case"prev":case"next":return(c=e(i).data("cycle.opts"))?(e.fn.cycle[a](c),!1):(n('options not found, "prev/next" ignored'),!1);default:a={fx:a}}return a}if(a.constructor==Number){var h=a;return(a=e(i).data("cycle.opts"))?0>h||h>=a.elements.length?(n("invalid slide index: "+h),!1):(a.nextSlide=h,i.cycleTimeout&&(clearTimeout(i.cycleTimeout),i.cycleTimeout=0),"string"==typeof r&&(a.oneTimeFx=r),d(a.elements,a,1,h>=a.currSlide),!1):(n("options not found, can not advance slide"),!1)}return a}function r(t,i){if(!e.support.opacity&&i.cleartype&&t.style.filter)try{t.style.removeAttribute("filter")}catch(n){}}function o(t,i){i.next&&e(i.next).unbind(i.prevNextEvent),i.prev&&e(i.prev).unbind(i.prevNextEvent),(i.pager||i.pagerAnchorBuilder)&&e.each(i.pagerAnchors||[],function(){this.unbind().remove()}),i.pagerAnchors=null,e(t).unbind("mouseenter.cycle mouseleave.cycle"),i.destroy&&i.destroy(i)}function l(i,a,o,l,f){var v,b=e.extend({},e.fn.cycle.defaults,l||{},e.metadata?i.metadata():e.meta?i.data():{}),y=e.isFunction(i.data)?i.data(b.metaAttr):null;y&&(b=e.extend(b,y)),b.autostop&&(b.countdown=b.autostopCount||o.length);var _=i[0];if(i.data("cycle.opts",b),b.$cont=i,b.stopCount=_.cycleStop,b.elements=o,b.before=b.before?[b.before]:[],b.after=b.after?[b.after]:[],!e.support.opacity&&b.cleartype&&b.after.push(function(){r(this,b)}),b.continuous&&b.after.push(function(){d(o,b,0,!b.backwards)
}),c(b),e.support.opacity||!b.cleartype||b.cleartypeNoBg||m(a),"static"==i.css("position")&&i.css("position","relative"),b.width&&i.width(b.width),b.height&&"auto"!=b.height&&i.height(b.height),b.startingSlide!==t?(b.startingSlide=parseInt(b.startingSlide,10),b.startingSlide>=o.length||b.startSlide<0?b.startingSlide=0:v=!0):b.startingSlide=b.backwards?o.length-1:0,b.random){b.randomMap=[];for(var x=0;x<o.length;x++)b.randomMap.push(x);if(b.randomMap.sort(function(){return Math.random()-.5}),v)for(var w=0;w<o.length;w++)b.startingSlide==b.randomMap[w]&&(b.randomIndex=w);else b.randomIndex=1,b.startingSlide=b.randomMap[1]}else b.startingSlide>=o.length&&(b.startingSlide=0);b.currSlide=b.startingSlide||0;var k=b.startingSlide;a.css({position:"absolute",top:0,left:0}).hide().each(function(t){var i;i=b.backwards?k?k>=t?o.length+(t-k):k-t:o.length-t:k?t>=k?o.length-(t-k):k-t:o.length-t,e(this).css("z-index",i)}),e(o[k]).css("opacity",1).show(),r(o[k],b),b.fit&&(b.aspect?a.each(function(){var t=e(this),i=b.aspect===!0?t.width()/t.height():b.aspect;b.width&&t.width()!=b.width&&(t.width(b.width),t.height(b.width/i)),b.height&&t.height()<b.height&&(t.height(b.height),t.width(b.height*i))}):(b.width&&a.width(b.width),b.height&&"auto"!=b.height&&a.height(b.height))),!b.center||b.fit&&!b.aspect||a.each(function(){var t=e(this);t.css({"margin-left":b.width?(b.width-t.width())/2+"px":0,"margin-top":b.height?(b.height-t.height())/2+"px":0})}),!b.center||b.fit||b.slideResize||a.each(function(){var t=e(this);t.css({"margin-left":b.width?(b.width-t.width())/2+"px":0,"margin-top":b.height?(b.height-t.height())/2+"px":0})});var C=b.containerResize&&!i.innerHeight();if(C){for(var j=0,S=0,T=0;T<o.length;T++){var I=e(o[T]),G=I[0],A=I.outerWidth(),P=I.outerHeight();A||(A=G.offsetWidth||G.width||I.attr("width")),P||(P=G.offsetHeight||G.height||I.attr("height")),j=A>j?A:j,S=P>S?P:S}j>0&&S>0&&i.css({width:j+"px",height:S+"px"})}var M=!1;if(b.pause&&i.bind("mouseenter.cycle",function(){M=!0,this.cyclePause++,s(_,!0)}).bind("mouseleave.cycle",function(){M&&this.cyclePause--,s(_,!0)}),h(b)===!1)return!1;var D=!1;if(l.requeueAttempts=l.requeueAttempts||0,a.each(function(){var t=e(this);if(this.cycleH=b.fit&&b.height?b.height:t.height()||this.offsetHeight||this.height||t.attr("height")||0,this.cycleW=b.fit&&b.width?b.width:t.width()||this.offsetWidth||this.width||t.attr("width")||0,t.is("img")){var i=e.browser.msie&&28==this.cycleW&&30==this.cycleH&&!this.complete,s=e.browser.mozilla&&34==this.cycleW&&19==this.cycleH&&!this.complete,a=e.browser.opera&&(42==this.cycleW&&19==this.cycleH||37==this.cycleW&&17==this.cycleH)&&!this.complete,r=0===this.cycleH&&0===this.cycleW&&!this.complete;if(i||s||a||r){if(f.s&&b.requeueOnImageNotLoaded&&++l.requeueAttempts<100)return n(l.requeueAttempts," - img slide not loaded, requeuing slideshow: ",this.src,this.cycleW,this.cycleH),setTimeout(function(){e(f.s,f.c).cycle(l)},b.requeueTimeout),D=!0,!1;n("could not determine size of image: "+this.src,this.cycleW,this.cycleH)}}return!0}),D)return!1;if(b.cssBefore=b.cssBefore||{},b.cssAfter=b.cssAfter||{},b.cssFirst=b.cssFirst||{},b.animIn=b.animIn||{},b.animOut=b.animOut||{},a.not(":eq("+k+")").css(b.cssBefore),e(a[k]).css(b.cssFirst),b.timeout){b.timeout=parseInt(b.timeout,10),b.speed.constructor==String&&(b.speed=e.fx.speeds[b.speed]||parseInt(b.speed,10)),b.sync||(b.speed=b.speed/2);for(var O="none"==b.fx?0:"shuffle"==b.fx?500:250;b.timeout-b.speed<O;)b.timeout+=b.speed}if(b.easing&&(b.easeIn=b.easeOut=b.easing),b.speedIn||(b.speedIn=b.speed),b.speedOut||(b.speedOut=b.speed),b.slideCount=o.length,b.currSlide=b.lastSlide=k,b.random?(++b.randomIndex==o.length&&(b.randomIndex=0),b.nextSlide=b.randomMap[b.randomIndex]):b.nextSlide=b.backwards?0===b.startingSlide?o.length-1:b.startingSlide-1:b.startingSlide>=o.length-1?0:b.startingSlide+1,!b.multiFx){var F=e.fn.cycle.transitions[b.fx];if(e.isFunction(F))F(i,a,b);else if("custom"!=b.fx&&!b.multiFx)return n("unknown transition: "+b.fx,"; slideshow terminating"),!1}var E=a[k];return b.skipInitializationCallbacks||(b.before.length&&b.before[0].apply(E,[E,E,b,!0]),b.after.length&&b.after[0].apply(E,[E,E,b,!0])),b.next&&e(b.next).bind(b.prevNextEvent,function(){return p(b,1)}),b.prev&&e(b.prev).bind(b.prevNextEvent,function(){return p(b,0)}),(b.pager||b.pagerAnchorBuilder)&&g(o,b),u(b,o),b}function c(t){t.original={before:[],after:[]},t.original.cssBefore=e.extend({},t.cssBefore),t.original.cssAfter=e.extend({},t.cssAfter),t.original.animIn=e.extend({},t.animIn),t.original.animOut=e.extend({},t.animOut),e.each(t.before,function(){t.original.before.push(this)}),e.each(t.after,function(){t.original.after.push(this)})}function h(t){var s,a,r=e.fn.cycle.transitions;if(t.fx.indexOf(",")>0){for(t.multiFx=!0,t.fxs=t.fx.replace(/\s*/g,"").split(","),s=0;s<t.fxs.length;s++){var o=t.fxs[s];a=r[o],a&&r.hasOwnProperty(o)&&e.isFunction(a)||(n("discarding unknown transition: ",o),t.fxs.splice(s,1),s--)}if(!t.fxs.length)return n("No valid transitions named; slideshow terminating."),!1}else if("all"==t.fx){t.multiFx=!0,t.fxs=[];for(var l in r)r.hasOwnProperty(l)&&(a=r[l],r.hasOwnProperty(l)&&e.isFunction(a)&&t.fxs.push(l))}if(t.multiFx&&t.randomizeEffects){var c=Math.floor(20*Math.random())+30;for(s=0;c>s;s++){var h=Math.floor(Math.random()*t.fxs.length);t.fxs.push(t.fxs.splice(h,1)[0])}i("randomized fx sequence: ",t.fxs)}return!0}function u(t,i){t.addSlide=function(n,s){var a=e(n),r=a[0];t.autostopCount||t.countdown++,i[s?"unshift":"push"](r),t.els&&t.els[s?"unshift":"push"](r),t.slideCount=i.length,t.random&&(t.randomMap.push(t.slideCount-1),t.randomMap.sort(function(){return Math.random()-.5})),a.css("position","absolute"),a[s?"prependTo":"appendTo"](t.$cont),s&&(t.currSlide++,t.nextSlide++),e.support.opacity||!t.cleartype||t.cleartypeNoBg||m(a),t.fit&&t.width&&a.width(t.width),t.fit&&t.height&&"auto"!=t.height&&a.height(t.height),r.cycleH=t.fit&&t.height?t.height:a.height(),r.cycleW=t.fit&&t.width?t.width:a.width(),a.css(t.cssBefore),(t.pager||t.pagerAnchorBuilder)&&e.fn.cycle.createPagerAnchor(i.length-1,r,e(t.pager),i,t),e.isFunction(t.onAddSlide)?t.onAddSlide(a):a.hide()}}function d(n,s,a,r){function o(){var e=0;s.timeout,s.timeout&&!s.continuous?(e=f(n[s.currSlide],n[s.nextSlide],s,r),"shuffle"==s.fx&&(e-=s.speedOut)):s.continuous&&l.cyclePause&&(e=10),e>0&&(l.cycleTimeout=setTimeout(function(){d(n,s,0,!s.backwards)},e))}var l=s.$cont[0],c=n[s.currSlide],h=n[s.nextSlide];if(a&&s.busy&&s.manualTrump&&(i("manualTrump in go(), stopping active transition"),e(n).stop(!0,!0),s.busy=0,clearTimeout(l.cycleTimeout)),s.busy)return i("transition active, ignoring new tx request"),void 0;if(l.cycleStop==s.stopCount&&(0!==l.cycleTimeout||a)){if(!a&&!l.cyclePause&&!s.bounce&&(s.autostop&&--s.countdown<=0||s.nowrap&&!s.random&&s.nextSlide<s.currSlide))return s.end&&s.end(s),void 0;var u=!1;if(!a&&l.cyclePause||s.nextSlide==s.currSlide)o();else{u=!0;var p=s.fx;c.cycleH=c.cycleH||e(c).height(),c.cycleW=c.cycleW||e(c).width(),h.cycleH=h.cycleH||e(h).height(),h.cycleW=h.cycleW||e(h).width(),s.multiFx&&(r&&(s.lastFx===t||++s.lastFx>=s.fxs.length)?s.lastFx=0:!r&&(s.lastFx===t||--s.lastFx<0)&&(s.lastFx=s.fxs.length-1),p=s.fxs[s.lastFx]),s.oneTimeFx&&(p=s.oneTimeFx,s.oneTimeFx=null),e.fn.cycle.resetState(s,p),s.before.length&&e.each(s.before,function(e,t){l.cycleStop==s.stopCount&&t.apply(h,[c,h,s,r])});var g=function(){s.busy=0,e.each(s.after,function(e,t){l.cycleStop==s.stopCount&&t.apply(h,[c,h,s,r])}),l.cycleStop||o()};i("tx firing("+p+"); currSlide: "+s.currSlide+"; nextSlide: "+s.nextSlide),s.busy=1,s.fxFn?s.fxFn(c,h,s,g,r,a&&s.fastOnEvent):e.isFunction(e.fn.cycle[s.fx])?e.fn.cycle[s.fx](c,h,s,g,r,a&&s.fastOnEvent):e.fn.cycle.custom(c,h,s,g,r,a&&s.fastOnEvent)}if(u||s.nextSlide==s.currSlide){var m;s.lastSlide=s.currSlide,s.random?(s.currSlide=s.nextSlide,++s.randomIndex==n.length&&(s.randomIndex=0,s.randomMap.sort(function(){return Math.random()-.5})),s.nextSlide=s.randomMap[s.randomIndex],s.nextSlide==s.currSlide&&(s.nextSlide=s.currSlide==s.slideCount-1?0:s.currSlide+1)):s.backwards?(m=s.nextSlide-1<0,m&&s.bounce?(s.backwards=!s.backwards,s.nextSlide=1,s.currSlide=0):(s.nextSlide=m?n.length-1:s.nextSlide-1,s.currSlide=m?0:s.nextSlide+1)):(m=s.nextSlide+1==n.length,m&&s.bounce?(s.backwards=!s.backwards,s.nextSlide=n.length-2,s.currSlide=n.length-1):(s.nextSlide=m?0:s.nextSlide+1,s.currSlide=m?n.length-1:s.nextSlide-1))}u&&s.pager&&s.updateActivePagerLink(s.pager,s.currSlide,s.activePagerClass)}}function f(e,t,n,s){if(n.timeoutFn){for(var a=n.timeoutFn.call(e,e,t,n,s);"none"!=n.fx&&a-n.speed<250;)a+=n.speed;if(i("calculated timeout: "+a+"; speed: "+n.speed),a!==!1)return a}return n.timeout}function p(t,i){var n=i?1:-1,s=t.elements,a=t.$cont[0],r=a.cycleTimeout;if(r&&(clearTimeout(r),a.cycleTimeout=0),t.random&&0>n)t.randomIndex--,-2==--t.randomIndex?t.randomIndex=s.length-2:-1==t.randomIndex&&(t.randomIndex=s.length-1),t.nextSlide=t.randomMap[t.randomIndex];else if(t.random)t.nextSlide=t.randomMap[t.randomIndex];else if(t.nextSlide=t.currSlide+n,t.nextSlide<0){if(t.nowrap)return!1;t.nextSlide=s.length-1}else if(t.nextSlide>=s.length){if(t.nowrap)return!1;t.nextSlide=0}var o=t.onPrevNextEvent||t.prevNextClick;return e.isFunction(o)&&o(n>0,t.nextSlide,s[t.nextSlide]),d(s,t,1,i),!1}function g(t,i){var n=e(i.pager);e.each(t,function(s,a){e.fn.cycle.createPagerAnchor(s,a,n,t,i)}),i.updateActivePagerLink(i.pager,i.startingSlide,i.activePagerClass)}function m(t){function n(e){return e=parseInt(e,10).toString(16),e.length<2?"0"+e:e}function s(t){for(;t&&"html"!=t.nodeName.toLowerCase();t=t.parentNode){var i=e.css(t,"background-color");if(i&&i.indexOf("rgb")>=0){var s=i.match(/\d+/g);return"#"+n(s[0])+n(s[1])+n(s[2])}if(i&&"transparent"!=i)return i}return"#ffffff"}i("applying clearType background-color hack"),t.each(function(){e(this).css("background-color",s(this))})}var v="2.9999.5";e.support===t&&(e.support={opacity:!e.browser.msie}),e.expr[":"].paused=function(e){return e.cyclePause},e.fn.cycle=function(t,s){var r={s:this.selector,c:this.context};return 0===this.length&&"stop"!=t?!e.isReady&&r.s?(n("DOM not ready, queuing slideshow"),e(function(){e(r.s,r.c).cycle(t,s)}),this):(n("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this):this.each(function(){var o=a(this,t,s);if(o!==!1){o.updateActivePagerLink=o.updateActivePagerLink||e.fn.cycle.updateActivePagerLink,this.cycleTimeout&&clearTimeout(this.cycleTimeout),this.cycleTimeout=this.cyclePause=0,this.cycleStop=0;var c=e(this),h=o.slideExpr?e(o.slideExpr,this):c.children(),u=h.get();if(u.length<2)return n("terminating; too few slides: "+u.length),void 0;var p=l(c,h,u,o,r);if(p!==!1){var g=p.continuous?10:f(u[p.currSlide],u[p.nextSlide],p,!p.backwards);g&&(g+=p.delay||0,10>g&&(g=10),i("first timeout: "+g),this.cycleTimeout=setTimeout(function(){d(u,p,0,!o.backwards)},g))}}})},e.fn.cycle.resetState=function(t,i){i=i||t.fx,t.before=[],t.after=[],t.cssBefore=e.extend({},t.original.cssBefore),t.cssAfter=e.extend({},t.original.cssAfter),t.animIn=e.extend({},t.original.animIn),t.animOut=e.extend({},t.original.animOut),t.fxFn=null,e.each(t.original.before,function(){t.before.push(this)}),e.each(t.original.after,function(){t.after.push(this)});var n=e.fn.cycle.transitions[i];e.isFunction(n)&&n(t.$cont,e(t.elements),t)},e.fn.cycle.updateActivePagerLink=function(t,i,n){e(t).each(function(){e(this).children().removeClass(n).eq(i).addClass(n)})},e.fn.cycle.next=function(e){p(e,1)},e.fn.cycle.prev=function(e){p(e,0)},e.fn.cycle.createPagerAnchor=function(t,n,a,r,o){var l;if(e.isFunction(o.pagerAnchorBuilder)?(l=o.pagerAnchorBuilder(t,n),i("pagerAnchorBuilder("+t+", el) returned: "+l)):l='<a href="#">'+(t+1)+"</a>",l){var c=e(l);if(0===c.parents("body").length){var h=[];a.length>1?(a.each(function(){var t=c.clone(!0);e(this).append(t),h.push(t[0])}),c=e(h)):c.appendTo(a)}o.pagerAnchors=o.pagerAnchors||[],o.pagerAnchors.push(c);var u=function(i){i.preventDefault(),o.nextSlide=t;var n=o.$cont[0],s=n.cycleTimeout;s&&(clearTimeout(s),n.cycleTimeout=0);var a=o.onPagerEvent||o.pagerClick;e.isFunction(a)&&a(o.nextSlide,r[o.nextSlide]),d(r,o,1,o.currSlide<t)};/mouseenter|mouseover/i.test(o.pagerEvent)?c.hover(u,function(){}):c.bind(o.pagerEvent,u),/^click/.test(o.pagerEvent)||o.allowPagerClickBubble||c.bind("click.cycle",function(){return!1});var f=o.$cont[0],p=!1;o.pauseOnPagerHover&&c.hover(function(){p=!0,f.cyclePause++,s(f,!0,!0)},function(){p&&f.cyclePause--,s(f,!0,!0)})}},e.fn.cycle.hopsFromLast=function(e,t){var i,n=e.lastSlide,s=e.currSlide;return i=t?s>n?s-n:e.slideCount-n:n>s?n-s:n+e.slideCount-s},e.fn.cycle.commonReset=function(t,i,n,s,a,r){e(n.elements).not(t).hide(),"undefined"==typeof n.cssBefore.opacity&&(n.cssBefore.opacity=1),n.cssBefore.display="block",n.slideResize&&s!==!1&&i.cycleW>0&&(n.cssBefore.width=i.cycleW),n.slideResize&&a!==!1&&i.cycleH>0&&(n.cssBefore.height=i.cycleH),n.cssAfter=n.cssAfter||{},n.cssAfter.display="none",e(t).css("zIndex",n.slideCount+(r===!0?1:0)),e(i).css("zIndex",n.slideCount+(r===!0?0:1))},e.fn.cycle.custom=function(t,i,n,s,a,r){var o=e(t),l=e(i),c=n.speedIn,h=n.speedOut,u=n.easeIn,d=n.easeOut;l.css(n.cssBefore),r&&(c=h="number"==typeof r?r:1,u=d=null);var f=function(){l.animate(n.animIn,c,u,function(){s()})};o.animate(n.animOut,h,d,function(){o.css(n.cssAfter),n.sync||f()}),n.sync&&f()},e.fn.cycle.transitions={fade:function(t,i,n){i.not(":eq("+n.currSlide+")").css("opacity",0),n.before.push(function(t,i,n){e.fn.cycle.commonReset(t,i,n),n.cssBefore.opacity=0}),n.animIn={opacity:1},n.animOut={opacity:0},n.cssBefore={top:0,left:0}}},e.fn.cycle.ver=function(){return v},e.fn.cycle.defaults={activePagerClass:"activeSlide",after:null,allowPagerClickBubble:!1,animIn:null,animOut:null,aspect:!1,autostop:0,autostopCount:0,backwards:!1,before:null,center:null,cleartype:!e.support.opacity,cleartypeNoBg:!1,containerResize:1,continuous:0,cssAfter:null,cssBefore:null,delay:0,easeIn:null,easeOut:null,easing:null,end:null,fastOnEvent:0,fit:0,fx:"fade",fxFn:null,height:"auto",manualTrump:!0,metaAttr:"cycle",next:null,nowrap:0,onPagerEvent:null,onPrevNextEvent:null,pager:null,pagerAnchorBuilder:null,pagerEvent:"click.cycle",pause:0,pauseOnPagerHover:0,prev:null,prevNextEvent:"click.cycle",random:0,randomizeEffects:1,requeueOnImageNotLoaded:!0,requeueTimeout:250,rev:0,shuffle:null,skipInitializationCallbacks:!1,slideExpr:null,slideResize:1,speed:1e3,speedIn:null,speedOut:null,startingSlide:t,sync:1,timeout:4e3,timeoutFn:null,updateActivePagerLink:null,width:null}}(jQuery),/*!
 * jQuery Cycle Plugin Transition Definitions
 * This script is a plugin for the jQuery Cycle Plugin
 * Examples and documentation at: http://malsup.com/jquery/cycle/
 * Copyright (c) 2007-2010 M. Alsup
 * Version:	 2.73
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 */
function(e){"use strict";e.fn.cycle.transitions.none=function(t,i,n){n.fxFn=function(t,i,n,s){e(i).show(),e(t).hide(),s()}},e.fn.cycle.transitions.fadeout=function(t,i,n){i.not(":eq("+n.currSlide+")").css({display:"block",opacity:1}),n.before.push(function(t,i,n,s,a,r){e(t).css("zIndex",n.slideCount+(r!==!0?1:0)),e(i).css("zIndex",n.slideCount+(r!==!0?0:1))}),n.animIn.opacity=1,n.animOut.opacity=0,n.cssBefore.opacity=1,n.cssBefore.display="block",n.cssAfter.zIndex=0},e.fn.cycle.transitions.scrollUp=function(t,i,n){t.css("overflow","hidden"),n.before.push(e.fn.cycle.commonReset);var s=t.height();n.cssBefore.top=s,n.cssBefore.left=0,n.cssFirst.top=0,n.animIn.top=0,n.animOut.top=-s},e.fn.cycle.transitions.scrollDown=function(t,i,n){t.css("overflow","hidden"),n.before.push(e.fn.cycle.commonReset);var s=t.height();n.cssFirst.top=0,n.cssBefore.top=-s,n.cssBefore.left=0,n.animIn.top=0,n.animOut.top=s},e.fn.cycle.transitions.scrollLeft=function(t,i,n){t.css("overflow","hidden"),n.before.push(e.fn.cycle.commonReset);var s=t.width();n.cssFirst.left=0,n.cssBefore.left=s,n.cssBefore.top=0,n.animIn.left=0,n.animOut.left=0-s},e.fn.cycle.transitions.scrollRight=function(t,i,n){t.css("overflow","hidden"),n.before.push(e.fn.cycle.commonReset);var s=t.width();n.cssFirst.left=0,n.cssBefore.left=-s,n.cssBefore.top=0,n.animIn.left=0,n.animOut.left=s},e.fn.cycle.transitions.scrollHorz=function(t,i,n){t.css("overflow","hidden").width(),n.before.push(function(t,i,n,s){n.rev&&(s=!s),e.fn.cycle.commonReset(t,i,n),n.cssBefore.left=s?i.cycleW-1:1-i.cycleW,n.animOut.left=s?-t.cycleW:t.cycleW}),n.cssFirst.left=0,n.cssBefore.top=0,n.animIn.left=0,n.animOut.top=0},e.fn.cycle.transitions.scrollVert=function(t,i,n){t.css("overflow","hidden"),n.before.push(function(t,i,n,s){n.rev&&(s=!s),e.fn.cycle.commonReset(t,i,n),n.cssBefore.top=s?1-i.cycleH:i.cycleH-1,n.animOut.top=s?t.cycleH:-t.cycleH}),n.cssFirst.top=0,n.cssBefore.left=0,n.animIn.top=0,n.animOut.left=0},e.fn.cycle.transitions.slideX=function(t,i,n){n.before.push(function(t,i,n){e(n.elements).not(t).hide(),e.fn.cycle.commonReset(t,i,n,!1,!0),n.animIn.width=i.cycleW}),n.cssBefore.left=0,n.cssBefore.top=0,n.cssBefore.width=0,n.animIn.width="show",n.animOut.width=0},e.fn.cycle.transitions.slideY=function(t,i,n){n.before.push(function(t,i,n){e(n.elements).not(t).hide(),e.fn.cycle.commonReset(t,i,n,!0,!1),n.animIn.height=i.cycleH}),n.cssBefore.left=0,n.cssBefore.top=0,n.cssBefore.height=0,n.animIn.height="show",n.animOut.height=0},e.fn.cycle.transitions.shuffle=function(t,i,n){var s,a=t.css("overflow","visible").width();for(i.css({left:0,top:0}),n.before.push(function(t,i,n){e.fn.cycle.commonReset(t,i,n,!0,!0,!0)}),n.speedAdjusted||(n.speed=n.speed/2,n.speedAdjusted=!0),n.random=0,n.shuffle=n.shuffle||{left:-a,top:15},n.els=[],s=0;s<i.length;s++)n.els.push(i[s]);for(s=0;s<n.currSlide;s++)n.els.push(n.els.shift());n.fxFn=function(t,i,n,s,a){n.rev&&(a=!a);var r=a?e(t):e(i);e(i).css(n.cssBefore);var o=n.slideCount;r.animate(n.shuffle,n.speedIn,n.easeIn,function(){for(var i=e.fn.cycle.hopsFromLast(n,a),l=0;i>l;l++)a?n.els.push(n.els.shift()):n.els.unshift(n.els.pop());if(a)for(var c=0,h=n.els.length;h>c;c++)e(n.els[c]).css("z-index",h-c+o);else{var u=e(t).css("z-index");r.css("z-index",parseInt(u,10)+1+o)}r.animate({left:0,top:0},n.speedOut,n.easeOut,function(){e(a?this:t).hide(),s&&s()})})},e.extend(n.cssBefore,{display:"block",opacity:1,top:0,left:0})},e.fn.cycle.transitions.turnUp=function(t,i,n){n.before.push(function(t,i,n){e.fn.cycle.commonReset(t,i,n,!0,!1),n.cssBefore.top=i.cycleH,n.animIn.height=i.cycleH,n.animOut.width=i.cycleW}),n.cssFirst.top=0,n.cssBefore.left=0,n.cssBefore.height=0,n.animIn.top=0,n.animOut.height=0},e.fn.cycle.transitions.turnDown=function(t,i,n){n.before.push(function(t,i,n){e.fn.cycle.commonReset(t,i,n,!0,!1),n.animIn.height=i.cycleH,n.animOut.top=t.cycleH}),n.cssFirst.top=0,n.cssBefore.left=0,n.cssBefore.top=0,n.cssBefore.height=0,n.animOut.height=0},e.fn.cycle.transitions.turnLeft=function(t,i,n){n.before.push(function(t,i,n){e.fn.cycle.commonReset(t,i,n,!1,!0),n.cssBefore.left=i.cycleW,n.animIn.width=i.cycleW}),n.cssBefore.top=0,n.cssBefore.width=0,n.animIn.left=0,n.animOut.width=0},e.fn.cycle.transitions.turnRight=function(t,i,n){n.before.push(function(t,i,n){e.fn.cycle.commonReset(t,i,n,!1,!0),n.animIn.width=i.cycleW,n.animOut.left=t.cycleW}),e.extend(n.cssBefore,{top:0,left:0,width:0}),n.animIn.left=0,n.animOut.width=0},e.fn.cycle.transitions.zoom=function(t,i,n){n.before.push(function(t,i,n){e.fn.cycle.commonReset(t,i,n,!1,!1,!0),n.cssBefore.top=i.cycleH/2,n.cssBefore.left=i.cycleW/2,e.extend(n.animIn,{top:0,left:0,width:i.cycleW,height:i.cycleH}),e.extend(n.animOut,{width:0,height:0,top:t.cycleH/2,left:t.cycleW/2})}),n.cssFirst.top=0,n.cssFirst.left=0,n.cssBefore.width=0,n.cssBefore.height=0},e.fn.cycle.transitions.fadeZoom=function(t,i,n){n.before.push(function(t,i,n){e.fn.cycle.commonReset(t,i,n,!1,!1),n.cssBefore.left=i.cycleW/2,n.cssBefore.top=i.cycleH/2,e.extend(n.animIn,{top:0,left:0,width:i.cycleW,height:i.cycleH})}),n.cssBefore.width=0,n.cssBefore.height=0,n.animOut.opacity=0},e.fn.cycle.transitions.blindX=function(t,i,n){var s=t.css("overflow","hidden").width();n.before.push(function(t,i,n){e.fn.cycle.commonReset(t,i,n),n.animIn.width=i.cycleW,n.animOut.left=t.cycleW}),n.cssBefore.left=s,n.cssBefore.top=0,n.animIn.left=0,n.animOut.left=s},e.fn.cycle.transitions.blindY=function(t,i,n){var s=t.css("overflow","hidden").height();n.before.push(function(t,i,n){e.fn.cycle.commonReset(t,i,n),n.animIn.height=i.cycleH,n.animOut.top=t.cycleH}),n.cssBefore.top=s,n.cssBefore.left=0,n.animIn.top=0,n.animOut.top=s},e.fn.cycle.transitions.blindZ=function(t,i,n){var s=t.css("overflow","hidden").height(),a=t.width();n.before.push(function(t,i,n){e.fn.cycle.commonReset(t,i,n),n.animIn.height=i.cycleH,n.animOut.top=t.cycleH}),n.cssBefore.top=s,n.cssBefore.left=a,n.animIn.top=0,n.animIn.left=0,n.animOut.top=s,n.animOut.left=a},e.fn.cycle.transitions.growX=function(t,i,n){n.before.push(function(t,i,n){e.fn.cycle.commonReset(t,i,n,!1,!0),n.cssBefore.left=this.cycleW/2,n.animIn.left=0,n.animIn.width=this.cycleW,n.animOut.left=0}),n.cssBefore.top=0,n.cssBefore.width=0},e.fn.cycle.transitions.growY=function(t,i,n){n.before.push(function(t,i,n){e.fn.cycle.commonReset(t,i,n,!0,!1),n.cssBefore.top=this.cycleH/2,n.animIn.top=0,n.animIn.height=this.cycleH,n.animOut.top=0}),n.cssBefore.height=0,n.cssBefore.left=0},e.fn.cycle.transitions.curtainX=function(t,i,n){n.before.push(function(t,i,n){e.fn.cycle.commonReset(t,i,n,!1,!0,!0),n.cssBefore.left=i.cycleW/2,n.animIn.left=0,n.animIn.width=this.cycleW,n.animOut.left=t.cycleW/2,n.animOut.width=0}),n.cssBefore.top=0,n.cssBefore.width=0},e.fn.cycle.transitions.curtainY=function(t,i,n){n.before.push(function(t,i,n){e.fn.cycle.commonReset(t,i,n,!0,!1,!0),n.cssBefore.top=i.cycleH/2,n.animIn.top=0,n.animIn.height=i.cycleH,n.animOut.top=t.cycleH/2,n.animOut.height=0}),n.cssBefore.height=0,n.cssBefore.left=0},e.fn.cycle.transitions.cover=function(t,i,n){var s=n.direction||"left",a=t.css("overflow","hidden").width(),r=t.height();n.before.push(function(t,i,n){e.fn.cycle.commonReset(t,i,n),"right"==s?n.cssBefore.left=-a:"up"==s?n.cssBefore.top=r:"down"==s?n.cssBefore.top=-r:n.cssBefore.left=a}),n.animIn.left=0,n.animIn.top=0,n.cssBefore.top=0,n.cssBefore.left=0},e.fn.cycle.transitions.uncover=function(t,i,n){var s=n.direction||"left",a=t.css("overflow","hidden").width(),r=t.height();n.before.push(function(t,i,n){e.fn.cycle.commonReset(t,i,n,!0,!0,!0),"right"==s?n.animOut.left=a:"up"==s?n.animOut.top=-r:"down"==s?n.animOut.top=r:n.animOut.left=-a}),n.animIn.left=0,n.animIn.top=0,n.cssBefore.top=0,n.cssBefore.left=0},e.fn.cycle.transitions.toss=function(t,i,n){var s=t.css("overflow","visible").width(),a=t.height();n.before.push(function(t,i,n){e.fn.cycle.commonReset(t,i,n,!0,!0,!0),n.animOut.left||n.animOut.top?n.animOut.opacity=0:e.extend(n.animOut,{left:2*s,top:-a/2,opacity:0})}),n.cssBefore.left=0,n.cssBefore.top=0,n.animIn.left=0},e.fn.cycle.transitions.wipe=function(t,i,n){var s=t.css("overflow","hidden").width(),a=t.height();n.cssBefore=n.cssBefore||{};var r;if(n.clip)if(/l2r/.test(n.clip))r="rect(0px 0px "+a+"px 0px)";else if(/r2l/.test(n.clip))r="rect(0px "+s+"px "+a+"px "+s+"px)";else if(/t2b/.test(n.clip))r="rect(0px "+s+"px 0px 0px)";else if(/b2t/.test(n.clip))r="rect("+a+"px "+s+"px "+a+"px 0px)";else if(/zoom/.test(n.clip)){var o=parseInt(a/2,10),l=parseInt(s/2,10);r="rect("+o+"px "+l+"px "+o+"px "+l+"px)"}n.cssBefore.clip=n.cssBefore.clip||r||"rect(0px 0px 0px 0px)";var c=n.cssBefore.clip.match(/(\d+)/g),h=parseInt(c[0],10),u=parseInt(c[1],10),d=parseInt(c[2],10),f=parseInt(c[3],10);n.before.push(function(t,i,n){if(t!=i){var r=e(t),o=e(i);e.fn.cycle.commonReset(t,i,n,!0,!0,!1),n.cssAfter.display="block";var l=1,c=parseInt(n.speedIn/13,10)-1;!function p(){var e=h?h-parseInt(l*(h/c),10):0,t=f?f-parseInt(l*(f/c),10):0,i=a>d?d+parseInt(l*((a-d)/c||1),10):a,n=s>u?u+parseInt(l*((s-u)/c||1),10):s;o.css({clip:"rect("+e+"px "+n+"px "+i+"px "+t+"px)"}),l++<=c?setTimeout(p,13):r.css("display","none")}()}}),e.extend(n.cssBefore,{display:"block",opacity:1,top:0,left:0}),n.animIn={left:0},n.animOut={left:0}}}(jQuery),/*
 * jQuery Easing v1.3 - http://gsgd.co.uk/sandbox/jquery/easing/
 *
 * Uses the built in easing capabilities added In jQuery 1.1
 * to offer multiple easing options
 *
 * TERMS OF USE - jQuery Easing
 * 
 * Open source under the BSD License. 
 * 
 * Copyright © 2008 George McGinley Smith
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification, 
 * are permitted provided that the following conditions are met:
 * 
 * Redistributions of source code must retain the above copyright notice, this list of 
 * conditions and the following disclaimer.
 * Redistributions in binary form must reproduce the above copyright notice, this list 
 * of conditions and the following disclaimer in the documentation and/or other materials 
 * provided with the distribution.
 * 
 * Neither the name of the author nor the names of contributors may be used to endorse 
 * or promote products derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY 
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
 *  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
 *  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED 
 * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED 
 * OF THE POSSIBILITY OF SUCH DAMAGE. 
 *
*/
jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,i,n,s){return jQuery.easing[jQuery.easing.def](e,t,i,n,s)},easeInQuad:function(e,t,i,n,s){return n*(t/=s)*t+i},easeOutQuad:function(e,t,i,n,s){return-n*(t/=s)*(t-2)+i},easeInOutQuad:function(e,t,i,n,s){return(t/=s/2)<1?n/2*t*t+i:-n/2*(--t*(t-2)-1)+i},easeInCubic:function(e,t,i,n,s){return n*(t/=s)*t*t+i},easeOutCubic:function(e,t,i,n,s){return n*((t=t/s-1)*t*t+1)+i},easeInOutCubic:function(e,t,i,n,s){return(t/=s/2)<1?n/2*t*t*t+i:n/2*((t-=2)*t*t+2)+i},easeInQuart:function(e,t,i,n,s){return n*(t/=s)*t*t*t+i},easeOutQuart:function(e,t,i,n,s){return-n*((t=t/s-1)*t*t*t-1)+i},easeInOutQuart:function(e,t,i,n,s){return(t/=s/2)<1?n/2*t*t*t*t+i:-n/2*((t-=2)*t*t*t-2)+i},easeInQuint:function(e,t,i,n,s){return n*(t/=s)*t*t*t*t+i},easeOutQuint:function(e,t,i,n,s){return n*((t=t/s-1)*t*t*t*t+1)+i},easeInOutQuint:function(e,t,i,n,s){return(t/=s/2)<1?n/2*t*t*t*t*t+i:n/2*((t-=2)*t*t*t*t+2)+i},easeInSine:function(e,t,i,n,s){return-n*Math.cos(t/s*(Math.PI/2))+n+i},easeOutSine:function(e,t,i,n,s){return n*Math.sin(t/s*(Math.PI/2))+i},easeInOutSine:function(e,t,i,n,s){return-n/2*(Math.cos(Math.PI*t/s)-1)+i},easeInExpo:function(e,t,i,n,s){return 0==t?i:n*Math.pow(2,10*(t/s-1))+i},easeOutExpo:function(e,t,i,n,s){return t==s?i+n:n*(-Math.pow(2,-10*t/s)+1)+i},easeInOutExpo:function(e,t,i,n,s){return 0==t?i:t==s?i+n:(t/=s/2)<1?n/2*Math.pow(2,10*(t-1))+i:n/2*(-Math.pow(2,-10*--t)+2)+i},easeInCirc:function(e,t,i,n,s){return-n*(Math.sqrt(1-(t/=s)*t)-1)+i},easeOutCirc:function(e,t,i,n,s){return n*Math.sqrt(1-(t=t/s-1)*t)+i},easeInOutCirc:function(e,t,i,n,s){return(t/=s/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+i:n/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInElastic:function(e,t,i,n,s){var a=1.70158,r=0,o=n;if(0==t)return i;if(1==(t/=s))return i+n;if(r||(r=.3*s),o<Math.abs(n)){o=n;var a=r/4}else var a=r/(2*Math.PI)*Math.asin(n/o);return-(o*Math.pow(2,10*(t-=1))*Math.sin((t*s-a)*2*Math.PI/r))+i},easeOutElastic:function(e,t,i,n,s){var a=1.70158,r=0,o=n;if(0==t)return i;if(1==(t/=s))return i+n;if(r||(r=.3*s),o<Math.abs(n)){o=n;var a=r/4}else var a=r/(2*Math.PI)*Math.asin(n/o);return o*Math.pow(2,-10*t)*Math.sin((t*s-a)*2*Math.PI/r)+n+i},easeInOutElastic:function(e,t,i,n,s){var a=1.70158,r=0,o=n;if(0==t)return i;if(2==(t/=s/2))return i+n;if(r||(r=s*.3*1.5),o<Math.abs(n)){o=n;var a=r/4}else var a=r/(2*Math.PI)*Math.asin(n/o);return 1>t?-.5*o*Math.pow(2,10*(t-=1))*Math.sin((t*s-a)*2*Math.PI/r)+i:.5*o*Math.pow(2,-10*(t-=1))*Math.sin((t*s-a)*2*Math.PI/r)+n+i},easeInBack:function(e,t,i,n,s,a){return void 0==a&&(a=1.70158),n*(t/=s)*t*((a+1)*t-a)+i},easeOutBack:function(e,t,i,n,s,a){return void 0==a&&(a=1.70158),n*((t=t/s-1)*t*((a+1)*t+a)+1)+i},easeInOutBack:function(e,t,i,n,s,a){return void 0==a&&(a=1.70158),(t/=s/2)<1?n/2*t*t*(((a*=1.525)+1)*t-a)+i:n/2*((t-=2)*t*(((a*=1.525)+1)*t+a)+2)+i},easeInBounce:function(e,t,i,n,s){return n-jQuery.easing.easeOutBounce(e,s-t,0,n,s)+i},easeOutBounce:function(e,t,i,n,s){return(t/=s)<1/2.75?n*7.5625*t*t+i:2/2.75>t?n*(7.5625*(t-=1.5/2.75)*t+.75)+i:2.5/2.75>t?n*(7.5625*(t-=2.25/2.75)*t+.9375)+i:n*(7.5625*(t-=2.625/2.75)*t+.984375)+i},easeInOutBounce:function(e,t,i,n,s){return s/2>t?.5*jQuery.easing.easeInBounce(e,2*t,0,n,s)+i:.5*jQuery.easing.easeOutBounce(e,2*t-s,0,n,s)+.5*n+i}}),function(e){e.fn.hoverIntent=function(t,i){var n={sensitivity:7,interval:100,timeout:0};n=e.extend(n,i?{over:t,out:i}:t);var s,a,r,o,l=function(e){s=e.pageX,a=e.pageY},c=function(t,i){return i.hoverIntent_t=clearTimeout(i.hoverIntent_t),Math.abs(r-s)+Math.abs(o-a)<n.sensitivity?(e(i).unbind("mousemove",l),i.hoverIntent_s=1,n.over.apply(i,[t])):(r=s,o=a,i.hoverIntent_t=setTimeout(function(){c(t,i)},n.interval),void 0)},h=function(e,t){return t.hoverIntent_t=clearTimeout(t.hoverIntent_t),t.hoverIntent_s=0,n.out.apply(t,[e])},u=function(t){var i=jQuery.extend({},t),s=this;s.hoverIntent_t&&(s.hoverIntent_t=clearTimeout(s.hoverIntent_t)),"mouseenter"==t.type?(r=i.pageX,o=i.pageY,e(s).bind("mousemove",l),1!=s.hoverIntent_s&&(s.hoverIntent_t=setTimeout(function(){c(i,s)},n.interval))):(e(s).unbind("mousemove",l),1==s.hoverIntent_s&&(s.hoverIntent_t=setTimeout(function(){h(i,s)},n.timeout)))};return this.bind("mouseenter",u).bind("mouseleave",u)}}(jQuery),/*
 * jQuery Joyride Plugin 1.0.5
 * www.ZURB.com/playground
 * Copyright 2011, ZURB
 * Free to use under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
*/
function(e){e.fn.joyride=function(t){var i={tipLocation:"bottom",scrollSpeed:300,timer:0,startTimerOnClick:!1,nextButton:!0,tipAnimation:"pop",tipAnimationFadeSpeed:300,cookieMonster:!1,cookieName:"JoyRide",cookieDomain:!1,tipContainer:"body",inline:!1,tipContent:"#joyRideTipContent",postRideCallback:e.noop,postStepCallback:e.noop},t=e.extend(i,t);return this.each(function(){if(0!==e(t.tipContent).length){e(t.tipContent).hide();var n,s=e(t.tipContainer).children("*").first().position(),a=e(t.tipContent+" li"),r=skipCount=0,o=-1,l='<div class="joyride-timer-indicator-wrap"><span class="joyride-timer-indicator"></span></div>',c=function(t,i,s,a){return'<div class="joyride-tip-guide '+t+'" id="joyRidePopup'+i+'"><span class="joyride-nub"></span><div class="joyride-content-wrapper">'+e(a).html()+s+'<a href="#close" class="joyride-close-tip">Cancel Tutorial <span>×</span></a>'+n+"</div></div>"},h=function(s,a,r,o){n=0==a&&i.startTimerOnClick&&i.timer>0||0==i.timer?"":l,s||(s=""),r=r?'<a href="#" class="joyride-next-tip button red">'+r+"</a>":"",i.inline?e(c(s,a,r,o)).insertAfter("#"+e(o).data("id")):e(t.tipContainer).append(c(s,a,r,o))};i.cookieMonster&&e.cookie(i.cookieName)||a.each(function(t){var n=e(this).data("text"),s=e(this).attr("class"),a=this;i.nextButton&&!n&&(n="Next"),i.nextButton||!i.nextButton&&i.startTimerOnClick?e(this).attr("class")?h(s,t,n,a):h(!1,t,n,a):i.nextButton||(e(this).attr("class")?h(s,t,"",a):h(!1,t,"",a)),e("#joyRidePopup"+t).hide()}),showNextTip=function(){var t=e(a[r]).data("id"),n=e("#"+t),l={};e.each((e(a[r]).data("options")||":").split(";"),function(t,i){var n=i.split(":");2==n.length&&(l[e.trim(n[0])]=e.trim(n[1]))});for(var c=e.extend({},i,l);null===n.offset()&&(r++,skipCount++,a.length-1>o&&o++,t=e(a[r]).data("id"),n=e("#"+t),!(e(a).length<r)););var h=Math.ceil(e(window).height()/2),u=e("#joyRidePopup"+r),d=n.offset(),f=n.outerHeight(),p=u.outerHeight(),g=Math.ceil(e(".joyride-nub").outerHeight()/2),m=0;if(0!==u.length){if(r<a.length){"pop"==i.tipAnimation?(e(".joyride-timer-indicator").width(0),i.timer>0?u.show().children(".joyride-timer-indicator-wrap").children(".joyride-timer-indicator").animate({width:e(".joyride-timer-indicator-wrap").width()},i.timer):u.show()):"fade"==i.tipAnimation&&(e(".joyride-timer-indicator").width(0),i.timer>0?u.fadeIn(i.tipAnimationFadeSpeed).children(".joyride-timer-indicator-wrap").children(".joyride-timer-indicator").animate({width:e(".joyride-timer-indicator-wrap").width()},i.timer):u.fadeIn(i.tipAnimationFadeSpeed));var v=u.children(".joyride-nub"),b=d.left-s.left;if(v.removeClass("bottom").removeClass("top").removeClass("right"),e(window).scrollLeft()+e(window).width()<b+u.width()&&(b-=u.width()-2*v.offset().left,v.addClass("right")),Modernizr.mq("only screen and (max-width: 769px)")?-1!=c.tipLocation.indexOf("top")?p>=d.top?(u.offset({top:d.top+f+g-s.top}),v.addClass("top").css({left:b})):(u.offset({top:d.top-(p+s.top+g)}),v.addClass("bottom").css({left:b})):(u.offset({top:d.top+f+g}),v.addClass("top").css({left:b})):"top"==c.tipLocation?p>=d.top?(u.offset({top:d.top+f+g-s.top,left:b}),v.addClass("top")):(u.offset({top:d.top-(p+s.top+g),left:b}),v.addClass("bottom")):(u.offset({top:d.top+f+g,left:b}),v.addClass("top")),-1!=c.tipLocation.indexOf("right")&&(u.offset({left:d.left-s.left-u.width()+n.width()}),u.children(".joyride-nub").addClass("right")),m=Math.ceil(u.offset().top-h),e("html, body").animate({scrollTop:m},i.scrollSpeed),r>0){if(skipCount>0){var y=o-skipCount;skipCount=0}else var y=o;"pop"==i.tipAnimation?e("#joyRidePopup"+y).hide():"fade"==i.tipAnimation&&e("#joyRidePopup"+y).fadeOut(i.tipAnimationFadeSpeed)}}else a.length-1<r&&(skipCount>0?(y=o-skipCount,skipCount=0):y=o,1==i.cookieMonster&&e.cookie(i.cookieName,"ridden",{expires:365,domain:i.cookieDomain}),"pop"==i.tipAnimation?e("#joyRidePopup"+y).fadeTo(0,0):"fade"==i.tipAnimation&&e("#joyRidePopup"+y).fadeTo(i.tipAnimationFadeSpeed,0));r++,0>o?o=0:a.length-1>o&&o++,i.postStepCallback!=e.noop&&i.postStepCallback(o)}},i.inline&&i.cookieMonster&&e.cookie(i.cookieName)||e(window).resize(function(){var t=e(a[o]).data("id"),n=e("#"+t).offset(),r=e("#"+t).outerHeight(),l=e("#joyRidePopup"+o).outerHeight(),c=Math.ceil(e(".joyride-nub").outerHeight()/2);Modernizr.mq("only screen and (max-width: 769px)")?"bottom"==i.tipLocation?(e("#joyRidePopup"+o).offset({top:n.top+r+c,left:0}),e("#joyRidePopup"+o).children(".joyride-nub").addClass("top").removeClass("bottom").css({left:n.left-s.left})):"top"==i.tipLocation&&(n.top<=l?(e("#joyRidePopup"+o).offset({top:n.top+c+r,left:0}),e("#joyRidePopup"+o).children(".joyride-nub").addClass("top").removeClass("bottom").css({left:n.left-s.left})):(e("#joyRidePopup"+o).offset({top:n.top-(l+c),left:0}),e("#joyRidePopup"+o).children(".joyride-nub").addClass("bottom").removeClass("top").css({left:n.left-s.left}))):"bottom"==i.tipLocation?(e("#joyRidePopup"+o).offset({top:n.top+r+c,left:n.left}),e("#joyRidePopup"+o).children(".joyride-nub").addClass("top").removeClass("bottom").css({left:""})):"top"==i.tipLocation&&(n.top<=l?(e("#joyRidePopup"+o).offset({top:n.top+c+r,left:n.left}),e("#joyRidePopup"+o).children(".joyride-nub").addClass("top").removeClass("bottom").css({left:""})):(e("#joyRidePopup"+o).offset({top:n.top-(l+c),left:n.left}),e("#joyRidePopup"+o).children(".joyride-nub").addClass("bottom").removeClass("top").css({left:""})))});var u=null;!i.startTimerOnClick&&i.timer>0?(showNextTip(),u=setInterval(function(){showNextTip()},i.timer)):showNextTip();var d=function(t,n,s,a){t.preventDefault(),clearInterval(n),s&&e.cookie(i.cookieName,"ridden",{expires:365,domain:i.cookieDomain}),e(a).parent().parent().hide(),i.postRideCallback!=e.noop&&i.postRideCallback()};e(".joyride-close-tip").click(function(e){d(e,u,i.cookieMonster,this)}),e(".joyride-next-tip").click(function(e){e.preventDefault(),r>=a.length&&d(e,u,i.cookieMonster,this),i.timer>0&&i.startTimerOnClick?(showNextTip(),clearInterval(u),u=setInterval(function(){showNextTip()},i.timer)):i.timer>0&&!i.startTimerOnClick?(clearInterval(u),u=setInterval(function(){showNextTip()},i.timer)):showNextTip()})}})}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):jQuery&&!jQuery.fn.qtip&&e(jQuery)}(function(e){function t(){if(t.history=t.history||[],t.history.push(arguments),"object"==typeof console){var e,i=console[console.warn?"warn":"log"],n=Array.prototype.slice.call(arguments);"string"==typeof arguments[0]&&(n[0]="qTip2: "+n[0]),e=i.apply?i.apply(console,n):i(n)}}function i(t){var i=function(e){return e===u||"object"!=typeof e},n=function(t){return!e.isFunction(t)&&(!t&&!t.attr||t.length<1||"object"==typeof t&&!t.jquery)};return t&&"object"==typeof t?(i(t.metadata)&&(t.metadata={type:t.metadata}),"content"in t&&((i(t.content)||t.content.jquery)&&(t.content={text:t.content}),n(t.content.text||h)&&(t.content.text=h),"title"in t.content&&(i(t.content.title)&&(t.content.title={text:t.content.title}),n(t.content.title.text||h)&&(t.content.title.text=h))),"position"in t&&i(t.position)&&(t.position={my:t.position,at:t.position}),"show"in t&&i(t.show)&&(t.show=t.show.jquery?{target:t.show}:{event:t.show}),"hide"in t&&i(t.hide)&&(t.hide=t.hide.jquery?{target:t.hide}:{event:t.hide}),"style"in t&&i(t.style)&&(t.style={classes:t.style}),e.each(r,function(){this.sanitize&&this.sanitize(t)}),t):h}function n(t,n,s,d){function f(e){for(var t,i=0,s=n,a=e.split(".");s=s[a[i++]];)i<a.length&&(t=s);return[t||n,a.pop()]}function A(){var e=n.style.widget;K.toggleClass(k,e).toggleClass(S,n.style.def&&!e),L.content.toggleClass(k+"-content",e),L.titlebar&&L.titlebar.toggleClass(k+"-header",e),L.button&&L.button.toggleClass(w+"-icon",!e)}function M(e){L.title&&(L.titlebar.remove(),L.titlebar=L.title=L.button=u,e!==h&&z.reposition())}function D(){var t=n.content.title.button,i="string"==typeof t,s=i?t:"Close tooltip";L.button&&L.button.remove(),L.button=t.jquery?t:e("<a />",{"class":"ui-state-default ui-tooltip-close "+(n.style.widget?"":w+"-icon"),title:s,"aria-label":s}).prepend(e("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"})),L.button.appendTo(L.titlebar).attr("role","button").click(function(e){return K.hasClass(C)||z.hide(e),h}),z.redraw()}function O(){var t=W+"-title";L.titlebar&&M(),L.titlebar=e("<div />",{"class":w+"-titlebar "+(n.style.widget?"ui-widget-header":"")}).append(L.title=e("<div />",{id:t,"class":w+"-title","aria-atomic":c})).insertBefore(L.content).delegate(".ui-tooltip-close","mousedown keydown mouseup keyup mouseout",function(t){e(this).toggleClass("ui-state-active ui-state-focus","down"===t.type.substr(-4))}).delegate(".ui-tooltip-close","mouseover mouseout",function(t){e(this).toggleClass("ui-state-hover","mouseover"===t.type)}),n.content.title.button?D():z.rendered&&z.redraw()}function F(e){var t=L.button,i=L.title;return z.rendered?(e?(i||O(),D()):t.remove(),void 0):h}function E(i,n){var s=L.title;return z.rendered&&i?(e.isFunction(i)&&(i=i.call(t,R.event,z)),i===h||!i&&""!==i?M(h):(i.jquery&&i.length>0?s.empty().append(i.css({display:"block"})):s.html(i),z.redraw(),n!==h&&z.rendered&&K[0].offsetWidth>0&&z.reposition(R.event),void 0)):h}function H(i,n){function s(t){function i(i){i&&(delete r[i.src],clearTimeout(z.timers.img[i.src]),e(i).unbind(U)),e.isEmptyObject(r)&&(z.redraw(),n!==h&&z.reposition(R.event),t())}var s,r={};return 0===(s=a.find("img[src]:not([height]):not([width])")).length?i():(s.each(function(t,n){if(void 0===r[n.src]){var s=0,a=3;!function o(){return n.height||n.width||s>a?i(n):(s+=1,z.timers.img[n.src]=setTimeout(o,700),void 0)}(),e(n).bind("error"+U+" load"+U,function(){i(this)}),r[n.src]=n}}),void 0)}var a=L.content;return z.rendered&&i?(e.isFunction(i)&&(i=i.call(t,R.event,z)||""),i.jquery&&i.length>0?a.empty().append(i.css({display:"block"})):a.html(i),z.rendered<0?K.queue("fx",s):(q=0,s(e.noop)),z):h}function N(){function i(e){if(K.hasClass(C))return h;clearTimeout(z.timers.show),clearTimeout(z.timers.hide);var t=function(){z.toggle(c,e)};n.show.delay>0?z.timers.show=setTimeout(t,n.show.delay):t()}function r(t){if(K.hasClass(C)||B||q)return h;var i=e(t.relatedTarget||t.target),s=i.closest(j)[0]===K[0],a=i[0]===f.show[0];if(clearTimeout(z.timers.show),clearTimeout(z.timers.hide),"mouse"===d.target&&s||n.hide.fixed&&/mouse(out|leave|move)/.test(t.type)&&(s||a))try{t.preventDefault(),t.stopImmediatePropagation()}catch(r){}else n.hide.delay>0?z.timers.hide=setTimeout(function(){z.hide(t)},n.hide.delay):z.hide(t)}function l(e){return K.hasClass(C)?h:(clearTimeout(z.timers.inactive),z.timers.inactive=setTimeout(function(){z.hide(e)},n.hide.inactive),void 0)}function u(e){z.rendered&&K[0].offsetWidth>0&&z.reposition(e)}var d=n.position,f={show:n.show.target,hide:n.hide.target,viewport:e(d.viewport),document:e(document),body:e(document.body),window:e(window)},p={show:e.trim(""+n.show.event).split(" "),hide:e.trim(""+n.hide.event).split(" ")},g=e.browser.msie&&6===parseInt(e.browser.version,10);K.bind("mouseenter"+U+" mouseleave"+U,function(e){var t="mouseenter"===e.type;t&&z.focus(e),K.toggleClass(I,t)}),/mouse(out|leave)/i.test(n.hide.event)&&"window"===n.hide.leave&&f.window.bind("mouseout"+U+" blur"+U,function(e){!/select|option/.test(e.target.nodeName)&&!e.relatedTarget&&z.hide(e)}),n.hide.fixed?(f.hide=f.hide.add(K),K.bind("mouseover"+U,function(){K.hasClass(C)||clearTimeout(z.timers.hide)})):/mouse(over|enter)/i.test(n.show.event)&&f.hide.bind("mouseleave"+U,function(){clearTimeout(z.timers.show)}),(""+n.hide.event).indexOf("unfocus")>-1&&d.container.closest("html").bind("mousedown"+U,function(i){var n=e(i.target),s=(z.rendered&&!K.hasClass(C)&&K[0].offsetWidth>0,n.parents(j).filter(K[0]).length>0);n[0]!==t[0]&&n[0]!==K[0]&&!s&&!t.has(n[0]).length&&!n.attr("disabled")&&z.hide(i)}),"number"==typeof n.hide.inactive&&(f.show.bind("qtip-"+s+"-inactive",l),e.each(a.inactiveEvents,function(e,t){f.hide.add(L.tooltip).bind(t+U+"-inactive",l)})),e.each(p.hide,function(t,n){var s=e.inArray(n,p.show),a=e(f.hide);s>-1&&a.add(f.show).length===a.length||"unfocus"===n?(f.show.bind(n+U,function(e){K[0].offsetWidth>0?r(e):i(e)}),delete p.show[s]):f.hide.bind(n+U,r)}),e.each(p.show,function(e,t){f.show.bind(t+U,i)}),"number"==typeof n.hide.distance&&f.show.add(K).bind("mousemove"+U,function(e){var t=R.origin||{},i=n.hide.distance,s=Math.abs;(s(e.pageX-t.pageX)>=i||s(e.pageY-t.pageY)>=i)&&z.hide(e)}),"mouse"===d.target&&(f.show.bind("mousemove"+U,function(e){o={pageX:e.pageX,pageY:e.pageY,type:"mousemove"}}),d.adjust.mouse&&(n.hide.event&&(K.bind("mouseleave"+U,function(e){(e.relatedTarget||e.target)!==f.show[0]&&z.hide(e)}),L.target.bind("mouseenter"+U+" mouseleave"+U,function(e){R.onTarget="mouseenter"===e.type})),f.document.bind("mousemove"+U,function(e){z.rendered&&R.onTarget&&!K.hasClass(C)&&K[0].offsetWidth>0&&z.reposition(e||o)}))),(d.adjust.resize||f.viewport.length)&&(e.event.special.resize?f.viewport:f.window).bind("resize"+U,u),(f.viewport.length||g&&"fixed"===K.css("position"))&&f.viewport.bind("scroll"+U,u)}function $(){var t=[n.show.target[0],n.hide.target[0],z.rendered&&L.tooltip[0],n.position.container[0],n.position.viewport[0],n.position.container.closest("html")[0],window,document];z.rendered?e([]).pushStack(e.grep(t,function(e){return"object"==typeof e})).unbind(U):n.show.target.unbind(U+"-create")}var L,R,z=this,W=(document.body,w+"-"+s),B=0,q=0,K=e(),U=".qtip-"+s;z.id=s,z.rendered=h,z.destroyed=h,z.elements=L={target:t},z.timers={img:{}},z.options=n,z.checks={},z.plugins={},z.cache=R={event:{},target:e(),disabled:h,attr:d,onTarget:h,lastClass:""},z.checks.builtin={"^id$":function(t,i,n){var s=n===c?a.nextid:n,r=w+"-"+s;s!==h&&s.length>0&&!e("#"+r).length&&(K[0].id=r,L.content[0].id=r+"-content",L.title[0].id=r+"-title")},"^content.text$":function(e,t,i){H(i)},"^content.title.text$":function(e,t,i){return i?(!L.title&&i&&O(),E(i),void 0):M()},"^content.title.button$":function(e,t,i){F(i)},"^position.(my|at)$":function(e,t,i){"string"==typeof i&&(e[t]=new r.Corner(i))},"^position.container$":function(e,t,i){z.rendered&&K.appendTo(i)},"^show.ready$":function(){z.rendered?z.toggle(c):z.render(1)},"^style.classes$":function(e,t,i){K.attr("class",w+" qtip ui-helper-reset "+i)},"^style.widget|content.title":A,"^events.(render|show|move|hide|focus|blur)$":function(t,i,n){K[(e.isFunction(n)?"":"un")+"bind"]("tooltip"+i,n)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){var e=n.position;K.attr("tracking","mouse"===e.target&&e.adjust.mouse),$(),N()}},e.extend(z,{render:function(i){if(z.rendered)return z;var s=n.content.text,a=n.content.title.text,o=n.position,l=e.Event("tooltiprender");return e.attr(t[0],"aria-describedby",W),K=L.tooltip=e("<div/>",{id:W,"class":w+" qtip ui-helper-reset "+S+" "+n.style.classes+" "+w+"-pos-"+n.position.my.abbrev(),width:n.style.width||"",height:n.style.height||"",tracking:"mouse"===o.target&&o.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":h,"aria-describedby":W+"-content","aria-hidden":c}).toggleClass(C,R.disabled).data("qtip",z).appendTo(n.position.container).append(L.content=e("<div />",{"class":w+"-content",id:W+"-content","aria-atomic":c})),z.rendered=-1,q=1,B=1,a&&(O(),e.isFunction(a)||E(a,h)),e.isFunction(s)||H(s,h),z.rendered=c,A(),e.each(n.events,function(t,i){e.isFunction(i)&&K.bind("toggle"===t?"tooltipshow tooltiphide":"tooltip"+t,i)}),e.each(r,function(){"render"===this.initialize&&this(z)}),N(),K.queue("fx",function(e){l.originalEvent=R.event,K.trigger(l,[z]),q=0,B=0,z.redraw(),(n.show.ready||i)&&z.toggle(c,R.event,h),e()}),z},get:function(e){var t,i;switch(e.toLowerCase()){case"dimensions":t={height:K.outerHeight(),width:K.outerWidth()};break;case"offset":t=r.offset(K,n.position.container);break;default:i=f(e.toLowerCase()),t=i[0][i[1]],t=t.precedance?t.string():t}return t},set:function(t,s){function a(e,t){var i,n,s;for(i in g)for(n in g[i])(s=new RegExp(n,"i").exec(e))&&(t.push(s),g[i][n].apply(z,t))}var r,o=/^position\.(my|at|adjust|target|container)|style|content|show\.ready/i,l=/^content\.(title|attr)|style/i,d=h,p=h,g=z.checks;return"string"==typeof t?(r=t,t={},t[r]=s):t=e.extend(c,{},t),e.each(t,function(i,n){var s,a=f(i.toLowerCase());s=a[0][a[1]],a[0][a[1]]="object"==typeof n&&n.nodeType?e(n):n,t[i]=[a[0],a[1],n,s],d=o.test(i)||d,p=l.test(i)||p}),i(n),B=q=1,e.each(t,a),B=q=0,z.rendered&&K[0].offsetWidth>0&&(d&&z.reposition("mouse"===n.position.target?u:R.event),p&&z.redraw()),z},toggle:function(t,i){function a(){t?(e.browser.msie&&K[0].style.removeAttribute("filter"),K.css("overflow",""),"string"==typeof f.autofocus&&e(f.autofocus,K).focus(),f.target.trigger("qtip-"+s+"-inactive")):K.css({display:"",visibility:"",opacity:"",left:"",top:""}),r=e.Event("tooltip"+(t?"visible":"hidden")),r.originalEvent=i?R.event:u,K.trigger(r,[z])}if(!z.rendered)return t?z.render(1):z;var r,d=t?"show":"hide",f=n[d],p=(n[t?"hide":"show"],n.position),g=n.content,m=K[0].offsetWidth>0,v=t||1===f.target.length,b=!i||f.target.length<2||R.target[0]===i.target;if((typeof t).search("boolean|number")&&(t=!m),!K.is(":animated")&&m===t&&b)return z;if(i){if(/over|enter/.test(i.type)&&/out|leave/.test(R.event.type)&&n.show.target.add(i.target).length===n.show.target.length&&K.has(i.relatedTarget).length)return z;R.event=e.extend({},i)}return r=e.Event("tooltip"+d),r.originalEvent=i?R.event:u,K.trigger(r,[z,90]),r.isDefaultPrevented()?z:(e.attr(K[0],"aria-hidden",!t),t?(R.origin=e.extend({},o),z.focus(i),e.isFunction(g.text)&&H(g.text,h),e.isFunction(g.title.text)&&E(g.title.text,h),!l&&"mouse"===p.target&&p.adjust.mouse&&(e(document).bind("mousemove.qtip",function(e){o={pageX:e.pageX,pageY:e.pageY,type:"mousemove"}}),l=c),z.reposition(i,arguments[2]),(r.solo=!!f.solo)&&e(j,f.solo).not(K).qtip("hide",r)):(clearTimeout(z.timers.show),delete R.origin,l&&!e(j+'[tracking="true"]:visible',f.solo).not(K).length&&(e(document).unbind("mousemove.qtip"),l=h),z.blur(i)),f.effect===h||v===h?(K[d](),a.call(K)):e.isFunction(f.effect)?(K.stop(1,1),f.effect.call(K,z),K.queue("fx",function(e){a(),e()})):K.fadeTo(90,t?1:0,a),t&&f.target.trigger("qtip-"+s+"-inactive"),z)},show:function(e){return z.toggle(c,e)},hide:function(e){return z.toggle(h,e)},focus:function(t){if(!z.rendered)return z;var i,n=e(j),s=parseInt(K[0].style.zIndex,10),r=a.zindex+n.length,o=e.extend({},t);return K.hasClass(T)||(i=e.Event("tooltipfocus"),i.originalEvent=o,K.trigger(i,[z,r]),i.isDefaultPrevented()||(s!==r&&(n.each(function(){this.style.zIndex>s&&(this.style.zIndex=this.style.zIndex-1)}),n.filter("."+T).qtip("blur",o)),K.addClass(T)[0].style.zIndex=r)),z},blur:function(t){var i,n=e.extend({},t);return K.removeClass(T),i=e.Event("tooltipblur"),i.originalEvent=n,K.trigger(i,[z]),z},reposition:function(t,i){if(!z.rendered||B)return z;B=1;var s,a,l,c=n.position.target,u=n.position,d=u.my,f=u.at,p=u.adjust,g=p.method.split(" "),x=K.outerWidth(),w=K.outerHeight(),k=0,C=0,j=e.Event("tooltipmove"),S="fixed"===K.css("position"),T=u.viewport,I={left:0,top:0},G=u.container,A=K[0].offsetWidth>0;if(e.isArray(c)&&2===c.length)f={x:v,y:m},I={left:c[0],top:c[1]};else if("mouse"===c&&(t&&t.pageX||R.event.pageX))f={x:v,y:m},t=(!t||"resize"!==t.type&&"scroll"!==t.type?t&&t.pageX&&"mousemove"===t.type?t:!o||!o.pageX||!p.mouse&&t&&t.pageX?!p.mouse&&R.origin&&R.origin.pageX&&n.show.distance?R.origin:t:{pageX:o.pageX,pageY:o.pageY}:R.event)||t||R.event||o||{},I={top:t.pageY,left:t.pageX};else{if("event"===c&&t&&t.target&&"scroll"!==t.type&&"resize"!==t.type?R.target=e(t.target):"event"!==c&&(R.target=e(c.jquery?c:L.target)),c=R.target,c=e(c).eq(0),0===c.length)return z;c[0]===document||c[0]===window?(k=r.iOS?window.innerWidth:c.width(),C=r.iOS?window.innerHeight:c.height(),c[0]===window&&(I={top:(T||c).scrollTop(),left:(T||c).scrollLeft()})):r.imagemap&&c.is("area")?s=r.imagemap(z,c,f,r.viewport?g:h):r.svg&&"string"==typeof c[0].xmlbase?s=r.svg(z,c,f,r.viewport?g:h):(k=c.outerWidth(),C=c.outerHeight(),I=r.offset(c,G)),s&&(k=s.width,C=s.height,a=s.offset,I=s.position),(r.iOS>3.1&&r.iOS<4.1||r.iOS>=4.3&&r.iOS<4.33||!r.iOS&&S)&&(l=e(window),I.left-=l.scrollLeft(),I.top-=l.scrollTop()),I.left+=f.x===y?k:f.x===_?k/2:0,I.top+=f.y===b?C:f.y===_?C/2:0}return I.left+=p.x+(d.x===y?-x:d.x===_?-x/2:0),I.top+=p.y+(d.y===b?-w:d.y===_?-w/2:0),r.viewport?(I.adjusted=r.viewport(z,I,u,k,C,x,w),a&&I.adjusted.left&&(I.left+=a.left),a&&I.adjusted.top&&(I.top+=a.top)):I.adjusted={left:0,top:0},j.originalEvent=e.extend({},t),K.trigger(j,[z,I,T.elem||T]),j.isDefaultPrevented()?z:(delete I.adjusted,i===h||!A||isNaN(I.left)||isNaN(I.top)||"mouse"===c||!e.isFunction(u.effect)?K.css(I):e.isFunction(u.effect)&&(u.effect.call(K,z,e.extend({},I)),K.queue(function(t){e(this).css({opacity:"",height:""}),e.browser.msie&&this.style.removeAttribute("filter"),t()})),B=0,z)},redraw:function(){if(z.rendered<1||q)return z;var e,t,i,s,a=n.position.container;return q=1,n.style.height&&K.css(g,n.style.height),n.style.width?K.css(p,n.style.width):(K.css(p,"").addClass(G),t=K.width()+1,i=K.css("max-width")||"",s=K.css("min-width")||"",e=(i+s).indexOf("%")>-1?a.width()/100:0,i=(i.indexOf("%")>-1?e:1)*parseInt(i,10)||t,s=(s.indexOf("%")>-1?e:1)*parseInt(s,10)||0,t=i+s?Math.min(Math.max(t,s),i):t,K.css(p,Math.round(t)).removeClass(G)),q=0,z},disable:function(t){return"boolean"!=typeof t&&(t=!K.hasClass(C)&&!R.disabled),z.rendered?(K.toggleClass(C,t),e.attr(K[0],"aria-disabled",t)):R.disabled=!!t,z},enable:function(){return z.disable(h)},destroy:function(){var i=t[0],a=e.attr(i,P),r=t.data("qtip");return z.destroyed=c,z.rendered&&(K.stop(1,0).remove(),e.each(z.plugins,function(){this.destroy&&this.destroy()})),clearTimeout(z.timers.show),clearTimeout(z.timers.hide),$(),r&&z!==r||(e.removeData(i,"qtip"),n.suppress&&a&&(e.attr(i,"title",a),t.removeAttr(P)),t.removeAttr("aria-describedby")),t.unbind(".qtip-"+s),delete x[z.id],t}})}function s(s,o){var l,d,f,p,g,m=e(this),v=e(document.body),b=this===document?v:m,y=m.metadata?m.metadata(o.metadata):u,_="html5"===o.metadata.type&&y?y[o.metadata.name]:u,x=m.data(o.metadata.name||"qtipopts");try{x="string"==typeof x?e.parseJSON(x):x}catch(w){t("Unable to parse HTML5 attribute data: "+x)}if(p=e.extend(c,{},a.defaults,o,"object"==typeof x?i(x):u,i(_||y)),d=p.position,p.id=s,"boolean"==typeof p.content.text){if(f=m.attr(p.content.attr),p.content.attr===h||!f)return t("Unable to locate content for tooltip! Aborting render of tooltip on element: ",m),h;p.content.text=f}if(d.container.length||(d.container=v),d.target===h&&(d.target=b),p.show.target===h&&(p.show.target=b),p.show.solo===c&&(p.show.solo=d.container.closest("body")),p.hide.target===h&&(p.hide.target=b),p.position.viewport===c&&(p.position.viewport=d.container),d.container=d.container.eq(0),d.at=new r.Corner(d.at),d.my=new r.Corner(d.my),e.data(this,"qtip"))if(p.overwrite)m.qtip("destroy");else if(p.overwrite===h)return h;return p.suppress&&(g=e.attr(this,"title"))&&e(this).removeAttr("title").attr(P,g).attr("title",""),l=new n(m,p,s,!!f),e.data(this,"qtip",l),m.bind("remove.qtip-"+s+" removeqtip.qtip-"+s,function(){l.destroy()}),l}var a,r,o,l,c=!0,h=!1,u=null,d="x",f="y",p="width",g="height",m="top",v="left",b="bottom",y="right",_="center",x={},w="ui-tooltip",k="ui-widget",C="ui-state-disabled",j="div.qtip."+w,S=w+"-default",T=w+"-focus",I=w+"-hover",G=w+"-fluid",A="_replacedByqTip",P="oldtitle";a=e.fn.qtip=function(t,n,s){var r=(""+t).toLowerCase(),o=u,l=e.makeArray(arguments).slice(1),d=l[l.length-1],f=this[0]?e.data(this[0],"qtip"):u;return!arguments.length&&f||"api"===r?f:"string"==typeof t?(this.each(function(){var t=e.data(this,"qtip");if(!t)return c;if(d&&d.timeStamp&&(t.cache.event=d),"option"!==r&&"options"!==r||!n)t[r]&&t[r].apply(t[r],l);else{if(!e.isPlainObject(n)&&void 0===s)return o=t.get(n),h;t.set(n,s)}}),o!==u?o:this):"object"!=typeof t&&arguments.length?void 0:(f=i(e.extend(c,{},t)),a.bind.call(this,f,d))},a.bind=function(t,i){return this.each(function(n){function l(t){function i(){g.render("object"==typeof t||u.show.ready),d.show.add(d.hide).unbind(p)}return g.cache.disabled?h:(g.cache.event=e.extend({},t),g.cache.target=t?e(t.target):[void 0],u.show.delay>0?(clearTimeout(g.timers.show),g.timers.show=setTimeout(i,u.show.delay),f.show!==f.hide&&d.hide.bind(f.hide,function(){clearTimeout(g.timers.show)})):i(),void 0)}var u,d,f,p,g,m;return m=e.isArray(t.id)?t.id[n]:t.id,m=!m||m===h||m.length<1||x[m]?a.nextid++:x[m]=m,p=".qtip-"+m+"-create",g=s.call(this,m,t),g===h?c:(u=g.options,e.each(r,function(){"initialize"===this.initialize&&this(g)}),d={show:u.show.target,hide:u.hide.target},f={show:e.trim(""+u.show.event).replace(/ /g,p+" ")+p,hide:e.trim(""+u.hide.event).replace(/ /g,p+" ")+p},/mouse(over|enter)/i.test(f.show)&&!/mouse(out|leave)/i.test(f.hide)&&(f.hide+=" mouseleave"+p),d.show.bind("mousemove"+p,function(e){o={pageX:e.pageX,pageY:e.pageY,type:"mousemove"},g.cache.onTarget=c}),d.show.bind(f.show,l),(u.show.ready||u.prerender)&&l(i),void 0)})},r=a.plugins={Corner:function(e){e=(""+e).replace(/([A-Z])/," $1").replace(/middle/gi,_).toLowerCase(),this.x=(e.match(/left|right/i)||e.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(e.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();var t=e.charAt(0);this.precedance="t"===t||"b"===t?f:d,this.string=function(){return this.precedance===f?this.y+this.x:this.x+this.y},this.abbrev=function(){var e=this.x.substr(0,1),t=this.y.substr(0,1);return e===t?e:this.precedance===f?t+e:e+t},this.invertx=function(e){this.x=this.x===v?y:this.x===y?v:e||this.x},this.inverty=function(e){this.y=this.y===m?b:this.y===b?m:e||this.y},this.clone=function(){return{x:this.x,y:this.y,precedance:this.precedance,string:this.string,abbrev:this.abbrev,clone:this.clone,invertx:this.invertx,inverty:this.inverty}}},offset:function(t,i){function n(e,t){o.left+=t*e.scrollLeft(),o.top+=t*e.scrollTop()}var s,a,r,o=t.offset(),l=t.closest("body")[0],c=i;if(c){do"static"!==c.css("position")&&(a=c.position(),o.left-=a.left+(parseInt(c.css("borderLeftWidth"),10)||0)+(parseInt(c.css("marginLeft"),10)||0),o.top-=a.top+(parseInt(c.css("borderTopWidth"),10)||0)+(parseInt(c.css("marginTop"),10)||0),!s&&"hidden"!==(r=c.css("overflow"))&&"visible"!==r&&(s=c));while((c=e(c[0].offsetParent)).length);s&&s[0]!==l&&n(s,1)}return o},iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||h,fn:{attr:function(t,i){if(this.length){var n=this[0],s="title",a=e.data(n,"qtip");if(t===s&&a&&"object"==typeof a&&a.options.suppress)return arguments.length<2?e.attr(n,P):(a&&a.options.content.attr===s&&a.cache.attr&&a.set("content.text",i),this.attr(P,i))}return e.fn["attr"+A].apply(this,arguments)},clone:function(t){var i=(e([]),e.fn["clone"+A].apply(this,arguments));return t||i.filter("["+P+"]").attr("title",function(){return e.attr(this,P)}).removeAttr(P),i}}},e.each(r.fn,function(t,i){if(!i||e.fn[t+A])return c;var n=e.fn[t+A]=e.fn[t];e.fn[t]=function(){return i.apply(this,arguments)||n.apply(this,arguments)}}),e.ui||(e["cleanData"+A]=e.cleanData,e.cleanData=function(t){for(var i,n=0;void 0!==(i=t[n]);n++)try{e(i).triggerHandler("removeqtip")}catch(s){}e["cleanData"+A](t)}),a.version="@VERSION",a.nextid=0,a.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),a.zindex=15e3,a.defaults={prerender:h,id:h,overwrite:c,suppress:c,content:{text:c,attr:"title",title:{text:h,button:h}},position:{my:"top left",at:"bottom right",target:h,container:h,viewport:h,adjust:{x:0,y:0,mouse:c,resize:c,method:"flip flip"},effect:function(t,i){e(this).animate(i,{duration:200,queue:h})}},show:{target:h,event:"mouseenter",effect:c,delay:90,solo:h,ready:h,autofocus:h},hide:{target:h,event:"mouseleave",effect:c,delay:0,fixed:h,inactive:h,leave:"window",distance:h},style:{classes:"",widget:h,width:h,height:h,def:c},events:{render:u,move:u,show:u,hide:u,toggle:u,visible:u,hidden:u,focus:u,blur:u}}}),/*!
 * Modernizr v2.6.1
 * www.modernizr.com
 *
 * Copyright (c) Faruk Ates, Paul Irish, Alex Sexton
 * Available under the BSD and MIT licenses: www.modernizr.com/license/
 */
window.Modernizr=function(e,t,i){function n(e){y.cssText=e}function s(e,t){return n(k.join(e+";")+(t||""))}function a(e,t){return typeof e===t}function r(e,t){return!!~(""+e).indexOf(t)}function o(e,t){for(var n in e){var s=e[n];if(!r(s,"-")&&y[s]!==i)return"pfx"==t?s:!0}return!1}function l(e,t,n){for(var s in e){var r=t[e[s]];if(r!==i)return n===!1?e[s]:a(r,"function")?r.bind(n||t):r}return!1}function c(e,t,i){var n=e.charAt(0).toUpperCase()+e.slice(1),s=(e+" "+j.join(n+" ")+n).split(" ");return a(t,"string")||a(t,"undefined")?o(s,t):(s=(e+" "+S.join(n+" ")+n).split(" "),l(s,t,i))}function h(){p.input=function(i){for(var n=0,s=i.length;s>n;n++)A[i[n]]=!!(i[n]in _);return A.list&&(A.list=!(!t.createElement("datalist")||!e.HTMLDataListElement)),A}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),p.inputtypes=function(e){for(var n,s,a,r=0,o=e.length;o>r;r++)_.setAttribute("type",s=e[r]),n="text"!==_.type,n&&(_.value=x,_.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(s)&&_.style.WebkitAppearance!==i?(m.appendChild(_),a=t.defaultView,n=a.getComputedStyle&&"textfield"!==a.getComputedStyle(_,null).WebkitAppearance&&0!==_.offsetHeight,m.removeChild(_)):/^(search|tel)$/.test(s)||(n=/^(url|email)$/.test(s)?_.checkValidity&&_.checkValidity()===!1:_.value!=x)),G[e[r]]=!!n;return G}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var u,d,f="2.6.1",p={},g=!0,m=t.documentElement,v="modernizr",b=t.createElement(v),y=b.style,_=t.createElement("input"),x=":)",w={}.toString,k=" -webkit- -moz- -o- -ms- ".split(" "),C="Webkit Moz O ms",j=C.split(" "),S=C.toLowerCase().split(" "),T={svg:"http://www.w3.org/2000/svg"},I={},G={},A={},P=[],M=P.slice,D=function(e,i,n,s){var a,r,o,l=t.createElement("div"),c=t.body,h=c?c:t.createElement("body");if(parseInt(n,10))for(;n--;)o=t.createElement("div"),o.id=s?s[n]:v+(n+1),l.appendChild(o);return a=["&#173;",'<style id="s',v,'">',e,"</style>"].join(""),l.id=v,(c?l:h).innerHTML+=a,h.appendChild(l),c||(h.style.background="",m.appendChild(h)),r=i(l,e),c?l.parentNode.removeChild(l):h.parentNode.removeChild(h),!!r},O=function(t){var i=e.matchMedia||e.msMatchMedia;if(i)return i(t).matches;var n;return D("@media "+t+" { #"+v+" { position: absolute; } }",function(t){n="absolute"==(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle).position}),n},F=function(){function e(e,s){s=s||t.createElement(n[e]||"div"),e="on"+e;var r=e in s;return r||(s.setAttribute||(s=t.createElement("div")),s.setAttribute&&s.removeAttribute&&(s.setAttribute(e,""),r=a(s[e],"function"),a(s[e],"undefined")||(s[e]=i),s.removeAttribute(e))),s=null,r}var n={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return e}(),E={}.hasOwnProperty;d=a(E,"undefined")||a(E.call,"undefined")?function(e,t){return t in e&&a(e.constructor.prototype[t],"undefined")}:function(e,t){return E.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var i=M.call(arguments,1),n=function(){if(this instanceof n){var s=function(){};s.prototype=t.prototype;var a=new s,r=t.apply(a,i.concat(M.call(arguments)));return Object(r)===r?r:a}return t.apply(e,i.concat(M.call(arguments)))};return n}),I.flexbox=function(){return c("flexWrap")},I.flexboxlegacy=function(){return c("boxDirection")},I.canvas=function(){var e=t.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},I.canvastext=function(){return!(!p.canvas||!a(t.createElement("canvas").getContext("2d").fillText,"function"))},I.webgl=function(){return!!e.WebGLRenderingContext},I.touch=function(){var i;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?i=!0:D(["@media (",k.join("touch-enabled),("),v,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){i=9===e.offsetTop}),i},I.geolocation=function(){return"geolocation"in navigator},I.postmessage=function(){return!!e.postMessage},I.websqldatabase=function(){return!!e.openDatabase},I.indexedDB=function(){return!!c("indexedDB",e)},I.hashchange=function(){return F("hashchange",e)&&(t.documentMode===i||t.documentMode>7)},I.history=function(){return!(!e.history||!history.pushState)},I.draganddrop=function(){var e=t.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e},I.websockets=function(){return"WebSocket"in e||"MozWebSocket"in e},I.rgba=function(){return n("background-color:rgba(150,255,150,.5)"),r(y.backgroundColor,"rgba")},I.hsla=function(){return n("background-color:hsla(120,40%,100%,.5)"),r(y.backgroundColor,"rgba")||r(y.backgroundColor,"hsla")},I.multiplebgs=function(){return n("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(y.background)},I.backgroundsize=function(){return c("backgroundSize")},I.borderimage=function(){return c("borderImage")},I.borderradius=function(){return c("borderRadius")},I.boxshadow=function(){return c("boxShadow")},I.textshadow=function(){return""===t.createElement("div").style.textShadow},I.opacity=function(){return s("opacity:.55"),/^0.55$/.test(y.opacity)},I.cssanimations=function(){return c("animationName")},I.csscolumns=function(){return c("columnCount")},I.cssgradients=function(){var e="background-image:",t="gradient(linear,left top,right bottom,from(#9f9),to(white));",i="linear-gradient(left top,#9f9, white);";return n((e+"-webkit- ".split(" ").join(t+e)+k.join(i+e)).slice(0,-e.length)),r(y.backgroundImage,"gradient")},I.cssreflections=function(){return c("boxReflect")},I.csstransforms=function(){return!!c("transform")},I.csstransforms3d=function(){var e=!!c("perspective");return e&&"webkitPerspective"in m.style&&D("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t){e=9===t.offsetLeft&&3===t.offsetHeight}),e},I.csstransitions=function(){return c("transition")},I.fontface=function(){var e;return D('@font-face {font-family:"font";src:url("https://")}',function(i,n){var s=t.getElementById("smodernizr"),a=s.sheet||s.styleSheet,r=a?a.cssRules&&a.cssRules[0]?a.cssRules[0].cssText:a.cssText||"":"";e=/src/i.test(r)&&0===r.indexOf(n.split(" ")[0])}),e},I.generatedcontent=function(){var e;return D(['#modernizr:after{content:"',x,'";visibility:hidden}'].join(""),function(t){e=t.offsetHeight>=1}),e},I.video=function(){var e=t.createElement("video"),i=!1;try{(i=!!e.canPlayType)&&(i=new Boolean(i),i.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),i.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),i.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(n){}return i},I.audio=function(){var e=t.createElement("audio"),i=!1;try{(i=!!e.canPlayType)&&(i=new Boolean(i),i.ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),i.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),i.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),i.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(n){}return i},I.localstorage=function(){try{return localStorage.setItem(v,v),localStorage.removeItem(v),!0}catch(e){return!1}},I.sessionstorage=function(){try{return sessionStorage.setItem(v,v),sessionStorage.removeItem(v),!0}catch(e){return!1}},I.webworkers=function(){return!!e.Worker},I.applicationcache=function(){return!!e.applicationCache},I.svg=function(){return!!t.createElementNS&&!!t.createElementNS(T.svg,"svg").createSVGRect},I.inlinesvg=function(){var e=t.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==T.svg},I.smil=function(){return!!t.createElementNS&&/SVGAnimate/.test(w.call(t.createElementNS(T.svg,"animate")))},I.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(w.call(t.createElementNS(T.svg,"clipPath")))};for(var H in I)d(I,H)&&(u=H.toLowerCase(),p[u]=I[H](),P.push((p[u]?"":"no-")+u));return p.input||h(),p.addTest=function(e,t){if("object"==typeof e)for(var n in e)d(e,n)&&p.addTest(n,e[n]);else{if(e=e.toLowerCase(),p[e]!==i)return p;t="function"==typeof t?t():t,g&&(m.className+=" "+(t?"":"no-")+e),p[e]=t}return p},n(""),b=_=null,function(e,t){function i(e,t){var i=e.createElement("p"),n=e.getElementsByTagName("head")[0]||e.documentElement;return i.innerHTML="x<style>"+t+"</style>",n.insertBefore(i.lastChild,n.firstChild)}function n(){var e=v.elements;return"string"==typeof e?e.split(" "):e}function s(e){var t=m[e[p]];return t||(t={},g++,e[p]=g,m[g]=t),t}function a(e,i,n){if(i||(i=t),h)return i.createElement(e);n||(n=s(i));var a;return a=n.cache[e]?n.cache[e].cloneNode():f.test(e)?(n.cache[e]=n.createElem(e)).cloneNode():n.createElem(e),a.canHaveChildren&&!d.test(e)?n.frag.appendChild(a):a}function r(e,i){if(e||(e=t),h)return e.createDocumentFragment();i=i||s(e);for(var a=i.frag.cloneNode(),r=0,o=n(),l=o.length;l>r;r++)a.createElement(o[r]);return a}function o(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(i){return v.shivMethods?a(i,e,t):t.createElem(i)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+n().join().replace(/\w+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(v,t.frag)}function l(e){e||(e=t);var n=s(e);return!v.shivCSS||c||n.hasCSS||(n.hasCSS=!!i(e,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),h||o(e,n),e}var c,h,u=e.html5||{},d=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,f=/^<|^(?:a|b|button|code|div|fieldset|form|h1|h2|h3|h4|h5|h6|i|iframe|img|input|label|li|link|ol|option|p|param|q|script|select|span|strong|style|table|tbody|td|textarea|tfoot|th|thead|tr|ul)$/i,p="_html5shiv",g=0,m={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",c="hidden"in e,h=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(i){c=!0,h=!0}}();var v={elements:u.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:u.shivCSS!==!1,supportsUnknownElements:h,shivMethods:u.shivMethods!==!1,type:"default",shivDocument:l,createElement:a,createDocumentFragment:r};e.html5=v,l(t)}(this,t),p._version=f,p._prefixes=k,p._domPrefixes=S,p._cssomPrefixes=j,p.mq=O,p.hasEvent=F,p.testProp=function(e){return o([e])},p.testAllProps=c,p.testStyles=D,p.prefixed=function(e,t,i){return t?c(e,t,i):c(e,"pfx")},m.className=m.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(g?" js "+P.join(" "):""),p}(this,this.document),window.Modernizr=function(e,t,i){function n(e){f.cssText=e}function s(e,t){return typeof e===t}var a,r,o,l="2.5.3",c={},h=t.documentElement,u="modernizr",d=t.createElement(u),f=d.style,p=({}.toString,{}),g=[],m=g.slice,v=function(e,i,n,s){var a,r,o,l=t.createElement("div"),c=t.body,d=c?c:t.createElement("body");if(parseInt(n,10))for(;n--;)o=t.createElement("div"),o.id=s?s[n]:u+(n+1),l.appendChild(o);return a=["&#173;","<style>",e,"</style>"].join(""),l.id=u,(c?l:d).innerHTML+=a,d.appendChild(l),c||(d.style.background="",h.appendChild(d)),r=i(l,e),c?l.parentNode.removeChild(l):d.parentNode.removeChild(d),!!r},b=function(t){var i=e.matchMedia||e.msMatchMedia;if(i)return i(t).matches;var n;return v("@media "+t+" { #"+u+" { position: absolute; } }",function(t){n="absolute"==(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle).position}),n},y={}.hasOwnProperty;o=s(y,"undefined")||s(y.call,"undefined")?function(e,t){return t in e&&s(e.constructor.prototype[t],"undefined")}:function(e,t){return y.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var i=m.call(arguments,1),n=function(){if(this instanceof n){var s=function(){};s.prototype=t.prototype;var a=new s,r=t.apply(a,i.concat(m.call(arguments)));return Object(r)===r?r:a}return t.apply(e,i.concat(m.call(arguments)))};return n});for(var _ in p)o(p,_)&&(r=_.toLowerCase(),c[r]=p[_](),g.push((c[r]?"":"no-")+r));return n(""),d=a=null,c._version=l,c.mq=b,c.testStyles=v,c}(this,this.document),function(){}.call(this),/*

Quicksand 1.2.1

Reorder and filter items with a nice shuffling animation.

Copyright (c) 2010 Jacek Galanciak (razorjack.net) and agilope.com
Big thanks for Piotr Petrus (riddle.pl) for deep code review and wonderful docs & demos.

Dual licensed under the MIT and GPL version 2 licenses.
http://github.com/jquery/jquery/blob/master/MIT-LICENSE.txt
http://github.com/jquery/jquery/blob/master/GPL-LICENSE.txt

Project site: http://razorjack.net/quicksand
Github site: http://github.com/razorjack/quicksand

*/
function(e){e.fn.quicksand=function(t,i){var n={duration:750,easing:"swing",attribute:"data-id",adjustHeight:"auto",useScaling:!0,enhancement:function(){},selector:"> *",dx:0,dy:0};e.extend(n,i),(e.browser.msie||"undefined"==typeof e.fn.scale)&&(n.useScaling=!1);var s;if("function"==typeof arguments[1])var s=arguments[1];else var s=arguments[2];return this.each(function(i){var a,r,o=[],l=e(t).clone(),c=e(this),h=e(this).css("height"),u=!1,f=e(c).offset(),p=[],g=e(this).find(n.selector);if(e.browser.msie&&e.browser.version.substr(0,1)<7)return c.html("").append(l),void 0;var m=0,v=function(){m||(m=1,$toDelete=c.find("> *"),c.prepend(w.find("> *")),$toDelete.remove(),u&&c.css("height",r),n.enhancement(c),"function"==typeof s&&s.call(this))},b=c.offsetParent(),y=b.offset();"relative"==b.css("position")?"body"==b.get(0).nodeName.toLowerCase()||(y.top+=parseFloat(b.css("border-top-width"))||0,y.left+=parseFloat(b.css("border-left-width"))||0):(y.top-=parseFloat(b.css("border-top-width"))||0,y.left-=parseFloat(b.css("border-left-width"))||0,y.top-=parseFloat(b.css("margin-top"))||0,y.left-=parseFloat(b.css("margin-left"))||0),isNaN(y.left)&&(y.left=0),isNaN(y.top)&&(y.top=0),y.left-=n.dx,y.top-=n.dy,c.css("height",e(this).height()),g.each(function(t){p[t]=e(this).offset()}),e(this).stop();var _=0,x=0;g.each(function(t){e(this).stop();var i=e(this).get(0);"absolute"==i.style.position?(_=-n.dx,x=-n.dy):(_=n.dx,x=n.dy),i.style.position="absolute",i.style.margin="0",i.style.top=p[t].top-parseFloat(i.style.marginTop)-y.top+x+"px",i.style.left=p[t].left-parseFloat(i.style.marginLeft)-y.left+_+"px"});var w=e(c).clone(),k=w.get(0);for(k.innerHTML="",k.setAttribute("id",""),k.style.height="auto",k.style.width=c.width()+"px",w.append(l),w.insertBefore(c),w.css("opacity",0),k.style.zIndex=-1,k.style.margin="0",k.style.position="absolute",k.style.top=f.top-y.top+"px",k.style.left=f.left-y.left+"px","dynamic"===n.adjustHeight?c.animate({height:w.height()},n.duration,n.easing):"auto"===n.adjustHeight&&(r=w.height(),parseFloat(h)<parseFloat(r)?c.css("height",r):u=!0),g.each(function(){var t=[];"function"==typeof n.attribute?(a=n.attribute(e(this)),l.each(function(){return n.attribute(this)==a?(t=e(this),!1):void 0})):t=l.filter("["+n.attribute+"="+e(this).attr(n.attribute)+"]"),t.length?n.useScaling?o.push({element:e(this),animation:{top:t.offset().top-y.top,left:t.offset().left-y.left,opacity:1,scale:"1.0"}}):o.push({element:e(this),animation:{top:t.offset().top-y.top,left:t.offset().left-y.left,opacity:1}}):n.useScaling?o.push({element:e(this),animation:{opacity:"0.0",scale:"0.0"}}):o.push({element:e(this),animation:{opacity:"0.0"}})}),l.each(function(){var t=[],i=[];"function"==typeof n.attribute?(a=n.attribute(e(this)),g.each(function(){return n.attribute(this)==a?(t=e(this),!1):void 0}),l.each(function(){return n.attribute(this)==a?(i=e(this),!1):void 0})):(t=g.filter("["+n.attribute+"="+e(this).attr(n.attribute)+"]"),i=l.filter("["+n.attribute+"="+e(this).attr(n.attribute)+"]"));var s;if(0===t.length){s=n.useScaling?{opacity:"1.0",scale:"1.0"}:{opacity:"1.0"},d=i.clone();var r=d.get(0);r.style.position="absolute",r.style.margin="0",r.style.top=i.offset().top-y.top+"px",r.style.left=i.offset().left-y.left+"px",d.css("opacity",0),n.useScaling&&d.css("transform","scale(0.0)"),d.appendTo(c),o.push({element:e(d),animation:s})}}),w.remove(),n.enhancement(c),i=0;i<o.length;i++)o[i].element.animate(o[i].animation,n.duration,n.easing,v)})}}(jQuery),/*
Copyright 2012 Igor Vaynberg    xxx
 
Version: 3.1 Timestamp: Tue Aug 14 09:05:17 PDT 2012

Licensed under the Apache License, Version 2.0 (the "License"); you may not use this work except in
compliance with the License. You may obtain a copy of the License in the LICENSE file, or at:

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software distributed under the License is
distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and limitations under the License.
*/
function(e){"undefined"==typeof e.fn.each2&&e.fn.extend({each2:function(t){for(var i=e([0]),n=-1,s=this.length;++n<s&&(i.context=i[0]=this[n])&&!1!==t.call(i[0],n,i););return this}})}(jQuery),function(e,t){function i(e){return e&&"string"==typeof e?e.replace(/&/g,"&amp;"):e}function n(e,t){var i,n=0,s=t.length;if("undefined"==typeof e)return-1;if(e.constructor===String){for(;s>n;n+=1)if(0===e.localeCompare(t[n]))return n}else for(;s>n;n+=1)if(i=t[n],i.constructor===String){if(0===i.localeCompare(e))return n}else if(i===e)return n;return-1}function s(e,i){return e===i?!0:e===t||i===t||null===e||null===i?!1:e.constructor===String?0===e.localeCompare(i):i.constructor===String?0===i.localeCompare(e):!1}function a(t,i){var n,s,a;if(null===t||1>t.length)return[];for(n=t.split(i),s=0,a=n.length;a>s;s+=1)n[s]=e.trim(n[s]);return n}function r(e,t){var i;return function(){window.clearTimeout(i),i=window.setTimeout(t,e)}}function o(e){e.preventDefault(),e.stopPropagation()}function l(e,t,i){var n=e.toUpperCase().indexOf(t.toUpperCase()),t=t.length;0>n?i.push(e):(i.push(e.substring(0,n)),i.push("<span class='select2-match'>"),i.push(e.substring(n,n+t)),i.push("</span>"),i.push(e.substring(n+t,e.length)))}function c(t){var i,n=0,s=null,a=t.quietMillis||100;return function(r){window.clearTimeout(i),i=window.setTimeout(function(){var i=n+=1,a=t.data,o=t.transport||e.ajax,l=t.traditional||!1,c=t.type||"GET",a=a.call(this,r.term,r.page,r.context);null!==s&&s.abort(),s=o.call(null,{url:t.url,dataType:t.dataType,data:a,type:c,traditional:l,success:function(e){n>i||(e=t.results(e,r.page),r.callback(e))}})},a)}}function h(t){var i,n=t,s=function(e){return""+e.text};return e.isArray(n)||(s=n.text,e.isFunction(s)||(i=n.text,s=function(e){return e[i]}),n=n.results),function(t){var i=t.term,a={};""===i?t.callback({results:n}):(a.results=e(n).filter(function(){return t.matcher(i,s(this))}).get(),t.callback(a))}}function u(i){return e.isFunction(i)?i:function(n){var s=n.term,a={results:[]};e(i).each(function(){var e=this.text!==t,i=e?this.text:this;(""===s||n.matcher(s,i))&&a.results.push(e?this:{id:this,text:this})}),n.callback(a)}}function d(t){if(e.isFunction(t))return!0;if(!t)return!1;throw Error("formatterName must be a function or a falsy value")}function f(t){return e.isFunction(t)?t():t}function p(t){var i=0;return e.each(t,function(e,t){t.children?i+=p(t.children):i++}),i}function g(e,i,n,a){var r,o,l,c,h=e,u=!1;if(!a.createSearchChoice||!a.tokenSeparators||1>a.tokenSeparators.length)return t;for(;;){for(u=-1,o=0,l=a.tokenSeparators.length;l>o&&(c=a.tokenSeparators[o],u=e.indexOf(c),!(u>=0));o++);if(0>u)break;if(r=e.substring(0,u),e=e.substring(u+c.length),0<r.length&&(r=a.createSearchChoice(r,i),r!==t&&null!==r&&a.id(r)!==t&&null!==a.id(r))){for(u=!1,o=0,l=i.length;l>o;o++)if(s(a.id(r),a.id(i[o]))){u=!0;break}u||n(r)}}return 0!=h.localeCompare(e)?e:void 0}function m(t,i){var n=function(){};return n.prototype=new t,n.prototype.constructor=n,n.prototype.parent=t.prototype,n.prototype=e.extend(n.prototype,i),n}if(window.Select2===t){var v,b,y,_,x,w;v={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case v.LEFT:case v.RIGHT:case v.UP:case v.DOWN:return!0}return!1},isControl:function(e){switch(e.which){case v.SHIFT:case v.CTRL:case v.ALT:return!0}return e.metaKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e}};var k=1;x=function(){return k++},e(document).delegate("*","mousemove",function(t){e.data(document,"select2-lastpos",{x:t.pageX,y:t.pageY})}),e(document).ready(function(){e(document).delegate("*","mousedown touchend",function(i){var n,s=e(i.target).closest("div.select2-container").get(0);s?e(document).find("div.select2-container-active").each(function(){this!==s&&e(this).data("select2").blur()}):(s=e(i.target).closest("div.select2-drop").get(0),e(document).find("div.select2-drop-active").each(function(){this!==s&&e(this).data("select2").blur()})),s=e(i.target),n=s.attr("for"),"LABEL"===i.target.tagName&&n&&0<n.length&&(s=e("#"+n),s=s.data("select2"),s!==t&&(s.focus(),i.preventDefault()))})}),b=m(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(i){var s,a;this.opts=i=this.prepareOpts(i),this.id=i.id,i.element.data("select2")!==t&&null!==i.element.data("select2")&&this.destroy(),this.enabled=!0,this.container=this.createContainer(),this.containerId="s2id"+x(),this.container.attr("id",this.containerId);var l,c=!1;this.body=function(){return!1===c&&(l=i.element.closest("body"),c=!0),l},i.element.attr("class")!==t&&this.container.addClass(i.element.attr("class")),this.container.css(f(i.containerCss)),this.container.addClass(f(i.containerCssClass)),this.opts.element.data("select2",this).hide().before(this.container),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),this.dropdown.addClass(f(i.dropdownCssClass)),this.dropdown.data("select2",this),this.results=s=this.container.find(".select2-results"),this.search=a=this.container.find("input.select2-input"),a.attr("tabIndex",this.opts.element.attr("tabIndex")),this.resultsPage=0,this.context=null,this.initContainer(),this.initContainerWidth(),this.results.bind("mousemove",function(i){var n=e.data(document,"select2-lastpos");(n===t||n.x!==i.pageX||n.y!==i.pageY)&&e(i.target).trigger("mousemove-filtered",i)}),this.dropdown.delegate(".select2-results","mousemove-filtered",this.bind(this.highlightUnderEvent));var h=this.results,u=r(80,function(e){h.trigger("scroll-debounced",e)});h.bind("scroll",function(e){0<=n(e.target,h.get())&&u(e)}),this.dropdown.delegate(".select2-results","scroll-debounced",this.bind(this.loadMoreIfNeeded)),e.fn.mousewheel&&s.mousewheel(function(e,t,i,n){t=s.scrollTop(),n>0&&0>=t-n?(s.scrollTop(0),o(e)):0>n&&s.get(0).scrollHeight-s.scrollTop()+n<=s.height()&&(s.scrollTop(s.get(0).scrollHeight-s.height()),o(e))}),a.bind("keydown",function(){e.data(a,"keyup-change-value")===t&&e.data(a,"keyup-change-value",a.val())}),a.bind("keyup",function(){var i=e.data(a,"keyup-change-value");i!==t&&a.val()!==i&&(e.removeData(a,"keyup-change-value"),a.trigger("keyup-change"))}),a.bind("keyup-change",this.bind(this.updateResults)),a.bind("focus",function(){a.addClass("select2-focused")," "===a.val()&&a.val("")}),a.bind("blur",function(){a.removeClass("select2-focused")}),this.dropdown.delegate(".select2-results","mouseup",this.bind(function(t){0<e(t.target).closest(".select2-result-selectable:not(.select2-disabled)").length?(this.highlightUnderEvent(t),this.selectHighlighted(t)):this.focusSearch(),o(t)})),this.dropdown.bind("click mouseup mousedown",function(e){e.stopPropagation()}),e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),(i.element.is(":disabled")||i.element.is("[readonly='readonly']"))&&this.disable()},destroy:function(){var e=this.opts.element.data("select2");e!==t&&(e.container.remove(),e.dropdown.remove(),e.opts.element.removeData("select2").unbind(".select2").show())},prepareOpts:function(n){var r,o,l;if(r=n.element,"select"===r.get(0).tagName.toLowerCase()&&(this.select=o=n.element),o&&e.each("id multiple ajax query createSearchChoice initSelection data tags".split(" "),function(){if(this in n)throw Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),n=e.extend({},{populateResults:function(s,a,r){var o,l=this.opts.id,c=this;o=function(s,a,h){var u,d,f,p,g,m,v;for(u=0,d=s.length;d>u;u+=1)f=s[u],p=l(f)!==t,g="children"in f&&f.children.length>0,m=e("<li></li>"),m.addClass("select2-results-dept-"+h),m.addClass("select2-result"),m.addClass(p?"select2-result-selectable":"select2-result-unselectable"),g&&m.addClass("select2-result-with-children"),m.addClass(c.opts.formatResultCssClass(f)),p=e("<div></div>"),p.addClass("select2-result-label"),v=n.formatResult(f,p,r),v!==t&&p.html(i(v)),m.append(p),g&&(g=e("<ul></ul>"),g.addClass("select2-result-sub"),o(f.children,g,h+1),m.append(g)),m.data("select2-data",f),a.append(m)},o(a,s,0)}},e.fn.select2.defaults,n),"function"!=typeof n.id&&(l=n.id,n.id=function(e){return e[l]}),o?(n.query=this.bind(function(i){var n,s,a,o={results:[],more:!1},l=i.term;a=function(e,t){var n;e.is("option")?i.matcher(l,e.text(),e)&&t.push({id:e.attr("value"),text:e.text(),element:e.get(),css:e.attr("class")}):e.is("optgroup")&&(n={text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")},e.children().each2(function(e,t){a(t,n.children)}),n.children.length>0&&t.push(n))},n=r.children(),this.getPlaceholder()!==t&&n.length>0&&(s=n[0],""===e(s).text()&&(n=n.not(s))),n.each2(function(e,t){a(t,o.results)}),i.callback(o)}),n.id=function(e){return e.id},n.formatResultCssClass=function(e){return e.css}):"query"in n||("ajax"in n?((o=n.element.data("ajax-url"))&&0<o.length&&(n.ajax.url=o),n.query=c(n.ajax)):"data"in n?n.query=h(n.data):"tags"in n&&(n.query=u(n.tags),n.createSearchChoice=function(e){return{id:e,text:e}},n.initSelection=function(t,i){var r=[];e(a(t.val(),n.separator)).each(function(){var t=this,i=this,a=n.tags;e.isFunction(a)&&(a=a()),e(a).each(function(){return s(this.id,t)?(i=this.text,!1):void 0}),r.push({id:t,text:i})}),i(r)})),"function"!=typeof n.query)throw"query function not defined for Select2 "+n.element.attr("id");return n},monitorSource:function(){this.opts.element.bind("change.select2",this.bind(function(){!0!==this.opts.element.data("select2-change-triggered")&&this.initSelection()}))},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click()},enable:function(){this.enabled||(this.enabled=!0,this.container.removeClass("select2-container-disabled"))},disable:function(){this.enabled&&(this.close(),this.enabled=!1,this.container.addClass("select2-container-disabled"))},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t,i=this.container.offset(),n=this.container.outerHeight(),s=this.container.outerWidth(),a=this.dropdown.outerHeight(),r=e(window).scrollTop()+document.documentElement.clientHeight,n=i.top+n,r=r>=n+a,o=i.top-a>=this.body().scrollTop();this.dropdown.hasClass("select2-drop-above")?(t=!0,!o&&r&&(t=!1)):(t=!1,!r&&o&&(t=!0)),t?(n=i.top-a,this.container.addClass("select2-drop-above"),this.dropdown.addClass("select2-drop-above")):(this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")),this.dropdown.css({top:n,left:i.left,width:s})},shouldOpen:function(){var e;return this.opened()?!1:(e=jQuery.Event("open"),this.opts.element.trigger(e),!e.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(window.setTimeout(this.bind(this.opening),1),!0):!1},opening:function(){var t=this.containerId,i="#"+t,n="scroll."+t,s="resize."+t;this.container.parents().each(function(){e(this).bind(n,function(){var t=e(i);0==t.length&&e(this).unbind(n),t.select2("close")})}),e(window).bind(s,function(){var t=e(i);0==t.length&&e(window).unbind(s),t.select2("close")}),this.clearDropdownAlignmentPreference()," "===this.search.val()&&this.search.val(""),this.dropdown.css(f(this.opts.dropdownCss)),this.dropdown.addClass("select2-drop-active"),this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.updateResults(!0),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),this.dropdown.show(),this.ensureHighlightVisible(),this.positionDropdown(),this.focusSearch()},close:function(){if(this.opened()){var t=this;this.container.parents().each(function(){e(this).unbind("scroll."+t.containerId)}),e(window).unbind("resize."+this.containerId),this.clearDropdownAlignmentPreference(),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),this.clearSearch(),this.opts.element.trigger(jQuery.Event("close"))}},clearSearch:function(){},ensureHighlightVisible:function(){var t,i,n,s,a=this.results;i=this.highlight(),0>i||(0==i?a.scrollTop(0):(t=a.find(".select2-result-selectable"),n=e(t[i]),s=n.offset().top+n.outerHeight(),i===t.length-1&&(t=a.find("li.select2-more-results"),0<t.length&&(s=t.offset().top+t.outerHeight())),t=a.offset().top+a.outerHeight(),s>t&&a.scrollTop(a.scrollTop()+(s-t)),n=n.offset().top-a.offset().top,0>n&&a.scrollTop(a.scrollTop()+n)))},moveHighlight:function(t){for(var i=this.results.find(".select2-result-selectable"),n=this.highlight();n>-1&&n<i.length;){var n=n+t,s=e(i[n]);if(s.hasClass("select2-result-selectable")&&!s.hasClass("select2-disabled")){this.highlight(n);break}}},highlight:function(t){var i=this.results.find(".select2-result-selectable").not(".select2-disabled");return 0===arguments.length?n(i.filter(".select2-highlighted")[0],i.get()):(t>=i.length&&(t=i.length-1),0>t&&(t=0),i.removeClass("select2-highlighted"),e(i[t]).addClass("select2-highlighted"),this.ensureHighlightVisible(),void 0)},countSelectableResults:function(){return this.results.find(".select2-result-selectable").not(".select2-disabled").length},highlightUnderEvent:function(t){if(t=e(t.target).closest(".select2-result-selectable"),0<t.length&&!t.is(".select2-highlighted")){var i=this.results.find(".select2-result-selectable");this.highlight(i.index(t))}else 0==t.length&&this.results.find(".select2-highlighted").removeClass("select2-highlighted")},loadMoreIfNeeded:function(){var e,t=this.results,i=t.find("li.select2-more-results"),n=this.resultsPage+1,s=this,a=this.search.val(),r=this.context;0!==i.length&&(e=i.offset().top-t.offset().top-t.height(),0>=e&&(i.addClass("select2-active"),this.opts.query({term:a,page:n,context:r,matcher:this.opts.matcher,callback:this.bind(function(e){s.opts.populateResults.call(this,t,e.results,{term:a,page:n,context:r}),!0===e.more?(i.detach().appendTo(t).text(s.opts.formatLoadMore(n+1)),window.setTimeout(function(){s.loadMoreIfNeeded()},10)):i.remove(),s.positionDropdown(),s.resultsPage=n})})))},tokenize:function(){},updateResults:function(n){function a(){c.scrollTop(0),l.removeClass("select2-active"),u.positionDropdown()}function r(e){c.html(i(e)),a()}var o,l=this.search,c=this.results,h=this.opts,u=this;if(!0===n||!1!==this.showSearchInput&&this.opened()){if(l.addClass("select2-active"),1<=h.maximumSelectionSize&&(o=this.data(),e.isArray(o)&&o.length>=h.maximumSelectionSize&&d(h.formatSelectionTooBig,"formatSelectionTooBig")))return r("<li class='select2-selection-limit'>"+h.formatSelectionTooBig(h.maximumSelectionSize)+"</li>"),void 0;l.val().length<h.minimumInputLength&&d(h.formatInputTooShort,"formatInputTooShort")?r("<li class='select2-no-results'>"+h.formatInputTooShort(l.val(),h.minimumInputLength)+"</li>"):(r("<li class='select2-searching'>"+h.formatSearching()+"</li>"),o=this.tokenize(),o!=t&&null!=o&&l.val(o),this.resultsPage=1,h.query({term:l.val(),page:this.resultsPage,context:null,matcher:h.matcher,callback:this.bind(function(o){var f;this.context=o.context===t?null:o.context,this.opts.createSearchChoice&&""!==l.val()&&(f=this.opts.createSearchChoice.call(null,l.val(),o.results),f!==t&&null!==f&&u.id(f)!==t&&null!==u.id(f)&&0===e(o.results).filter(function(){return s(u.id(this),u.id(f))}).length&&o.results.unshift(f)),0===o.results.length&&d(h.formatNoMatches,"formatNoMatches")?r("<li class='select2-no-results'>"+h.formatNoMatches(l.val())+"</li>"):(c.empty(),u.opts.populateResults.call(this,c,o.results,{term:l.val(),page:this.resultsPage,context:null}),!0===o.more&&d(h.formatLoadMore,"formatLoadMore")&&(c.append("<li class='select2-more-results'>"+i(h.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){u.loadMoreIfNeeded()},10)),this.postprocessResults(o,n),a())})}))}},cancel:function(){this.close()},blur:function(){this.close(),this.container.removeClass("select2-container-active"),this.dropdown.removeClass("select2-drop-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){window.setTimeout(this.bind(function(){this.search.focus(),this.search.val(this.search.val())}),10)},selectHighlighted:function(){var e=this.highlight(),t=this.results.find(".select2-highlighted").not(".select2-disabled"),i=t.closest(".select2-result-selectable").data("select2-data");i&&(t.addClass("select2-disabled"),this.highlight(e),this.onSelect(i))},getPlaceholder:function(){return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder},initContainerWidth:function(){var i=function(){var i,n,s,a;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth()?"auto":this.opts.element.outerWidth()+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(i=this.opts.element.attr("style"),i!==t)for(i=i.split(";"),s=0,a=i.length;a>s;s+=1)if(n=i[s].replace(/\s/g,"").match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/),null!==n&&1<=n.length)return n[1];return"resolve"===this.opts.width?(i=this.opts.element.css("width"),0<i.indexOf("%")?i:0===this.opts.element.outerWidth()?"auto":this.opts.element.outerWidth()+"px"):null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}.call(this);null!==i&&this.container.attr("style","width: "+i)}}),y=m(b,{createContainer:function(){return e("<div></div>",{"class":"select2-container"}).html("    <a href='javascript:void(0)' class='select2-choice'>   <span></span><abbr class='select2-search-choice-close' style='display:none;'></abbr>   <div><b></b></div></a>    <div class='select2-drop select2-offscreen'>   <div class='select2-search'>       <input type='text' autocomplete='off' class='select2-input'/>   </div>   <ul class='select2-results'>   </ul></div>")},opening:function(){this.search.show(),this.parent.opening.apply(this,arguments),this.dropdown.removeClass("select2-offscreen")},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.dropdown.removeAttr("style").addClass("select2-offscreen").insertAfter(this.selection).show())},focus:function(){this.close(),this.selection.focus()},isFocused:function(){return this.selection[0]===document.activeElement},cancel:function(){this.parent.cancel.apply(this,arguments),this.selection.focus()},initContainer:function(){var e,t=this.dropdown;this.selection=e=this.container.find(".select2-choice"),this.search.bind("keydown",this.bind(function(e){if(this.enabled)if(e.which===v.PAGE_UP||e.which===v.PAGE_DOWN)o(e);else if(this.opened())switch(e.which){case v.UP:case v.DOWN:this.moveHighlight(e.which===v.UP?-1:1),o(e);break;case v.TAB:case v.ENTER:this.selectHighlighted(),o(e);break;case v.ESC:this.cancel(e),o(e)}else e.which===v.TAB||v.isControl(e)||v.isFunctionKey(e)||e.which===v.ESC||!1===this.opts.openOnEnter&&e.which===v.ENTER||this.open()})),this.search.bind("focus",this.bind(function(){this.selection.attr("tabIndex","-1")})),this.search.bind("blur",this.bind(function(){this.opened()||this.container.removeClass("select2-container-active"),window.setTimeout(this.bind(function(){this.selection.attr("tabIndex",this.opts.element.attr("tabIndex"))}),10)})),e.bind("mousedown",this.bind(function(){this.opened()?(this.close(),this.selection.focus()):this.enabled&&this.open()})),t.bind("mousedown",this.bind(function(){this.search.focus()})),e.bind("focus",this.bind(function(){this.container.addClass("select2-container-active"),this.search.attr("tabIndex","-1")})),e.bind("blur",this.bind(function(){this.opened()||this.container.removeClass("select2-container-active"),window.setTimeout(this.bind(function(){this.search.attr("tabIndex",this.opts.element.attr("tabIndex"))}),10)})),e.bind("keydown",this.bind(function(e){if(this.enabled)if(e.which===v.PAGE_UP||e.which===v.PAGE_DOWN)o(e);else if(!(e.which===v.TAB||v.isControl(e)||v.isFunctionKey(e)||e.which===v.ESC||!1===this.opts.openOnEnter&&e.which===v.ENTER))if(e.which==v.DELETE)this.opts.allowClear&&this.clear();else{if(this.open(),e.which!==v.ENTER&&!(48>e.which)){var t=String.fromCharCode(e.which).toLowerCase();e.shiftKey&&(t=t.toUpperCase()),this.search.focus(),this.search.val(t)}o(e)}})),e.delegate("abbr","mousedown",this.bind(function(e){this.enabled&&(this.clear(),o(e),this.close(),this.triggerChange(),this.selection.focus())})),this.setPlaceholder(),this.search.bind("focus",this.bind(function(){this.container.addClass("select2-container-active")}))},clear:function(){this.opts.element.val(""),this.selection.find("span").empty(),this.selection.removeData("select2-data"),this.setPlaceholder()},initSelection:function(){if(""===this.opts.element.val())this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(i){i!==t&&null!==i&&(e.updateSelection(i),e.close(),e.setPlaceholder())})}},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments);return"select"===t.element.get(0).tagName.toLowerCase()&&(t.initSelection=function(t,i){var n=t.find(":selected");e.isFunction(i)&&i({id:n.attr("value"),text:n.text()})}),t},setPlaceholder:function(){var e=this.getPlaceholder();""===this.opts.element.val()&&e!==t&&!(this.select&&""!==this.select.find("option:first").text())&&(this.selection.find("span").html(i(e)),this.selection.addClass("select2-default"),this.selection.find("abbr").hide())},postprocessResults:function(t,i){var n=0,a=this,r=!0;this.results.find(".select2-result-selectable").each2(function(e,t){return s(a.id(t.data("select2-data")),a.opts.element.val())?(n=e,!1):void 0}),this.highlight(n),!0===i&&(r=this.showSearchInput=p(t.results)>=this.opts.minimumResultsForSearch,this.dropdown.find(".select2-search")[r?"removeClass":"addClass"]("select2-search-hidden"),e(this.dropdown,this.container)[r?"addClass":"removeClass"]("select2-with-searchbox"))},onSelect:function(e){var t=this.opts.element.val();this.opts.element.val(this.id(e)),this.updateSelection(e),this.close(),this.selection.focus(),s(t,this.id(e))||this.triggerChange()},updateSelection:function(e){var n=this.selection.find("span");this.selection.data("select2-data",e),n.empty(),e=this.opts.formatSelection(e,n),e!==t&&n.append(i(e)),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.selection.find("abbr").show()},val:function(){var e,i=null,n=this;if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],this.select)this.select.val(e).find(":selected").each2(function(e,t){return i={id:t.attr("value"),text:t.text()},!1}),this.updateSelection(i),this.setPlaceholder();else{if(this.opts.initSelection===t)throw Error("cannot call val() if initSelection() is not defined");e?this.opts.initSelection(this.opts.element,function(e){n.opts.element.val(e?n.id(e):""),n.updateSelection(e),n.setPlaceholder()}):this.clear()}},clearSearch:function(){this.search.val("")},data:function(e){var i;return 0===arguments.length?(i=this.selection.data("select2-data"),i==t&&(i=null),i):(e&&""!==e?(this.opts.element.val(e?this.id(e):""),this.updateSelection(e)):this.clear(),void 0)}}),_=m(b,{createContainer:function(){return e("<div></div>",{"class":"select2-container select2-container-multi"}).html("    <ul class='select2-choices'>  <li class='select2-search-field'>    <input type='text' autocomplete='off' class='select2-input'>  </li></ul><div class='select2-drop select2-drop-multi' style='display:none;'>   <ul class='select2-results'>   </ul></div>")},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments);return"select"===t.element.get(0).tagName.toLowerCase()&&(t.initSelection=function(t,i){var n=[];t.find(":selected").each2(function(e,t){n.push({id:t.attr("value"),text:t.text()})}),e.isFunction(i)&&i(n)}),t},initContainer:function(){var e;this.searchContainer=this.container.find(".select2-search-field"),this.selection=e=this.container.find(".select2-choices"),this.search.bind("keydown",this.bind(function(t){if(this.enabled){if(t.which===v.BACKSPACE&&""===this.search.val()){this.close();var i;if(i=e.find(".select2-search-choice-focus"),0<i.length)return this.unselect(i.first()),this.search.width(10),o(t),void 0;i=e.find(".select2-search-choice"),0<i.length&&i.last().addClass("select2-search-choice-focus")}else e.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");if(this.opened())switch(t.which){case v.UP:case v.DOWN:return this.moveHighlight(t.which===v.UP?-1:1),o(t),void 0;case v.ENTER:case v.TAB:return this.selectHighlighted(),o(t),void 0;case v.ESC:return this.cancel(t),o(t),void 0}t.which===v.TAB||v.isControl(t)||v.isFunctionKey(t)||t.which===v.BACKSPACE||t.which===v.ESC||!1===this.opts.openOnEnter&&t.which===v.ENTER||(this.open(),(t.which===v.PAGE_UP||t.which===v.PAGE_DOWN)&&o(t))}})),this.search.bind("keyup",this.bind(this.resizeSearch)),this.search.bind("blur",this.bind(function(){this.container.removeClass("select2-container-active")})),this.container.delegate(".select2-choices","mousedown",this.bind(function(e){this.enabled&&(this.clearPlaceholder(),this.open(),this.focusSearch(),e.preventDefault())})),this.container.delegate(".select2-choices","focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.clearSearch()},enable:function(){this.enabled||(this.parent.enable.apply(this,arguments),this.search.removeAttr("disabled"))},disable:function(){this.enabled&&(this.parent.disable.apply(this,arguments),this.search.attr("disabled",!0))},initSelection:function(){if(""===this.opts.element.val()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(i){i!==t&&null!==i&&(e.updateSelection(i),e.close(),e.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder();e!==t&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?(this.search.val(e).addClass("select2-default"),this.resizeSearch()):this.search.val(" ").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")?this.search.val("").removeClass("select2-default"):" "===this.search.val()&&this.search.val("")},opening:function(){this.parent.opening.apply(this,arguments),this.clearPlaceholder(),this.resizeSearch(),this.focusSearch()},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var i=[],s=[],a=this;e(t).each(function(){0>n(a.id(this),i)&&(i.push(a.id(this)),s.push(this))}),t=s,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){a.addSelectedChoice(this)}),a.postprocessResults()},tokenize:function(){var e=this.search.val(),e=this.opts.tokenizer(e,this.data(),this.bind(this.onSelect),this.opts);null!=e&&e!=t&&(this.search.val(e),0<e.length&&this.open())},onSelect:function(e){this.addSelectedChoice(e),this.select&&this.postprocessResults(),this.opts.closeOnSelect?(this.close(),this.search.width(10)):0<this.countSelectableResults()?(this.search.width(10),this.resizeSearch(),this.positionDropdown()):this.close(),this.triggerChange({added:e}),this.focusSearch()},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(t){var n,s=e("<li class='select2-search-choice'>    <div></div>    <a href='javascript:void(0)' class='select2-search-choice-close' tabindex='-1'></a></li>"),a=this.id(t),r=this.getVal();n=this.opts.formatSelection(t,s),s.find("div").replaceWith("<div>"+i(n)+"</div>"),s.find(".select2-search-choice-close").bind("mousedown",o).bind("click dblclick",this.bind(function(t){this.enabled&&(e(t.target).closest(".select2-search-choice").fadeOut("fast").animate({width:"hide"},50,this.bind(function(){this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),o(t))})).bind("focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),s.data("select2-data",t),s.insertBefore(this.searchContainer),r.push(a),this.setVal(r)},unselect:function(e){var t,i,s=this.getVal(),e=e.closest(".select2-search-choice");if(0===e.length)throw"Invalid argument: "+e+". Must be .select2-search-choice";t=e.data("select2-data"),i=n(this.id(t),s),i>=0&&(s.splice(i,1),this.setVal(s),this.select&&this.postprocessResults()),e.remove(),this.triggerChange({removed:t})},postprocessResults:function(){var e=this.getVal(),t=this.results.find(".select2-result-selectable"),i=this.results.find(".select2-result-with-children"),s=this;t.each2(function(t,i){var a=s.id(i.data("select2-data"));0<=n(a,e)?i.addClass("select2-disabled").removeClass("select2-result-selectable"):i.removeClass("select2-disabled").addClass("select2-result-selectable")}),i.each2(function(e,t){0==t.find(".select2-result-selectable").length?t.addClass("select2-disabled"):t.removeClass("select2-disabled")}),t.each2(function(e,t){return!t.hasClass("select2-disabled")&&t.hasClass("select2-result-selectable")?(s.highlight(0),!1):void 0})},resizeSearch:function(){var t,i,n,s,a=this.search.outerWidth()-this.search.width();t=this.search,w||(n=t[0].currentStyle||window.getComputedStyle(t[0],null),w=e("<div></div>").css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"}),e("body").append(w)),w.text(t.val()),t=w.width()+10,i=this.search.offset().left,n=this.selection.width(),s=this.selection.offset().left,i=n-(i-s)-a,t>i&&(i=n-a),40>i&&(i=n-a),this.search.width(i)},getVal:function(){var e;return this.select?(e=this.select.val(),null===e?[]:e):(e=this.opts.element.val(),a(e,this.opts.separator))},setVal:function(t){var i;this.select?this.select.val(t):(i=[],e(t).each(function(){0>n(this,i)&&i.push(this)}),this.opts.element.val(0===i.length?"":i.join(this.opts.separator)))},val:function(){var i,n=[],s=this;if(0===arguments.length)return this.getVal();if(i=arguments[0])if(this.setVal(i),this.select)this.select.find(":selected").each(function(){n.push({id:e(this).attr("value"),text:e(this).text()})}),this.updateSelection(n);else{if(this.opts.initSelection===t)throw Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var i=e(t).map(s.id);s.setVal(i),s.updateSelection(t),s.clearSearch()})}else this.opts.element.val(""),this.updateSelection([]);this.clearSearch()},onSortStart:function(){if(this.select)throw Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],i=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(i.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t){var i,n=this;return 0===arguments.length?this.selection.find(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get():(t||(t=[]),i=e.map(t,function(e){return n.opts.id(e)}),this.setVal(i),this.updateSelection(t),this.clearSearch(),void 0)}}),e.fn.select2=function(){var i,s,a,r,o=Array.prototype.slice.call(arguments,0),l="val destroy opened open close focus isFocused container onSortStart onSortEnd enable disable positionDropdown data".split(" ");return this.each(function(){if(0===o.length||"object"==typeof o[0])i=0===o.length?{}:e.extend({},o[0]),i.element=e(this),"select"===i.element.get(0).tagName.toLowerCase()?r=i.element.attr("multiple"):(r=i.multiple||!1,"tags"in i&&(i.multiple=r=!0)),s=r?new _:new y,s.init(i);else{if("string"!=typeof o[0])throw"Invalid arguments to select2 plugin: "+o;if(0>n(o[0],l))throw"Unknown method: "+o[0];if(a=t,s=e(this).data("select2"),s!==t&&(a="container"===o[0]?s.container:s[o[0]].apply(s,o.slice(1)),a!==t))return!1}}),a===t?this:a},e.fn.select2.defaults={width:"copy",closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,i){return t=[],l(e.text,i.term,t),t.join("")
},formatSelection:function(e){return e.text},formatResultCssClass:function(){return t},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(e,t){return"Please enter "+(t-e.length)+" more characters"},formatSelectionTooBig:function(e){return"You can only select "+e+" items"},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumSelectionSize:0,id:function(e){return e.id},matcher:function(e,t){return 0<=t.toUpperCase().indexOf(e.toUpperCase())},separator:",",tokenSeparators:[],tokenizer:g},window.Select2={query:{ajax:c,local:h,tags:u},util:{debounce:r,markMatch:l},"class":{"abstract":b,single:y,multi:_}}}}(jQuery),function(e,t){function i(){for(var e=0;e<d.length;e++)d[e]&&d[e].hide()}function n(e,i){var n=t.extend({},u,e);return n.callbacks={move:l(n.move,i),change:l(n.change,i),show:l(n.show,i),hide:l(n.hide,i),beforeShow:l(n.beforeShow,i)},n}function s(s,r){function l(){function i(e){return e.data&&e.data.ignore?(T(t(this).data("color")),A()):(T(t(this).data("color")),D(!0),A(),j()),!1}if(f&&ht.find("*:not(input)").attr("unselectable","on"),ht.toggleClass("sp-flat",H),ht.toggleClass("sp-input-disabled",!R),ht.toggleClass("sp-buttons-disabled",!E.showButtons||H),ht.toggleClass("sp-palette-disabled",!$),ht.toggleClass("sp-palette-only",N),ht.toggleClass("sp-initial-disabled",!L),ht.addClass(E.className),xt&&ct.hide().after(wt),H?ct.after(ht).hide():t(lt).append(ht.hide()),W&&e.localStorage)try{at=e.localStorage[W].split(",")}catch(n){}kt.bind("click.spectrum touchstart.spectrum",function(e){k(),e.stopPropagation(),t(e.target).is("input")||e.preventDefault()}),ht.click(o),gt.change(w),gt.bind("paste",function(){setTimeout(w,1)}),gt.keydown(function(e){13==e.keyCode&&w()}),bt.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),j()}),yt.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),G()&&(D(!0),j())}),c(ft,function(e,t){et=t/X,A()},_,x),c(ut,function(e,t){tt=e/J,it=(Y-t)/Y,A()},_,x),jt?(T(jt),P(),It=Tt||tinycolor(jt).format,u(jt)):P(),H&&C();var s=f?"mousedown.spectrum":"click.spectrum touchstart.spectrum";mt.delegate("span",s,i),vt.delegate("span::nth-child(1)",s,{ignore:!0},i)}function u(t){z&&(at.push(tinycolor(t).toHexString()),W&&e.localStorage&&(e.localStorage[W]=at.join(",")))}function v(){var e=[],t=at,i={};if($){for(var n=0;n<st.length;n++)for(var s=0;s<st[n].length;s++){var a=tinycolor(st[n][s]).toHexString();i[a]=!0}for(var n=0;n<t.length;n++){var r=tinycolor(t[n]),a=r.toHexString();i.hasOwnProperty(a)||(e.push(t[n]),i[a]=!0)}}return e.reverse().slice(0,E.maxSelectionSize)}function b(){var e=I(),i=t.map(st,function(t,i){return m(t,e,"sp-palette-row sp-palette-row-"+i)});at&&i.push(m(v(),e,"sp-palette-row sp-palette-row-selection")),mt.html(i.join(""))}function y(){if(L){var e=St,t=I();vt.html(m([e,t],t,"sp-palette-row-initial"))}}function _(){(0===Y||0===J||0===X)&&O(),ht.addClass(rt)}function x(){ht.removeClass(rt)}function w(){var e=tinycolor(gt.val());e.ok?T(e):gt.addClass("sp-validation-error")}function k(){U?j():C()}function C(){return U?(O(),void 0):(q.beforeShow(I())!==!1&&(i(),U=!0,t(ot).bind("click.spectrum",j),t(e).bind("resize.spectrum",K),wt.addClass("sp-active"),ht.show(),$&&b(),O(),P(),St=I(),y(),q.show(St)),void 0)}function j(){if(U&&!H){U=!1,t(ot).unbind("click.spectrum",j),t(e).unbind("resize.spectrum",K),wt.removeClass("sp-active"),ht.hide();var i=!tinycolor.equals(I(),St);i&&(Gt?D(!0):S()),q.hide(I())}}function S(){T(St,!0)}function T(e,t){if(!tinycolor.equals(e,I())){var i=tinycolor(e),n=i.toHsv();et=n.h,tt=n.s,it=n.v,P(),t||(It=Tt||i.format)}}function I(){return tinycolor.fromRatio({h:et,s:tt,v:it})}function G(){return!gt.hasClass("sp-validation-error")}function A(){P(),q.move(I())}function P(){gt.removeClass("sp-validation-error"),M();var e=tinycolor({h:et,s:"1.0",v:"1.0"});ut.css("background-color",e.toHexString());var t=I(),i=t.toHexString();Ct.css("background-color",i),R&&gt.val(t.toString(It)),$&&b(),y()}function M(){var e=tt,t=it,i=e*J,n=Y-t*Y;i=Math.max(-V,Math.min(J-V,i-V)),n=Math.max(-V,Math.min(Y-V,n-V)),dt.css({top:n,left:i});var s=et*X;pt.css({top:s-Z})}function D(e){var t=I();_t&&ct.val(t.toString(It)).change();var i=!tinycolor.equals(t,St);St=t,u(t),e&&i&&q.change(t)}function O(){J=ut.width(),Y=ut.height(),V=dt.height(),Q=ft.width(),X=ft.height(),Z=pt.height(),H||ht.offset(a(ht,kt)),M()}function F(){ct.show(),kt.unbind("click.spectrum touchstart.spectrum"),ht.remove(),wt.remove(),d[At.id]=null}var E=n(r,s),H=E.flat,N=E.showPaletteOnly,$=E.showPalette||N,L=E.showInitial&&!H,R=E.showInput,z=E.showSelectionPalette,W=E.localStorageKey,B=E.theme,q=E.callbacks,K=h(O,10),U=!1,J=0,Y=0,V=0,X=0,Q=0,Z=0,et=0,tt=0,it=0,nt=E.palette.slice(0),st=t.isArray(nt[0])?nt:[nt],at=E.selectionPalette.slice(0),rt="sp-dragging",ot=s.ownerDocument,lt=ot.body,ct=t(s),ht=t(g,ot).addClass(B),ut=ht.find(".sp-color"),dt=ht.find(".sp-dragger"),ft=ht.find(".sp-hue"),pt=ht.find(".sp-slider"),gt=ht.find(".sp-input"),mt=ht.find(".sp-palette"),vt=ht.find(".sp-initial"),bt=ht.find(".sp-cancel"),yt=ht.find(".sp-choose"),_t=ct.is("input"),xt=_t&&!H,wt=xt?t(p).addClass(B):t([]),kt=xt?wt:ct,Ct=wt.find(".sp-preview"),jt=E.color||_t&&ct.val(),St=!1,Tt=E.preferredFormat,It=Tt,Gt=!E.showButtons;yt.text(E.chooseText),bt.text(E.cancelText),l();var At={show:C,hide:j,set:function(e){T(e),D()},get:I,destroy:F,container:ht};return At.id=d.push(At)-1,At}function a(e,i){var n=0,s=e.outerWidth(),a=e.outerHeight();i.outerWidth();var r=i.outerHeight(),o=e[0].ownerDocument,l=o.documentElement,c=l.clientWidth+t(o).scrollLeft(),h=l.clientHeight+t(o).scrollTop(),u=i.offset();return u.top+=r,u.left-=Math.min(u.left,u.left+s>c&&c>s?Math.abs(u.left+s-c):0),u.top-=Math.min(u.top,u.top+a>h&&h>a?Math.abs(a+r-n):n+1),u}function r(){}function o(e){e.stopPropagation()}function l(e,t){var i=Array.prototype.slice,n=i.call(arguments,2);return function(){return e.apply(t,n.concat(i.call(arguments)))}}function c(i,n,s,a){function r(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.returnValue=!1}function o(e){if(u){if(g&&!(document.documentMode>=9)&&!e.button)return c();var t=e.originalEvent.touches,s=t?t[0].pageX:e.pageX,a=t?t[0].pageY:e.pageY,o=Math.max(0,Math.min(s-d.left,p)),l=Math.max(0,Math.min(a-d.top,f));m&&r(e),n.apply(i,[o,l])}}function l(e){var n=e.which?3==e.which:2==e.button;e.originalEvent.touches,n||u||s.apply(i,arguments)!==!1&&(u=!0,f=t(i).height(),p=t(i).width(),d=t(i).offset(),t(h).bind(v),t(h.body).addClass("sp-dragging"),m||o(e),r(e))}function c(){u&&(t(h).unbind(v),t(h.body).removeClass("sp-dragging"),a.apply(i,arguments)),u=!1}n=n||function(){},s=s||function(){},a=a||function(){};var h=i.ownerDocument||document,u=!1,d={},f=0,p=0,g=t.browser.msie,m="ontouchstart"in e,v={};v.selectstart=r,v.dragstart=r,v[m?"touchmove":"mousemove"]=o,v[m?"touchend":"mouseup"]=c,t(i).bind(m?"touchstart":"mousedown",l)}function h(e,t,i){var n;return function(){var s=this,a=arguments,r=function(){n=null,e.apply(s,a)};i&&clearTimeout(n),(i||!n)&&(n=setTimeout(r,t))}}var u={beforeShow:r,move:r,change:r,show:r,hide:r,color:!1,flat:!1,showInput:!1,showButtons:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",preferredFormat:!1,className:"",theme:"sp-light",palette:["fff","000"],selectionPalette:[]},d=[],f=t.browser.msie,p=["<div class='sp-replacer'>","<div class='sp-preview'></div>","<div class='sp-dd'></div>","</div>"].join(""),g=function(){var e="";if(f)for(var t=1;6>=t;t++)e+="<div class='sp-"+t+"'></div>";return["<div class='sp-container'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",e,"</div>","</div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),m=function(e,t,i){for(var n=[],s=0;s<e.length;s++){var a=tinycolor(e[s]),r=a.toHsl().l<.5?"sp-thumb-dark":"sp-thumb-light";r+=tinycolor.equals(t,e[s])?" sp-thumb-active":"",n.push('<span title="'+a.toHexString()+'" data-color="'+a.toHexString()+'" style="background-color:'+a.toRgbString()+';" class="'+r+'"></span>')}return"<div class='sp-cf "+i+"'>"+n.join("")+"</div>"},v="spectrum.id";t.fn.spectrum=function(e,i){return"string"==typeof e?"get"==e?d[this.eq(0).data(v)].get():"container"==e?d[t(this).data(v)].container:this.each(function(){var n=d[t(this).data(v)];n&&("show"==e&&n.show(),"hide"==e&&n.hide(),"set"==e&&n.set(i),"destroy"==e&&(n.destroy(),t(this).removeData(v)))}):this.spectrum("destroy").each(function(){var i=s(this,e);t(this).data(v,i.id)})},t.fn.spectrum.load=!0,t.fn.spectrum.loadOpts={},t.fn.spectrum.draggable=c,t.fn.spectrum.processNativeColorInputs=function(){var e="color"===t("<input type='color' />")[0].type;e||t("input[type=color]").spectrum({preferredFormat:"hex6"})},t(function(){t.fn.spectrum.load&&t.fn.spectrum.processNativeColorInputs()})}(this,jQuery),function(e){function t(e){if("object"==typeof e&&e.hasOwnProperty("_tc_id"))return e;var t=i(e),n=t.r,a=t.g,o=t.b,c=C(t.a),h=t.format;return{ok:t.ok,format:h,_tc_id:b++,alpha:c,toHsv:function(){var e=r(n,a,o);return{h:e.h,s:e.s,v:e.v,a:c}},toHsvString:function(){var e=r(n,a,o),t=_(360*e.h),i=_(100*e.s),s=_(100*e.v);return 1==c?"hsv("+t+", "+i+"%, "+s+"%)":"hsva("+t+", "+i+"%, "+s+"%, "+c+")"},toHsl:function(){var e=s(n,a,o);return{h:e.h,s:e.s,l:e.l,a:c}},toHslString:function(){var e=s(n,a,o),t=_(360*e.h),i=_(100*e.s),r=_(100*e.l);return 1==c?"hsl("+t+", "+i+"%, "+r+"%)":"hsla("+t+", "+i+"%, "+r+"%, "+c+")"},toHex:function(){return l(n,a,o)},toHexString:function(e){return"#"+l(n,a,o,e)},toRgb:function(){return{r:_(n),g:_(a),b:_(o),a:c}},toRgbString:function(){return 1==c?"rgb("+_(n)+", "+_(a)+", "+_(o)+")":"rgba("+_(n)+", "+_(a)+", "+_(o)+", "+c+")"},toName:function(){return S[l(n,a,o)]||!1},toFilter:function(){var e=l(n,a,o),t=Math.round(255*C(c)).toString(16);return"progid:DXImageTransform.Microsoft.gradient(startColorstr=#"+t+e+",endColorstr=#"+t+e+")"},toString:function(e){e=e||this.format;var t=!1;return"rgb"===e&&(t=this.toRgbString()),"hex"===e&&(t=this.toHexString()),"hex6"===e&&(t=this.toHexString(!0)),"name"===e&&(t=this.toName()),"hsl"===e&&(t=this.toHslString()),"hsv"===e&&(t=this.toHsvString()),t||this.toHexString()}}}function i(e){var t={r:0,g:0,b:0},i=1,s=!1,r=!1;if("string"==typeof e&&(e=g(e)),"object"==typeof e){if(e.hasOwnProperty("r")&&e.hasOwnProperty("g")&&e.hasOwnProperty("b"))t=n(e.r,e.g,e.b),s=!0,r="rgb";else if(e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("v"))t=o(e.h,e.s,e.v),s=!0,r="hsv";else if(e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("l")){var t=a(e.h,e.s,e.l);s=!0,r="hsl"}e.hasOwnProperty("a")&&(i=e.a)}return t.r=x(255,w(t.r,0)),t.g=x(255,w(t.g,0)),t.b=x(255,w(t.b,0)),t.r<1&&(t.r=_(t.r)),t.g<1&&(t.g=_(t.g)),t.b<1&&(t.b=_(t.b)),{ok:s,format:e&&e.format||r,r:t.r,g:t.g,b:t.b,a:i}}function n(e,t,i){return{r:255*h(e,255),g:255*h(t,255),b:255*h(i,255)}}function s(e,t,i){e=h(e,255),t=h(t,255),i=h(i,255);var n,s,a=w(e,t,i),r=x(e,t,i),o=(a+r)/2;if(a==r)n=s=0;else{var l=a-r;switch(s=o>.5?l/(2-a-r):l/(a+r),a){case e:n=(t-i)/l+(i>t?6:0);break;case t:n=(i-e)/l+2;break;case i:n=(e-t)/l+4}n/=6}return{h:n,s:s,l:o}}function a(e,t,i){function n(e,t,i){return 0>i&&(i+=1),i>1&&(i-=1),1/6>i?e+6*(t-e)*i:.5>i?t:2/3>i?e+6*(t-e)*(2/3-i):e}var s,a,r;if(e=h(e,360),t=h(t,100),i=h(i,100),0==t)s=a=r=i;else{var o=.5>i?i*(1+t):i+t-i*t,l=2*i-o;s=n(l,o,e+1/3),a=n(l,o,e),r=n(l,o,e-1/3)}return{r:255*s,g:255*a,b:255*r}}function r(e,t,i){e=h(e,255),t=h(t,255),i=h(i,255);var n,s,a=w(e,t,i),r=x(e,t,i),o=a,l=a-r;if(s=0==a?0:l/a,a==r)n=0;else{switch(a){case e:n=(t-i)/l+(i>t?6:0);break;case t:n=(i-e)/l+2;break;case i:n=(e-t)/l+4}n/=6}return{h:n,s:s,v:o}}function o(e,t,i){var n,s,a;e=6*h(e,360),t=h(t,100),i=h(i,100);var r=y.floor(e),o=e-r,l=i*(1-t),c=i*(1-o*t),u=i*(1-(1-o)*t),d=r%6,n=[i,c,l,l,u,i][d],s=[u,i,i,c,l,l][d],a=[l,l,u,i,i,c][d];return{r:255*n,g:255*s,b:255*a}}function l(e,t,i,n){function s(e){return 1==e.length?"0"+e:""+e}var a=[s(_(e).toString(16)),s(_(t).toString(16)),s(_(i).toString(16))];return n||a[0].charAt(0)!=a[0].charAt(1)||a[1].charAt(0)!=a[1].charAt(1)||a[2].charAt(0)!=a[2].charAt(1)?a.join(""):a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)}function c(e){var t={};for(var i in e)e.hasOwnProperty(i)&&(t[e[i]]=i);return t}function h(e,t){f(e)&&(e="100%");var i=p(e);return e=x(t,w(0,C(e))),i&&(e*=t/100),y.abs(e-t)<1e-6?1:e>=1?e%t/C(t):e}function u(e){return x(1,w(0,e))}function d(e){return parseInt(e,16)}function f(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===C(e)}function p(e){return"string"==typeof e&&-1!=e.indexOf("%")}function g(e){e=e.replace(m,"").replace(v,"").toLowerCase();var t=!1;if(j[e])e=j[e],t=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0};var i;return(i=T.rgb.exec(e))?{r:i[1],g:i[2],b:i[3]}:(i=T.rgba.exec(e))?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=T.hsl.exec(e))?{h:i[1],s:i[2],l:i[3]}:(i=T.hsla.exec(e))?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=T.hsv.exec(e))?{h:i[1],s:i[2],v:i[3]}:(i=T.hex6.exec(e))?{r:d(i[1]),g:d(i[2]),b:d(i[3]),format:t?"name":"hex"}:(i=T.hex3.exec(e))?{r:d(i[1]+""+i[1]),g:d(i[2]+""+i[2]),b:d(i[3]+""+i[3]),format:t?"name":"hex"}:!1}var m=/^[\s,#]+/,v=/\s+$/,b=0,y=Math,_=y.round,x=y.min,w=y.max,k=y.random,C=e.parseFloat;t.fromRatio=function(e){if("object"==typeof e)for(var i in e)1===e[i]&&(e[i]="1.0");return t(e)},t.equals=function(e,i){return e&&i?t(e).toHex()==t(i).toHex():!1},t.random=function(){return t.fromRatio({r:k(),g:k(),b:k()})},t.desaturate=function(e,i){var n=t(e).toHsl();return n.s-=(i||10)/100,n.s=u(n.s),t(n)},t.saturate=function(e,i){var n=t(e).toHsl();return n.s+=(i||10)/100,n.s=u(n.s),t(n)},t.greyscale=function(e){return t.desaturate(e,100)},t.lighten=function(e,i){var n=t(e).toHsl();return n.l+=(i||10)/100,n.l=u(n.l),t(n)},t.darken=function(e,i){var n=t(e).toHsl();return n.l-=(i||10)/100,n.l=u(n.l),t(n)},t.complement=function(e){var i=t(e).toHsl();return i.h=(i.h+.5)%1,t(i)},t.triad=function(e){var i=t(e).toHsl(),n=360*i.h;return[t(e),t({h:(n+120)%360,s:i.s,l:i.l}),t({h:(n+240)%360,s:i.s,l:i.l})]},t.tetrad=function(e){var i=t(e).toHsl(),n=360*i.h;return[t(e),t({h:(n+90)%360,s:i.s,l:i.l}),t({h:(n+180)%360,s:i.s,l:i.l}),t({h:(n+270)%360,s:i.s,l:i.l})]},t.splitcomplement=function(e){var i=t(e).toHsl(),n=360*i.h;return[t(e),t({h:(n+72)%360,s:i.s,l:i.l}),t({h:(n+216)%360,s:i.s,l:i.l})]},t.analogous=function(e,i,n){i=i||6,n=n||30;var s=t(e).toHsl(),a=360/n,r=[t(e)];for(s.h*=360,s.h=(s.h-(a*i>>1)+720)%360;--i;)s.h=(s.h+a)%360,r.push(t(s));return r},t.monochromatic=function(e,i){i=i||6;for(var n=t(e).toHsv(),s=n.h,a=n.s,r=n.v,o=[],l=1/i;i--;)o.push(t({h:s,s:a,v:r})),r=(r+l)%1;return o},t.readable=function(e,i){var n=t(e).toRgb(),s=t(i).toRgb();return(s.r-n.r)*(s.r-n.r)+(s.g-n.g)*(s.g-n.g)+(s.b-n.b)*(s.b-n.b)>10404};var j=t.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},S=t.hexNames=c(j),T=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",i="(?:"+t+")|(?:"+e+")",n="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?",s="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?";return{rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+s),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+s),hsv:new RegExp("hsv"+n),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();e.tinycolor=t}(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),$(function(){$(".choose-button").hover(function(){var e=$(this);$(this).data("initialText",e.text()),$(this).text("Ready? Let's make your sign!")},function(){var e=$(this);$(this).text(e.data("initialText"))}),$(".product-image").hover(function(){$(".imageOverlay",this).stop().animate({top:0})},function(){$(".imageOverlay",this).stop().animate({top:120})}),$(".priceWrapper .price").html(function(){var e=$(this).text().split("."),t=e.pop();return e.join(".")+(e.length>0?"<sup>."+t+"</sup>":t)})}),/**
 * jQuery Validation Plugin 1.8.1
 *
 * http://bassistance.de/jquery-plugins/jquery-plugin-validation/
 * http://docs.jquery.com/Plugins/Validation
 *
 * Copyright (c) 2006 - 2011 Jörn Zaefferer
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */
function(e){e.extend(e.fn,{validate:function(t){if(this.length){var i=e.data(this[0],"validator");return i?i:(i=new e.validator(t,this[0]),e.data(this[0],"validator",i),i.settings.onsubmit&&(this.find("input, button").filter(".cancel").click(function(){i.cancelSubmit=!0}),i.settings.submitHandler&&this.find("input, button").filter(":submit").click(function(){i.submitButton=this}),this.submit(function(t){function n(){if(i.settings.submitHandler){if(i.submitButton)var t=e("<input type='hidden'/>").attr("name",i.submitButton.name).val(i.submitButton.value).appendTo(i.currentForm);return i.settings.submitHandler.call(i,i.currentForm),i.submitButton&&t.remove(),!1}return!0}return i.settings.debug&&t.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,n()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):n():(i.focusInvalid(),!1)})),i)}t&&t.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing")},valid:function(){if(e(this[0]).is("form"))return this.validate().form();var t=!0,i=e(this[0].form).validate();return this.each(function(){t&=i.element(this)}),t},removeAttrs:function(t){var i={},n=this;return e.each(t.split(/\s/),function(e,t){i[t]=n.attr(t),n.removeAttr(t)}),i},rules:function(t,i){var n=this[0];if(t){var s=e.data(n.form,"validator").settings,a=s.rules,r=e.validator.staticRules(n);switch(t){case"add":e.extend(r,e.validator.normalizeRule(i)),a[n.name]=r,i.messages&&(s.messages[n.name]=e.extend(s.messages[n.name],i.messages));break;case"remove":if(!i)return delete a[n.name],r;var o={};return e.each(i.split(/\s/),function(e,t){o[t]=r[t],delete r[t]}),o}}return n=e.validator.normalizeRules(e.extend({},e.validator.metadataRules(n),e.validator.classRules(n),e.validator.attributeRules(n),e.validator.staticRules(n)),n),n.required&&(s=n.required,delete n.required,n=e.extend({required:s},n)),n}}),e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+t.value)},filled:function(t){return!!e.trim(""+t.value)},unchecked:function(e){return!e.checked}}),e.validator=function(t,i){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=i,this.init()},e.validator.format=function(t,i){return 1==arguments.length?function(){var i=e.makeArray(arguments);return i.unshift(t),e.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!=Array&&(i=e.makeArray(arguments).slice(1)),i.constructor!=Array&&(i=[i]),e.each(i,function(e,i){t=t.replace(RegExp("\\{"+e+"\\}","g"),i)}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:[],ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(e)).hide())},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e){(e.name in this.submitted||e==this.lastElement)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,i,n){"radio"===t.type?this.findByName(t.name).addClass(i).removeClass(n):e(t).addClass(i).removeClass(n)},unhighlight:function(t,i,n){"radio"===t.type?this.findByName(t.name).removeClass(i).addClass(n):e(t).removeClass(i).addClass(n)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){var i=e.data(this[0].form,"validator");t="on"+t.type.replace(/^validate/,""),i.settings[t]&&i.settings[t].call(i,this[0])}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i=this.groups={};e.each(this.settings.groups,function(t,n){e.each(n.split(/\s/),function(e,n){i[n]=t})});var n=this.settings.rules;e.each(n,function(t,i){n[t]=e.validator.normalizeRule(i)}),e(this.currentForm).validateDelegate(":text, :password, :file, select, textarea","focusin focusout keyup",t).validateDelegate(":radio, :checkbox, select, option","click",t),this.settings.invalidHandler&&e(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){this.lastElement=t=this.clean(t),this.prepareElement(t),this.currentElements=e(t);var i=this.check(t);return i?delete this.invalid[t.name]:this.invalid[t.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),i},showErrors:function(t){if(t){e.extend(this.errorMap,t),this.errorList=[];for(var i in t)this.errorList.push({message:t[i],element:this.findByName(i)[0]});this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.submitted={},this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,i=0;for(t in e)i++;return i},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0==this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&1==e.grep(this.errorList,function(e){return e.element.name==t.name}).length&&t},elements:function(){var t=this,i={};return e(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in i||!t.objectLength(e(this).rules())?!1:i[this.name]=!0})},clean:function(t){return e(t)[0]},errors:function(){return e(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([]),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},check:function(t){t=this.clean(t),this.checkable(t)&&(t=this.findByName(t.name).not(this.settings.ignore)[0]);var i,n=e(t).rules(),s=!1;for(i in n){var a={method:i,parameters:n[i]};try{var r=e.validator.methods[i].call(this,t.value.replace(/\r/g,""),t,a.parameters);if("dependency-mismatch"==r)s=!0;else{if(s=!1,"pending"==r)return this.toHide=this.toHide.not(this.errorsFor(t)),void 0;if(!r)return this.formatAndAdd(t,a),!1}}catch(o){throw this.settings.debug&&window.console&&console.log("exception occured when checking element "+t.id+", check the '"+a.method+"' method",o),o}}return s?void 0:(this.objectLength(n)&&this.successList.push(t),!0)},customMetaMessage:function(t,i){if(e.metadata){var n=this.settings.meta?e(t).metadata()[this.settings.meta]:e(t).metadata();return n&&n.messages&&n.messages[i]}},customMessage:function(e,t){var i=this.settings.messages[e];return i&&(i.constructor==String?i:i[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(t,i){return this.findDefined(this.customMessage(t.name,i),this.customMetaMessage(t,i),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[i],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(e,t){var i=this.defaultMessage(e,t.method),n=/\$?\{(\d+)\}/g;"function"==typeof i?i=i.call(this,t.parameters,e):n.test(i)&&(i=jQuery.format(i.replace(n,"{$1}"),t.parameters)),this.errorList.push({message:i,element:e}),this.errorMap[e.name]=i,this.submitted[e.name]=i},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){for(var e=0;this.errorList[e];e++){var t=this.errorList[e];this.settings.highlight&&this.settings.highlight.call(this,t.element,this.settings.errorClass,this.settings.validClass),this.showLabel(t.element,t.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,i){var n=this.errorsFor(t);n.length?(n.removeClass().addClass(this.settings.errorClass),n.attr("generated")&&n.html(i)):(n=e("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(t),generated:!0}).addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(n=n.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(n).length||(this.settings.errorPlacement?this.settings.errorPlacement(n,e(t)):n.insertAfter(t))),!i&&this.settings.success&&(n.text(""),"string"==typeof this.settings.success?n.addClass(this.settings.success):this.settings.success(n)),this.toShow=this.toShow.add(n)},errorsFor:function(t){var i=this.idOrName(t);return this.errors().filter(function(){return e(this).attr("for")==i})},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){var i=this.currentForm;return e(document.getElementsByName(t)).map(function(e,n){return n.form==i&&n.name==t&&n||null})},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return e("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return t.length},depend:function(e,t){return this.dependTypes[typeof e]?this.dependTypes[typeof e](e,t):!0},dependTypes:{"boolean":function(e){return e},string:function(t,i){return!!e(t,i.form).length},"function":function(e,t){return e(t)}},optional:function(t){return!e.validator.methods.required.call(this,e.trim(t.value),t)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(t,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],i&&0==this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!i&&0==this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},dateDE:{dateDE:!0},number:{number:!0},numberDE:{numberDE:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,i){t.constructor==String?this.classRuleSettings[t]=i:e.extend(this.classRuleSettings,t)},classRules:function(t){var i={};return(t=e(t).attr("class"))&&e.each(t.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(i,e.validator.classRuleSettings[this])}),i},attributeRules:function(t){var i={};t=e(t);for(var n in e.validator.methods){var s=t.attr(n);s&&(i[n]=s)}return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i},metadataRules:function(t){if(!e.metadata)return{};var i=e.data(t.form,"validator").settings.meta;return i?e(t).metadata()[i]:e(t).metadata()},staticRules:function(t){var i={},n=e.data(t.form,"validator");return n.settings.rules&&(i=e.validator.normalizeRule(n.settings.rules[t.name])||{}),i},normalizeRules:function(t,i){return e.each(t,function(n,s){if(s===!1)delete t[n];else if(s.param||s.depends){var a=!0;switch(typeof s.depends){case"string":a=!!e(s.depends,i.form).length;break;case"function":a=s.depends.call(i,i)}a?t[n]=void 0!==s.param?s.param:!0:delete t[n]}}),e.each(t,function(n,s){t[n]=e.isFunction(s)?s(i):s}),e.each(["minlength","maxlength","min","max"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){t[this]&&(t[this]=[Number(t[this][0]),Number(t[this][1])])}),e.validator.autoCreateRanges&&(t.min&&t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength&&t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t.messages&&delete t.messages,t},normalizeRule:function(t){if("string"==typeof t){var i={};e.each(t.split(/\s/),function(){i[this]=!0}),t=i}return t},addMethod:function(t,i,n){e.validator.methods[t]=i,e.validator.messages[t]=void 0!=n?n:e.validator.messages[t],i.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,i,n){if(!this.depend(n,i))return"dependency-mismatch";switch(i.nodeName.toLowerCase()){case"select":return(t=e(i).val())&&t.length>0;case"input":if(this.checkable(i))return this.getLength(t,i)>0;default:return e.trim(t).length>0}},remote:function(t,i,n){if(this.optional(i))return"dependency-mismatch";var s=this.previousValue(i);if(this.settings.messages[i.name]||(this.settings.messages[i.name]={}),s.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=s.message,n="string"==typeof n&&{url:n}||n,this.pending[i.name])return"pending";if(s.old===t)return s.valid;s.old=t;var a=this;this.startRequest(i);var r={};return r[i.name]=t,e.ajax(e.extend(!0,{url:n,mode:"abort",port:"validate"+i.name,dataType:"json",data:r,success:function(n){a.settings.messages[i.name].remote=s.originalMessage;var r=n===!0;if(r){var o=a.formSubmitted;a.prepareElement(i),a.formSubmitted=o,a.successList.push(i),a.showErrors()}else o={},n=n||a.defaultMessage(i,"remote"),o[i.name]=s.message=e.isFunction(n)?n(t):n,a.showErrors(o);s.valid=r,a.stopRequest(i,r)}},n)),"pending"},minlength:function(t,i,n){return this.optional(i)||this.getLength(e.trim(t),i)>=n},maxlength:function(t,i,n){return this.optional(i)||this.getLength(e.trim(t),i)<=n},rangelength:function(t,i,n){return t=this.getLength(e.trim(t),i),this.optional(i)||t>=n[0]&&t<=n[1]},min:function(e,t,i){return this.optional(t)||e>=i},max:function(e,t,i){return this.optional(t)||i>=e},range:function(e,t,i){return this.optional(t)||e>=i[0]&&e<=i[1]},email:function(e,t){return this.optional(t)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(e)},url:function(e,t){return this.optional(t)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e))},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(e)},number:function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9-]+/.test(e))return!1;var i=0,n=0,s=!1;e=e.replace(/\D/g,"");for(var a=e.length-1;a>=0;a--)n=e.charAt(a),n=parseInt(n,10),s&&(n*=2)>9&&(n-=9),i+=n,s=!s;return 0==i%10},accept:function(e,t,i){return i="string"==typeof i?i.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(t)||e.match(RegExp(".("+i+")$","i"))},equalTo:function(t,i,n){return n=e(n).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){e(i).valid()}),t==n.val()}}}),e.format=e.validator.format}(jQuery),function(e){var t={};if(e.ajaxPrefilter)e.ajaxPrefilter(function(e,i,n){i=e.port,"abort"==e.mode&&(t[i]&&t[i].abort(),t[i]=n)});else{var i=e.ajax;e.ajax=function(n){var s=("port"in n?n:e.ajaxSettings).port;return"abort"==("mode"in n?n:e.ajaxSettings).mode?(t[s]&&t[s].abort(),t[s]=i.apply(this,arguments)):i.apply(this,arguments)}}}(jQuery),function(e){!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener&&e.each({focus:"focusin",blur:"focusout"},function(t,i){function n(t){return t=e.event.fix(t),t.type=i,e.event.handle.call(this,t)}e.event.special[i]={setup:function(){this.addEventListener(t,n,!0)},teardown:function(){this.removeEventListener(t,n,!0)},handler:function(t){return arguments[0]=e.event.fix(t),arguments[0].type=i,e.event.handle.apply(this,arguments)}}}),e.extend(e.fn,{validateDelegate:function(t,i,n){return this.bind(i,function(i){var s=e(i.target);return s.is(t)?n.apply(s,arguments):void 0})}})}(jQuery);var FORMALIZE=function(e,t,i){function n(e){var t=i.createElement("b");return t.innerHTML="<!--[if IE "+e+"]><br><![endif]-->",!!t.getElementsByTagName("br").length}var s="placeholder"in i.createElement("input"),a="autofocus"in i.createElement("input"),r=n(6),o=n(7);return{go:function(){var e,t=this.init;for(e in t)t.hasOwnProperty(e)&&t[e]()},init:{full_input_size:function(){o&&e("textarea, input.input_full").length&&e("textarea, input.input_full").wrap('<span class="input_full_wrap"></span>')},ie6_skin_inputs:function(){if(r&&e("input, select, textarea").length){var t=/button|submit|reset/,i=/date|datetime|datetime-local|email|month|number|password|range|search|tel|text|time|url|week/;e("input").each(function(){var n=e(this);this.getAttribute("type").match(t)?(n.addClass("ie6_button"),this.disabled&&n.addClass("ie6_button_disabled")):this.getAttribute("type").match(i)&&(n.addClass("ie6_input"),this.disabled&&n.addClass("ie6_input_disabled"))}),e("textarea, select").each(function(){this.disabled&&e(this).addClass("ie6_input_disabled")})}},autofocus:function(){a||!e(":input[autofocus]").length||e(":input[autofocus]:visible:first").focus()},placeholder:function(){!s&&!!e(":input[placeholder]").length&&(FORMALIZE.misc.add_placeholder(),e(":input[placeholder]").each(function(){if("password"!==this.type){var t=e(this),i=t.attr("placeholder");t.focus(function(){t.val()===i&&t.val("").removeClass("placeholder_text")}).blur(function(){FORMALIZE.misc.add_placeholder()}),t.closest("form").submit(function(){t.val()===i&&t.val("").removeClass("placeholder_text")}).bind("reset",function(){setTimeout(FORMALIZE.misc.add_placeholder,50)})}}))}},misc:{add_placeholder:function(){s||!e(":input[placeholder]").length||e(":input[placeholder]").each(function(){if("password"!==this.type){var t=e(this),i=t.attr("placeholder");(!t.val()||t.val()===i)&&t.val(i).addClass("placeholder_text")}})}}}}(jQuery,this,this.document);jQuery(document).ready(function(){FORMALIZE.go()}),function(){var e;e=function(){return $("form.edit_spree_order").submit(function(){return $(this).find(":submit, :image").attr("disabled",!0).removeClass("primary").addClass("disabled")})},$(function(){var e,t;return $("#checkout_form_address").is("*")&&($("#checkout_form_address").validate(),e=function(e){var t;return t=$("p#"+e+"country"+" span#"+e+"country :only-child").val(),state_mapper[t]},t=function(t){var i,n,s,a,r;return a=e(t),s=$("p#"+t+"state select"),n=$("p#"+t+"state input"),a?(i=s.val(),s.html(""),r=[["",""]].concat(a),$.each(r,function(e,t){var n;return n=$(document.createElement("option")).attr("value",t[0]).html(t[1]),i===t[0]&&n.prop("selected",!0),s.append(n)}),s.prop("disabled",!1).show(),n.hide().prop("disabled",!0)):(n.prop("disabled",!1).show(),s.hide().prop("disabled",!0))},$("p#bcountry select").change(function(){return t("b")}),$("p#scountry select").change(function(){return t("s")}),t("b"),t("s"),$("input#order_use_billing").click(function(){return $(this).is(":checked")?($("#shipping .inner").hide(),$("#shipping .inner input, #shipping .inner select").prop("disabled",!0)):($("#shipping .inner").show(),$("#shipping .inner input, #shipping .inner select").prop("disabled",!1),e("s")?$("span#sstate input").hide().prop("disabled",!0):$("span#sstate select").hide().prop("disabled",!0))}).triggerHandler("click")),$("#checkout_form_payment").is("*")?$('input[type="radio"][name="order[payments_attributes][][payment_method_id]"]').click(function(){return $("#payment-methods li").hide(),this.checked?$("#payment_method_"+this.value).show():void 0}).triggerHandler("click"):void 0})}.call(this),$(function(){function e(){function e(e){i.eq(t).css({opacity:0,visibility:"hidden"}),t=e,0>t?t=i.length-1:t>=i.length&&(t=0),i.eq(t).css({opacity:1,visibility:"visible"}),$("ul.dot_nav li").removeClass("current").eq(t).addClass("current")}var t=0;$("ul.dot_nav li:first-child").addClass("current");var i=$(".gallery_image");$("ul.dot_nav li").click(function(){$(this).hasClass("current")||(e($(this).index()),$(this).addClass("current").siblings().removeClass("current"))}),$(".prev").click(function(){e(t-1)}),$(".next").click(function(){e(t+1)}),e(0);var n=$("#thumbnails ul li").length;$("#thumbnails .thumbs-length").text(n),4>=n?$("#thumbnails .thumbs-count, #thumbnails .thumb-prev, #thumbnails .thumb-next").hide():$("#thumbnails .thumbs-count, #thumbnails .thumb-prev, #thumbnails .thumb-next").show()}e(),(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i))&&($(".MagicZoom").bind("touchstart",function(){$(".zoom-image, #zoom, .product-details").animate({opacity:0},200)}),$(".MagicZoom").bind("touchend",function(){$(".zoom-image, .product-details").delay(100).animate({opacity:1},200),$("#zoom").delay(100).animate({opacity:.5})}))}),$(function(){return $(".line_item_quantity").after('<div class="inc qbutton cream button">+</div><div class="dec qbutton cream button">-</div>'),$(".qbutton").click(function(){var e=$(this),t=$(this).siblings(".line_item_quantity").val();if(parseInt($(this).siblings(".line_item_quantity").attr("max")),"+"==e.text())var i=parseInt(t)+1;else if(t>=2)var i=parseFloat(t)-1;else var i=1;$(this).siblings(".line_item_quantity").val(i)}),$("form#update-cart").is("*")?$("form#update-cart a.delete").show().on("click",function(){return $(this).parents(".line-item").first().find("input.line_item_quantity").val(0),$(this).parents("form").first().submit(),!1}):void 0}),/*


   Magic Zoom v4.0.24 
   Copyright 2012 Magic Toolbox
   Buy a license: www.magictoolbox.com/magiczoom/
   License agreement: http://www.magictoolbox.com/license/


*/
eval(function(e,t,i,n,s,a){if(s=function(e){return(t>e?"":s(parseInt(e/t)))+((e%=t)>35?String.fromCharCode(e+29):e.toString(36))},!"".replace(/^/,String)){for(;i--;)a[s(i)]=n[i]||s(i);n=[function(e){return a[e]}],s=function(){return"\\w+"},i=1}for(;i--;)n[i]&&(e=e.replace(new RegExp("\\b"+s(i)+"\\b","g"),n[i]));return e}('(J(){H(13.45){I}L b={3f:"af.6.3-11-ag",6Q:0,48:{},$6G:J(d){I(d.$2U||(d.$2U=++a.6Q))},4J:J(d){I(a.48[d]||(a.48[d]={}))},$F:J(){},$N:J(){I N},1z:J(d){I(1j!=d)},ah:J(d){I!!(d)},2B:J(d){H(!a.1z(d)){I N}H(d.$2t){I d.$2t}H(!!d.32){H(1==d.32){I"6s"}H(3==d.32){I"6M"}}H(d.1q&&d.6a){I"ae"}H(d.1q&&d.5a){I"1m"}H((d 2P 13.ac||d 2P 13.5y)&&d.2D===a.3g){I"51"}H(d 2P 13.3c){I"3G"}H(d 2P 13.5y){I"J"}H(d 2P 13.6y){I"4X"}H(a.Q.2o){H(a.1z(d.7x)){I"3n"}}12{H(d===13.3n||d.2D==13.6p||d.2D==13.a9||d.2D==13.aa||d.2D==13.ab||d.2D==13.ai){I"3n"}}H(d 2P 13.70){I"6O"}H(d 2P 13.6w){I"aj"}H(d===13){I"13"}H(d===W){I"W"}I 2K(d)},1u:J(j,h){H(!(j 2P 13.3c)){j=[j]}1l(L g=0,e=j.1q;g<e;g++){H(!a.1z(j)){4h}1l(L f 1x(h||{})){27{j[g][f]=h[f]}2v(d){}}}I j[0]},5p:J(h,g){H(!(h 2P 13.3c)){h=[h]}1l(L f=0,d=h.1q;f<d;f++){H(!a.1z(h[f])){4h}H(!h[f].1y){4h}1l(L e 1x(g||{})){H(!h[f].1y[e]){h[f].1y[e]=g[e]}}}I h[0]},6Y:J(f,e){H(!a.1z(f)){I f}1l(L d 1x(e||{})){H(!f[d]){f[d]=e[d]}}I f},$27:J(){1l(L f=0,d=1m.1q;f<d;f++){27{I 1m[f]()}2v(g){}}I X},$A:J(f){H(!a.1z(f)){I $S([])}H(f.78){I $S(f.78())}H(f.6a){L e=f.1q||0,d=1s 3c(e);2I(e--){d[e]=f[e]}I $S(d)}I $S(3c.1y.ap.1N(f))},34:J(){I 1s 70().aq()},3e:J(h){L f;2z(a.2B(h)){1h"83":f={};1l(L g 1x h){f[g]=a.3e(h[g])}1f;1h"3G":f=[];1l(L e=0,d=h.1q;e<d;e++){f[e]=a.3e(h[e])}1f;30:I h}I a.$(f)},$:J(e){H(!a.1z(e)){I X}H(e.$5t){I e}2z(a.2B(e)){1h"3G":e=a.6Y(e,a.1u(a.3c,{$5t:a.$F}));e.2j=e.72;I e;1f;1h"4X":L d=W.ao(e);H(a.1z(d)){I a.$(d)}I X;1f;1h"13":1h"W":a.$6G(e);e=a.1u(e,a.3D);1f;1h"6s":a.$6G(e);e=a.1u(e,a.1L);1f;1h"3n":e=a.1u(e,a.6p);1f;1h"6M":I e;1f;1h"J":1h"3G":1h"6O":30:1f}I a.1u(e,{$5t:a.$F})},$1s:J(d,f,e){I $S(a.7a.2y(d)).85(f||{}).19(e||{})},ak:J(e){H(W.63&&W.63.1q){W.63[0].al(e,0)}12{L d=$S(W.2y("1c"));d.2l(e);W.4a("64")[0].1v(d)}}};L a=b;13.45=b;13.$S=b.$;a.3c={$2t:"3G",5R:J(g,h){L d=G.1q;1l(L e=G.1q,f=(h<0)?1i.3m(0,e+h):h||0;f<e;f++){H(G[f]===g){I f}}I-1},3A:J(d,e){I G.5R(d,e)!=-1},72:J(d,g){1l(L f=0,e=G.1q;f<e;f++){H(f 1x G){d.1N(g,G[f],f,G)}}},3u:J(d,j){L h=[];1l(L g=0,e=G.1q;g<e;g++){H(g 1x G){L f=G[g];H(d.1N(j,G[g],g,G)){h.4I(f)}}}I h},am:J(d,h){L g=[];1l(L f=0,e=G.1q;f<e;f++){H(f 1x G){g[f]=d.1N(h,G[f],f,G)}}I g}};a.5p(6y,{$2t:"4X",5o:J(){I G.3b(/^\\s+|\\s+$/g,"")},a8:J(d,e){I(e||N)?(G.3v()===d.3v()):(G.2u().3v()===d.2u().3v())},2F:J(){I G.3b(/-\\D/g,J(d){I d.77(1).a7()})},6V:J(){I G.3b(/[A-Z]/g,J(d){I("-"+d.77(0).2u())})},4t:J(d){I 3R(G,d||10)},9U:J(){I 2E(G)},9b:J(){I!G.3b(/V/i,"").5o()},1Y:J(e,d){d=d||"";I(d+G+d).5R(d+e+d)>-1}});b.5p(5y,{$2t:"J",1J:J(){L e=a.$A(1m),d=G,f=e.3V();I J(){I d.2N(f||X,e.81(a.$A(1m)))}},3k:J(){L e=a.$A(1m),d=G,f=e.3V();I J(g){I d.2N(f||X,$S([g||13.3n]).81(e))}},2q:J(){L e=a.$A(1m),d=G,f=e.3V();I 13.3S(J(){I d.2N(d,e)},f||0)},9V:J(){L e=a.$A(1m),d=G;I J(){I d.2q.2N(d,e)}},7S:J(){L e=a.$A(1m),d=G,f=e.3V();I 13.9W(J(){I d.2N(d,e)},f||0)}});L c=6H.9T.2u();a.Q={4F:{7w:!!(W.9S),9O:!!(13.9P),6B:!!(W.9Q)},2T:J(){27{H(W.3z){W.3z("9R","3P");I V}I N}2v(d){I N}}(),84:c.3q(/7d.+84|9X|9Y|a4\\/|a5|a6|a3|a2|9Z|a0|a1|7D(7b|7k)|as|at|aU |aV|aW|aT|aS|7W m(aP|1x)i|aQ( aR)?|7V|p(aX|aY)\\/|b4|b5|b6|b3|b2|aZ\\.(Q|b0)|b1|aO|aN (ce|7V)|aA|aB/)?V:N,2H:(13.7W)?"53":!!(13.aC)?"2o":(1j!=W.az||X!=13.ay)?"7c":(X!=13.au||!6H.av)?"2p":"aw",3f:"",54:0,7e:c.3q(/7D(?:ad|7k|7b)/)?"ax":(c.3q(/(?:aD|7d)/)||6H.7e.3q(/aE|67|aK/i)||["9N"])[0].2u(),5h:W.4y&&"7g"==W.4y.2u(),2w:J(){I(W.4y&&"7g"==W.4y.2u())?W.1K:W.5s},2a:N,3W:J(){H(a.Q.2a){I}a.Q.2a=V;a.1K=$S(W.1K);a.67=$S(13);(J(){a.Q.3E={2m:N,1C:""};H(2K W.1K.1c.6W!=="1j"){a.Q.3E.2m=V}12{L f="7z 7y O 6k 7s".5n(" ");1l(L e=0,d=f.1q;e<d;e++){a.Q.3E.1C=f[e];H(2K W.1K.1c[a.Q.3E.1C+"aM"]!=="1j"){a.Q.3E.2m=V;1f}}}})();(J(){a.Q.4m={2m:N,1C:""};H(2K W.1K.1c.aJ!=="1j"){a.Q.4m.2m=V}12{L f="7z 7y O 6k 7s".5n(" ");1l(L e=0,d=f.1q;e<d;e++){a.Q.4m.1C=f[e];H(2K W.1K.1c[a.Q.4m.1C+"aI"]!=="1j"){a.Q.4m.2m=V;1f}}}})();$S(W).7l("3d")}};(J(){J d(){I!!(1m.5a.66)}a.Q.3f=("53"==a.Q.2H)?!!(W.64)?aF:!!(13.aG)?aH:!!(13.6L)?b7:(a.Q.4F.6B)?9c:((d())?9h:((W.4i)?9e:6A)):("2o"==a.Q.2H)?!!(13.9d||13.9f)?7C:!!(13.7u&&13.9g)?6:((13.7u)?5:4):("2p"==a.Q.2H)?((a.Q.4F.7w)?((a.Q.4F.6B)?9M:7Z):9D):("7c"==a.Q.2H)?!!(W.64)?6A:!!W.6E?9C:!!(13.6L)?9z:((W.4i)?9A:9F):"";a.Q[a.Q.2H]=a.Q[a.Q.2H+a.Q.3f]=V;H(13.7v){a.Q.7v=V}a.Q.54=(!a.Q.2o)?0:(W.7r)?W.7r:J(){L e=0;2z(a.Q.3f){1h 4:e=6;1f;1h 5:e=7;1f;1h 6:e=8;1f;1h 7C:e=9;1f}I e}()})();(J(){a.Q.1D={2m:N,5k:J(){I N},6q:J(){},7m:J(){},7i:"",7n:"",1C:""};H(2K W.7j!="1j"){a.Q.1D.2m=V}12{L f="2p 9L o 6k 9i".5n(" ");1l(L e=0,d=f.1q;e<d;e++){a.Q.1D.1C=f[e];H(2K W[a.Q.1D.1C+"80"]!="1j"){a.Q.1D.2m=V;1f}}}H(a.Q.1D.2m){a.Q.1D.7i=a.Q.1D.1C+"9J";a.Q.1D.7n=a.Q.1D.1C+"9H";a.Q.1D.5k=J(){2z(G.1C){1h"":I W.1D;1h"2p":I W.9I;30:I W[G.1C+"9y"]}};a.Q.1D.6q=J(g){I(G.1C==="")?g.7t():g[G.1C+"9x"]()};a.Q.1D.7m=J(g){I(G.1C==="")?W.7j():W[G.1C+"80"]()}}})();a.1L={5W:J(d){I G.2M.1Y(d," ")},2n:J(d){H(d&&!G.5W(d)){G.2M+=(G.2M?" ":"")+d}I G},3a:J(d){d=d||".*";G.2M=G.2M.3b(1s 6w("(^|\\\\s)"+d+"(?:\\\\s|$)"),"$1").5o();I G},9n:J(d){I G.5W(d)?G.3a(d):G.2n(d)},3X:J(f){f=(f=="6U"&&G.4k)?"6r":f.2F();L d=X,e=X;H(G.4k){d=G.4k[f]}12{H(W.62&&W.62.6Z){e=W.62.6Z(G,X);d=e?e.9m([f.6V()]):X}}H(!d){d=G.1c[f]}H("1r"==f){I a.1z(d)?2E(d):1}H(/^(21(5L|5K|5H|5I)8a)|((2s|65)(5L|5K|5H|5I))$/.2c(f)){d=3R(d)?d:"1t"}I("2g"==d?X:d)},4C:J(f,d){27{H("1r"==f){G.1P(d);I G}12{H("6U"==f){G.1c[("1j"===2K(G.1c.6r))?"9l":"6r"]=d;I G}12{H(a.Q.3E&&/6W/.2c(f)){}}}G.1c[f.2F()]=d+(("6d"==a.2B(d)&&!$S(["4w","1g"]).3A(f.2F()))?"1a":"")}2v(g){}I G},19:J(e){1l(L d 1x e){G.4C(d,e[d])}I G},9j:J(){L d={};a.$A(1m).2j(J(e){d[e]=G.3X(e)},G);I d},1P:J(h,e){e=e||N;h=2E(h);H(e){H(h==0){H("1X"!=G.1c.22){G.1c.22="1X"}}12{H("3w"!=G.1c.22){G.1c.22="3w"}}}H(a.Q.2o){H(!G.4k||!G.4k.9k){G.1c.1g=1}27{L g=G.9p.6a("73.7G.82");g.5k=(1!=h);g.1r=h*1T}2v(d){G.1c.3u+=(1==h)?"":"9q:73.7G.82(5k=V,1r="+h*1T+")"}}G.1c.1r=h;I G},85:J(d){1l(L e 1x d){G.9v(e,""+d[e])}I G},1I:J(){I G.19({2R:"3K",22:"1X"})},1M:J(){I G.19({2R:"36",22:"3w"})},29:J(){I{P:G.9w,T:G.9u}},4N:J(){I{R:G.4M,U:G.4E}},9t:J(){L d=G,e={R:0,U:0};7h{e.U+=d.4E||0;e.R+=d.4M||0;d=d.1O}2I(d);I e},3s:J(){H(a.1z(W.5s.7U)){L d=G.7U(),f=$S(W).4N(),h=a.Q.2w();I{R:d.R+f.y-h.9r,U:d.U+f.x-h.9s}}L g=G,e=t=0;7h{e+=g.aL||0;t+=g.bJ||0;g=g.cJ}2I(g&&!(/^(?:1K|b8)$/i).2c(g.3j));I{R:t,U:e}},4K:J(){L e=G.3s();L d=G.29();I{R:e.R,1b:e.R+d.T,U:e.U,1d:e.U+d.P}},5M:J(f){27{G.8N=f}2v(d){G.cI=f}I G},41:J(){I(G.1O)?G.1O.2f(G):G},4z:J(){a.$A(G.cH).2j(J(d){H(3==d.32||8==d.32){I}$S(d).4z()});G.41();G.7Y();H(G.$2U){a.48[G.$2U]=X;5c a.48[G.$2U]}I X},6l:J(g,e){e=e||"1b";L d=G.1F;("R"==e&&d)?G.8O(g,d):G.1v(g);I G},2i:J(f,e){L d=$S(f).6l(G,e);I G},cF:J(d){G.6l(d.1O.8y(G,d));I G},6f:J(d){H(!(d=$S(d))){I N}I(G==d)?N:(G.3A&&!(a.Q.7o))?(G.3A(d)):(G.7A)?!!(G.7A(d)&16):a.$A(G.4d(d.3j)).3A(d)}};a.1L.4o=a.1L.3X;a.1L.8C=a.1L.19;H(!13.1L){13.1L=a.$F;H(a.Q.2H.2p){13.W.2y("cG")}13.1L.1y=(a.Q.2H.2p)?13["[[cL.1y]]"]:{}}a.5p(13.1L,{$2t:"6s"});a.3D={29:J(){H(a.Q.cR||a.Q.7o){I{P:M.94,T:M.89}}I{P:a.Q.2w().cQ,T:a.Q.2w().cP}},4N:J(){I{x:M.cN||a.Q.2w().4E,y:M.cO||a.Q.2w().4M}},cE:J(){L d=G.29();I{P:1i.3m(a.Q.2w().cD,d.P),T:1i.3m(a.Q.2w().cU,d.T)}}};a.1u(W,{$2t:"W"});a.1u(13,{$2t:"13"});a.1u([a.1L,a.3D],{3o:J(g,e){L d=a.4J(G.$2U),f=d[g];H(1j!=e&&1j==f){f=d[g]=e}I(a.1z(f)?f:X)},cu:J(f,e){L d=a.4J(G.$2U);d[f]=e;I G},7X:J(e){L d=a.4J(G.$2U);5c d[e];I G}});H(!(13.5z&&13.5z.1y&&13.5z.1y.4i)){a.1u([a.1L,a.3D],{4i:J(d){I a.$A(G.4a("*")).3u(J(g){27{I(1==g.32&&g.2M.1Y(d," "))}2v(f){}})}})}a.1u([a.1L,a.3D],{cs:J(){I G.4i(1m[0])},4d:J(){I G.4a(1m[0])}});H(a.Q.1D.2m){a.1L.7t=J(){a.Q.1D.6q(G)}}a.6p={$2t:"3n",1A:J(){H(G.7q){G.7q()}12{G.7x=V}H(G.5U){G.5U()}12{G.co=N}I G},5Q:J(){L e,d;e=((/5d/i).2c(G.2h))?G.cp[0]:G;I(!a.1z(e))?{x:0,y:0}:{x:e.cq||e.cv+a.Q.2w().4E,y:e.cw||e.cB+a.Q.2w().4M}},8h:J(){L d=G.cA||G.cz;2I(d&&3==d.32){d=d.1O}I d},6x:J(){L e=X;2z(G.2h){1h"1H":e=G.7B||G.cx;1f;1h"2L":e=G.7B||G.cy;1f;30:I e}27{2I(e&&3==e.32){e=e.1O}}2v(d){e=X}I e},4T:J(){H(!G.7p&&G.4D!==1j){I(G.4D&1?1:(G.4D&2?3:(G.4D&4?2:0)))}I G.7p}};a.6I="7f";a.6F="cT";a.4A="";H(!W.7f){a.6I="d7";a.6F="d6";a.4A="3x"}a.1u([a.1L,a.3D],{1o:J(g,f){L i=("3d"==g)?N:V,e=G.3o("4g",{});e[g]=e[g]||{};H(e[g].5f(f.$49)){I G}H(!f.$49){f.$49=1i.8R(1i.8P()*a.34())}L d=G,h=J(j){I f.1N(d)};H("3d"==g){H(a.Q.2a){f.1N(G);I G}}H(i){h=J(j){j=a.1u(j||13.e,{$2t:"3n"});I f.1N(d,$S(j))};G[a.6I](a.4A+g,h,N)}e[g][f.$49]=h;I G},1V:J(g){L i=("3d"==g)?N:V,e=G.3o("4g");H(!e||!e[g]){I G}L h=e[g],f=1m[1]||X;H(g&&!f){1l(L d 1x h){H(!h.5f(d)){4h}G.1V(g,d)}I G}f=("J"==a.2B(f))?f.$49:f;H(!h.5f(f)){I G}H("3d"==g){i=N}H(i){G[a.6F](a.4A+g,h[f],N)}5c h[f];I G},7l:J(h,f){L m=("3d"==h)?N:V,l=G,j;H(!m){L g=G.3o("4g");H(!g||!g[h]){I G}L i=g[h];1l(L d 1x i){H(!i.5f(d)){4h}i[d].1N(G)}I G}H(l===W&&W.3z&&!l.7E){l=W.5s}H(W.3z){j=W.3z(h);j.d4(f,V,V)}12{j=W.cX();j.d5=h}H(W.3z){l.7E(j)}12{l.cZ("3x"+f,j)}I j},7Y:J(){L d=G.3o("4g");H(!d){I G}1l(L e 1x d){G.1V(e)}G.7X("4g");I G}});(J(){H(a.Q.2p&&a.Q.3f<7Z){(J(){($S(["d3","6e"]).3A(W.6E))?a.Q.3W():1m.5a.2q(50)})()}12{H(a.Q.2o&&a.Q.54<9&&13==R){(J(){(a.$27(J(){a.Q.2w().d1("U");I V}))?a.Q.3W():1m.5a.2q(50)})()}12{$S(W).1o("d2",a.Q.3W);$S(13).1o("26",a.Q.3W)}}})();a.3g=J(){L h=X,e=a.$A(1m);H("51"==a.2B(e[0])){h=e.3V()}L d=J(){1l(L l 1x G){G[l]=a.3e(G[l])}H(G.2D.$2r){G.$2r={};L o=G.2D.$2r;1l(L n 1x o){L j=o[n];2z(a.2B(j)){1h"J":G.$2r[n]=a.3g.7T(G,j);1f;1h"83":G.$2r[n]=a.3e(j);1f;1h"3G":G.$2r[n]=a.3e(j);1f}}}L i=(G.2X)?G.2X.2N(G,1m):G;5c G.66;I i};H(!d.1y.2X){d.1y.2X=a.$F}H(h){L g=J(){};g.1y=h.1y;d.1y=1s g;d.$2r={};1l(L f 1x h.1y){d.$2r[f]=h.1y[f]}}12{d.$2r=X}d.2D=a.3g;d.1y.2D=d;a.1u(d.1y,e[0]);a.1u(d,{$2t:"51"});I d};b.3g.7T=J(d,e){I J(){L g=G.66;L f=e.2N(d,1m);I f}};a.67=$S(13);a.7a=$S(W)})();(J(a){H(!a){6u"79 76 6X";I}H(a.2e){I}L b=a.$;a.2e=1s a.3g({K:{4r:50,3B:8F,7F:J(c){I-(1i.5E(1i.5V*c)-1)/2},7J:a.$F,3C:a.$F,7M:a.$F,7L:V},2W:X,2X:J(d,c){G.5C=$S(d);G.K=a.1u(G.K,c);G.2J=N},2b:J(c){G.2W=c;G.bv=0;G.bw=0;G.61=a.34();G.7I=G.61+G.K.3B;G.2J=G.7K.1J(G).7S(1i.37(8z/G.K.4r));G.K.7J.1N();I G},1A:J(c){c=a.1z(c)?c:N;H(G.2J){7H(G.2J);G.2J=N}H(c){G.3H(1);G.K.3C.2q(10)}I G},5Z:J(e,d,c){I(d-e)*c+e},7K:J(){L d=a.34();H(d>=G.7I){H(G.2J){7H(G.2J);G.2J=N}G.3H(1);G.K.3C.2q(10);I G}L c=G.K.7F((d-G.61)/G.K.3B);G.3H(c)},3H:J(c){L d={};1l(L e 1x G.2W){H("1r"===e){d[e]=1i.37(G.5Z(G.2W[e][0],G.2W[e][1],c)*1T)/1T}12{d[e]=G.5Z(G.2W[e][0],G.2W[e][1],c);H(G.K.7L){d[e]=1i.37(d[e])}}}G.K.7M(d);G.7R(d)},7R:J(c){I G.5C.19(c)}});a.2e.31={bF:J(c){I c},7Q:J(c){I-(1i.5E(1i.5V*c)-1)/2},bt:J(c){I 1-a.2e.31.7Q(1-c)},7P:J(c){I 1i.3J(2,8*(c-1))},bf:J(c){I 1-a.2e.31.7P(1-c)},7N:J(c){I 1i.3J(c,2)},be:J(c){I 1-a.2e.31.7N(1-c)},7O:J(c){I 1i.3J(c,3)},b9:J(c){I 1-a.2e.31.7O(1-c)},86:J(d,c){c=c||1.bb;I 1i.3J(d,2)*((c+1)*d-c)},bh:J(d,c){I 1-a.2e.31.86(1-d)},6T:J(d,c){c=c||[];I 1i.3J(2,10*--d)*1i.5E(20*d*1i.5V*(c[0]||1)/3)},bo:J(d,c){I 1-a.2e.31.6T(1-d,c)},6N:J(e){1l(L d=0,c=1;1;d+=c,c/=2){H(e>=(7-4*d)/11){I c*c-1i.3J((11-6*d-11*e)/4,2)}}},bk:J(c){I 1-a.2e.31.6N(1-c)},3K:J(c){I 0}}})(45);(J(a){H(!a){6u"79 76 6X";I}H(a.5B){I}L b=a.$;a.5B=1s a.3g(a.2e,{2X:J(c,d){G.5J=c;G.K=a.1u(G.K,d);G.2J=N},2b:J(c){G.$2r.2b([]);G.6S=c;I G},3H:J(c){1l(L d=0;d<G.5J.1q;d++){G.5C=$S(G.5J[d]);G.2W=G.6S[d];G.$2r.3H(c)}}})})(45);L 6m=(J(c){L d=c.$;c.$5j=J(f){$S(f).1A();I N};L a={3f:"c7.0.24",K:{},5q:{1r:50,2S:N,68:40,4r:25,1U:43,2d:43,3y:15,1E:"1d",47:"R",8k:"69",3I:N,5X:V,3O:N,6C:N,x:-1,y:-1,59:N,5S:N,1W:"26",58:V,3h:"R",56:"1S",8t:V,8v:5D,8A:6A,2k:"",1k:V,4b:"8J",4Q:"6P",8E:75,8x:"c5",4B:V,8n:"c6 1g..",8b:75,6n:-1,6o:-1,2Z:"1w",8i:60,3p:"71",8M:5D,8X:V,95:N,3Z:"",8s:V,4v:N,4q:N,3M:N},98:$S([/^(1r)(\\s+)?:(\\s+)?(\\d+)$/i,/^(1r-cc)(\\s+)?:(\\s+)?(V|N)$/i,/^(58\\-52)(\\s+)?:(\\s+)?(\\d+)$/i,/^(4r)(\\s+)?:(\\s+)?(\\d+)$/i,/^(1g\\-P)(\\s+)?:(\\s+)?(\\d+)(1a)?/i,/^(1g\\-T)(\\s+)?:(\\s+)?(\\d+)(1a)?/i,/^(1g\\-cd)(\\s+)?:(\\s+)?(\\d+)(1a)?/i,/^(1g\\-1n)(\\s+)?:(\\s+)?(1d|U|R|1b|6c|3T|#([a-4Z-4Y\\-:\\.]+))$/i,/^(1g\\-ck)(\\s+)?:(\\s+)?(1d|U|R|1b|4R)$/i,/^(1g\\-13\\-6h)(\\s+)?:(\\s+)?(69|8Z|N)$/i,/^(cl\\-cj)(\\s+)?:(\\s+)?(V|N)$/i,/^(ci\\-3x\\-1w)(\\s+)?:(\\s+)?(V|N)$/i,/^(cf\\-1M\\-1g)(\\s+)?:(\\s+)?(V|N)$/i,/^(cg\\-1n)(\\s+)?:(\\s+)?(V|N)$/i,/^(x)(\\s+)?:(\\s+)?([\\d.]+)(1a)?/i,/^(y)(\\s+)?:(\\s+)?([\\d.]+)(1a)?/i,/^(1w\\-6J\\-5e)(\\s+)?:(\\s+)?(V|N)$/i,/^(1w\\-6J\\-ch)(\\s+)?:(\\s+)?(V|N)$/i,/^(6K\\-3x)(\\s+)?:(\\s+)?(26|1w|1H)$/i,/^(1w\\-6J\\-6K)(\\s+)?:(\\s+)?(V|N)$/i,/^(58)(\\s+)?:(\\s+)?(V|N)$/i,/^(1M\\-1S)(\\s+)?:(\\s+)?(V|N|R|1b)$/i,/^(1S\\-c2)(\\s+)?:(\\s+)?(1S|#([a-4Z-4Y\\-:\\.]+))$/i,/^(1g\\-4j)(\\s+)?:(\\s+)?(V|N)$/i,/^(1g\\-4j\\-1x\\-52)(\\s+)?:(\\s+)?(\\d+)$/i,/^(1g\\-4j\\-bR\\-52)(\\s+)?:(\\s+)?(\\d+)$/i,/^(2k)(\\s+)?:(\\s+)?([a-4Z-4Y\\-:\\.]+)$/i,/^(1k)(\\s+)?:(\\s+)?(V|N)/i,/^(1k\\-bS)(\\s+)?:(\\s+)?([^;]*)$/i,/^(1k\\-1r)(\\s+)?:(\\s+)?(\\d+)$/i,/^(1k\\-1n)(\\s+)?:(\\s+)?(6P|8G|8r|bl|br|bc)/i,/^(1M\\-4f)(\\s+)?:(\\s+)?(V|N)$/i,/^(4f\\-bP)(\\s+)?:(\\s+)?([^;]*)$/i,/^(4f\\-1r)(\\s+)?:(\\s+)?(\\d+)$/i,/^(4f\\-1n\\-x)(\\s+)?:(\\s+)?(\\d+)(1a)?/i,/^(4f\\-1n\\-y)(\\s+)?:(\\s+)?(\\d+)(1a)?/i,/^(bN\\-74)(\\s+)?:(\\s+)?(1w|1H)$/i,/^(1Z\\-74)(\\s+)?:(\\s+)?(1w|1H)$/i,/^(1Z\\-1H\\-bO)(\\s+)?:(\\s+)?(\\d+)$/i,/^(1Z\\-6h)(\\s+)?:(\\s+)?(71|4j|5v|N)$/i,/^(1Z\\-6h\\-52)(\\s+)?:(\\s+)?(\\d+)$/i,/^(1Z\\-51)(\\s+)?:(\\s+)?([a-4Z-4Y\\-:\\.]+)$/i,/^(bV\\-1g\\-13)(\\s+)?:(\\s+)?(V|N)$/i,/^(6R\\-1Z\\-bW)(\\s+)?:(\\s+)?(V|N)$/i,/^(6R\\-1Z\\-5O)(\\s+)?:(\\s+)?(V|N)$/i,/^(cK\\-bX)(\\s+)?:(\\s+)?(V|N)$/i,/^(1d\\-1w)(\\s+)?:(\\s+)?(V|N)$/i,/^(bY\\-1g)(\\s+)?:(\\s+)?(V|N)$/i]),2O:$S([]),8K:J(h){L g=/(1w|1H)/i;1l(L f=0;f<a.2O.1q;f++){H(a.2O[f].28&&!a.2O[f].4u){a.2O[f].4p()}12{H(g.2c(a.2O[f].K.1W)&&a.2O[f].3L){a.2O[f].3L=h}}}},1A:J(f){L e=$S([]);H(f){H((f=$S(f))&&f.1g){e.4I(f)}12{I N}}12{e=$S(c.$A(c.1K.4d("A")).3u(J(g){I((" "+g.2M+" ").3q(/\\bZ\\s/)&&g.1g)}))}e.2j(J(g){g.1g&&g.1g.1A()},G)},2b:J(e){H(0==1m.1q){a.6z();I V}e=$S(e);H(!e||!(" "+e.2M+" ").3q(/\\s(6m|c1)\\s/)){I N}H(!e.1g){L f=X;2I(f=e.1F){H(f.3j=="6t"){1f}e.2f(f)}2I(f=e.c0){H(f.3j=="6t"){1f}e.2f(f)}H(!e.1F||e.1F.3j!="6t"){6u"bU bT 8J"}a.2O.4I(1s a.1g(e,(1m.1q>1)?1m[1]:1j))}12{e.1g.2b()}},2l:J(h,e,g,f){H((h=$S(h))&&h.1g){h.1g.2l(e,g,f);I V}I N},6z:J(){c.$A(13.W.4a("A")).2j(J(e){H(e.2M.1Y("6m"," ")){H(a.1A(e)){a.2b.2q(1T,e)}12{a.2b(e)}}},G)},1M:J(e){H((e=$S(e))&&e.1g){I e.1g.5e()}I N},bM:J(e){H((e=$S(e))&&e.1g){I{x:e.1g.K.x,y:e.1g.K.y}}},8S:J(g){L f,e;f="";1l(e=0;e<g.1q;e++){f+=6y.bQ(14^g.c3(e))}I f}};a.46=J(){G.2X.2N(G,1m)};a.46.1y={2X:J(e){G.cb=X;G.3l=X;G.5A=G.8g.3k(G);G.4S=X;G.P=0;G.T=0;G.21={U:0,1d:0,R:0,1b:0};G.2s={U:0,1d:0,R:0,1b:0};G.2a=N;G.39=X;H("4X"==c.2B(e)){G.39=c.$1s("5b").19({1n:"1R",R:"-c4",P:"8m",T:"8m",3i:"1X"}).2i(c.1K);G.M=c.$1s("5w").2i(G.39);G.4W();G.M.1B=e}12{G.M=$S(e);G.4W();G.M.1B=e.1B}},4e:J(){H(G.39){H(G.M.1O==G.39){G.M.41().19({1n:"c8",R:"2g"})}G.39.4z();G.39=X}},8g:J(f){H(f){$S(f).1A()}H(G.cb){G.4e();G.cb.1N(G,N)}G.3r()},4W:J(e){G.3l=X;H(e==V||!(G.M.1B&&(G.M.6e||G.M.6E=="6e"))){G.3l=J(f){H(f){$S(f).1A()}H(G.2a){I}G.2a=V;G.4c();H(G.cb){G.4e();G.cb.1N()}}.3k(G);G.M.1o("26",G.3l);$S(["88","87"]).2j(J(f){G.M.1o(f,G.5A)},G)}12{G.2a=V}},2l:J(f,g){G.3r();L e=c.$1s("a",{1G:f});H(V!==g&&G.M.1B.1Y(e.1G)&&0!==G.M.P){G.2a=V}12{G.4W(V);G.M.1B=f}e=X},4c:J(){G.P=G.M.P;G.T=G.M.T;H(G.P==0&&G.T==0&&c.Q.2p){G.P=G.M.ca;G.T=G.M.c9}$S(["5H","5I","5L","5K"]).2j(J(f){G.2s[f.2u()]=G.M.4o("2s"+f).4t();G.21[f.2u()]=G.M.4o("21"+f+"8a").4t()},G);H(c.Q.53||(c.Q.2o&&!c.Q.5h)){G.P-=G.2s.U+G.2s.1d;G.T-=G.2s.R+G.2s.1b}},5P:J(){L e=X;e=G.M.4K();I{R:e.R+G.21.R,1b:e.1b-G.21.1b,U:e.U+G.21.U,1d:e.1d-G.21.1d}},bL:J(){H(G.4S){G.4S.1B=G.M.1B;G.M=X;G.M=G.4S}},26:J(e){H(G.2a){H(!G.P){(J(){G.4c();G.4e();e.1N()}).1J(G).2q(1)}12{G.4e();e.1N()}}12{G.cb=e}},3r:J(){H(G.3l){G.M.1V("26",G.3l)}$S(["88","87"]).2j(J(e){G.M.1V(e,G.5A)},G);G.3l=X;G.cb=X;G.P=X;G.2a=N;G.bK=N}};a.1g=J(){G.6i.2N(G,1m)};a.1g.1y={6i:J(g,f){L e={};G.2V=-1;G.28=N;G.4V=0;G.4U=0;G.4u=N;G.2C=X;G.5N=$S(13).3o("8e:8d")||$S(13).3o("8e:8d",c.$1s("5b").19({1n:"1R",R:-bm,P:10,T:10,3i:"1X"}).2i(c.1K));G.K=c.3e(a.5q);H(g){G.c=$S(g)}G.33=("5b"==G.c.3j.2u());e=c.1u(e,G.5m());e=c.1u(e,G.5m(G.c.4G));H(f){e=c.1u(e,G.5m(f))}H(e.3I&&1j===e.3O){e.3O=V}c.1u(G.K,e);G.K.2k+="";H("26"==G.K.1W&&c.1z(G.K.8p)&&"V"==G.K.8p.3v()){G.K.1W="1w"}H(c.1z(G.K.5Y)&&G.K.5Y!=G.K.2Z){G.K.2Z=G.K.5Y}H(c.Q.2T){G.K.2Z="1w";G.K.1W=("1H"==G.K.1W)?"1w":G.K.1W;G.K.5S=N;H(13.bj.T<=bn){G.K.1E="3T"}}H(G.K.3M){G.28=N;G.K.59=V;G.K.1k=N}H(g){G.5g=X;G.4l=G.5u.3k(G);G.5T=G.5x.3k(G);G.6b=G.1M.1J(G,N);G.99=G.8D.1J(G);G.2x=G.4n.3k(G);H(c.Q.2T){H(!G.K.3M){G.c.1o("8u",G.4l);G.c.1o("3P",G.5T)}12{G.c.19({"-2p-bq-bp":"3K","-2p-5d-bi":"3K","-2p-ba-bd-8U":"bg"});G.c.1o("1w",J(h){h.5U()})}}12{H(!G.33){G.c.1o("1w",J(i){L h=i.4T();H(3==h){I V}$S(i).1A();H(!c.Q.2o){G.8l()}I N})}G.c.1o("5u",G.4l);G.c.1o("5x",G.5T);H("1H"==G.K.1W){G.c.1o("1H",G.4l)}}G.c.8o="3x";G.c.1c.bs="3K";G.c.1o("bE",c.$5j);H(!G.33){G.c.19({1n:"5l",2R:"8H-36",bD:"3K",8j:"0",8f:"bG"});H(c.Q.bH||c.Q.53){G.c.19({2R:"36"})}H(G.c.3X("8c")=="4R"){G.c.19({65:"2g 2g"})}}G.c.1g=G}12{G.K.1W="26"}H(!G.K.4q){G.c.1o("8L",c.$5j)}H("26"==G.K.1W){G.4x()}12{H(""!=G.c.3N){G.6v(V)}}},4x:J(){L j,m,l,k,h;H(!G.17){G.17=1s a.46(G.c.1F);G.1e=1s a.46(G.c.1G)}12{G.1e.2l(G.c.1G)}H(!G.Y){G.Y={M:$S(W.2y("3t"))[(G.33)?"3a":"2n"]("cn").19({3i:"1X",4w:G.K.1E=="3T"?1T:bI,R:"-42",1n:"1R",P:G.K.1U+"1a",T:G.K.2d+"1a"}),1g:G,2A:"1t",4P:0,4L:0};H(!(c.Q.bC&&c.Q.54<9)){2z(G.K.8k){1h"69":G.Y.M.2n("bB");1f;1h"8Z":G.Y.M.2n("bu");1f;30:1f}}G.Y.1I=J(){H(G.M.1c.R!="-42"&&G.1g.18&&!G.1g.18.38){G.2A=G.M.1c.R;G.M.1c.R="-42"}H(G.M.1O===c.1K){G.M.2i(G.1g.5N)}};G.Y.8B=G.Y.1I.1J(G.Y);H(c.Q.8q){j=$S(W.2y("bx"));j.1B="by:\'\'";j.19({U:"1t",R:"1t",1n:"1R","z-2Q":-1}).bA=0;G.Y.6D=G.Y.M.1v(j)}G.Y.2Y=$S(W.2y("3t")).2n("bz").19({1n:"5l",4w:10,U:"1t",R:"1t",2s:"cm"}).1I();m=c.$1s("3t",{},{3i:"1X"});m.1v(G.1e.M);G.1e.M.19({2s:"1t",65:"1t",21:"1t",P:"2g",T:"2g"});H(G.K.3h=="1b"){G.Y.M.1v(m);G.Y.M.1v(G.Y.2Y)}12{G.Y.M.1v(G.Y.2Y);G.Y.M.1v(m)}H(G.K.1E=="6c"&&$S(G.c.3N+"-5O")){$S(G.c.3N+"-5O").1v(G.Y.M)}12{H(G.K.1E.1Y("#")){L n=G.K.1E.3b(/^#/,"");H($S(n)){$S(n).1v(G.Y.M)}}12{H(G.K.1E=="3T"){G.c.1v(G.Y.M)}12{G.Y.M.2i(G.5N)}}}H("1j"!==2K(h)){G.Y.g=$S(W.2y("5b")).19({8U:h[1],ct:h[2]+"1a",d8:h[3],cY:"cV",1n:"1R","z-2Q":10+(""+(G.1e.M.3X("z-2Q")||0)).4t(),P:h[5],8c:h[4],U:"1t"}).5M(a.8S(h[0])).2i(G.Y.M,((1i.8R(1i.8P()*d0)+1)%2)?"R":"1b")}}H(G.K.3h!="N"&&G.K.3h!=N){L i=G.Y.2Y;i.1I();2I(l=i.1F){i.2f(l)}H(G.K.56=="1S"&&""!=G.c.1S){i.1v(W.4O(G.c.1S));i.1M()}12{H(G.K.56.1Y("#")){L n=G.K.56.3b(/^#/,"");H($S(n)){i.5M($S(n).8N);i.1M()}}}}12{G.Y.2Y.1I()}G.c.8Q=G.c.1S;G.c.1S="";G.17.26(G.8Y.1J(G))},8Y:J(e){H(!e&&e!==1j){I}H(!G.K.2S){G.17.M.1P(1)}H(!G.33){G.c.19({P:G.17.P+"1a"})}H(G.K.4B){G.3U=3S(G.99,5D)}H(G.K.2k!=""&&$S(G.K.2k)){G.cW()}H(G.c.3N!=""){G.6v()}G.1e.26(G.5F.1J(G))},5F:J(g){L f,e;H(!g&&g!==1j){57(G.3U);H(G.K.4B&&G.23){G.23.1I()}I}H(!G.17||!G.1e){I}e=G.17.M.4K();H(e.1b==e.R){G.5F.1J(G).2q(8F);I}H(G.17.P==0&&c.Q.2o){G.17.4c();G.1e.4c();!G.33&&G.c.19({P:G.17.P+"1a"})}f=G.Y.2Y.29();H(G.K.8s||G.K.4v){H((G.1e.P<G.K.1U)||G.K.4v){G.K.1U=G.1e.P;G.Y.M.19({P:G.K.1U});f=G.Y.2Y.29()}H((G.1e.T<G.K.2d)||G.K.4v){G.K.2d=G.1e.T+f.T}}2z(G.K.1E){1h"6c":1f;1h"1d":G.Y.M.1c.U=e.1d+G.K.3y+"1a";1f;1h"U":G.Y.M.1c.U=e.U-G.K.3y-G.K.1U+"1a";1f;1h"R":G.Y.2A=e.R-(G.K.3y+G.K.2d)+"1a";1f;1h"1b":G.Y.2A=e.1b+G.K.3y+"1a";1f;1h"3T":G.Y.M.19({U:"1t",T:G.17.T+"1a",P:G.17.P+"1a"});G.K.1U=G.17.P;G.K.2d=G.17.T;G.Y.2A="1t";f=G.Y.2Y.29();1f}H(G.K.3h=="1b"){G.1e.M.1O.1c.T=(G.K.2d-f.T)+"1a"}G.Y.M.19({T:G.K.2d+"1a",P:G.K.1U+"1a"}).1P(1);H(c.Q.8q&&G.Y.6D){G.Y.6D.19({P:G.K.1U+"1a",T:G.K.2d+"1a"})}H(G.K.1E=="1d"||G.K.1E=="U"){H(G.K.47=="4R"){G.Y.2A=(e.1b-(e.1b-e.R)/2-G.K.2d/2)+"1a"}12{H(G.K.47=="1b"){G.Y.2A=(e.1b-G.K.2d)+"1a"}12{G.Y.2A=e.R+"1a"}}}12{H(G.K.1E=="R"||G.K.1E=="1b"){H(G.K.47=="4R"){G.Y.M.1c.U=(e.1d-(e.1d-e.U)/2-G.K.1U/2)+"1a"}12{H(G.K.47=="1d"){G.Y.M.1c.U=(e.1d-G.K.1U)+"1a"}12{G.Y.M.1c.U=e.U+"1a"}}}}G.Y.4P=3R(G.Y.2A,10);G.Y.4L=3R(G.Y.M.1c.U,10);G.5r=G.K.2d-f.T;H(G.Y.g){G.Y.g.19({R:G.K.3h=="1b"?0:"2g",1b:G.K.3h=="1b"?"2g":0})}G.1e.M.19({1n:"5l",3Q:"1t",2s:"1t",U:"1t",R:"1t"});G.90();H(G.K.3O){H(G.K.x==-1){G.K.x=G.17.P/2}H(G.K.y==-1){G.K.y=G.17.T/2}G.1M()}12{H(G.K.8t){G.1Q=1s c.2e(G.Y.M)}G.Y.M.19({R:"-42"})}H(G.K.4B&&G.23){G.23.1I()}H(c.Q.2T){G.c.1o("8u",G.2x);G.c.1o("92",G.2x);G.c.1o("3P",G.2x)}12{G.c.1o("6j",G.2x);G.c.1o("2L",G.2x)}G.8w();H(!G.K.3M&&(!G.K.59||"1w"==G.K.1W)){G.28=V}H("1w"==G.K.1W&&G.3L){G.4n(G.3L)}H(G.4u){G.5e()}G.2V=c.34()},8w:J(){L i=/8G|br/i,e=/bl|br|bc/i,f=/bc|8r/i,h=X;G.3F=1j;H(!G.K.1k){H(G.1k){G.1k.4z();G.1k=1j}I}H(!G.1k){G.1k=$S(W.2y("3t")).2n(G.K.8x).19({2R:"36",3i:"1X",1n:"1R",22:"1X","z-2Q":1});H(G.K.4b!=""){G.1k.1v(W.4O(G.K.4b))}G.c.1v(G.1k)}12{H(G.K.4b!=""){h=G.1k[(G.1k.1F)?"8y":"1v"](W.4O(G.K.4b),G.1k.1F);h=X}}G.1k.19({U:"2g",1d:"2g",R:"2g",1b:"2g",2R:"36",1r:(G.K.8E/1T),"3m-P":(G.17.P-4)});L g=G.1k.29();G.1k.4C((i.2c(G.K.4Q)?"1d":"U"),(f.2c(G.K.4Q)?(G.17.P-g.P)/2:2)).4C((e.2c(G.K.4Q)?"1b":"R"),2);G.3F=V;G.1k.1M()},8D:J(){H(G.1e.2a){I}G.23=$S(W.2y("3t")).2n("cC").1P(G.K.8b/1T).19({2R:"36",3i:"1X",1n:"1R",22:"1X","z-2Q":20,"3m-P":(G.17.P-4)});G.23.1v(W.4O(G.K.8n));G.c.1v(G.23);L e=G.23.29();G.23.19({U:(G.K.6n==-1?((G.17.P-e.P)/2):(G.K.6n))+"1a",R:(G.K.6o==-1?((G.17.T-e.T)/2):(G.K.6o))+"1a"});G.23.1M()},6v:J(g){L e,h,f=1s 6w("1g\\\\-3N(\\\\s+)?:(\\\\s+)?"+G.c.3N+"($|;)");G.1Z=$S([]);c.$A(W.4a("A")).2j(J(j){H(f.2c(j.4G)){H(!$S(j).44){j.44=J(k){H(!c.Q.2o){G.8l()}$S(k).1A();I N};j.1o("1w",j.44)}H(g){I}L i=c.$1s("a",{1G:j.4H});(G.K.3Z!="")&&$S(j)[G.1e.M.1B.1Y(j.1G)&&G.17.M.1B.1Y(i.1G)?"2n":"3a"](G.K.3Z);H(G.1e.M.1B.1Y(j.1G)&&G.17.M.1B.1Y(i.1G)){G.5g=j}i=X;H(!j.35){j.35=J(m,l){l=m.cr||m.8h();27{2I("a"!=l.3j.2u()){l=l.1O}}2v(k){I}H(l.6f(m.6x())){I}H(m.2h=="2L"){H(G.3Y){57(G.3Y)}G.3Y=N;I}H(l.1S!=""){G.c.1S=l.1S}H(m.2h=="1H"){G.3Y=3S(G.2l.1J(G,l.1G,l.4H,l.4G,l),G.K.8i)}12{G.2l(l.1G,l.4H,l.4G,l)}}.3k(G);j.1o(G.K.2Z,j.35);H(G.K.2Z=="1H"){j.1o("2L",j.35)}}j.19({8j:"0",2R:"8H-36"});H(G.K.8X){h=1s 93();h.1B=j.4H}H(G.K.95){e=1s 93();e.1B=j.1G}G.1Z.4I(j)}},G)},1A:J(f){27{G.4p();H(c.Q.2T){G.c.1V("92",G.2x);G.c.1V("3P",G.2x)}12{G.c.1V("6j",G.2x);G.c.1V("2L",G.2x)}H(1j===f&&G.18){G.18.M.1I()}H(G.1Q){G.1Q.1A()}G.1p=X;G.28=N;H(G.1Z!==1j){G.1Z.2j(J(e){H(G.K.3Z!=""){e.3a(G.K.3Z)}H(1j===f){e.1V(G.K.2Z,e.35);H(G.K.2Z=="1H"){e.1V("2L",e.35)}e.35=X;e.1V("1w",e.44);e.44=X}},G)}H(G.K.2k!=""&&$S(G.K.2k)){$S(G.K.2k).1I();$S(G.K.2k).cS.8O($S(G.K.2k),$S(G.K.2k).cM);H(G.c.6g){G.c.2f(G.c.6g)}}G.1e.3r();H(G.K.2S){G.c.3a("55");G.17.M.1P(1)}G.1Q=X;H(G.23){G.c.2f(G.23)}H(G.1k){G.1k.1I()}H(1j===f){H(G.1k){G.c.2f(G.1k)}G.1k=X;G.17.3r();(G.18&&G.18.M)&&G.c.2f(G.18.M);(G.Y&&G.Y.M)&&G.Y.M.1O.2f(G.Y.M);G.18=X;G.Y=X;G.1e=X;G.17=X;H(!G.K.4q){G.c.1V("8L",c.$5j)}}H(G.3U){57(G.3U);G.3U=X}G.2C=X;G.c.6g=X;G.23=X;H(G.c.1S==""){G.c.1S=G.c.8Q}G.2V=-1}2v(g){}},2b:J(e){H(G.2V!=-1){I}G.6i(N,e)},2l:J(u,k,f,s){L g,x,e,i,p,h,z=X,r=X;L j,l,w,q,n,o,A,y,m;s=s||X;H(c.34()-G.2V<43||G.2V==-1||G.5G){g=43-c.34()+G.2V;H(G.2V==-1){g=43}G.3Y=3S(G.2l.1J(G,u,k,f,s),g);I}H(s&&G.5g==s){I}12{G.5g=s}x=J(B){H(1j!=u){G.c.1G=u}H(1j===f){f=""}H(G.K.6C){f="x: "+G.K.x+"; y: "+G.K.y+"; "+f}H(1j!=k){G.17.2l(k);H(B!==1j){G.17.26(B)}}};i=G.17.P;p=G.17.T;G.1A(V);H(G.K.3p!="N"){G.5G=V;L v=$S(G.c.5i(V)).19({1n:"1R",R:"-42"});G.c.1O.1v(v);h=1s a.46(v.1F);h.2l(k);H("5v"==G.K.3p){m=G.c.1G;j=G.1Z.3u(J(B){I B.1G.1Y(m)});j=(j[0])?$S(j[0].4d("5w")[0]||j[0]):G.17.M;l=G.1Z.3u(J(B){I B.1G.1Y(u)});l=(l[0])?$S(l[0].4d("5w")[0]||l[0]):X;H(X==l){l=G.17.M;j=G.17.M}q=G.17.M.3s(),n=j.3s(),o=l.3s(),y=j.29(),A=l.29()}e=J(){L B={},D={},C={},E=X;H("5v"==G.K.3p){B.P=[i,y.P];B.T=[p,y.T];B.R=[q.R,n.R];B.U=[q.U,n.U];D.P=[A.P,h.P];D.T=[A.T,h.T];D.R=[o.R,q.R];v.1P(0).19({T:0,P:h.P,1n:"5l"});D.U=[o.U,v.3s().U];C.P=[i,h.P];C.T=[p,h.T];h.M.2i(c.1K).19({1n:"1R","z-2Q":8W,U:D.U[0],R:D.R[0],P:D.P[0],T:D.T[0]});E=$S(G.c.1F.5i(N)).2i(c.1K).19({1n:"1R","z-2Q":8V,U:B.U[0],R:B.R[0],22:"3w"});$S(G.c.1F).19({22:"1X"});G.c.1O.2f(v)}12{h.M.2i(G.c).19({1n:"1R","z-2Q":8W,1r:0,U:"1t",R:"1t"});E=$S(G.c.1F.5i(N)).2i(G.c).19({1n:"1R","z-2Q":8V,U:"1t",R:"1t",22:"3w"});$S(G.c.1F).19({22:"1X"});G.c.1O.2f(v);D={1r:[0,1]};H(i!=h.P||p!=h.T){C.P=D.P=B.P=[i,h.P];C.T=D.T=B.T=[p,h.T]}H(G.K.3p=="4j"){B.1r=[1,0]}}1s c.5B([G.c,h.M,(E||G.c.1F)],{3B:G.K.8M,3C:J(){H(E){E.41();E=X}x.1N(G,J(){h.3r();$S(G.c.1F).19({22:"3w"});$S(h.M).41();h=X;H(B.1r){$S(G.c.1F).19({1r:1})}G.5G=N;G.2b(f);H(z){z.2q(10)}}.1J(G))}.1J(G)}).2b([C,D,B])};h.26(e.1J(G))}12{x.1N(G,J(){G.c.19({P:G.17.P+"1a",T:G.17.T+"1a"});G.2b(f);H(z){z.2q(10)}}.1J(G))}},5m:J(f){L e,j,h,g;e=X;j=[];f=f||"";H(""==f){1l(g 1x a.K){e=a.K[g];2z(c.2B(a.5q[g.2F()])){1h"97":e=e.3v().9b();1f;1h"6d":e=2E(e);1f;30:1f}j[g.2F()]=e}}12{h=$S(f.5n(";"));h.2j(J(i){a.98.2j(J(k){e=k.9o(i.5o());H(e){2z(c.2B(a.5q[e[1].2F()])){1h"97":j[e[1].2F()]=e[4]==="V";1f;1h"6d":j[e[1].2F()]=2E(e[4]);1f;30:j[e[1].2F()]=e[4]}}},G)},G)}H(N===j.3p){j.3p="N"}I j},90:J(){L f,e;H(!G.18){G.18={M:$S(W.2y("3t")).2n("55").19({4w:10,1n:"1R",3i:"1X"}).1I(),P:20,T:20};G.c.1v(G.18.M)}H(G.K.4v){G.18.M.19({"21-P":"1t",8f:"30"})}G.18.38=N;G.18.T=G.5r/(G.1e.T/G.17.T);G.18.P=G.K.1U/(G.1e.P/G.17.P);H(G.18.P>G.17.P){G.18.P=G.17.P}H(G.18.T>G.17.T){G.18.T=G.17.T}G.18.P=1i.37(G.18.P);G.18.T=1i.37(G.18.T);G.18.3Q=G.18.M.4o("9K").4t();G.18.M.19({P:(G.18.P-2*(c.Q.5h?0:G.18.3Q))+"1a",T:(G.18.T-2*(c.Q.5h?0:G.18.3Q))+"1a"});H(!G.K.2S&&!G.K.4q){G.18.M.1P(2E(G.K.1r/1T));H(G.18.2G){G.18.M.2f(G.18.2G);G.18.2G=X}}12{H(G.18.2G){G.18.2G.1B=G.17.M.1B}12{f=G.17.M.5i(N);f.8o="3x";G.18.2G=$S(G.18.M.1v(f)).19({1n:"1R",4w:5})}H(G.K.2S){G.18.M.1P(1)}12{H(G.K.4q){G.18.2G.1P(0.9G)}G.18.M.1P(2E(G.K.1r/1T))}}},4n:J(g,f){H(!G.28||g===1j){I N}L h=(/5d/i).2c(g.2h)&&g.9a.1q>1;H((!G.33||g.2h!="2L")&&!h){$S(g).1A()}H(f===1j){f=$S(g).5Q()}H(G.1p===X||G.1p===1j){G.1p=G.17.5P()}H("3P"==g.2h||("2L"==g.2h&&!G.c.6f(g.6x()))||h||f.x>G.1p.1d||f.x<G.1p.U||f.y>G.1p.1b||f.y<G.1p.R){G.4p();I N}G.4u=N;H(g.2h=="2L"||g.2h=="3P"){I N}H(G.K.3I&&!G.4s){I N}H(!G.K.5X){f.x-=G.4V;f.y-=G.4U}H((f.x+G.18.P/2)>=G.1p.1d){f.x=G.1p.1d-G.18.P/2}H((f.x-G.18.P/2)<=G.1p.U){f.x=G.1p.U+G.18.P/2}H((f.y+G.18.T/2)>=G.1p.1b){f.y=G.1p.1b-G.18.T/2}H((f.y-G.18.T/2)<=G.1p.R){f.y=G.1p.R+G.18.T/2}G.K.x=f.x-G.1p.U;G.K.y=f.y-G.1p.R;H(G.2C===X){G.2C=3S(G.6b,10)}H(c.1z(G.3F)&&G.3F){G.3F=N;G.1k.1I()}I V},1M:J(){L n,j,g,f,l,k,i,h,e=G.K,o=G.18;n=o.P/2;j=o.T/2;o.M.1c.U=e.x-n+G.17.21.U+"1a";o.M.1c.R=e.y-j+G.17.21.R+"1a";H(G.K.2S){o.2G.1c.U="-"+(2E(o.M.1c.U)+o.3Q)+"1a";o.2G.1c.R="-"+(2E(o.M.1c.R)+o.3Q)+"1a"}g=(G.K.x-n)*(G.1e.P/G.17.P);f=(G.K.y-j)*(G.1e.T/G.17.T);H(G.1e.P-g<e.1U){g=G.1e.P-e.1U;H(g<0){g=0}}H(G.1e.T-f<G.5r){f=G.1e.T-G.5r;H(f<0){f=0}}H(W.5s.9B=="9E"){g=(e.x+o.P/2-G.17.P)*(G.1e.P/G.17.P)}g=1i.37(g);f=1i.37(f);H(e.58===N||(!o.38)){G.1e.M.1c.U=(-g)+"1a";G.1e.M.1c.R=(-f)+"1a"}12{l=3R(G.1e.M.1c.U);k=3R(G.1e.M.1c.R);i=(-g-l);h=(-f-k);H(!i&&!h){G.2C=X;I}i*=e.68/1T;H(i<1&&i>0){i=1}12{H(i>-1&&i<0){i=-1}}l+=i;h*=e.68/1T;H(h<1&&h>0){h=1}12{H(h>-1&&h<0){h=-1}}k+=h;G.1e.M.1c.U=l+"1a";G.1e.M.1c.R=k+"1a"}H(!o.38){H(G.1Q){G.1Q.1A();G.1Q.K.3C=c.$F;G.1Q.K.3B=e.8v;G.Y.M.1P(0);G.1Q.2b({1r:[0,1]})}H(/^(U|1d|R|1b)$/i.2c(e.1E)){G.Y.M.2i(c.1K)}H(e.1E!="3T"){o.M.1M()}H(/^(U|1d|R|1b)$/i.2c(e.1E)&&!G.K.3O){L m=G.8T();G.Y.M.1c.R=m.y+"1a";G.Y.M.1c.U=m.x+"1a"}12{G.Y.M.1c.R=G.Y.2A}H(e.2S){G.c.2n("55").8C({"21-P":"1t"});G.17.M.1P(2E((1T-e.1r)/1T))}o.38=V}H(G.2C){G.2C=3S(G.6b,8z/e.4r)}},8T:J(){L f=G.96(5),e=G.17.M.4K(),j=G.K.1E,i=G.Y,g=G.K.3y,m=i.M.29(),l=i.4P,h=i.4L,k={x:i.4L,y:i.4P};H("U"==j||"1d"==j){k.y=1i.3m(f.R,1i.8I(f.1b,l+m.T)-m.T);H("U"==j&&f.U>h){k.x=(e.U-f.U>=m.P)?(e.U-m.P-2):(f.1d-e.1d-2>e.U-f.U-2)?(e.1d+2):(e.U-m.P-2)}12{H("1d"==j&&f.1d<h+m.P){k.x=(f.1d-e.1d>=m.P)?(e.1d+2):(e.U-f.U-2>f.1d-e.1d-2)?(e.U-m.P-2):(e.1d+2)}}}12{H("R"==j||"1b"==j){k.x=1i.3m(f.U+2,1i.8I(f.1d,h+m.P)-m.P);H("R"==j&&f.R>l){k.y=(e.R-f.R>=m.T)?(e.R-m.T-2):(f.1b-e.1b-2>e.R-f.R-2)?(e.1b+2):(e.R-m.T-2)}12{H("1b"==j&&f.1b<l+m.T){k.y=(f.1b-e.1b>=m.T)?(e.1b+2):(e.R-f.R-2>f.1b-e.1b-2)?(e.R-m.T-2):(e.1b+2)}}}}I k},96:J(g){g=g||0;L f=(c.Q.2T)?{P:13.94,T:13.89}:$S(13).29(),e=$S(13).4N();I{U:e.x+g,1d:e.x+f.P-g,R:e.y+g,1b:e.y+f.T-g}},5e:J(e){e=(c.1z(e))?e:V;G.4u=V;H(!G.1e){G.4x();I}H(G.K.3M){I}G.28=V;H(e){H(!G.K.6C){G.K.x=G.17.P/2;G.K.y=G.17.T/2}G.1M()}},4p:J(){H(G.2C){57(G.2C);G.2C=X}H(!G.K.3O&&G.18&&G.18.38){G.18.38=N;G.18.M.1I();H(G.1Q){G.1Q.1A();G.1Q.K.3C=G.Y.8B;G.1Q.K.3B=G.K.8A;L e=G.Y.M.4o("1r");G.1Q.2b({1r:[e,0]})}12{G.Y.1I()}H(G.K.2S){G.c.3a("55");G.17.M.1P(1)}}G.1p=X;H(G.K.59){G.28=N}H(G.K.3I){G.4s=N}H(G.1k){G.3F=V;G.1k.1M()}},5u:J(h){L f=h.4T();H(3==f){I V}H(!((/5d/i).2c(h.2h)&&h.9a.1q>1)){$S(h).1A()}H("1w"==G.K.1W&&!G.17){G.3L=h;G.4x();I}H("1H"==G.K.1W&&!G.17&&h.2h=="1H"){G.3L=h;G.4x();G.c.1V("1H",G.4l);I}H(G.K.3M){I}H(G.17&&!G.1e.2a){I}H(G.1e&&G.K.5S&&G.28){G.28=N;G.4p();I}H(G.1e&&!G.28){G.28=V;G.4n(h)}H(G.28&&G.K.3I){G.4s=V;H(!G.K.5X){H(c.Q.2T&&(G.1p===X||G.1p===1j)){G.1p=G.17.5P()}L g=h.5Q();G.4V=g.x-G.K.x-G.1p.U;G.4U=g.y-G.K.y-G.1p.R;H(1i.91(G.4V)>G.18.P/2||1i.91(G.4U)>G.18.T/2){G.4s=N;I}}12{G.4n(h)}}},5x:J(g){L f=g.4T();H(3==f){I V}$S(g).1A();H(G.K.3I){G.4s=N}}};H(c.Q.2o){27{W.an("ar",N,V)}2v(b){}}$S(W).1o("3d",J(){H(!c.Q.2T){$S(W).1o("6j",a.8K)}a.6z()});I a})(45);',62,815,"||||||||||||||||||||||||||||||||||||||||||this|if|return|function|options|var|self|false||width|j21|top|mjs|height|left|true|document|null|z47||||else|window||||z7|z4|j6|px|bottom|style|right|z1|break|zoom|case|Math|undefined|hint|for|arguments|position|je1|z6|length|opacity|new|0px|extend|appendChild|click|in|prototype|defined|stop|src|prefix|fullScreen|zoomPosition|firstChild|href|mouseover|hide|j24|body|Element|show|call|parentNode|j23|z2|absolute|title|100|zoomWidth|je2|initializeOn|hidden|has|selectors||border|visibility|z3|||load|try|z30|j7|ready|start|test|zoomHeight|FX|removeChild|auto|type|j32|j14|hotspots|update|capable|j2|trident|webkit|j27|parent|padding|J_TYPE|toLowerCase|catch|getDoc|z43Bind|createElement|switch|z21|j1|z44|constructor|parseFloat|j22|z42|engine|while|timer|typeof|mouseout|className|apply|zooms|instanceof|index|display|opacityReverse|touchScreen|J_UUID|z28|styles|init|z41|selectorsChange|default|Transition|nodeType|divTag|now|z34|block|round|z38|_tmpp|j3|replace|Array|domready|detach|version|Class|showTitle|overflow|tagName|j16|z9|max|event|j29|selectorsEffect|match|unload|j8|DIV|filter|toString|visible|on|zoomDistance|createEvent|contains|duration|onComplete|Doc|css3Transformations|hintVisible|array|render|dragMode|pow|none|initMouseEvent|disableZoom|id|alwaysShowZoom|touchend|borderWidth|parseInt|setTimeout|inner|z24|shift|onready|j5|z35|selectorsClass||j33|100000px|300|z36|magicJS|z48|zoomAlign|storage|J_EUID|getElementsByTagName|hintText|z13|byTag|_cleanup|loading|events|continue|getElementsByClassName|fade|currentStyle|z14|css3Animation|z43|j19|pause|rightClick|fps|z45|j17|activatedEx|entireImage|zIndex|z18|compatMode|kill|_event_prefix_|showLoading|j6Prop|button|scrollLeft|features|rel|rev|push|getStorage|j9|initLeftPos|scrollTop|j10|createTextNode|initTopPos|hintPosition|center|z10|getButton|ddy|ddx|z11|string|9_|z0||class|speed|presto|ieMode|MagicZoomPup|titleSource|clearTimeout|smoothing|clickToActivate|callee|div|delete|touch|activate|hasOwnProperty|lastSelector|backCompat|cloneNode|Ff|enabled|relative|z37|split|j26|implement|defaults|zoomViewHeight|documentElement|J_EXTENDED|mousedown|pounce|img|mouseup|Function|HTMLElement|onErrorHandler|PFX|el|400|cos|z20|ufx|Left|Right|el_arr|Bottom|Top|changeContent|z1Holder|big|getBox|j15|indexOf|clickToDeactivate|z15|preventDefault|PI|j13|moveOnClick|thumbChange|calc||startTime|defaultView|styleSheets|head|margin|caller|win|smoothingSpeed|shadow|item|z16|custom|number|complete|hasChild|z33|effect|construct|mousemove|ms|append|MagicZoom|loadingPositionX|loadingPositionY|Event|request|styleFloat|element|IMG|throw|z26|RegExp|getRelated|String|refresh|200|query|preservePosition|z23|readyState|_event_del_|uuid|navigator|_event_add_|to|initialize|localStorage|textnode|bounceIn|date|tl|UUID|preload|styles_arr|elasticIn|float|dashize|transform|found|nativize|getComputedStyle|Date|dissolve|forEach|DXImageTransform|change||not|charAt|toArray|MagicJS|doc|hone|gecko|android|platform|addEventListener|backcompat|do|changeEventName|cancelFullScreen|od|raiseEvent|cancel|errorEventName|webkit419|which|stopPropagation|documentMode|Khtml|requestFullScreen|XMLHttpRequest|chrome|xpath|cancelBubble|Moz|Webkit|compareDocumentPosition|relatedTarget|900|ip|dispatchEvent|transition|Microsoft|clearInterval|finishTime|onStart|loop|roundCss|onBeforeRender|quadIn|cubicIn|expoIn|sineIn|set|interval|wrap|getBoundingClientRect|phone|opera|j31|je3|420|CancelFullScreen|concat|Alpha|object|mobile|setProps|backIn|error|abort|innerHeight|Width|loadingOpacity|textAlign|holder|magiczoom|cursor|onError|getTarget|selectorsMouseoverDelay|outline|zoomWindowEffect|blur|1px|loadingMsg|unselectable|clickToInitialize|trident4|tc|fitZoomWindow|zoomFade|touchstart|zoomFadeInSpeed|setupHint|hintClass|replaceChild|1000|zoomFadeOutSpeed|z22|j20|z29|hintOpacity|500|tr|inline|min|Zoom|z8|contextmenu|selectorsEffectSpeed|innerHTML|insertBefore|random|z46|floor|x7|adjPos|color|5000|5001|preloadSelectorsSmall|z19|glow|z27|abs|touchmove|Image|innerWidth|preloadSelectorsBig|getViewPort|boolean|z39|z17|touches|j18|220|msPerformance|210|performance|postMessage|211|khtml|j19s|hasLayout|cssFloat|getPropertyValue|j4|exec|filters|progid|clientTop|clientLeft|j11|offsetHeight|setAttribute|offsetWidth|RequestFullScreen|FullScreen|191|190|dir|192|419|rtl|181|009|fullscreenerror|webkitIsFullScreen|fullscreenchange|borderLeftWidth|moz|525|other|air|runtime|querySelector|TouchEvent|evaluate|userAgent|toFloat|j28|setInterval|tablet|avantgo|fennec|hiptop|iemobile|elaine|compal|bada|blackberry|blazer|toUpperCase|eq|MouseEvent|UIEvent|KeyboardEvent|Object||collection|v2|gc46e733|exists|KeyEvent|regexp|addCSS|insertRule|map|execCommand|getElementById|slice|getTime|BackgroundImageCache|iris|kindle|WebKitPoint|taintEnabled|unknown|ios|mozInnerScreenY|getBoxObjectFor|xda|xiino|ActiveXObject|webos|mac|270|applicationCache|260|AnimationName|animationName|linux|offsetLeft|Transform|windows|wap|ob|palm|os|netfront|mmp|lge|maemo|midp|ixi|re|up|link|vodafone|treo|symbian|plucker|pocket|psp|250|html|cubicOut|tap|618||highlight|quadOut|expoOut|transparent|backOut|callout|screen|bounceOut||10000|480|elasticOut|select|user||MozUserSelect|sineOut|MagicBoxGlow|state|curFrame|IFRAME|javascript|MagicZoomHeader|frameBorder|MagicBoxShadow|trident900|textDecoration|selectstart|linear|hand|gecko181|10002|offsetTop|_new|z12|getXY|thumb|delay|msg|fromCharCode|out|text|Magic|Invalid|fit|small|image|disable|sMagicZoom|lastChild|MagicZoomPlus|source|charCodeAt|10000px|MagicZoomHint|Loading|v4|static|naturalHeight|naturalWidth||reverse|distance||always|preserve|deactivate|move|mode|align|drag|3px|MagicZoomBigImageCont|returnValue|changedTouches|pageX|currentTarget|byClass|fontSize|j30|clientX|pageY|fromElement|toElement|srcElement|target|clientY|MagicZoomLoading|scrollWidth|j12|enclose|iframe|childNodes|innerText|offsetParent|entire|DOMElement|z32|pageXOffset|pageYOffset|clientHeight|clientWidth|presto925|z31|removeEventListener|scrollHeight|Tahoma|z25|createEventObject|fontFamily|fireEvent|101|doScroll|DOMContentLoaded|loaded|initEvent|eventType|detachEvent|attachEvent|fontWeight".split("|"),0,{}));
