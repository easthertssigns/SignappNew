/*!
 * jQuery JavaScript Library v1.7.2
 * http://jquery.com/
 *
 * Copyright 2011, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2011, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Wed Mar 21 12:46:34 2012 -0700
 */
function initAligningGuidelines(t){function e(t){n(t.x+.5,t.y1>t.y2?t.y2:t.y1,t.x+.5,t.y2>t.y1?t.y2:t.y1)}function i(t){n(t.x1>t.x2?t.x2:t.x1,t.y+.5,t.x2>t.x1?t.x2:t.x1,t.y+.5)}function n(t,e,i,n){a.save(),a.lineWidth=l,a.strokeStyle=c,a.beginPath(),a.moveTo(t,e),a.lineTo(i,n),a.stroke(),a.restore()}function s(t,e){t=Math.round(t),e=Math.round(e);for(var i=t-o,n=t+o;n>=i;i++)if(i===e)return!0;return!1}var a=t.getSelectionContext(),r=(t.getHeight(),5),o=4,l=1,c="rgb(0,255,0)",h=[],u=[];t.on("object:moving",function(e){for(var i=e.target,n=t.getObjects(),a=i.get("left"),o=i.get("top"),l=i.getHeight(),c=i.getWidth(),d=!0,f=n.length;f--;)if(n[f]!==i){var p=n[f].get("left"),g=n[f].get("top"),m=n[f].getHeight(),v=n[f].getWidth();s(p,a)&&(d=!1,h.push({x:p,y1:o>g?g-m/2-r:g+m/2+r,y2:o>g?o+l/2+r:o-l/2-r}),i.set("left",p)),s(p-v/2,a-c/2)&&(d=!1,h.push({x:p-v/2,y1:o>g?g-m/2-r:g+m/2+r,y2:o>g?o+l/2+r:o-l/2-r}),i.set("left",p-v/2+c/2)),s(p+v/2,a+c/2)&&(d=!1,h.push({x:p+v/2,y1:o>g?g-m/2-r:g+m/2+r,y2:o>g?o+l/2+r:o-l/2-r}),i.set("left",p+v/2-c/2)),s(g,o)&&(d=!1,u.push({y:g,x1:a>p?p-v/2-r:p+v/2+r,x2:a>p?a+c/2+r:a-c/2-r}),i.set("top",g)),s(g-m/2,o-l/2)&&(d=!1,u.push({y:g-m/2,x1:a>p?p-v/2-r:p+v/2+r,x2:a>p?a+c/2+r:a-c/2-r}),i.set("top",g-m/2+l/2)),s(g+m/2,o+l/2)&&(d=!1,u.push({y:g+m/2,x1:a>p?p-v/2-r:p+v/2+r,x2:a>p?a+c/2+r:a-c/2-r}),i.set("top",g+m/2-l/2))}d&&(h.length=u.length=0)}),t.on("after:render",function(){for(var t=h.length;t--;)e(h[t]);for(var t=u.length;t--;)i(u[t])}),t.on("mouse:up",function(){h.length=u.length=0,t.renderAll()})}function initCenteringGuidelines(t){function e(){n(r+.5,0,r+.5,a)}function i(){n(0,o+.5,s,o+.5)}function n(t,e,i,n){f.save(),f.strokeStyle=u,f.lineWidth=d,f.beginPath(),f.moveTo(t,e),f.lineTo(i,n),f.stroke(),f.restore()}for(var s=t.getWidth(),a=t.getHeight(),r=s/2,o=a/2,l={},c={},h=4,u="rgba(255,0,241,0.5)",d=1,f=t.getSelectionContext(),p=r-h,g=r+h;g>=p;p++)l[p]=!0;for(var p=o-h,g=o+h;g>=p;p++)c[p]=!0;var m,v;t.on("object:moving",function(t){object=t.target,m=object.get("left")in l,v=object.get("top")in c,v&&object.set("top",o),m&&object.set("left",r)}),t.on("after:render",function(){m&&e(),v&&i()}),t.on("mouse:up",function(){m=v=null,t.renderAll()})}function equalHeight(t){var e=0;t.each(function(){var t=$(this).height();t>e&&(e=t)}),t.height(e)}!function(t,e){function i(t){var e,i,n=N[t]={};for(t=t.split(/\s+/),e=0,i=t.length;i>e;e++)n[t[e]]=!0;return n}function n(t,i,n){if(n===e&&1===t.nodeType){var s="data-"+i.replace(L,"-$1").toLowerCase();if(n=t.getAttribute(s),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:E.isNumeric(n)?+n:H.test(n)?E.parseJSON(n):n}catch(a){}E.data(t,i,n)}else n=e}return n}function s(t){for(var e in t)if(("data"!==e||!E.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function a(t,e,i){var n=e+"defer",s=e+"queue",a=e+"mark",r=E._data(t,n);!r||"queue"!==i&&E._data(t,s)||"mark"!==i&&E._data(t,a)||setTimeout(function(){E._data(t,s)||E._data(t,a)||(E.removeData(t,n,!0),r.fire())},0)}function r(){return!1}function o(){return!0}function l(t){return!t||!t.parentNode||11===t.parentNode.nodeType}function c(t,e,i){if(e=e||0,E.isFunction(e))return E.grep(t,function(t,n){var s=!!e.call(t,n,t);return s===i});if(e.nodeType)return E.grep(t,function(t){return t===e===i});if("string"==typeof e){var n=E.grep(t,function(t){return 1===t.nodeType});if(he.test(e))return E.filter(e,n,!i);e=E.filter(e,n)}return E.grep(t,function(t){return E.inArray(t,e)>=0===i})}function h(t){var e=pe.split("|"),i=t.createDocumentFragment();if(i.createElement)for(;e.length;)i.createElement(e.pop());return i}function u(t){return E.nodeName(t,"table")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function d(t,e){if(1===e.nodeType&&E.hasData(t)){var i,n,s,a=E._data(t),r=E._data(e,a),o=a.events;if(o){delete r.handle,r.events={};for(i in o)for(n=0,s=o[i].length;s>n;n++)E.event.add(e,i,o[i][n])}r.data&&(r.data=E.extend({},r.data))}}function f(t,e){var i;1===e.nodeType&&(e.clearAttributes&&e.clearAttributes(),e.mergeAttributes&&e.mergeAttributes(t),i=e.nodeName.toLowerCase(),"object"===i?e.outerHTML=t.outerHTML:"input"!==i||"checkbox"!==t.type&&"radio"!==t.type?"option"===i?e.selected=t.defaultSelected:"input"===i||"textarea"===i?e.defaultValue=t.defaultValue:"script"===i&&e.text!==t.text&&(e.text=t.text):(t.checked&&(e.defaultChecked=e.checked=t.checked),e.value!==t.value&&(e.value=t.value)),e.removeAttribute(E.expando),e.removeAttribute("_submit_attached"),e.removeAttribute("_change_attached"))}function p(t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName("*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll("*"):[]}function g(t){("checkbox"===t.type||"radio"===t.type)&&(t.defaultChecked=t.checked)}function m(t){var e=(t.nodeName||"").toLowerCase();"input"===e?g(t):"script"!==e&&"undefined"!=typeof t.getElementsByTagName&&E.grep(t.getElementsByTagName("input"),g)}function v(t){var e=O.createElement("div");return Ie.appendChild(e),e.innerHTML=t.outerHTML,e.firstChild}function b(t,e,i){var n="width"===e?t.offsetWidth:t.offsetHeight,s="width"===e?1:0,a=4;if(n>0){if("border"!==i)for(;a>s;s+=2)i||(n-=parseFloat(E.css(t,"padding"+Re[s]))||0),"margin"===i?n+=parseFloat(E.css(t,i+Re[s]))||0:n-=parseFloat(E.css(t,"border"+Re[s]+"Width"))||0;return n+"px"}if(n=Ae(t,e),(0>n||null==n)&&(n=t.style[e]),Ne.test(n))return n;if(n=parseFloat(n)||0,i)for(;a>s;s+=2)n+=parseFloat(E.css(t,"padding"+Re[s]))||0,"padding"!==i&&(n+=parseFloat(E.css(t,"border"+Re[s]+"Width"))||0),"margin"===i&&(n+=parseFloat(E.css(t,i+Re[s]))||0);return n+"px"}function y(t){return function(e,i){if("string"!=typeof e&&(i=e,e="*"),E.isFunction(i))for(var n,s,a,r=e.toLowerCase().split(ei),o=0,l=r.length;l>o;o++)n=r[o],a=/^\+/.test(n),a&&(n=n.substr(1)||"*"),s=t[n]=t[n]||[],s[a?"unshift":"push"](i)}}function _(t,i,n,s,a,r){a=a||i.dataTypes[0],r=r||{},r[a]=!0;for(var o,l=t[a],c=0,h=l?l.length:0,u=t===ai;h>c&&(u||!o);c++)o=l[c](i,n,s),"string"==typeof o&&(!u||r[o]?o=e:(i.dataTypes.unshift(o),o=_(t,i,n,s,o,r)));return!u&&o||r["*"]||(o=_(t,i,n,s,"*",r)),o}function x(t,i){var n,s,a=E.ajaxSettings.flatOptions||{};for(n in i)i[n]!==e&&((a[n]?t:s||(s={}))[n]=i[n]);s&&E.extend(!0,t,s)}function w(t,e,i,n){if(E.isArray(e))E.each(e,function(e,s){i||Be.test(t)?n(t,s):w(t+"["+("object"==typeof s?e:"")+"]",s,i,n)});else if(i||"object"!==E.type(e))n(t,e);else for(var s in e)w(t+"["+s+"]",e[s],i,n)}function k(t,i,n){var s,a,r,o,l=t.contents,c=t.dataTypes,h=t.responseFields;for(a in h)a in n&&(i[h[a]]=n[a]);for(;"*"===c[0];)c.shift(),s===e&&(s=t.mimeType||i.getResponseHeader("content-type"));if(s)for(a in l)if(l[a]&&l[a].test(s)){c.unshift(a);break}if(c[0]in n)r=c[0];else{for(a in n){if(!c[0]||t.converters[a+" "+c[0]]){r=a;break}o||(o=a)}r=r||o}return r?(r!==c[0]&&c.unshift(r),n[r]):void 0}function C(t,i){t.dataFilter&&(i=t.dataFilter(i,t.dataType));var n,s,a,r,o,l,c,h,u=t.dataTypes,d={},f=u.length,p=u[0];for(n=1;f>n;n++){if(1===n)for(s in t.converters)"string"==typeof s&&(d[s.toLowerCase()]=t.converters[s]);if(r=p,p=u[n],"*"===p)p=r;else if("*"!==r&&r!==p){if(o=r+" "+p,l=d[o]||d["* "+p],!l){h=e;for(c in d)if(a=c.split(" "),(a[0]===r||"*"===a[0])&&(h=d[a[1]+" "+p])){c=d[c],c===!0?l=h:h===!0&&(l=c);break}}l||h||E.error("No conversion from "+o.replace(" "," to ")),l!==!0&&(i=l?l(i):h(c(i)))}}return i}function S(){try{return new t.XMLHttpRequest}catch(e){}}function j(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function T(){return setTimeout(I,0),vi=E.now()}function I(){vi=e}function A(t,e){var i={};return E.each(xi.concat.apply([],xi.slice(0,e)),function(){i[this]=t}),i}function P(t){if(!bi[t]){var e=O.body,i=E("<"+t+">").appendTo(e),n=i.css("display");i.remove(),("none"===n||""===n)&&(pi||(pi=O.createElement("iframe"),pi.frameBorder=pi.width=pi.height=0),e.appendChild(pi),gi&&pi.createElement||(gi=(pi.contentWindow||pi.contentDocument).document,gi.write((E.support.boxModel?"<!doctype html>":"")+"<html><body>"),gi.close()),i=gi.createElement(t),gi.body.appendChild(i),n=E.css(i,"display"),e.removeChild(pi)),bi[t]=n}return bi[t]}function D(t){return E.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var O=t.document,F=t.navigator,M=t.location,E=function(){function i(){if(!o.isReady){try{O.documentElement.doScroll("left")}catch(t){return setTimeout(i,1),void 0}o.ready()}}var n,s,a,r,o=function(t,e){return new o.fn.init(t,e,n)},l=t.jQuery,c=t.$,h=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,u=/\S/,d=/^\s+/,f=/\s+$/,p=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,g=/^[\],:{}\s]*$/,m=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,v=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,b=/(?:^|:|,)(?:\s*\[)+/g,y=/(webkit)[ \/]([\w.]+)/,_=/(opera)(?:.*version)?[ \/]([\w.]+)/,x=/(msie) ([\w.]+)/,w=/(mozilla)(?:.*? rv:([\w.]+))?/,k=/-([a-z]|[0-9])/gi,C=/^-ms-/,S=function(t,e){return(e+"").toUpperCase()},j=F.userAgent,T=Object.prototype.toString,I=Object.prototype.hasOwnProperty,A=Array.prototype.push,P=Array.prototype.slice,D=String.prototype.trim,M=Array.prototype.indexOf,E={};return o.fn=o.prototype={constructor:o,init:function(t,i,n){var s,a,r,l;if(!t)return this;if(t.nodeType)return this.context=this[0]=t,this.length=1,this;if("body"===t&&!i&&O.body)return this.context=O,this[0]=O.body,this.selector=t,this.length=1,this;if("string"==typeof t){if(s="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:h.exec(t),!s||!s[1]&&i)return!i||i.jquery?(i||n).find(t):this.constructor(i).find(t);if(s[1])return i=i instanceof o?i[0]:i,l=i?i.ownerDocument||i:O,r=p.exec(t),r?o.isPlainObject(i)?(t=[O.createElement(r[1])],o.fn.attr.call(t,i,!0)):t=[l.createElement(r[1])]:(r=o.buildFragment([s[1]],[l]),t=(r.cacheable?o.clone(r.fragment):r.fragment).childNodes),o.merge(this,t);if(a=O.getElementById(s[2]),a&&a.parentNode){if(a.id!==s[2])return n.find(t);this.length=1,this[0]=a}return this.context=O,this.selector=t,this}return o.isFunction(t)?n.ready(t):(t.selector!==e&&(this.selector=t.selector,this.context=t.context),o.makeArray(t,this))},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return P.call(this,0)},get:function(t){return null==t?this.toArray():0>t?this[this.length+t]:this[t]},pushStack:function(t,e,i){var n=this.constructor();return o.isArray(t)?A.apply(n,t):o.merge(n,t),n.prevObject=this,n.context=this.context,"find"===e?n.selector=this.selector+(this.selector?" ":"")+i:e&&(n.selector=this.selector+"."+e+"("+i+")"),n},each:function(t,e){return o.each(this,t,e)},ready:function(t){return o.bindReady(),a.add(t),this},eq:function(t){return t=+t,-1===t?this.slice(t):this.slice(t,t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(P.apply(this,arguments),"slice",P.call(arguments).join(","))},map:function(t){return this.pushStack(o.map(this,function(e,i){return t.call(e,i,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:A,sort:[].sort,splice:[].splice},o.fn.init.prototype=o.fn,o.extend=o.fn.extend=function(){var t,i,n,s,a,r,l=arguments[0]||{},c=1,h=arguments.length,u=!1;for("boolean"==typeof l&&(u=l,l=arguments[1]||{},c=2),"object"==typeof l||o.isFunction(l)||(l={}),h===c&&(l=this,--c);h>c;c++)if(null!=(t=arguments[c]))for(i in t)n=l[i],s=t[i],l!==s&&(u&&s&&(o.isPlainObject(s)||(a=o.isArray(s)))?(a?(a=!1,r=n&&o.isArray(n)?n:[]):r=n&&o.isPlainObject(n)?n:{},l[i]=o.extend(u,r,s)):s!==e&&(l[i]=s));return l},o.extend({noConflict:function(e){return t.$===o&&(t.$=c),e&&t.jQuery===o&&(t.jQuery=l),o},isReady:!1,readyWait:1,holdReady:function(t){t?o.readyWait++:o.ready(!0)},ready:function(t){if(t===!0&&!--o.readyWait||t!==!0&&!o.isReady){if(!O.body)return setTimeout(o.ready,1);if(o.isReady=!0,t!==!0&&--o.readyWait>0)return;a.fireWith(O,[o]),o.fn.trigger&&o(O).trigger("ready").off("ready")}},bindReady:function(){if(!a){if(a=o.Callbacks("once memory"),"complete"===O.readyState)return setTimeout(o.ready,1);if(O.addEventListener)O.addEventListener("DOMContentLoaded",r,!1),t.addEventListener("load",o.ready,!1);else if(O.attachEvent){O.attachEvent("onreadystatechange",r),t.attachEvent("onload",o.ready);var e=!1;try{e=null==t.frameElement}catch(n){}O.documentElement.doScroll&&e&&i()}}},isFunction:function(t){return"function"===o.type(t)},isArray:Array.isArray||function(t){return"array"===o.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?String(t):E[T.call(t)]||"object"},isPlainObject:function(t){if(!t||"object"!==o.type(t)||t.nodeType||o.isWindow(t))return!1;try{if(t.constructor&&!I.call(t,"constructor")&&!I.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}var n;for(n in t);return n===e||I.call(t,n)},isEmptyObject:function(t){for(var e in t)return!1;return!0},error:function(t){throw new Error(t)},parseJSON:function(e){return"string"==typeof e&&e?(e=o.trim(e),t.JSON&&t.JSON.parse?t.JSON.parse(e):g.test(e.replace(m,"@").replace(v,"]").replace(b,""))?new Function("return "+e)():(o.error("Invalid JSON: "+e),void 0)):null},parseXML:function(i){if("string"!=typeof i||!i)return null;var n,s;try{t.DOMParser?(s=new DOMParser,n=s.parseFromString(i,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(i))}catch(a){n=e}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||o.error("Invalid XML: "+i),n},noop:function(){},globalEval:function(e){e&&u.test(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(C,"ms-").replace(k,S)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toUpperCase()===e.toUpperCase()},each:function(t,i,n){var s,a=0,r=t.length,l=r===e||o.isFunction(t);if(n)if(l){for(s in t)if(i.apply(t[s],n)===!1)break}else for(;r>a&&i.apply(t[a++],n)!==!1;);else if(l){for(s in t)if(i.call(t[s],s,t[s])===!1)break}else for(;r>a&&i.call(t[a],a,t[a++])!==!1;);return t},trim:D?function(t){return null==t?"":D.call(t)}:function(t){return null==t?"":t.toString().replace(d,"").replace(f,"")},makeArray:function(t,e){var i=e||[];if(null!=t){var n=o.type(t);null==t.length||"string"===n||"function"===n||"regexp"===n||o.isWindow(t)?A.call(i,t):o.merge(i,t)}return i},inArray:function(t,e,i){var n;if(e){if(M)return M.call(e,t,i);for(n=e.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in e&&e[i]===t)return i}return-1},merge:function(t,i){var n=t.length,s=0;if("number"==typeof i.length)for(var a=i.length;a>s;s++)t[n++]=i[s];else for(;i[s]!==e;)t[n++]=i[s++];return t.length=n,t},grep:function(t,e,i){var n,s=[];i=!!i;for(var a=0,r=t.length;r>a;a++)n=!!e(t[a],a),i!==n&&s.push(t[a]);return s},map:function(t,i,n){var s,a,r=[],l=0,c=t.length,h=t instanceof o||c!==e&&"number"==typeof c&&(c>0&&t[0]&&t[c-1]||0===c||o.isArray(t));if(h)for(;c>l;l++)s=i(t[l],l,n),null!=s&&(r[r.length]=s);else for(a in t)s=i(t[a],a,n),null!=s&&(r[r.length]=s);return r.concat.apply([],r)},guid:1,proxy:function(t,i){if("string"==typeof i){var n=t[i];i=t,t=n}if(!o.isFunction(t))return e;var s=P.call(arguments,2),a=function(){return t.apply(i,s.concat(P.call(arguments)))};return a.guid=t.guid=t.guid||a.guid||o.guid++,a},access:function(t,i,n,s,a,r,l){var c,h=null==n,u=0,d=t.length;if(n&&"object"==typeof n){for(u in n)o.access(t,i,u,n[u],1,r,s);a=1}else if(s!==e){if(c=l===e&&o.isFunction(s),h&&(c?(c=i,i=function(t,e,i){return c.call(o(t),i)}):(i.call(t,s),i=null)),i)for(;d>u;u++)i(t[u],n,c?s.call(t[u],u,i(t[u],n)):s,l);a=1}return a?t:h?i.call(t):d?i(t[0],n):r},now:function(){return(new Date).getTime()},uaMatch:function(t){t=t.toLowerCase();var e=y.exec(t)||_.exec(t)||x.exec(t)||t.indexOf("compatible")<0&&w.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}},sub:function(){function t(e,i){return new t.fn.init(e,i)}o.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(i,n){return n&&n instanceof o&&!(n instanceof t)&&(n=t(n)),o.fn.init.call(this,i,n,e)},t.fn.init.prototype=t.fn;var e=t(O);return t},browser:{}}),o.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(t,e){E["[object "+e+"]"]=e.toLowerCase()}),s=o.uaMatch(j),s.browser&&(o.browser[s.browser]=!0,o.browser.version=s.version),o.browser.webkit&&(o.browser.safari=!0),u.test(" ")&&(d=/^[\s\xA0]+/,f=/[\s\xA0]+$/),n=o(O),O.addEventListener?r=function(){O.removeEventListener("DOMContentLoaded",r,!1),o.ready()}:O.attachEvent&&(r=function(){"complete"===O.readyState&&(O.detachEvent("onreadystatechange",r),o.ready())}),o}(),N={};E.Callbacks=function(t){t=t?N[t]||i(t):{};var n,s,a,r,o,l,c=[],h=[],u=function(e){var i,n,s,a;for(i=0,n=e.length;n>i;i++)s=e[i],a=E.type(s),"array"===a?u(s):"function"===a&&(t.unique&&f.has(s)||c.push(s))},d=function(e,i){for(i=i||[],n=!t.memory||[e,i],s=!0,a=!0,l=r||0,r=0,o=c.length;c&&o>l;l++)if(c[l].apply(e,i)===!1&&t.stopOnFalse){n=!0;break}a=!1,c&&(t.once?n===!0?f.disable():c=[]:h&&h.length&&(n=h.shift(),f.fireWith(n[0],n[1])))},f={add:function(){if(c){var t=c.length;u(arguments),a?o=c.length:n&&n!==!0&&(r=t,d(n[0],n[1]))}return this},remove:function(){if(c)for(var e=arguments,i=0,n=e.length;n>i;i++)for(var s=0;s<c.length&&(e[i]!==c[s]||(a&&o>=s&&(o--,l>=s&&l--),c.splice(s--,1),!t.unique));s++);return this},has:function(t){if(c)for(var e=0,i=c.length;i>e;e++)if(t===c[e])return!0;return!1},empty:function(){return c=[],this},disable:function(){return c=h=n=e,this},disabled:function(){return!c},lock:function(){return h=e,n&&n!==!0||f.disable(),this},locked:function(){return!h},fireWith:function(e,i){return h&&(a?t.once||h.push([e,i]):t.once&&n||d(e,i)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!s}};return f};var $=[].slice;E.extend({Deferred:function(t){var e,i=E.Callbacks("once memory"),n=E.Callbacks("once memory"),s=E.Callbacks("memory"),a="pending",r={resolve:i,reject:n,notify:s},o={done:i.add,fail:n.add,progress:s.add,state:function(){return a},isResolved:i.fired,isRejected:n.fired,then:function(t,e,i){return l.done(t).fail(e).progress(i),this},always:function(){return l.done.apply(l,arguments).fail.apply(l,arguments),this},pipe:function(t,e,i){return E.Deferred(function(n){E.each({done:[t,"resolve"],fail:[e,"reject"],progress:[i,"notify"]},function(t,e){var i,s=e[0],a=e[1];E.isFunction(s)?l[t](function(){i=s.apply(this,arguments),i&&E.isFunction(i.promise)?i.promise().then(n.resolve,n.reject,n.notify):n[a+"With"](this===l?n:this,[i])}):l[t](n[a])})}).promise()},promise:function(t){if(null==t)t=o;else for(var e in o)t[e]=o[e];return t}},l=o.promise({});for(e in r)l[e]=r[e].fire,l[e+"With"]=r[e].fireWith;return l.done(function(){a="resolved"},n.disable,s.lock).fail(function(){a="rejected"},i.disable,s.lock),t&&t.call(l,l),l},when:function(t){function e(t){return function(e){n[t]=arguments.length>1?$.call(arguments,0):e,--o||l.resolveWith(l,n)}}function i(t){return function(e){r[t]=arguments.length>1?$.call(arguments,0):e,l.notifyWith(c,r)}}var n=$.call(arguments,0),s=0,a=n.length,r=new Array(a),o=a,l=1>=a&&t&&E.isFunction(t.promise)?t:E.Deferred(),c=l.promise();if(a>1){for(;a>s;s++)n[s]&&n[s].promise&&E.isFunction(n[s].promise)?n[s].promise().then(e(s),l.reject,i(s)):--o;o||l.resolveWith(l,n)}else l!==t&&l.resolveWith(l,a?[t]:[]);return c}}),E.support=function(){var e,i,n,s,a,r,o,l,c,h,u,d=O.createElement("div");if(O.documentElement,d.setAttribute("className","t"),d.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",i=d.getElementsByTagName("*"),n=d.getElementsByTagName("a")[0],!i||!i.length||!n)return{};s=O.createElement("select"),a=s.appendChild(O.createElement("option")),r=d.getElementsByTagName("input")[0],e={leadingWhitespace:3===d.firstChild.nodeType,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/top/.test(n.getAttribute("style")),hrefNormalized:"/a"===n.getAttribute("href"),opacity:/^0.55/.test(n.style.opacity),cssFloat:!!n.style.cssFloat,checkOn:"on"===r.value,optSelected:a.selected,getSetAttribute:"t"!==d.className,enctype:!!O.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==O.createElement("nav").cloneNode(!0).outerHTML,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,pixelMargin:!0},E.boxModel=e.boxModel="CSS1Compat"===O.compatMode,r.checked=!0,e.noCloneChecked=r.cloneNode(!0).checked,s.disabled=!0,e.optDisabled=!a.disabled;try{delete d.test}catch(f){e.deleteExpando=!1}if(!d.addEventListener&&d.attachEvent&&d.fireEvent&&(d.attachEvent("onclick",function(){e.noCloneEvent=!1}),d.cloneNode(!0).fireEvent("onclick")),r=O.createElement("input"),r.value="t",r.setAttribute("type","radio"),e.radioValue="t"===r.value,r.setAttribute("checked","checked"),r.setAttribute("name","t"),d.appendChild(r),o=O.createDocumentFragment(),o.appendChild(d.lastChild),e.checkClone=o.cloneNode(!0).cloneNode(!0).lastChild.checked,e.appendChecked=r.checked,o.removeChild(r),o.appendChild(d),d.attachEvent)for(h in{submit:1,change:1,focusin:1})c="on"+h,u=c in d,u||(d.setAttribute(c,"return;"),u="function"==typeof d[c]),e[h+"Bubbles"]=u;return o.removeChild(d),o=s=a=d=r=null,E(function(){var i,n,s,a,r,o,c,h,f,p,g,m,v=O.getElementsByTagName("body")[0];v&&(c=1,m="padding:0;margin:0;border:",p="position:absolute;top:0;left:0;width:1px;height:1px;",g=m+"0;visibility:hidden;",h="style='"+p+m+"5px solid #000;",f="<div "+h+"display:block;'><div style='"+m+"0;display:block;overflow:hidden;'></div></div>"+"<table "+h+"' cellpadding='0' cellspacing='0'>"+"<tr><td></td></tr></table>",i=O.createElement("div"),i.style.cssText=g+"width:0;height:0;position:static;top:0;margin-top:"+c+"px",v.insertBefore(i,v.firstChild),d=O.createElement("div"),i.appendChild(d),d.innerHTML="<table><tr><td style='"+m+"0;display:none'></td><td>t</td></tr></table>",l=d.getElementsByTagName("td"),u=0===l[0].offsetHeight,l[0].style.display="",l[1].style.display="none",e.reliableHiddenOffsets=u&&0===l[0].offsetHeight,t.getComputedStyle&&(d.innerHTML="",o=O.createElement("div"),o.style.width="0",o.style.marginRight="0",d.style.width="2px",d.appendChild(o),e.reliableMarginRight=0===(parseInt((t.getComputedStyle(o,null)||{marginRight:0}).marginRight,10)||0)),"undefined"!=typeof d.style.zoom&&(d.innerHTML="",d.style.width=d.style.padding="1px",d.style.border=0,d.style.overflow="hidden",d.style.display="inline",d.style.zoom=1,e.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.style.overflow="visible",d.innerHTML="<div style='width:5px;'></div>",e.shrinkWrapBlocks=3!==d.offsetWidth),d.style.cssText=p+g,d.innerHTML=f,n=d.firstChild,s=n.firstChild,a=n.nextSibling.firstChild.firstChild,r={doesNotAddBorder:5!==s.offsetTop,doesAddBorderForTableAndCells:5===a.offsetTop},s.style.position="fixed",s.style.top="20px",r.fixedPosition=20===s.offsetTop||15===s.offsetTop,s.style.position=s.style.top="",n.style.overflow="hidden",n.style.position="relative",r.subtractsBorderForOverflowNotVisible=-5===s.offsetTop,r.doesNotIncludeMarginInBodyOffset=v.offsetTop!==c,t.getComputedStyle&&(d.style.marginTop="1%",e.pixelMargin="1%"!==(t.getComputedStyle(d,null)||{marginTop:0}).marginTop),"undefined"!=typeof i.style.zoom&&(i.style.zoom=1),v.removeChild(i),o=d=i=null,E.extend(e,r))}),e}();var H=/^(?:\{.*\}|\[.*\])$/,L=/([A-Z])/g;E.extend({cache:{},uuid:0,expando:"jQuery"+(E.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(t){return t=t.nodeType?E.cache[t[E.expando]]:t[E.expando],!!t&&!s(t)},data:function(t,i,n,s){if(E.acceptData(t)){var a,r,o,l=E.expando,c="string"==typeof i,h=t.nodeType,u=h?E.cache:t,d=h?t[l]:t[l]&&l,f="events"===i;if(d&&u[d]&&(f||s||u[d].data)||!c||n!==e)return d||(h?t[l]=d=++E.uuid:d=l),u[d]||(u[d]={},h||(u[d].toJSON=E.noop)),("object"==typeof i||"function"==typeof i)&&(s?u[d]=E.extend(u[d],i):u[d].data=E.extend(u[d].data,i)),a=r=u[d],s||(r.data||(r.data={}),r=r.data),n!==e&&(r[E.camelCase(i)]=n),f&&!r[i]?a.events:(c?(o=r[i],null==o&&(o=r[E.camelCase(i)])):o=r,o)}},removeData:function(t,e,i){if(E.acceptData(t)){var n,a,r,o=E.expando,l=t.nodeType,c=l?E.cache:t,h=l?t[o]:o;if(c[h]){if(e&&(n=i?c[h]:c[h].data)){E.isArray(e)||(e in n?e=[e]:(e=E.camelCase(e),e=e in n?[e]:e.split(" ")));for(a=0,r=e.length;r>a;a++)delete n[e[a]];if(!(i?s:E.isEmptyObject)(n))return}(i||(delete c[h].data,s(c[h])))&&(E.support.deleteExpando||!c.setInterval?delete c[h]:c[h]=null,l&&(E.support.deleteExpando?delete t[o]:t.removeAttribute?t.removeAttribute(o):t[o]=null))}}},_data:function(t,e,i){return E.data(t,e,i,!0)},acceptData:function(t){if(t.nodeName){var e=E.noData[t.nodeName.toLowerCase()];if(e)return!(e===!0||t.getAttribute("classid")!==e)}return!0}}),E.fn.extend({data:function(t,i){var s,a,r,o,l,c=this[0],h=0,u=null;if(t===e){if(this.length&&(u=E.data(c),1===c.nodeType&&!E._data(c,"parsedAttrs"))){for(r=c.attributes,l=r.length;l>h;h++)o=r[h].name,0===o.indexOf("data-")&&(o=E.camelCase(o.substring(5)),n(c,o,u[o]));E._data(c,"parsedAttrs",!0)}return u}return"object"==typeof t?this.each(function(){E.data(this,t)}):(s=t.split(".",2),s[1]=s[1]?"."+s[1]:"",a=s[1]+"!",E.access(this,function(i){return i===e?(u=this.triggerHandler("getData"+a,[s[0]]),u===e&&c&&(u=E.data(c,t),u=n(c,t,u)),u===e&&s[1]?this.data(s[0]):u):(s[1]=i,this.each(function(){var e=E(this);e.triggerHandler("setData"+a,s),E.data(this,t,i),e.triggerHandler("changeData"+a,s)}),void 0)},null,i,arguments.length>1,null,!1))},removeData:function(t){return this.each(function(){E.removeData(this,t)})}}),E.extend({_mark:function(t,e){t&&(e=(e||"fx")+"mark",E._data(t,e,(E._data(t,e)||0)+1))},_unmark:function(t,e,i){if(t!==!0&&(i=e,e=t,t=!1),e){i=i||"fx";var n=i+"mark",s=t?0:(E._data(e,n)||1)-1;s?E._data(e,n,s):(E.removeData(e,n,!0),a(e,i,"mark"))}},queue:function(t,e,i){var n;return t?(e=(e||"fx")+"queue",n=E._data(t,e),i&&(!n||E.isArray(i)?n=E._data(t,e,E.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(t,e){e=e||"fx";var i=E.queue(t,e),n=i.shift(),s={};"inprogress"===n&&(n=i.shift()),n&&("fx"===e&&i.unshift("inprogress"),E._data(t,e+".run",s),n.call(t,function(){E.dequeue(t,e)},s)),i.length||(E.removeData(t,e+"queue "+e+".run",!0),a(t,e,"queue"))}}),E.fn.extend({queue:function(t,i){var n=2;return"string"!=typeof t&&(i=t,t="fx",n--),arguments.length<n?E.queue(this[0],t):i===e?this:this.each(function(){var e=E.queue(this,t,i);"fx"===t&&"inprogress"!==e[0]&&E.dequeue(this,t)})},dequeue:function(t){return this.each(function(){E.dequeue(this,t)})},delay:function(t,e){return t=E.fx?E.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var n=setTimeout(e,t);i.stop=function(){clearTimeout(n)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,i){function n(){--l||a.resolveWith(r,[r])}"string"!=typeof t&&(i=t,t=e),t=t||"fx";for(var s,a=E.Deferred(),r=this,o=r.length,l=1,c=t+"defer",h=t+"queue",u=t+"mark";o--;)(s=E.data(r[o],c,e,!0)||(E.data(r[o],h,e,!0)||E.data(r[o],u,e,!0))&&E.data(r[o],c,E.Callbacks("once memory"),!0))&&(l++,s.add(n));return n(),a.promise(i)}});var R,z,W,q=/[\n\t\r]/g,B=/\s+/,G=/\r/g,U=/^(?:button|input)$/i,Y=/^(?:button|input|object|select|textarea)$/i,V=/^a(?:rea)?$/i,X=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,K=E.support.getSetAttribute;E.fn.extend({attr:function(t,e){return E.access(this,E.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){E.removeAttr(this,t)})},prop:function(t,e){return E.access(this,E.prop,t,e,arguments.length>1)},removeProp:function(t){return t=E.propFix[t]||t,this.each(function(){try{this[t]=e,delete this[t]}catch(i){}})},addClass:function(t){var e,i,n,s,a,r,o;if(E.isFunction(t))return this.each(function(e){E(this).addClass(t.call(this,e,this.className))});if(t&&"string"==typeof t)for(e=t.split(B),i=0,n=this.length;n>i;i++)if(s=this[i],1===s.nodeType)if(s.className||1!==e.length){for(a=" "+s.className+" ",r=0,o=e.length;o>r;r++)~a.indexOf(" "+e[r]+" ")||(a+=e[r]+" ");s.className=E.trim(a)}else s.className=t;return this},removeClass:function(t){var i,n,s,a,r,o,l;if(E.isFunction(t))return this.each(function(e){E(this).removeClass(t.call(this,e,this.className))});if(t&&"string"==typeof t||t===e)for(i=(t||"").split(B),n=0,s=this.length;s>n;n++)if(a=this[n],1===a.nodeType&&a.className)if(t){for(r=(" "+a.className+" ").replace(q," "),o=0,l=i.length;l>o;o++)r=r.replace(" "+i[o]+" "," ");a.className=E.trim(r)}else a.className="";return this},toggleClass:function(t,e){var i=typeof t,n="boolean"==typeof e;return E.isFunction(t)?this.each(function(i){E(this).toggleClass(t.call(this,i,this.className,e),e)}):this.each(function(){if("string"===i)for(var s,a=0,r=E(this),o=e,l=t.split(B);s=l[a++];)o=n?o:!r.hasClass(s),r[o?"addClass":"removeClass"](s);else("undefined"===i||"boolean"===i)&&(this.className&&E._data(this,"__className__",this.className),this.className=this.className||t===!1?"":E._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(q," ").indexOf(e)>-1)return!0;return!1},val:function(t){var i,n,s,a=this[0];{if(arguments.length)return s=E.isFunction(t),this.each(function(n){var a,r=E(this);1===this.nodeType&&(a=s?t.call(this,n,r.val()):t,null==a?a="":"number"==typeof a?a+="":E.isArray(a)&&(a=E.map(a,function(t){return null==t?"":t+""})),i=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()],i&&"set"in i&&i.set(this,a,"value")!==e||(this.value=a))});if(a)return i=E.valHooks[a.type]||E.valHooks[a.nodeName.toLowerCase()],i&&"get"in i&&(n=i.get(a,"value"))!==e?n:(n=a.value,"string"==typeof n?n.replace(G,""):null==n?"":n)}}}),E.extend({valHooks:{option:{get:function(t){var e=t.attributes.value;return!e||e.specified?t.value:t.text}},select:{get:function(t){var e,i,n,s,a=t.selectedIndex,r=[],o=t.options,l="select-one"===t.type;if(0>a)return null;for(i=l?a:0,n=l?a+1:o.length;n>i;i++)if(s=o[i],!(!s.selected||(E.support.optDisabled?s.disabled:null!==s.getAttribute("disabled"))||s.parentNode.disabled&&E.nodeName(s.parentNode,"optgroup"))){if(e=E(s).val(),l)return e;r.push(e)}return l&&!r.length&&o.length?E(o[a]).val():r},set:function(t,e){var i=E.makeArray(e);return E(t).find("option").each(function(){this.selected=E.inArray(E(this).val(),i)>=0}),i.length||(t.selectedIndex=-1),i}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(t,i,n,s){var a,r,o,l=t.nodeType;if(t&&3!==l&&8!==l&&2!==l)return s&&i in E.attrFn?E(t)[i](n):"undefined"==typeof t.getAttribute?E.prop(t,i,n):(o=1!==l||!E.isXMLDoc(t),o&&(i=i.toLowerCase(),r=E.attrHooks[i]||(X.test(i)?z:R)),n!==e?null===n?(E.removeAttr(t,i),void 0):r&&"set"in r&&o&&(a=r.set(t,n,i))!==e?a:(t.setAttribute(i,""+n),n):r&&"get"in r&&o&&null!==(a=r.get(t,i))?a:(a=t.getAttribute(i),null===a?e:a))},removeAttr:function(t,e){var i,n,s,a,r,o=0;if(e&&1===t.nodeType)for(n=e.toLowerCase().split(B),a=n.length;a>o;o++)s=n[o],s&&(i=E.propFix[s]||s,r=X.test(s),r||E.attr(t,s,""),t.removeAttribute(K?s:i),r&&i in t&&(t[i]=!1))},attrHooks:{type:{set:function(t,e){if(U.test(t.nodeName)&&t.parentNode)E.error("type property can't be changed");else if(!E.support.radioValue&&"radio"===e&&E.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}},value:{get:function(t,e){return R&&E.nodeName(t,"button")?R.get(t,e):e in t?t.value:null},set:function(t,e,i){return R&&E.nodeName(t,"button")?R.set(t,e,i):(t.value=e,void 0)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(t,i,n){var s,a,r,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return r=1!==o||!E.isXMLDoc(t),r&&(i=E.propFix[i]||i,a=E.propHooks[i]),n!==e?a&&"set"in a&&(s=a.set(t,n,i))!==e?s:t[i]=n:a&&"get"in a&&null!==(s=a.get(t,i))?s:t[i]},propHooks:{tabIndex:{get:function(t){var i=t.getAttributeNode("tabindex");return i&&i.specified?parseInt(i.value,10):Y.test(t.nodeName)||V.test(t.nodeName)&&t.href?0:e}}}}),E.attrHooks.tabindex=E.propHooks.tabIndex,z={get:function(t,i){var n,s=E.prop(t,i);return s===!0||"boolean"!=typeof s&&(n=t.getAttributeNode(i))&&n.nodeValue!==!1?i.toLowerCase():e},set:function(t,e,i){var n;return e===!1?E.removeAttr(t,i):(n=E.propFix[i]||i,n in t&&(t[n]=!0),t.setAttribute(i,i.toLowerCase())),i}},K||(W={name:!0,id:!0,coords:!0},R=E.valHooks.button={get:function(t,i){var n;
return n=t.getAttributeNode(i),n&&(W[i]?""!==n.nodeValue:n.specified)?n.nodeValue:e},set:function(t,e,i){var n=t.getAttributeNode(i);return n||(n=O.createAttribute(i),t.setAttributeNode(n)),n.nodeValue=e+""}},E.attrHooks.tabindex.set=R.set,E.each(["width","height"],function(t,e){E.attrHooks[e]=E.extend(E.attrHooks[e],{set:function(t,i){return""===i?(t.setAttribute(e,"auto"),i):void 0}})}),E.attrHooks.contenteditable={get:R.get,set:function(t,e,i){""===e&&(e="false"),R.set(t,e,i)}}),E.support.hrefNormalized||E.each(["href","src","width","height"],function(t,i){E.attrHooks[i]=E.extend(E.attrHooks[i],{get:function(t){var n=t.getAttribute(i,2);return null===n?e:n}})}),E.support.style||(E.attrHooks.style={get:function(t){return t.style.cssText.toLowerCase()||e},set:function(t,e){return t.style.cssText=""+e}}),E.support.optSelected||(E.propHooks.selected=E.extend(E.propHooks.selected,{get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}})),E.support.enctype||(E.propFix.enctype="encoding"),E.support.checkOn||E.each(["radio","checkbox"],function(){E.valHooks[this]={get:function(t){return null===t.getAttribute("value")?"on":t.value}}}),E.each(["radio","checkbox"],function(){E.valHooks[this]=E.extend(E.valHooks[this],{set:function(t,e){return E.isArray(e)?t.checked=E.inArray(E(t).val(),e)>=0:void 0}})});var Q=/^(?:textarea|input|select)$/i,J=/^([^\.]*)?(?:\.(.+))?$/,Z=/(?:^|\s)hover(\.\S+)?\b/,te=/^key/,ee=/^(?:mouse|contextmenu)|click/,ie=/^(?:focusinfocus|focusoutblur)$/,ne=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,se=function(t){var e=ne.exec(t);return e&&(e[1]=(e[1]||"").toLowerCase(),e[3]=e[3]&&new RegExp("(?:^|\\s)"+e[3]+"(?:\\s|$)")),e},ae=function(t,e){var i=t.attributes||{};return!(e[1]&&t.nodeName.toLowerCase()!==e[1]||e[2]&&(i.id||{}).value!==e[2]||e[3]&&!e[3].test((i["class"]||{}).value))},re=function(t){return E.event.special.hover?t:t.replace(Z,"mouseenter$1 mouseleave$1")};E.event={add:function(t,i,n,s,a){var r,o,l,c,h,u,d,f,p,g,m;if(3!==t.nodeType&&8!==t.nodeType&&i&&n&&(r=E._data(t))){for(n.handler&&(p=n,n=p.handler,a=p.selector),n.guid||(n.guid=E.guid++),l=r.events,l||(r.events=l={}),o=r.handle,o||(r.handle=o=function(t){return"undefined"==typeof E||t&&E.event.triggered===t.type?e:E.event.dispatch.apply(o.elem,arguments)},o.elem=t),i=E.trim(re(i)).split(" "),c=0;c<i.length;c++)h=J.exec(i[c])||[],u=h[1],d=(h[2]||"").split(".").sort(),m=E.event.special[u]||{},u=(a?m.delegateType:m.bindType)||u,m=E.event.special[u]||{},f=E.extend({type:u,origType:h[1],data:s,handler:n,guid:n.guid,selector:a,quick:a&&se(a),namespace:d.join(".")},p),g=l[u],g||(g=l[u]=[],g.delegateCount=0,m.setup&&m.setup.call(t,s,d,o)!==!1||(t.addEventListener?t.addEventListener(u,o,!1):t.attachEvent&&t.attachEvent("on"+u,o))),m.add&&(m.add.call(t,f),f.handler.guid||(f.handler.guid=n.guid)),a?g.splice(g.delegateCount++,0,f):g.push(f),E.event.global[u]=!0;t=null}},global:{},remove:function(t,e,i,n,s){var a,r,o,l,c,h,u,d,f,p,g,m,v=E.hasData(t)&&E._data(t);if(v&&(d=v.events)){for(e=E.trim(re(e||"")).split(" "),a=0;a<e.length;a++)if(r=J.exec(e[a])||[],o=l=r[1],c=r[2],o){for(f=E.event.special[o]||{},o=(n?f.delegateType:f.bindType)||o,g=d[o]||[],h=g.length,c=c?new RegExp("(^|\\.)"+c.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null,u=0;u<g.length;u++)m=g[u],!s&&l!==m.origType||i&&i.guid!==m.guid||c&&!c.test(m.namespace)||n&&n!==m.selector&&("**"!==n||!m.selector)||(g.splice(u--,1),m.selector&&g.delegateCount--,f.remove&&f.remove.call(t,m));0===g.length&&h!==g.length&&(f.teardown&&f.teardown.call(t,c)!==!1||E.removeEvent(t,o,v.handle),delete d[o])}else for(o in d)E.event.remove(t,o+e[a],i,n,!0);E.isEmptyObject(d)&&(p=v.handle,p&&(p.elem=null),E.removeData(t,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(i,n,s,a){if(!s||3!==s.nodeType&&8!==s.nodeType){var r,o,l,c,h,u,d,f,p,g,m=i.type||i,v=[];if(!ie.test(m+E.event.triggered)&&(m.indexOf("!")>=0&&(m=m.slice(0,-1),o=!0),m.indexOf(".")>=0&&(v=m.split("."),m=v.shift(),v.sort()),s&&!E.event.customEvent[m]||E.event.global[m]))if(i="object"==typeof i?i[E.expando]?i:new E.Event(m,i):new E.Event(m),i.type=m,i.isTrigger=!0,i.exclusive=o,i.namespace=v.join("."),i.namespace_re=i.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,u=m.indexOf(":")<0?"on"+m:"",s){if(i.result=e,i.target||(i.target=s),n=null!=n?E.makeArray(n):[],n.unshift(i),d=E.event.special[m]||{},!d.trigger||d.trigger.apply(s,n)!==!1){if(p=[[s,d.bindType||m]],!a&&!d.noBubble&&!E.isWindow(s)){for(g=d.delegateType||m,c=ie.test(g+m)?s:s.parentNode,h=null;c;c=c.parentNode)p.push([c,g]),h=c;h&&h===s.ownerDocument&&p.push([h.defaultView||h.parentWindow||t,g])}for(l=0;l<p.length&&!i.isPropagationStopped();l++)c=p[l][0],i.type=p[l][1],f=(E._data(c,"events")||{})[i.type]&&E._data(c,"handle"),f&&f.apply(c,n),f=u&&c[u],f&&E.acceptData(c)&&f.apply(c,n)===!1&&i.preventDefault();return i.type=m,a||i.isDefaultPrevented()||d._default&&d._default.apply(s.ownerDocument,n)!==!1||"click"===m&&E.nodeName(s,"a")||!E.acceptData(s)||u&&s[m]&&("focus"!==m&&"blur"!==m||0!==i.target.offsetWidth)&&!E.isWindow(s)&&(h=s[u],h&&(s[u]=null),E.event.triggered=m,s[m](),E.event.triggered=e,h&&(s[u]=h)),i.result}}else{r=E.cache;for(l in r)r[l].events&&r[l].events[m]&&E.event.trigger(i,n,r[l].handle.elem,!0)}}},dispatch:function(i){i=E.event.fix(i||t.event);var n,s,a,r,o,l,c,h,u,d,f=(E._data(this,"events")||{})[i.type]||[],p=f.delegateCount,g=[].slice.call(arguments,0),m=!i.exclusive&&!i.namespace,v=E.event.special[i.type]||{},b=[];if(g[0]=i,i.delegateTarget=this,!v.preDispatch||v.preDispatch.call(this,i)!==!1){if(p&&(!i.button||"click"!==i.type))for(r=E(this),r.context=this.ownerDocument||this,a=i.target;a!=this;a=a.parentNode||this)if(a.disabled!==!0){for(l={},h=[],r[0]=a,n=0;p>n;n++)u=f[n],d=u.selector,l[d]===e&&(l[d]=u.quick?ae(a,u.quick):r.is(d)),l[d]&&h.push(u);h.length&&b.push({elem:a,matches:h})}for(f.length>p&&b.push({elem:this,matches:f.slice(p)}),n=0;n<b.length&&!i.isPropagationStopped();n++)for(c=b[n],i.currentTarget=c.elem,s=0;s<c.matches.length&&!i.isImmediatePropagationStopped();s++)u=c.matches[s],(m||!i.namespace&&!u.namespace||i.namespace_re&&i.namespace_re.test(u.namespace))&&(i.data=u.data,i.handleObj=u,o=((E.event.special[u.origType]||{}).handle||u.handler).apply(c.elem,g),o!==e&&(i.result=o,o===!1&&(i.preventDefault(),i.stopPropagation())));return v.postDispatch&&v.postDispatch.call(this,i),i.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,i){var n,s,a,r=i.button,o=i.fromElement;return null==t.pageX&&null!=i.clientX&&(n=t.target.ownerDocument||O,s=n.documentElement,a=n.body,t.pageX=i.clientX+(s&&s.scrollLeft||a&&a.scrollLeft||0)-(s&&s.clientLeft||a&&a.clientLeft||0),t.pageY=i.clientY+(s&&s.scrollTop||a&&a.scrollTop||0)-(s&&s.clientTop||a&&a.clientTop||0)),!t.relatedTarget&&o&&(t.relatedTarget=o===t.target?i.toElement:o),t.which||r===e||(t.which=1&r?1:2&r?3:4&r?2:0),t}},fix:function(t){if(t[E.expando])return t;var i,n,s=t,a=E.event.fixHooks[t.type]||{},r=a.props?this.props.concat(a.props):this.props;for(t=E.Event(s),i=r.length;i;)n=r[--i],t[n]=s[n];return t.target||(t.target=s.srcElement||O),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey===e&&(t.metaKey=t.ctrlKey),a.filter?a.filter(t,s):t},special:{ready:{setup:E.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(t,e,i){E.isWindow(this)&&(this.onbeforeunload=i)},teardown:function(t,e){this.onbeforeunload===e&&(this.onbeforeunload=null)}}},simulate:function(t,e,i,n){var s=E.extend(new E.Event,i,{type:t,isSimulated:!0,originalEvent:{}});n?E.event.trigger(s,null,e):E.event.dispatch.call(e,s),s.isDefaultPrevented()&&i.preventDefault()}},E.event.handle=E.event.dispatch,E.removeEvent=O.removeEventListener?function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i,!1)}:function(t,e,i){t.detachEvent&&t.detachEvent("on"+e,i)},E.Event=function(t,e){return this instanceof E.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.returnValue===!1||t.getPreventDefault&&t.getPreventDefault()?o:r):this.type=t,e&&E.extend(this,e),this.timeStamp=t&&t.timeStamp||E.now(),this[E.expando]=!0,void 0):new E.Event(t,e)},E.Event.prototype={preventDefault:function(){this.isDefaultPrevented=o;var t=this.originalEvent;t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=o;var t=this.originalEvent;t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=o,this.stopPropagation()},isDefaultPrevented:r,isPropagationStopped:r,isImmediatePropagationStopped:r},E.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){E.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,s=t.relatedTarget,a=t.handleObj;return a.selector,(!s||s!==n&&!E.contains(n,s))&&(t.type=a.origType,i=a.handler.apply(this,arguments),t.type=e),i}}}),E.support.submitBubbles||(E.event.special.submit={setup:function(){return E.nodeName(this,"form")?!1:(E.event.add(this,"click._submit keypress._submit",function(t){var i=t.target,n=E.nodeName(i,"input")||E.nodeName(i,"button")?i.form:e;n&&!n._submit_attached&&(E.event.add(n,"submit._submit",function(t){t._submit_bubble=!0}),n._submit_attached=!0)}),void 0)},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&E.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return E.nodeName(this,"form")?!1:(E.event.remove(this,"._submit"),void 0)}}),E.support.changeBubbles||(E.event.special.change={setup:function(){return Q.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(E.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),E.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1,E.event.simulate("change",this,t,!0))})),!1):(E.event.add(this,"beforeactivate._change",function(t){var e=t.target;Q.test(e.nodeName)&&!e._change_attached&&(E.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||E.event.simulate("change",this.parentNode,t,!0)}),e._change_attached=!0)}),void 0)},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return E.event.remove(this,"._change"),Q.test(this.nodeName)}}),E.support.focusinBubbles||E.each({focus:"focusin",blur:"focusout"},function(t,e){var i=0,n=function(t){E.event.simulate(e,t.target,E.event.fix(t),!0)};E.event.special[e]={setup:function(){0===i++&&O.addEventListener(t,n,!0)},teardown:function(){0===--i&&O.removeEventListener(t,n,!0)}}}),E.fn.extend({on:function(t,i,n,s,a){var o,l;if("object"==typeof t){"string"!=typeof i&&(n=n||i,i=e);for(l in t)this.on(l,i,n,t[l],a);return this}if(null==n&&null==s?(s=i,n=i=e):null==s&&("string"==typeof i?(s=n,n=e):(s=n,n=i,i=e)),s===!1)s=r;else if(!s)return this;return 1===a&&(o=s,s=function(t){return E().off(t),o.apply(this,arguments)},s.guid=o.guid||(o.guid=E.guid++)),this.each(function(){E.event.add(this,t,s,n,i)})},one:function(t,e,i,n){return this.on(t,e,i,n,1)},off:function(t,i,n){if(t&&t.preventDefault&&t.handleObj){var s=t.handleObj;return E(t.delegateTarget).off(s.namespace?s.origType+"."+s.namespace:s.origType,s.selector,s.handler),this}if("object"==typeof t){for(var a in t)this.off(a,i,t[a]);return this}return(i===!1||"function"==typeof i)&&(n=i,i=e),n===!1&&(n=r),this.each(function(){E.event.remove(this,t,n,i)})},bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},live:function(t,e,i){return E(this.context).on(t,this.selector,e,i),this},die:function(t,e){return E(this.context).off(t,this.selector||"**",e),this},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1==arguments.length?this.off(t,"**"):this.off(e,t,i)},trigger:function(t,e){return this.each(function(){E.event.trigger(t,e,this)})},triggerHandler:function(t,e){return this[0]?E.event.trigger(t,e,this[0],!0):void 0},toggle:function(t){var e=arguments,i=t.guid||E.guid++,n=0,s=function(i){var s=(E._data(this,"lastToggle"+t.guid)||0)%n;return E._data(this,"lastToggle"+t.guid,s+1),i.preventDefault(),e[s].apply(this,arguments)||!1};for(s.guid=i;n<e.length;)e[n++].guid=i;return this.click(s)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),E.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){E.fn[e]=function(t,i){return null==i&&(i=t,t=null),arguments.length>0?this.on(e,null,t,i):this.trigger(e)},E.attrFn&&(E.attrFn[e]=!0),te.test(e)&&(E.event.fixHooks[e]=E.event.keyHooks),ee.test(e)&&(E.event.fixHooks[e]=E.event.mouseHooks)}),/*!
 * Sizzle CSS Selector Engine
 *  Copyright 2011, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */
function(){function t(t,e,i,n,a,r){for(var o=0,l=n.length;l>o;o++){var c=n[o];if(c){var h=!1;for(c=c[t];c;){if(c[s]===i){h=n[c.sizset];break}if(1!==c.nodeType||r||(c[s]=i,c.sizset=o),c.nodeName.toLowerCase()===e){h=c;break}c=c[t]}n[o]=h}}}function i(t,e,i,n,a,r){for(var o=0,l=n.length;l>o;o++){var c=n[o];if(c){var h=!1;for(c=c[t];c;){if(c[s]===i){h=n[c.sizset];break}if(1===c.nodeType)if(r||(c[s]=i,c.sizset=o),"string"!=typeof e){if(c===e){h=!0;break}}else if(d.filter(e,[c]).length>0){h=c;break}c=c[t]}n[o]=h}}}var n=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,s="sizcache"+(Math.random()+"").replace(".",""),a=0,r=Object.prototype.toString,o=!1,l=!0,c=/\\/g,h=/\r\n/g,u=/\W/;[0,0].sort(function(){return l=!1,0});var d=function(t,e,i,s){i=i||[],e=e||O;var a=e;if(1!==e.nodeType&&9!==e.nodeType)return[];if(!t||"string"!=typeof t)return i;var o,l,c,h,u,f,m,v,y=!0,_=d.isXML(e),x=[],k=t;do if(n.exec(""),o=n.exec(k),o&&(k=o[3],x.push(o[1]),o[2])){h=o[3];break}while(o);if(x.length>1&&g.exec(t))if(2===x.length&&p.relative[x[0]])l=w(x[0]+x[1],e,s);else for(l=p.relative[x[0]]?[e]:d(x.shift(),e);x.length;)t=x.shift(),p.relative[t]&&(t+=x.shift()),l=w(t,l,s);else if(!s&&x.length>1&&9===e.nodeType&&!_&&p.match.ID.test(x[0])&&!p.match.ID.test(x[x.length-1])&&(u=d.find(x.shift(),e,_),e=u.expr?d.filter(u.expr,u.set)[0]:u.set[0]),e)for(u=s?{expr:x.pop(),set:b(s)}:d.find(x.pop(),1!==x.length||"~"!==x[0]&&"+"!==x[0]||!e.parentNode?e:e.parentNode,_),l=u.expr?d.filter(u.expr,u.set):u.set,x.length>0?c=b(l):y=!1;x.length;)f=x.pop(),m=f,p.relative[f]?m=x.pop():f="",null==m&&(m=e),p.relative[f](c,m,_);else c=x=[];if(c||(c=l),c||d.error(f||t),"[object Array]"===r.call(c))if(y)if(e&&1===e.nodeType)for(v=0;null!=c[v];v++)c[v]&&(c[v]===!0||1===c[v].nodeType&&d.contains(e,c[v]))&&i.push(l[v]);else for(v=0;null!=c[v];v++)c[v]&&1===c[v].nodeType&&i.push(l[v]);else i.push.apply(i,c);else b(c,i);return h&&(d(h,a,i,s),d.uniqueSort(i)),i};d.uniqueSort=function(t){if(_&&(o=l,t.sort(_),o))for(var e=1;e<t.length;e++)t[e]===t[e-1]&&t.splice(e--,1);return t},d.matches=function(t,e){return d(t,null,null,e)},d.matchesSelector=function(t,e){return d(e,null,null,[t]).length>0},d.find=function(t,e,i){var n,s,a,r,o,l;if(!t)return[];for(s=0,a=p.order.length;a>s;s++)if(o=p.order[s],(r=p.leftMatch[o].exec(t))&&(l=r[1],r.splice(1,1),"\\"!==l.substr(l.length-1)&&(r[1]=(r[1]||"").replace(c,""),n=p.find[o](r,e,i),null!=n))){t=t.replace(p.match[o],"");break}return n||(n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName("*"):[]),{set:n,expr:t}},d.filter=function(t,i,n,s){for(var a,r,o,l,c,h,u,f,g,m=t,v=[],b=i,y=i&&i[0]&&d.isXML(i[0]);t&&i.length;){for(o in p.filter)if(null!=(a=p.leftMatch[o].exec(t))&&a[2]){if(h=p.filter[o],u=a[1],r=!1,a.splice(1,1),"\\"===u.substr(u.length-1))continue;if(b===v&&(v=[]),p.preFilter[o])if(a=p.preFilter[o](a,b,n,v,s,y)){if(a===!0)continue}else r=l=!0;if(a)for(f=0;null!=(c=b[f]);f++)c&&(l=h(c,a,f,b),g=s^l,n&&null!=l?g?r=!0:b[f]=!1:g&&(v.push(c),r=!0));if(l!==e){if(n||(b=v),t=t.replace(p.match[o],""),!r)return[];break}}if(t===m){if(null!=r)break;d.error(t)}m=t}return b},d.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)};var f=d.getText=function(t){var e,i,n=t.nodeType,s="";if(n){if(1===n||9===n||11===n){if("string"==typeof t.textContent)return t.textContent;if("string"==typeof t.innerText)return t.innerText.replace(h,"");for(t=t.firstChild;t;t=t.nextSibling)s+=f(t)}else if(3===n||4===n)return t.nodeValue}else for(e=0;i=t[e];e++)8!==i.nodeType&&(s+=f(i));return s},p=d.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(t){return t.getAttribute("href")},type:function(t){return t.getAttribute("type")}},relative:{"+":function(t,e){var i="string"==typeof e,n=i&&!u.test(e),s=i&&!n;n&&(e=e.toLowerCase());for(var a,r=0,o=t.length;o>r;r++)if(a=t[r]){for(;(a=a.previousSibling)&&1!==a.nodeType;);t[r]=s||a&&a.nodeName.toLowerCase()===e?a||!1:a===e}s&&d.filter(e,t,!0)},">":function(t,e){var i,n="string"==typeof e,s=0,a=t.length;if(n&&!u.test(e)){for(e=e.toLowerCase();a>s;s++)if(i=t[s]){var r=i.parentNode;t[s]=r.nodeName.toLowerCase()===e?r:!1}}else{for(;a>s;s++)i=t[s],i&&(t[s]=n?i.parentNode:i.parentNode===e);n&&d.filter(e,t,!0)}},"":function(e,n,s){var r,o=a++,l=i;"string"!=typeof n||u.test(n)||(n=n.toLowerCase(),r=n,l=t),l("parentNode",n,o,e,r,s)},"~":function(e,n,s){var r,o=a++,l=i;"string"!=typeof n||u.test(n)||(n=n.toLowerCase(),r=n,l=t),l("previousSibling",n,o,e,r,s)}},find:{ID:function(t,e,i){if("undefined"!=typeof e.getElementById&&!i){var n=e.getElementById(t[1]);return n&&n.parentNode?[n]:[]}},NAME:function(t,e){if("undefined"!=typeof e.getElementsByName){for(var i=[],n=e.getElementsByName(t[1]),s=0,a=n.length;a>s;s++)n[s].getAttribute("name")===t[1]&&i.push(n[s]);return 0===i.length?null:i}},TAG:function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t[1]):void 0}},preFilter:{CLASS:function(t,e,i,n,s,a){if(t=" "+t[1].replace(c,"")+" ",a)return t;for(var r,o=0;null!=(r=e[o]);o++)r&&(s^(r.className&&(" "+r.className+" ").replace(/[\t\n\r]/g," ").indexOf(t)>=0)?i||n.push(r):i&&(e[o]=!1));return!1},ID:function(t){return t[1].replace(c,"")},TAG:function(t){return t[1].replace(c,"").toLowerCase()},CHILD:function(t){if("nth"===t[1]){t[2]||d.error(t[0]),t[2]=t[2].replace(/^\+|\s*/g,"");var e=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===t[2]&&"2n"||"odd"===t[2]&&"2n+1"||!/\D/.test(t[2])&&"0n+"+t[2]||t[2]);t[2]=e[1]+(e[2]||1)-0,t[3]=e[3]-0}else t[2]&&d.error(t[0]);return t[0]=a++,t},ATTR:function(t,e,i,n,s,a){var r=t[1]=t[1].replace(c,"");return!a&&p.attrMap[r]&&(t[1]=p.attrMap[r]),t[4]=(t[4]||t[5]||"").replace(c,""),"~="===t[2]&&(t[4]=" "+t[4]+" "),t},PSEUDO:function(t,e,i,s,a){if("not"===t[1]){if(!((n.exec(t[3])||"").length>1||/^\w/.test(t[3]))){var r=d.filter(t[3],e,i,!0^a);return i||s.push.apply(s,r),!1}t[3]=d(t[3],null,null,e)}else if(p.match.POS.test(t[0])||p.match.CHILD.test(t[0]))return!0;return t},POS:function(t){return t.unshift(!0),t}},filters:{enabled:function(t){return t.disabled===!1&&"hidden"!==t.type},disabled:function(t){return t.disabled===!0},checked:function(t){return t.checked===!0},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},parent:function(t){return!!t.firstChild},empty:function(t){return!t.firstChild},has:function(t,e,i){return!!d(i[3],t).length},header:function(t){return/h\d/i.test(t.nodeName)},text:function(t){var e=t.getAttribute("type"),i=t.type;return"input"===t.nodeName.toLowerCase()&&"text"===i&&(e===i||null===e)},radio:function(t){return"input"===t.nodeName.toLowerCase()&&"radio"===t.type},checkbox:function(t){return"input"===t.nodeName.toLowerCase()&&"checkbox"===t.type},file:function(t){return"input"===t.nodeName.toLowerCase()&&"file"===t.type},password:function(t){return"input"===t.nodeName.toLowerCase()&&"password"===t.type},submit:function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&"submit"===t.type},image:function(t){return"input"===t.nodeName.toLowerCase()&&"image"===t.type},reset:function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&"reset"===t.type},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},input:function(t){return/input|select|textarea|button/i.test(t.nodeName)},focus:function(t){return t===t.ownerDocument.activeElement}},setFilters:{first:function(t,e){return 0===e},last:function(t,e,i,n){return e===n.length-1},even:function(t,e){return 0===e%2},odd:function(t,e){return 1===e%2},lt:function(t,e,i){return e<i[3]-0},gt:function(t,e,i){return e>i[3]-0},nth:function(t,e,i){return i[3]-0===e},eq:function(t,e,i){return i[3]-0===e}},filter:{PSEUDO:function(t,e,i,n){var s=e[1],a=p.filters[s];if(a)return a(t,i,e,n);if("contains"===s)return(t.textContent||t.innerText||f([t])||"").indexOf(e[3])>=0;if("not"===s){for(var r=e[3],o=0,l=r.length;l>o;o++)if(r[o]===t)return!1;return!0}d.error(s)},CHILD:function(t,e){var i,n,a,r,o,l,c=e[1],h=t;switch(c){case"only":case"first":for(;h=h.previousSibling;)if(1===h.nodeType)return!1;if("first"===c)return!0;h=t;case"last":for(;h=h.nextSibling;)if(1===h.nodeType)return!1;return!0;case"nth":if(i=e[2],n=e[3],1===i&&0===n)return!0;if(a=e[0],r=t.parentNode,r&&(r[s]!==a||!t.nodeIndex)){for(o=0,h=r.firstChild;h;h=h.nextSibling)1===h.nodeType&&(h.nodeIndex=++o);r[s]=a}return l=t.nodeIndex-n,0===i?0===l:0===l%i&&l/i>=0}},ID:function(t,e){return 1===t.nodeType&&t.getAttribute("id")===e},TAG:function(t,e){return"*"===e&&1===t.nodeType||!!t.nodeName&&t.nodeName.toLowerCase()===e},CLASS:function(t,e){return(" "+(t.className||t.getAttribute("class"))+" ").indexOf(e)>-1},ATTR:function(t,e){var i=e[1],n=d.attr?d.attr(t,i):p.attrHandle[i]?p.attrHandle[i](t):null!=t[i]?t[i]:t.getAttribute(i),s=n+"",a=e[2],r=e[4];return null==n?"!="===a:!a&&d.attr?null!=n:"="===a?s===r:"*="===a?s.indexOf(r)>=0:"~="===a?(" "+s+" ").indexOf(r)>=0:r?"!="===a?s!==r:"^="===a?0===s.indexOf(r):"$="===a?s.substr(s.length-r.length)===r:"|="===a?s===r||s.substr(0,r.length+1)===r+"-":!1:s&&n!==!1},POS:function(t,e,i,n){var s=e[2],a=p.setFilters[s];return a?a(t,i,e,n):void 0}}},g=p.match.POS,m=function(t,e){return"\\"+(e-0+1)};for(var v in p.match)p.match[v]=new RegExp(p.match[v].source+/(?![^\[]*\])(?![^\(]*\))/.source),p.leftMatch[v]=new RegExp(/(^(?:.|\r|\n)*?)/.source+p.match[v].source.replace(/\\(\d+)/g,m));p.match.globalPOS=g;var b=function(t,e){return t=Array.prototype.slice.call(t,0),e?(e.push.apply(e,t),e):t};try{Array.prototype.slice.call(O.documentElement.childNodes,0)[0].nodeType}catch(y){b=function(t,e){var i=0,n=e||[];if("[object Array]"===r.call(t))Array.prototype.push.apply(n,t);else if("number"==typeof t.length)for(var s=t.length;s>i;i++)n.push(t[i]);else for(;t[i];i++)n.push(t[i]);return n}}var _,x;O.documentElement.compareDocumentPosition?_=function(t,e){return t===e?(o=!0,0):t.compareDocumentPosition&&e.compareDocumentPosition?4&t.compareDocumentPosition(e)?-1:1:t.compareDocumentPosition?-1:1}:(_=function(t,e){if(t===e)return o=!0,0;if(t.sourceIndex&&e.sourceIndex)return t.sourceIndex-e.sourceIndex;var i,n,s=[],a=[],r=t.parentNode,l=e.parentNode,c=r;if(r===l)return x(t,e);if(!r)return-1;if(!l)return 1;for(;c;)s.unshift(c),c=c.parentNode;for(c=l;c;)a.unshift(c),c=c.parentNode;i=s.length,n=a.length;for(var h=0;i>h&&n>h;h++)if(s[h]!==a[h])return x(s[h],a[h]);return h===i?x(t,a[h],-1):x(s[h],e,1)},x=function(t,e,i){if(t===e)return i;for(var n=t.nextSibling;n;){if(n===e)return-1;n=n.nextSibling}return 1}),function(){var t=O.createElement("div"),i="script"+(new Date).getTime(),n=O.documentElement;t.innerHTML="<a name='"+i+"'/>",n.insertBefore(t,n.firstChild),O.getElementById(i)&&(p.find.ID=function(t,i,n){if("undefined"!=typeof i.getElementById&&!n){var s=i.getElementById(t[1]);return s?s.id===t[1]||"undefined"!=typeof s.getAttributeNode&&s.getAttributeNode("id").nodeValue===t[1]?[s]:e:[]}},p.filter.ID=function(t,e){var i="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return 1===t.nodeType&&i&&i.nodeValue===e}),n.removeChild(t),n=t=null}(),function(){var t=O.createElement("div");t.appendChild(O.createComment("")),t.getElementsByTagName("*").length>0&&(p.find.TAG=function(t,e){var i=e.getElementsByTagName(t[1]);if("*"===t[1]){for(var n=[],s=0;i[s];s++)1===i[s].nodeType&&n.push(i[s]);i=n}return i}),t.innerHTML="<a href='#'></a>",t.firstChild&&"undefined"!=typeof t.firstChild.getAttribute&&"#"!==t.firstChild.getAttribute("href")&&(p.attrHandle.href=function(t){return t.getAttribute("href",2)}),t=null}(),O.querySelectorAll&&function(){var t=d,e=O.createElement("div"),i="__sizzle__";if(e.innerHTML="<p class='TEST'></p>",!e.querySelectorAll||0!==e.querySelectorAll(".TEST").length){d=function(e,n,s,a){if(n=n||O,!a&&!d.isXML(n)){var r=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(e);if(r&&(1===n.nodeType||9===n.nodeType)){if(r[1])return b(n.getElementsByTagName(e),s);if(r[2]&&p.find.CLASS&&n.getElementsByClassName)return b(n.getElementsByClassName(r[2]),s)}if(9===n.nodeType){if("body"===e&&n.body)return b([n.body],s);if(r&&r[3]){var o=n.getElementById(r[3]);if(!o||!o.parentNode)return b([],s);if(o.id===r[3])return b([o],s)}try{return b(n.querySelectorAll(e),s)}catch(l){}}else if(1===n.nodeType&&"object"!==n.nodeName.toLowerCase()){var c=n,h=n.getAttribute("id"),u=h||i,f=n.parentNode,g=/^\s*[+~]/.test(e);h?u=u.replace(/'/g,"\\$&"):n.setAttribute("id",u),g&&f&&(n=n.parentNode);try{if(!g||f)return b(n.querySelectorAll("[id='"+u+"'] "+e),s)}catch(m){}finally{h||c.removeAttribute("id")}}}return t(e,n,s,a)};for(var n in t)d[n]=t[n];e=null}}(),function(){var t=O.documentElement,e=t.matchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.msMatchesSelector;if(e){var i=!e.call(O.createElement("div"),"div"),n=!1;try{e.call(O.documentElement,"[test!='']:sizzle")}catch(s){n=!0}d.matchesSelector=function(t,s){if(s=s.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!d.isXML(t))try{if(n||!p.match.PSEUDO.test(s)&&!/!=/.test(s)){var a=e.call(t,s);if(a||!i||t.document&&11!==t.document.nodeType)return a}}catch(r){}return d(s,null,null,[t]).length>0}}}(),function(){var t=O.createElement("div");t.innerHTML="<div class='test e'></div><div class='test'></div>",t.getElementsByClassName&&0!==t.getElementsByClassName("e").length&&(t.lastChild.className="e",1!==t.getElementsByClassName("e").length&&(p.order.splice(1,0,"CLASS"),p.find.CLASS=function(t,e,i){return"undefined"==typeof e.getElementsByClassName||i?void 0:e.getElementsByClassName(t[1])},t=null))}(),d.contains=O.documentElement.contains?function(t,e){return t!==e&&(t.contains?t.contains(e):!0)}:O.documentElement.compareDocumentPosition?function(t,e){return!!(16&t.compareDocumentPosition(e))}:function(){return!1},d.isXML=function(t){var e=(t?t.ownerDocument||t:0).documentElement;return e?"HTML"!==e.nodeName:!1};var w=function(t,e,i){for(var n,s=[],a="",r=e.nodeType?[e]:e;n=p.match.PSEUDO.exec(t);)a+=n[0],t=t.replace(p.match.PSEUDO,"");t=p.relative[t]?t+"*":t;for(var o=0,l=r.length;l>o;o++)d(t,r[o],s,i);return d.filter(a,s)};d.attr=E.attr,d.selectors.attrMap={},E.find=d,E.expr=d.selectors,E.expr[":"]=E.expr.filters,E.unique=d.uniqueSort,E.text=d.getText,E.isXMLDoc=d.isXML,E.contains=d.contains}();var oe=/Until$/,le=/^(?:parents|prevUntil|prevAll)/,ce=/,/,he=/^.[^:#\[\.,]*$/,ue=Array.prototype.slice,de=E.expr.match.globalPOS,fe={children:!0,contents:!0,next:!0,prev:!0};E.fn.extend({find:function(t){var e,i,n=this;if("string"!=typeof t)return E(t).filter(function(){for(e=0,i=n.length;i>e;e++)if(E.contains(n[e],this))return!0});var s,a,r,o=this.pushStack("","find",t);for(e=0,i=this.length;i>e;e++)if(s=o.length,E.find(t,this[e],o),e>0)for(a=s;a<o.length;a++)for(r=0;s>r;r++)if(o[r]===o[a]){o.splice(a--,1);break}return o},has:function(t){var e=E(t);return this.filter(function(){for(var t=0,i=e.length;i>t;t++)if(E.contains(this,e[t]))return!0})},not:function(t){return this.pushStack(c(this,t,!1),"not",t)},filter:function(t){return this.pushStack(c(this,t,!0),"filter",t)},is:function(t){return!!t&&("string"==typeof t?de.test(t)?E(t,this.context).index(this[0])>=0:E.filter(t,this).length>0:this.filter(t).length>0)},closest:function(t,e){var i,n,s=[],a=this[0];if(E.isArray(t)){for(var r=1;a&&a.ownerDocument&&a!==e;){for(i=0;i<t.length;i++)E(a).is(t[i])&&s.push({selector:t[i],elem:a,level:r});a=a.parentNode,r++}return s}var o=de.test(t)||"string"!=typeof t?E(t,e||this.context):0;for(i=0,n=this.length;n>i;i++)for(a=this[i];a;){if(o?o.index(a)>-1:E.find.matchesSelector(a,t)){s.push(a);break}if(a=a.parentNode,!a||!a.ownerDocument||a===e||11===a.nodeType)break}return s=s.length>1?E.unique(s):s,this.pushStack(s,"closest",t)},index:function(t){return t?"string"==typeof t?E.inArray(this[0],E(t)):E.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(t,e){var i="string"==typeof t?E(t,e):E.makeArray(t&&t.nodeType?[t]:t),n=E.merge(this.get(),i);return this.pushStack(l(i[0])||l(n[0])?n:E.unique(n))},andSelf:function(){return this.add(this.prevObject)}}),E.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return E.dir(t,"parentNode")},parentsUntil:function(t,e,i){return E.dir(t,"parentNode",i)},next:function(t){return E.nth(t,2,"nextSibling")},prev:function(t){return E.nth(t,2,"previousSibling")},nextAll:function(t){return E.dir(t,"nextSibling")},prevAll:function(t){return E.dir(t,"previousSibling")},nextUntil:function(t,e,i){return E.dir(t,"nextSibling",i)},prevUntil:function(t,e,i){return E.dir(t,"previousSibling",i)},siblings:function(t){return E.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return E.sibling(t.firstChild)},contents:function(t){return E.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:E.makeArray(t.childNodes)}},function(t,e){E.fn[t]=function(i,n){var s=E.map(this,e,i);return oe.test(t)||(n=i),n&&"string"==typeof n&&(s=E.filter(n,s)),s=this.length>1&&!fe[t]?E.unique(s):s,(this.length>1||ce.test(n))&&le.test(t)&&(s=s.reverse()),this.pushStack(s,t,ue.call(arguments).join(","))}}),E.extend({filter:function(t,e,i){return i&&(t=":not("+t+")"),1===e.length?E.find.matchesSelector(e[0],t)?[e[0]]:[]:E.find.matches(t,e)},dir:function(t,i,n){for(var s=[],a=t[i];a&&9!==a.nodeType&&(n===e||1!==a.nodeType||!E(a).is(n));)1===a.nodeType&&s.push(a),a=a[i];return s},nth:function(t,e,i){e=e||1;for(var n=0;t&&(1!==t.nodeType||++n!==e);t=t[i]);return t},sibling:function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}});var pe="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ge=/ jQuery\d+="(?:\d+|null)"/g,me=/^\s+/,ve=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,be=/<([\w:]+)/,ye=/<tbody/i,_e=/<|&#?\w+;/,xe=/<(?:script|style)/i,we=/<(?:script|object|embed|option|style)/i,ke=new RegExp("<(?:"+pe+")[\\s/>]","i"),Ce=/checked\s*(?:[^=]|=\s*.checked.)/i,Se=/\/(java|ecma)script/i,je=/^\s*<!(?:\[CDATA\[|\-\-)/,Te={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Ie=h(O);Te.optgroup=Te.option,Te.tbody=Te.tfoot=Te.colgroup=Te.caption=Te.thead,Te.th=Te.td,E.support.htmlSerialize||(Te._default=[1,"div<div>","</div>"]),E.fn.extend({text:function(t){return E.access(this,function(t){return t===e?E.text(this):this.empty().append((this[0]&&this[0].ownerDocument||O).createTextNode(t))},null,t,arguments.length)},wrapAll:function(t){if(E.isFunction(t))return this.each(function(e){E(this).wrapAll(t.call(this,e))});if(this[0]){var e=E(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return E.isFunction(t)?this.each(function(e){E(this).wrapInner(t.call(this,e))}):this.each(function(){var e=E(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=E.isFunction(t);return this.each(function(i){E(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){E.nodeName(this,"body")||E(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(t){1===this.nodeType&&this.appendChild(t)})},prepend:function(){return this.domManip(arguments,!0,function(t){1===this.nodeType&&this.insertBefore(t,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(t){this.parentNode.insertBefore(t,this)});if(arguments.length){var t=E.clean(arguments);return t.push.apply(t,this.toArray()),this.pushStack(t,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(t){this.parentNode.insertBefore(t,this.nextSibling)});if(arguments.length){var t=this.pushStack(this,"after",arguments);return t.push.apply(t,E.clean(arguments)),t}},remove:function(t,e){for(var i,n=0;null!=(i=this[n]);n++)(!t||E.filter(t,[i]).length)&&(e||1!==i.nodeType||(E.cleanData(i.getElementsByTagName("*")),E.cleanData([i])),i.parentNode&&i.parentNode.removeChild(i));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)for(1===t.nodeType&&E.cleanData(t.getElementsByTagName("*"));t.firstChild;)t.removeChild(t.firstChild);return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return E.clone(this,t,e)})},html:function(t){return E.access(this,function(t){var i=this[0]||{},n=0,s=this.length;if(t===e)return 1===i.nodeType?i.innerHTML.replace(ge,""):null;if(!("string"!=typeof t||xe.test(t)||!E.support.leadingWhitespace&&me.test(t)||Te[(be.exec(t)||["",""])[1].toLowerCase()])){t=t.replace(ve,"<$1></$2>");try{for(;s>n;n++)i=this[n]||{},1===i.nodeType&&(E.cleanData(i.getElementsByTagName("*")),i.innerHTML=t);i=0}catch(a){}}i&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(t){return this[0]&&this[0].parentNode?E.isFunction(t)?this.each(function(e){var i=E(this),n=i.html();i.replaceWith(t.call(this,e,n))}):("string"!=typeof t&&(t=E(t).detach()),this.each(function(){var e=this.nextSibling,i=this.parentNode;E(this).remove(),e?E(e).before(t):E(i).append(t)})):this.length?this.pushStack(E(E.isFunction(t)?t():t),"replaceWith",t):this},detach:function(t){return this.remove(t,!0)},domManip:function(t,i,n){var s,a,r,o,l=t[0],c=[];if(!E.support.checkClone&&3===arguments.length&&"string"==typeof l&&Ce.test(l))return this.each(function(){E(this).domManip(t,i,n,!0)});if(E.isFunction(l))return this.each(function(s){var a=E(this);t[0]=l.call(this,s,i?a.html():e),a.domManip(t,i,n)});if(this[0]){if(o=l&&l.parentNode,s=E.support.parentNode&&o&&11===o.nodeType&&o.childNodes.length===this.length?{fragment:o}:E.buildFragment(t,this,c),r=s.fragment,a=1===r.childNodes.length?r=r.firstChild:r.firstChild){i=i&&E.nodeName(a,"tr");for(var h=0,d=this.length,f=d-1;d>h;h++)n.call(i?u(this[h],a):this[h],s.cacheable||d>1&&f>h?E.clone(r,!0,!0):r)}c.length&&E.each(c,function(t,e){e.src?E.ajax({type:"GET",global:!1,url:e.src,async:!1,dataType:"script"}):E.globalEval((e.text||e.textContent||e.innerHTML||"").replace(je,"/*$0*/")),e.parentNode&&e.parentNode.removeChild(e)})}return this}}),E.buildFragment=function(t,e,i){var n,s,a,r,o=t[0];return e&&e[0]&&(r=e[0].ownerDocument||e[0]),r.createDocumentFragment||(r=O),!(1===t.length&&"string"==typeof o&&o.length<512&&r===O&&"<"===o.charAt(0))||we.test(o)||!E.support.checkClone&&Ce.test(o)||!E.support.html5Clone&&ke.test(o)||(s=!0,a=E.fragments[o],a&&1!==a&&(n=a)),n||(n=r.createDocumentFragment(),E.clean(t,r,n,i)),s&&(E.fragments[o]=a?n:1),{fragment:n,cacheable:s}},E.fragments={},E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){E.fn[t]=function(i){var n=[],s=E(i),a=1===this.length&&this[0].parentNode;if(a&&11===a.nodeType&&1===a.childNodes.length&&1===s.length)return s[e](this[0]),this;for(var r=0,o=s.length;o>r;r++){var l=(r>0?this.clone(!0):this).get();E(s[r])[e](l),n=n.concat(l)}return this.pushStack(n,t,s.selector)}}),E.extend({clone:function(t,e,i){var n,s,a,r=E.support.html5Clone||E.isXMLDoc(t)||!ke.test("<"+t.nodeName+">")?t.cloneNode(!0):v(t);if(!(E.support.noCloneEvent&&E.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||E.isXMLDoc(t)))for(f(t,r),n=p(t),s=p(r),a=0;n[a];++a)s[a]&&f(n[a],s[a]);if(e&&(d(t,r),i))for(n=p(t),s=p(r),a=0;n[a];++a)d(n[a],s[a]);return n=s=null,r},clean:function(t,e,i,n){var s,a,r,o=[];e=e||O,"undefined"==typeof e.createElement&&(e=e.ownerDocument||e[0]&&e[0].ownerDocument||O);for(var l,c=0;null!=(l=t[c]);c++)if("number"==typeof l&&(l+=""),l){if("string"==typeof l)if(_e.test(l)){l=l.replace(ve,"<$1></$2>");var u,d=(be.exec(l)||["",""])[1].toLowerCase(),f=Te[d]||Te._default,p=f[0],g=e.createElement("div"),v=Ie.childNodes;for(e===O?Ie.appendChild(g):h(e).appendChild(g),g.innerHTML=f[1]+l+f[2];p--;)g=g.lastChild;if(!E.support.tbody){var b=ye.test(l),y="table"!==d||b?"<table>"!==f[1]||b?[]:g.childNodes:g.firstChild&&g.firstChild.childNodes;for(r=y.length-1;r>=0;--r)E.nodeName(y[r],"tbody")&&!y[r].childNodes.length&&y[r].parentNode.removeChild(y[r])}!E.support.leadingWhitespace&&me.test(l)&&g.insertBefore(e.createTextNode(me.exec(l)[0]),g.firstChild),l=g.childNodes,g&&(g.parentNode.removeChild(g),v.length>0&&(u=v[v.length-1],u&&u.parentNode&&u.parentNode.removeChild(u)))}else l=e.createTextNode(l);var _;if(!E.support.appendChecked)if(l[0]&&"number"==typeof(_=l.length))for(r=0;_>r;r++)m(l[r]);else m(l);l.nodeType?o.push(l):o=E.merge(o,l)}if(i)for(s=function(t){return!t.type||Se.test(t.type)},c=0;o[c];c++)if(a=o[c],n&&E.nodeName(a,"script")&&(!a.type||Se.test(a.type)))n.push(a.parentNode?a.parentNode.removeChild(a):a);else{if(1===a.nodeType){var x=E.grep(a.getElementsByTagName("script"),s);o.splice.apply(o,[c+1,0].concat(x))}i.appendChild(a)}return o},cleanData:function(t){for(var e,i,n,s=E.cache,a=E.event.special,r=E.support.deleteExpando,o=0;null!=(n=t[o]);o++)if((!n.nodeName||!E.noData[n.nodeName.toLowerCase()])&&(i=n[E.expando])){if(e=s[i],e&&e.events){for(var l in e.events)a[l]?E.event.remove(n,l):E.removeEvent(n,l,e.handle);e.handle&&(e.handle.elem=null)}r?delete n[E.expando]:n.removeAttribute&&n.removeAttribute(E.expando),delete s[i]}}});var Ae,Pe,De,Oe=/alpha\([^)]*\)/i,Fe=/opacity=([^)]*)/,Me=/([A-Z]|^ms)/g,Ee=/^[\-+]?(?:\d*\.)?\d+$/i,Ne=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,$e=/^([\-+])=([\-+.\de]+)/,He=/^margin/,Le={position:"absolute",visibility:"hidden",display:"block"},Re=["Top","Right","Bottom","Left"];E.fn.css=function(t,i){return E.access(this,function(t,i,n){return n!==e?E.style(t,i,n):E.css(t,i)},t,i,arguments.length>1)},E.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=Ae(t,"opacity");return""===i?"1":i}return t.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":E.support.cssFloat?"cssFloat":"styleFloat"},style:function(t,i,n,s){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var a,r,o=E.camelCase(i),l=t.style,c=E.cssHooks[o];if(i=E.cssProps[o]||o,n===e)return c&&"get"in c&&(a=c.get(t,!1,s))!==e?a:l[i];if(r=typeof n,"string"===r&&(a=$e.exec(n))&&(n=+(a[1]+1)*+a[2]+parseFloat(E.css(t,i)),r="number"),!(null==n||"number"===r&&isNaN(n)||("number"!==r||E.cssNumber[o]||(n+="px"),c&&"set"in c&&(n=c.set(t,n))===e)))try{l[i]=n}catch(h){}}},css:function(t,i,n){var s,a;return i=E.camelCase(i),a=E.cssHooks[i],i=E.cssProps[i]||i,"cssFloat"===i&&(i="float"),a&&"get"in a&&(s=a.get(t,!0,n))!==e?s:Ae?Ae(t,i):void 0},swap:function(t,e,i){var n,s,a={};for(s in e)a[s]=t.style[s],t.style[s]=e[s];n=i.call(t);for(s in e)t.style[s]=a[s];return n}}),E.curCSS=E.css,O.defaultView&&O.defaultView.getComputedStyle&&(Pe=function(t,e){var i,n,s,a,r=t.style;return e=e.replace(Me,"-$1").toLowerCase(),(n=t.ownerDocument.defaultView)&&(s=n.getComputedStyle(t,null))&&(i=s.getPropertyValue(e),""!==i||E.contains(t.ownerDocument.documentElement,t)||(i=E.style(t,e))),!E.support.pixelMargin&&s&&He.test(e)&&Ne.test(i)&&(a=r.width,r.width=i,i=s.width,r.width=a),i}),O.documentElement.currentStyle&&(De=function(t,e){var i,n,s,a=t.currentStyle&&t.currentStyle[e],r=t.style;return null==a&&r&&(s=r[e])&&(a=s),Ne.test(a)&&(i=r.left,n=t.runtimeStyle&&t.runtimeStyle.left,n&&(t.runtimeStyle.left=t.currentStyle.left),r.left="fontSize"===e?"1em":a,a=r.pixelLeft+"px",r.left=i,n&&(t.runtimeStyle.left=n)),""===a?"auto":a}),Ae=Pe||De,E.each(["height","width"],function(t,e){E.cssHooks[e]={get:function(t,i,n){return i?0!==t.offsetWidth?b(t,e,n):E.swap(t,Le,function(){return b(t,e,n)}):void 0},set:function(t,e){return Ee.test(e)?e+"px":e}}}),E.support.opacity||(E.cssHooks.opacity={get:function(t,e){return Fe.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100+"":e?"1":""},set:function(t,e){var i=t.style,n=t.currentStyle,s=E.isNumeric(e)?"alpha(opacity="+100*e+")":"",a=n&&n.filter||i.filter||"";i.zoom=1,e>=1&&""===E.trim(a.replace(Oe,""))&&(i.removeAttribute("filter"),n&&!n.filter)||(i.filter=Oe.test(a)?a.replace(Oe,s):a+" "+s)}}),E(function(){E.support.reliableMarginRight||(E.cssHooks.marginRight={get:function(t,e){return E.swap(t,{display:"inline-block"},function(){return e?Ae(t,"margin-right"):t.style.marginRight})}})}),E.expr&&E.expr.filters&&(E.expr.filters.hidden=function(t){var e=t.offsetWidth,i=t.offsetHeight;return 0===e&&0===i||!E.support.reliableHiddenOffsets&&"none"===(t.style&&t.style.display||E.css(t,"display"))},E.expr.filters.visible=function(t){return!E.expr.filters.hidden(t)}),E.each({margin:"",padding:"",border:"Width"},function(t,e){E.cssHooks[t+e]={expand:function(i){var n,s="string"==typeof i?i.split(" "):[i],a={};for(n=0;4>n;n++)a[t+Re[n]+e]=s[n]||s[n-2]||s[0];return a}}});var ze,We,qe=/%20/g,Be=/\[\]$/,Ge=/\r?\n/g,Ue=/#.*$/,Ye=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ve=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Xe=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Ke=/^(?:GET|HEAD)$/,Qe=/^\/\//,Je=/\?/,Ze=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,ti=/^(?:select|textarea)/i,ei=/\s+/,ii=/([?&])_=[^&]*/,ni=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,si=E.fn.load,ai={},ri={},oi=["*/"]+["*"];try{ze=M.href}catch(li){ze=O.createElement("a"),ze.href="",ze=ze.href}We=ni.exec(ze.toLowerCase())||[],E.fn.extend({load:function(t,i,n){if("string"!=typeof t&&si)return si.apply(this,arguments);if(!this.length)return this;var s=t.indexOf(" ");if(s>=0){var a=t.slice(s,t.length);t=t.slice(0,s)}var r="GET";i&&(E.isFunction(i)?(n=i,i=e):"object"==typeof i&&(i=E.param(i,E.ajaxSettings.traditional),r="POST"));var o=this;return E.ajax({url:t,type:r,dataType:"html",data:i,complete:function(t,e,i){i=t.responseText,t.isResolved()&&(t.done(function(t){i=t}),o.html(a?E("<div>").append(i.replace(Ze,"")).find(a):i)),n&&o.each(n,[i,e,t])}}),this},serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?E.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||ti.test(this.nodeName)||Ve.test(this.type))}).map(function(t,e){var i=E(this).val();return null==i?null:E.isArray(i)?E.map(i,function(t){return{name:e.name,value:t.replace(Ge,"\r\n")}}):{name:e.name,value:i.replace(Ge,"\r\n")}}).get()}}),E.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(t,e){E.fn[e]=function(t){return this.on(e,t)}}),E.each(["get","post"],function(t,i){E[i]=function(t,n,s,a){return E.isFunction(n)&&(a=a||s,s=n,n=e),E.ajax({type:i,url:t,data:n,success:s,dataType:a})}}),E.extend({getScript:function(t,i){return E.get(t,e,i,"script")},getJSON:function(t,e,i){return E.get(t,e,i,"json")},ajaxSetup:function(t,e){return e?x(t,E.ajaxSettings):(e=t,t=E.ajaxSettings),x(t,e),t},ajaxSettings:{url:ze,isLocal:Xe.test(We[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":oi},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":t.String,"text html":!0,"text json":E.parseJSON,"text xml":E.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:y(ai),ajaxTransport:y(ri),ajax:function(t,i){function n(t,i,n,r){if(2!==x){x=2,l&&clearTimeout(l),o=e,a=r||"",w.readyState=t>0?4:0;var c,u,b,y,_,S=i,j=n?k(d,w,n):e;if(t>=200&&300>t||304===t)if(d.ifModified&&((y=w.getResponseHeader("Last-Modified"))&&(E.lastModified[s]=y),(_=w.getResponseHeader("Etag"))&&(E.etag[s]=_)),304===t)S="notmodified",c=!0;
else try{u=C(d,j),S="success",c=!0}catch(T){S="parsererror",b=T}else b=S,(!S||t)&&(S="error",0>t&&(t=0));w.status=t,w.statusText=""+(i||S),c?g.resolveWith(f,[u,S,w]):g.rejectWith(f,[w,S,b]),w.statusCode(v),v=e,h&&p.trigger("ajax"+(c?"Success":"Error"),[w,d,c?u:b]),m.fireWith(f,[w,S]),h&&(p.trigger("ajaxComplete",[w,d]),--E.active||E.event.trigger("ajaxStop"))}}"object"==typeof t&&(i=t,t=e),i=i||{};var s,a,r,o,l,c,h,u,d=E.ajaxSetup({},i),f=d.context||d,p=f!==d&&(f.nodeType||f instanceof E)?E(f):E.event,g=E.Deferred(),m=E.Callbacks("once memory"),v=d.statusCode||{},b={},y={},x=0,w={readyState:0,setRequestHeader:function(t,e){if(!x){var i=t.toLowerCase();t=y[i]=y[i]||t,b[t]=e}return this},getAllResponseHeaders:function(){return 2===x?a:null},getResponseHeader:function(t){var i;if(2===x){if(!r)for(r={};i=Ye.exec(a);)r[i[1].toLowerCase()]=i[2];i=r[t.toLowerCase()]}return i===e?null:i},overrideMimeType:function(t){return x||(d.mimeType=t),this},abort:function(t){return t=t||"abort",o&&o.abort(t),n(0,t),this}};if(g.promise(w),w.success=w.done,w.error=w.fail,w.complete=m.add,w.statusCode=function(t){if(t){var e;if(2>x)for(e in t)v[e]=[v[e],t[e]];else e=t[w.status],w.then(e,e)}return this},d.url=((t||d.url)+"").replace(Ue,"").replace(Qe,We[1]+"//"),d.dataTypes=E.trim(d.dataType||"*").toLowerCase().split(ei),null==d.crossDomain&&(c=ni.exec(d.url.toLowerCase()),d.crossDomain=!(!c||c[1]==We[1]&&c[2]==We[2]&&(c[3]||("http:"===c[1]?80:443))==(We[3]||("http:"===We[1]?80:443)))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=E.param(d.data,d.traditional)),_(ai,d,i,w),2===x)return!1;if(h=d.global,d.type=d.type.toUpperCase(),d.hasContent=!Ke.test(d.type),h&&0===E.active++&&E.event.trigger("ajaxStart"),!d.hasContent&&(d.data&&(d.url+=(Je.test(d.url)?"&":"?")+d.data,delete d.data),s=d.url,d.cache===!1)){var S=E.now(),j=d.url.replace(ii,"$1_="+S);d.url=j+(j===d.url?(Je.test(d.url)?"&":"?")+"_="+S:"")}(d.data&&d.hasContent&&d.contentType!==!1||i.contentType)&&w.setRequestHeader("Content-Type",d.contentType),d.ifModified&&(s=s||d.url,E.lastModified[s]&&w.setRequestHeader("If-Modified-Since",E.lastModified[s]),E.etag[s]&&w.setRequestHeader("If-None-Match",E.etag[s])),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+oi+"; q=0.01":""):d.accepts["*"]);for(u in d.headers)w.setRequestHeader(u,d.headers[u]);if(d.beforeSend&&(d.beforeSend.call(f,w,d)===!1||2===x))return w.abort(),!1;for(u in{success:1,error:1,complete:1})w[u](d[u]);if(o=_(ri,d,i,w)){w.readyState=1,h&&p.trigger("ajaxSend",[w,d]),d.async&&d.timeout>0&&(l=setTimeout(function(){w.abort("timeout")},d.timeout));try{x=1,o.send(b,n)}catch(T){if(!(2>x))throw T;n(-1,T)}}else n(-1,"No Transport");return w},param:function(t,i){var n=[],s=function(t,e){e=E.isFunction(e)?e():e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(i===e&&(i=E.ajaxSettings.traditional),E.isArray(t)||t.jquery&&!E.isPlainObject(t))E.each(t,function(){s(this.name,this.value)});else for(var a in t)w(a,t[a],i,s);return n.join("&").replace(qe,"+")}}),E.extend({active:0,lastModified:{},etag:{}});var ci=E.now(),hi=/(\=)\?(&|$)|\?\?/i;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return E.expando+"_"+ci++}}),E.ajaxPrefilter("json jsonp",function(e,i,n){var s="string"==typeof e.data&&/^application\/x\-www\-form\-urlencoded/.test(e.contentType);if("jsonp"===e.dataTypes[0]||e.jsonp!==!1&&(hi.test(e.url)||s&&hi.test(e.data))){var a,r=e.jsonpCallback=E.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o=t[r],l=e.url,c=e.data,h="$1"+r+"$2";return e.jsonp!==!1&&(l=l.replace(hi,h),e.url===l&&(s&&(c=c.replace(hi,h)),e.data===c&&(l+=(/\?/.test(l)?"&":"?")+e.jsonp+"="+r))),e.url=l,e.data=c,t[r]=function(t){a=[t]},n.always(function(){t[r]=o,a&&E.isFunction(o)&&t[r](a[0])}),e.converters["script json"]=function(){return a||E.error(r+" was not called"),a[0]},e.dataTypes[0]="json","script"}}),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(t){return E.globalEval(t),t}}}),E.ajaxPrefilter("script",function(t){t.cache===e&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),E.ajaxTransport("script",function(t){if(t.crossDomain){var i,n=O.head||O.getElementsByTagName("head")[0]||O.documentElement;return{send:function(s,a){i=O.createElement("script"),i.async="async",t.scriptCharset&&(i.charset=t.scriptCharset),i.src=t.url,i.onload=i.onreadystatechange=function(t,s){(s||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,n&&i.parentNode&&n.removeChild(i),i=e,s||a(200,"success"))},n.insertBefore(i,n.firstChild)},abort:function(){i&&i.onload(0,1)}}}});var ui,di=t.ActiveXObject?function(){for(var t in ui)ui[t](0,1)}:!1,fi=0;E.ajaxSettings.xhr=t.ActiveXObject?function(){return!this.isLocal&&S()||j()}:S,function(t){E.extend(E.support,{ajax:!!t,cors:!!t&&"withCredentials"in t})}(E.ajaxSettings.xhr()),E.support.ajax&&E.ajaxTransport(function(i){if(!i.crossDomain||E.support.cors){var n;return{send:function(s,a){var r,o,l=i.xhr();if(i.username?l.open(i.type,i.url,i.async,i.username,i.password):l.open(i.type,i.url,i.async),i.xhrFields)for(o in i.xhrFields)l[o]=i.xhrFields[o];i.mimeType&&l.overrideMimeType&&l.overrideMimeType(i.mimeType),i.crossDomain||s["X-Requested-With"]||(s["X-Requested-With"]="XMLHttpRequest");try{for(o in s)l.setRequestHeader(o,s[o])}catch(c){}l.send(i.hasContent&&i.data||null),n=function(t,s){var o,c,h,u,d;try{if(n&&(s||4===l.readyState))if(n=e,r&&(l.onreadystatechange=E.noop,di&&delete ui[r]),s)4!==l.readyState&&l.abort();else{o=l.status,h=l.getAllResponseHeaders(),u={},d=l.responseXML,d&&d.documentElement&&(u.xml=d);try{u.text=l.responseText}catch(t){}try{c=l.statusText}catch(f){c=""}o||!i.isLocal||i.crossDomain?1223===o&&(o=204):o=u.text?200:404}}catch(p){s||a(-1,p)}u&&a(o,c,u,h)},i.async&&4!==l.readyState?(r=++fi,di&&(ui||(ui={},E(t).unload(di)),ui[r]=n),l.onreadystatechange=n):n()},abort:function(){n&&n(0,1)}}}});var pi,gi,mi,vi,bi={},yi=/^(?:toggle|show|hide)$/,_i=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,xi=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];E.fn.extend({show:function(t,e,i){var n,s;if(t||0===t)return this.animate(A("show",3),t,e,i);for(var a=0,r=this.length;r>a;a++)n=this[a],n.style&&(s=n.style.display,E._data(n,"olddisplay")||"none"!==s||(s=n.style.display=""),(""===s&&"none"===E.css(n,"display")||!E.contains(n.ownerDocument.documentElement,n))&&E._data(n,"olddisplay",P(n.nodeName)));for(a=0;r>a;a++)n=this[a],n.style&&(s=n.style.display,(""===s||"none"===s)&&(n.style.display=E._data(n,"olddisplay")||""));return this},hide:function(t,e,i){if(t||0===t)return this.animate(A("hide",3),t,e,i);for(var n,s,a=0,r=this.length;r>a;a++)n=this[a],n.style&&(s=E.css(n,"display"),"none"===s||E._data(n,"olddisplay")||E._data(n,"olddisplay",s));for(a=0;r>a;a++)this[a].style&&(this[a].style.display="none");return this},_toggle:E.fn.toggle,toggle:function(t,e,i){var n="boolean"==typeof t;return E.isFunction(t)&&E.isFunction(e)?this._toggle.apply(this,arguments):null==t||n?this.each(function(){var e=n?t:E(this).is(":hidden");E(this)[e?"show":"hide"]()}):this.animate(A("toggle",3),t,e,i),this},fadeTo:function(t,e,i,n){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){function s(){a.queue===!1&&E._mark(this);var e,i,n,s,r,o,l,c,h,u,d,f=E.extend({},a),p=1===this.nodeType,g=p&&E(this).is(":hidden");f.animatedProperties={};for(n in t)if(e=E.camelCase(n),n!==e&&(t[e]=t[n],delete t[n]),(r=E.cssHooks[e])&&"expand"in r){o=r.expand(t[e]),delete t[e];for(n in o)n in t||(t[n]=o[n])}for(e in t){if(i=t[e],E.isArray(i)?(f.animatedProperties[e]=i[1],i=t[e]=i[0]):f.animatedProperties[e]=f.specialEasing&&f.specialEasing[e]||f.easing||"swing","hide"===i&&g||"show"===i&&!g)return f.complete.call(this);!p||"height"!==e&&"width"!==e||(f.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===E.css(this,"display")&&"none"===E.css(this,"float")&&(E.support.inlineBlockNeedsLayout&&"inline"!==P(this.nodeName)?this.style.zoom=1:this.style.display="inline-block"))}null!=f.overflow&&(this.style.overflow="hidden");for(n in t)s=new E.fx(this,f,n),i=t[n],yi.test(i)?(d=E._data(this,"toggle"+n)||("toggle"===i?g?"show":"hide":0),d?(E._data(this,"toggle"+n,"show"===d?"hide":"show"),s[d]()):s[i]()):(l=_i.exec(i),c=s.cur(),l?(h=parseFloat(l[2]),u=l[3]||(E.cssNumber[n]?"":"px"),"px"!==u&&(E.style(this,n,(h||1)+u),c=(h||1)/s.cur()*c,E.style(this,n,c+u)),l[1]&&(h=("-="===l[1]?-1:1)*h+c),s.custom(c,h,u)):s.custom(c,i,""));return!0}var a=E.speed(e,i,n);return E.isEmptyObject(t)?this.each(a.complete,[!1]):(t=E.extend({},t),a.queue===!1?this.each(s):this.queue(a.queue,s))},stop:function(t,i,n){return"string"!=typeof t&&(n=i,i=t,t=e),i&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){function e(t,e,i){var s=e[i];E.removeData(t,i,!0),s.stop(n)}var i,s=!1,a=E.timers,r=E._data(this);if(n||E._unmark(!0,this),null==t)for(i in r)r[i]&&r[i].stop&&i.indexOf(".run")===i.length-4&&e(this,r,i);else r[i=t+".run"]&&r[i].stop&&e(this,r,i);for(i=a.length;i--;)a[i].elem!==this||null!=t&&a[i].queue!==t||(n?a[i](!0):a[i].saveState(),s=!0,a.splice(i,1));n&&s||E.dequeue(this,t)})}}),E.each({slideDown:A("show",1),slideUp:A("hide",1),slideToggle:A("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){E.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),E.extend({speed:function(t,e,i){var n=t&&"object"==typeof t?E.extend({},t):{complete:i||!i&&e||E.isFunction(t)&&t,duration:t,easing:i&&e||e&&!E.isFunction(e)&&e};return n.duration=E.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in E.fx.speeds?E.fx.speeds[n.duration]:E.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(t){E.isFunction(n.old)&&n.old.call(this),n.queue?E.dequeue(this,n.queue):t!==!1&&E._unmark(this)},n},easing:{linear:function(t){return t},swing:function(t){return-Math.cos(t*Math.PI)/2+.5}},timers:[],fx:function(t,e,i){this.options=e,this.elem=t,this.prop=i,e.orig=e.orig||{}}}),E.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(E.fx.step[this.prop]||E.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var t,e=E.css(this.elem,this.prop);return isNaN(t=parseFloat(e))?e&&"auto"!==e?e:0:t},custom:function(t,i,n){function s(t){return a.step(t)}var a=this,r=E.fx;this.startTime=vi||T(),this.end=i,this.now=this.start=t,this.pos=this.state=0,this.unit=n||this.unit||(E.cssNumber[this.prop]?"":"px"),s.queue=this.options.queue,s.elem=this.elem,s.saveState=function(){E._data(a.elem,"fxshow"+a.prop)===e&&(a.options.hide?E._data(a.elem,"fxshow"+a.prop,a.start):a.options.show&&E._data(a.elem,"fxshow"+a.prop,a.end))},s()&&E.timers.push(s)&&!mi&&(mi=setInterval(r.tick,r.interval))},show:function(){var t=E._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=t||E.style(this.elem,this.prop),this.options.show=!0,t!==e?this.custom(this.cur(),t):this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur()),E(this.elem).show()},hide:function(){this.options.orig[this.prop]=E._data(this.elem,"fxshow"+this.prop)||E.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(t){var e,i,n,s=vi||T(),a=!0,r=this.elem,o=this.options;if(t||s>=o.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),o.animatedProperties[this.prop]=!0;for(e in o.animatedProperties)o.animatedProperties[e]!==!0&&(a=!1);if(a){if(null==o.overflow||E.support.shrinkWrapBlocks||E.each(["","X","Y"],function(t,e){r.style["overflow"+e]=o.overflow[t]}),o.hide&&E(r).hide(),o.hide||o.show)for(e in o.animatedProperties)E.style(r,e,o.orig[e]),E.removeData(r,"fxshow"+e,!0),E.removeData(r,"toggle"+e,!0);n=o.complete,n&&(o.complete=!1,n.call(r))}return!1}return 1/0==o.duration?this.now=s:(i=s-this.startTime,this.state=i/o.duration,this.pos=E.easing[o.animatedProperties[this.prop]](this.state,i,0,1,o.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},E.extend(E.fx,{tick:function(){for(var t,e=E.timers,i=0;i<e.length;i++)t=e[i],t()||e[i]!==t||e.splice(i--,1);e.length||E.fx.stop()},interval:13,stop:function(){clearInterval(mi),mi=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(t){E.style(t.elem,"opacity",t.now)},_default:function(t){t.elem.style&&null!=t.elem.style[t.prop]?t.elem.style[t.prop]=t.now+t.unit:t.elem[t.prop]=t.now}}}),E.each(xi.concat.apply([],xi),function(t,e){e.indexOf("margin")&&(E.fx.step[e]=function(t){E.style(t.elem,e,Math.max(0,t.now)+t.unit)})}),E.expr&&E.expr.filters&&(E.expr.filters.animated=function(t){return E.grep(E.timers,function(e){return t===e.elem}).length});var wi,ki=/^t(?:able|d|h)$/i,Ci=/^(?:body|html)$/i;wi="getBoundingClientRect"in O.documentElement?function(t,e,i,n){try{n=t.getBoundingClientRect()}catch(s){}if(!n||!E.contains(i,t))return n?{top:n.top,left:n.left}:{top:0,left:0};var a=e.body,r=D(e),o=i.clientTop||a.clientTop||0,l=i.clientLeft||a.clientLeft||0,c=r.pageYOffset||E.support.boxModel&&i.scrollTop||a.scrollTop,h=r.pageXOffset||E.support.boxModel&&i.scrollLeft||a.scrollLeft,u=n.top+c-o,d=n.left+h-l;return{top:u,left:d}}:function(t,e,i){for(var n,s=t.offsetParent,a=t,r=e.body,o=e.defaultView,l=o?o.getComputedStyle(t,null):t.currentStyle,c=t.offsetTop,h=t.offsetLeft;(t=t.parentNode)&&t!==r&&t!==i&&(!E.support.fixedPosition||"fixed"!==l.position);)n=o?o.getComputedStyle(t,null):t.currentStyle,c-=t.scrollTop,h-=t.scrollLeft,t===s&&(c+=t.offsetTop,h+=t.offsetLeft,!E.support.doesNotAddBorder||E.support.doesAddBorderForTableAndCells&&ki.test(t.nodeName)||(c+=parseFloat(n.borderTopWidth)||0,h+=parseFloat(n.borderLeftWidth)||0),a=s,s=t.offsetParent),E.support.subtractsBorderForOverflowNotVisible&&"visible"!==n.overflow&&(c+=parseFloat(n.borderTopWidth)||0,h+=parseFloat(n.borderLeftWidth)||0),l=n;return("relative"===l.position||"static"===l.position)&&(c+=r.offsetTop,h+=r.offsetLeft),E.support.fixedPosition&&"fixed"===l.position&&(c+=Math.max(i.scrollTop,r.scrollTop),h+=Math.max(i.scrollLeft,r.scrollLeft)),{top:c,left:h}},E.fn.offset=function(t){if(arguments.length)return t===e?this:this.each(function(e){E.offset.setOffset(this,t,e)});var i=this[0],n=i&&i.ownerDocument;return n?i===n.body?E.offset.bodyOffset(i):wi(i,n,n.documentElement):null},E.offset={bodyOffset:function(t){var e=t.offsetTop,i=t.offsetLeft;return E.support.doesNotIncludeMarginInBodyOffset&&(e+=parseFloat(E.css(t,"marginTop"))||0,i+=parseFloat(E.css(t,"marginLeft"))||0),{top:e,left:i}},setOffset:function(t,e,i){var n=E.css(t,"position");"static"===n&&(t.style.position="relative");var s,a,r=E(t),o=r.offset(),l=E.css(t,"top"),c=E.css(t,"left"),h=("absolute"===n||"fixed"===n)&&E.inArray("auto",[l,c])>-1,u={},d={};h?(d=r.position(),s=d.top,a=d.left):(s=parseFloat(l)||0,a=parseFloat(c)||0),E.isFunction(e)&&(e=e.call(t,i,o)),null!=e.top&&(u.top=e.top-o.top+s),null!=e.left&&(u.left=e.left-o.left+a),"using"in e?e.using.call(t,u):r.css(u)}},E.fn.extend({position:function(){if(!this[0])return null;var t=this[0],e=this.offsetParent(),i=this.offset(),n=Ci.test(e[0].nodeName)?{top:0,left:0}:e.offset();return i.top-=parseFloat(E.css(t,"marginTop"))||0,i.left-=parseFloat(E.css(t,"marginLeft"))||0,n.top+=parseFloat(E.css(e[0],"borderTopWidth"))||0,n.left+=parseFloat(E.css(e[0],"borderLeftWidth"))||0,{top:i.top-n.top,left:i.left-n.left}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||O.body;t&&!Ci.test(t.nodeName)&&"static"===E.css(t,"position");)t=t.offsetParent;return t})}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var n=/Y/.test(i);E.fn[t]=function(s){return E.access(this,function(t,s,a){var r=D(t);return a===e?r?i in r?r[i]:E.support.boxModel&&r.document.documentElement[s]||r.document.body[s]:t[s]:(r?r.scrollTo(n?E(r).scrollLeft():a,n?a:E(r).scrollTop()):t[s]=a,void 0)},t,s,arguments.length,null)}}),E.each({Height:"height",Width:"width"},function(t,i){var n="client"+t,s="scroll"+t,a="offset"+t;E.fn["inner"+t]=function(){var t=this[0];return t?t.style?parseFloat(E.css(t,i,"padding")):this[i]():null},E.fn["outer"+t]=function(t){var e=this[0];return e?e.style?parseFloat(E.css(e,i,t?"margin":"border")):this[i]():null},E.fn[i]=function(t){return E.access(this,function(t,i,r){var o,l,c,h;return E.isWindow(t)?(o=t.document,l=o.documentElement[n],E.support.boxModel&&l||o.body&&o.body[n]||l):9===t.nodeType?(o=t.documentElement,o[n]>=o[s]?o[n]:Math.max(t.body[s],o[s],t.body[a],o[a])):r===e?(c=E.css(t,i),h=parseFloat(c),E.isNumeric(h)?h:c):(E(t).css(i,r),void 0)},i,t,arguments.length,null)}}),t.jQuery=t.$=E,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return E})}(window),function(t,e){var i=function(){var e=t(document).data("events");return e&&e.click&&t.grep(e.click,function(t){return"rails"===t.namespace}).length};i()&&t.error("jquery-ujs has already been loaded!");var n;t.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input:file",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(e){var i=t('meta[name="csrf-token"]').attr("content");i&&e.setRequestHeader("X-CSRF-Token",i)},fire:function(e,i,n){var s=t.Event(i);return e.trigger(s,n),s.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t.attr("href")},handleRemote:function(i){var s,a,r,o,l,c,h,u;if(n.fire(i,"ajax:before")){if(o=i.data("cross-domain"),l=o===e?null:o,c=i.data("with-credentials")||null,h=i.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,i.is("form")){s=i.attr("method"),a=i.attr("action"),r=i.serializeArray();var d=i.data("ujs:submit-button");d&&(r.push(d),i.data("ujs:submit-button",null))}else i.is(n.inputChangeSelector)?(s=i.data("method"),a=i.data("url"),r=i.serialize(),i.data("params")&&(r=r+"&"+i.data("params"))):(s=i.data("method"),a=n.href(i),r=i.data("params")||null);u={type:s||"GET",data:r,dataType:h,beforeSend:function(t,s){return s.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+s.accepts.script),n.fire(i,"ajax:beforeSend",[t,s])},success:function(t,e,n){i.trigger("ajax:success",[t,e,n])},complete:function(t,e){i.trigger("ajax:complete",[t,e])},error:function(t,e,n){i.trigger("ajax:error",[t,e,n])},xhrFields:{withCredentials:c},crossDomain:l},a&&(u.url=a);var f=n.ajax(u);return i.trigger("ajax:send",f),f}return!1},handleMethod:function(i){var s=n.href(i),a=i.data("method"),r=i.attr("target"),o=t("meta[name=csrf-token]").attr("content"),l=t("meta[name=csrf-param]").attr("content"),c=t('<form method="post" action="'+s+'"></form>'),h='<input name="_method" value="'+a+'" type="hidden" />';l!==e&&o!==e&&(h+='<input name="'+l+'" value="'+o+'" type="hidden" />'),r&&c.attr("target",r),c.hide().append(h).appendTo("body"),c.submit()},disableFormElements:function(e){e.find(n.disableSelector).each(function(){var e=t(this),i=e.is("button")?"html":"val";e.data("ujs:enable-with",e[i]()),e[i](e.data("disable-with")),e.prop("disabled",!0)})},enableFormElements:function(e){e.find(n.enableSelector).each(function(){var e=t(this),i=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[i](e.data("ujs:enable-with")),e.prop("disabled",!1)})},allowAction:function(t){var e,i=t.data("confirm"),s=!1;return i?(n.fire(t,"confirm")&&(s=n.confirm(i),e=n.fire(t,"confirm:complete",[s])),s&&e):!0},blankInputs:function(e,i,n){var s,a,r=t(),o=i||"input,textarea";return e.find(o).each(function(){s=t(this),a=s.is(":checkbox,:radio")?s.is(":checked"):s.val(),a==!!n&&(r=r.add(s))}),r.length?r:!1},nonBlankInputs:function(t,e){return n.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},callFormSubmitBindings:function(i,n){var s=i.data("events"),a=!0;return s!==e&&s.submit!==e&&t.each(s.submit,function(t,e){return"function"==typeof e.handler?a=e.handler(n):void 0}),a},disableElement:function(t){t.data("ujs:enable-with",t.html()),t.html(t.data("disable-with")),t.bind("click.railsDisable",function(t){return n.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.data("ujs:enable-with",!1)),t.unbind("click.railsDisable")}},n.fire(t(document),"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,i){t.crossDomain||n.CSRFProtection(i)}),t(document).delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(t(this))}),t(document).delegate(n.linkClickSelector,"click.rails",function(i){var s=t(this),a=s.data("method"),r=s.data("params");return n.allowAction(s)?(s.is(n.linkDisableSelector)&&n.disableElement(s),s.data("remote")!==e?!i.metaKey&&!i.ctrlKey||a&&"GET"!==a||r?(n.handleRemote(s)===!1&&n.enableElement(s),!1):!0:s.data("method")?(n.handleMethod(s),!1):void 0):n.stopEverything(i)}),t(document).delegate(n.inputChangeSelector,"change.rails",function(e){var i=t(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(e)}),t(document).delegate(n.formSubmitSelector,"submit.rails",function(i){var s=t(this),a=s.data("remote")!==e,r=n.blankInputs(s,n.requiredInputSelector),o=n.nonBlankInputs(s,n.fileInputSelector);return n.allowAction(s)?r&&s.attr("novalidate")==e&&n.fire(s,"ajax:aborted:required",[r])?n.stopEverything(i):a?o?(setTimeout(function(){n.disableFormElements(s)},13),n.fire(s,"ajax:aborted:file",[o])):!t.support.submitBubbles&&t().jquery<"1.7"&&n.callFormSubmitBindings(s,i)===!1?n.stopEverything(i):(n.handleRemote(s),!1):(setTimeout(function(){n.disableFormElements(s)},13),void 0):n.stopEverything(i)}),t(document).delegate(n.formInputClickSelector,"click.rails",function(e){var i=t(this);if(!n.allowAction(i))return n.stopEverything(e);var s=i.attr("name"),a=s?{name:s,value:i.val()}:null;i.closest("form").data("ujs:submit-button",a)}),t(document).delegate(n.formSubmitSelector,"ajax:beforeSend.rails",function(e){this==e.target&&n.disableFormElements(t(this))}),t(document).delegate(n.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&n.enableFormElements(t(this))}),t(function(){csrf_token=t("meta[name=csrf-token]").attr("content"),csrf_param=t("meta[name=csrf-param]").attr("content"),t('form input[name="'+csrf_param+'"]').val(csrf_token)}))}(jQuery),function(){}.call(this),/*!
 * jQuery UI 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
function(t,e){function i(e,i){var s=e.nodeName.toLowerCase();if("area"===s){var a,r=e.parentNode,o=r.name;return e.href&&o&&"map"===r.nodeName.toLowerCase()?(a=t("img[usemap=#"+o+"]")[0],!!a&&n(a)):!1}return(/input|select|textarea|button|object/.test(s)?!e.disabled:"a"==s?e.href||i:i)&&n(e)}function n(e){return!t(e).parents().andSelf().filter(function(){return"hidden"===t.curCSS(this,"visibility")||t.expr.filters.hidden(this)}).length}t.ui=t.ui||{},t.ui.version||(t.extend(t.ui,{version:"1.8.18",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),t.fn.extend({propAttr:t.fn.prop||t.fn.attr,_focus:t.fn.focus,focus:function(e,i){return"number"==typeof e?this.each(function(){var n=this;setTimeout(function(){t(n).focus(),i&&i.call(n)},e)}):this._focus.apply(this,arguments)},scrollParent:function(){var e;return e=t.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.curCSS(this,"position",1))&&/(auto|scroll)/.test(t.curCSS(this,"overflow",1)+t.curCSS(this,"overflow-y",1)+t.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.curCSS(this,"overflow",1)+t.curCSS(this,"overflow-y",1)+t.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(i){if(i!==e)return this.css("zIndex",i);if(this.length)for(var n,s,a=t(this[0]);a.length&&a[0]!==document;){if(n=a.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(s=parseInt(a.css("zIndex"),10),!isNaN(s)&&0!==s))return s;a=a.parent()}return 0},disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.each(["Width","Height"],function(i,n){function s(e,i,n,s){return t.each(a,function(){i-=parseFloat(t.curCSS(e,"padding"+this,!0))||0,n&&(i-=parseFloat(t.curCSS(e,"border"+this+"Width",!0))||0),s&&(i-=parseFloat(t.curCSS(e,"margin"+this,!0))||0)}),i}var a="Width"===n?["Left","Right"]:["Top","Bottom"],r=n.toLowerCase(),o={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+n]=function(i){return i===e?o["inner"+n].call(this):this.each(function(){t(this).css(r,s(this,i)+"px")})},t.fn["outer"+n]=function(e,i){return"number"!=typeof e?o["outer"+n].call(this,e):this.each(function(){t(this).css(r,s(this,e,!0,i)+"px")})}}),t.extend(t.expr[":"],{data:function(e,i,n){return!!t.data(e,n[3])},focusable:function(e){return i(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var n=t.attr(e,"tabindex"),s=isNaN(n);return(s||n>=0)&&i(e,!s)}}),t(function(){var e=document.body,i=e.appendChild(i=document.createElement("div"));i.offsetHeight,t.extend(i.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),t.support.minHeight=100===i.offsetHeight,t.support.selectstart="onselectstart"in i,e.removeChild(i).style.display="none"}),t.extend(t.ui,{plugin:{add:function(e,i,n){var s=t.ui[e].prototype;for(var a in n)s.plugins[a]=s.plugins[a]||[],s.plugins[a].push([i,n[a]])},call:function(t,e,i){var n=t.plugins[e];if(n&&t.element[0].parentNode)for(var s=0;s<n.length;s++)t.options[n[s][0]]&&n[s][1].apply(t.element,i)}},contains:function(t,e){return document.compareDocumentPosition?16&t.compareDocumentPosition(e):t!==e&&t.contains(e)},hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",s=!1;return e[n]>0?!0:(e[n]=1,s=e[n]>0,e[n]=0,s)},isOverAxis:function(t,e,i){return t>e&&e+i>t},isOver:function(e,i,n,s,a,r){return t.ui.isOverAxis(e,n,a)&&t.ui.isOverAxis(i,s,r)}}))}(jQuery),/*!
 * jQuery UI Widget 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
function(t,e){if(t.cleanData){var i=t.cleanData;t.cleanData=function(e){for(var n,s=0;null!=(n=e[s]);s++)try{t(n).triggerHandler("remove")}catch(a){}i(e)}}else{var n=t.fn.remove;t.fn.remove=function(e,i){return this.each(function(){return i||(!e||t.filter(e,[this]).length)&&t("*",this).add([this]).each(function(){try{t(this).triggerHandler("remove")}catch(e){}}),n.call(t(this),e,i)})}}t.widget=function(e,i,n){var s,a=e.split(".")[0];e=e.split(".")[1],s=a+"-"+e,n||(n=i,i=t.Widget),t.expr[":"][s]=function(i){return!!t.data(i,e)},t[a]=t[a]||{},t[a][e]=function(t,e){arguments.length&&this._createWidget(t,e)};var r=new i;r.options=t.extend(!0,{},r.options),t[a][e].prototype=t.extend(!0,r,{namespace:a,widgetName:e,widgetEventPrefix:t[a][e].prototype.widgetEventPrefix||e,widgetBaseClass:s},n),t.widget.bridge(e,t[a][e])},t.widget.bridge=function(i,n){t.fn[i]=function(s){var a="string"==typeof s,r=Array.prototype.slice.call(arguments,1),o=this;return s=!a&&r.length?t.extend.apply(null,[!0,s].concat(r)):s,a&&"_"===s.charAt(0)?o:(a?this.each(function(){var n=t.data(this,i),a=n&&t.isFunction(n[s])?n[s].apply(n,r):n;return a!==n&&a!==e?(o=a,!1):void 0}):this.each(function(){var e=t.data(this,i);e?e.option(s||{})._init():t.data(this,i,new n(s,this))}),o)}},t.Widget=function(t,e){arguments.length&&this._createWidget(t,e)},t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(e,i){t.data(i,this.widgetName,this),this.element=t(i),this.options=t.extend(!0,{},this.options,this._getCreateOptions(),e);var n=this;this.element.bind("remove."+this.widgetName,function(){n.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return t.metadata&&t.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled "+"ui-state-disabled")},widget:function(){return this.element},option:function(i,n){var s=i;if(0===arguments.length)return t.extend({},this.options);if("string"==typeof i){if(n===e)return this.options[i];s={},s[i]=n}return this._setOptions(s),this},_setOptions:function(e){var i=this;return t.each(e,function(t,e){i._setOption(t,e)}),this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&this.widget()[e?"addClass":"removeClass"](this.widgetBaseClass+"-disabled"+" "+"ui-state-disabled").attr("aria-disabled",e),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(e,i,n){var s,a,r=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(s in a)s in i||(i[s]=a[s]);return this.element.trigger(i,n),!(t.isFunction(r)&&r.call(this.element[0],i,n)===!1||i.isDefaultPrevented())}}}(jQuery),/*!
 * jQuery UI Mouse 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 *	jquery.ui.widget.js
 */
function(t){var e=!1;t(document).mouseup(function(){e=!1}),t.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(i){if(!e){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,s=1==i.which,a="string"==typeof this.options.cancel&&i.target.nodeName?t(i.target).closest(this.options.cancel).length:!1;return s&&!a&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===t.data(i.target,this.widgetName+".preventClickEvent")&&t.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),e=!0,!0)):!0}},_mouseMove:function(e){return!t.browser.msie||document.documentMode>=9||e.button?this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted):this._mouseUp(e)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target==this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),/*
 * jQuery UI Draggable 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Draggables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(t){t.widget("ui.draggable",t.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"!=this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},destroy:function(){return this.element.data("draggable")?(this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this):void 0},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(e),this.handle?(i.iframeFix&&t(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){t('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),i.containment&&this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.helper.addClass("ui-draggable-dragging"),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,i){if(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",e,n)===!1)return this._mouseUp({}),!1;this.position=n.position}return this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=!1;if(t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),!(this.element[0]&&this.element[0].parentNode||"original"!=this.options.helper))return!1;if("invalid"==this.options.revert&&!i||"valid"==this.options.revert&&i||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)){var n=this;t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",e)!==!1&&n._clear()})}else this._trigger("stop",e)!==!1&&this._clear();return!1},_mouseUp:function(e){return this.options.iframeFix===!0&&t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){var i=this.options.handle&&t(this.options.handle,this.element).length?!1:!0;return t(this.options.handle,this.element).find("*").andSelf().each(function(){this==e.target&&(i=!0)}),i},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e])):"clone"==i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"==i.appendTo?this.element[0].parentNode:i.appendTo),n[0]==this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&t.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&t.browser.msie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e=this.options;if("parent"==e.containment&&(e.containment=this.helper[0].parentNode),("document"==e.containment||"window"==e.containment)&&(this.containment=["document"==e.containment?0:t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==e.containment?0:t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==e.containment?0:t(window).scrollLeft())+t("document"==e.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==e.containment?0:t(window).scrollTop())+(t("document"==e.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(e.containment)||e.containment.constructor==Array)e.containment.constructor==Array&&(this.containment=e.containment);else{var i=t(e.containment),n=i[0];if(!n)return;i.offset();var s="hidden"!=t(n).css("overflow");this.containment=[(parseInt(t(n).css("borderLeftWidth"),10)||0)+(parseInt(t(n).css("paddingLeft"),10)||0),(parseInt(t(n).css("borderTopWidth"),10)||0)+(parseInt(t(n).css("paddingTop"),10)||0),(s?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(t(n).css("borderLeftWidth"),10)||0)-(parseInt(t(n).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(s?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(t(n).css("borderTopWidth"),10)||0)-(parseInt(t(n).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i}},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"==e?1:-1,s=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&t.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),a=/(html|body)/i.test(s[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-(t.browser.safari&&t.browser.version<526&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():a?0:s.scrollTop())*n),left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-(t.browser.safari&&t.browser.version<526&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():a?0:s.scrollLeft())*n)}},_generatePosition:function(e){var i=this.options,n="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&t.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(n[0].tagName),a=e.pageX,r=e.pageY;if(this.originalPosition){var o;if(this.containment){if(this.relative_container){var l=this.relative_container.offset();o=[this.containment[0]+l.left,this.containment[1]+l.top,this.containment[2]+l.left,this.containment[3]+l.top]}else o=this.containment;e.pageX-this.offset.click.left<o[0]&&(a=o[0]+this.offset.click.left),e.pageY-this.offset.click.top<o[1]&&(r=o[1]+this.offset.click.top),e.pageX-this.offset.click.left>o[2]&&(a=o[2]+this.offset.click.left),e.pageY-this.offset.click.top>o[3]&&(r=o[3]+this.offset.click.top)}if(i.grid){var c=i.grid[1]?this.originalPageY+Math.round((r-this.originalPageY)/i.grid[1])*i.grid[1]:this.originalPageY;r=o?c-this.offset.click.top<o[1]||c-this.offset.click.top>o[3]?c-this.offset.click.top<o[1]?c+i.grid[1]:c-i.grid[1]:c:c;var h=i.grid[0]?this.originalPageX+Math.round((a-this.originalPageX)/i.grid[0])*i.grid[0]:this.originalPageX;a=o?h-this.offset.click.left<o[0]||h-this.offset.click.left>o[2]?h-this.offset.click.left<o[0]?h+i.grid[0]:h-i.grid[0]:h:h}}return{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(t.browser.safari&&t.browser.version<526&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():s?0:n.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(t.browser.safari&&t.browser.version<526&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():s?0:n.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]==this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,i,n){return n=n||this._uiHash(),t.ui.plugin.call(this,e,[i,n]),"drag"==e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.extend(t.ui.draggable,{version:"1.8.18"}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i){var n=t(this).data("draggable"),s=n.options,a=t.extend({},i,{item:n.element});n.sortables=[],t(s.connectToSortable).each(function(){var i=t.data(this,"sortable");i&&!i.options.disabled&&(n.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",e,a))})},stop:function(e,i){var n=t(this).data("draggable"),s=t.extend({},i,{item:n.element});t.each(n.sortables,function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"==n.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,s))})},drag:function(e,i){var n=t(this).data("draggable"),s=this;t.each(n.sortables,function(){this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(s).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=n.offset.click.top,this.instance.offset.click.left=n.offset.click.left,this.instance.offset.parent.left-=n.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=n.offset.parent.top-this.instance.offset.parent.top,n._trigger("toSortable",e),n.dropped=this.instance.element,n.currentItem=n.element,this.instance.fromOutside=n),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),n._trigger("fromSortable",e),n.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(){var e=t("body"),i=t(this).data("draggable").options;e.css("cursor")&&(i._cursor=e.css("cursor")),e.css("cursor",i.cursor)},stop:function(){var e=t(this).data("draggable").options;e._cursor&&t("body").css("cursor",e._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i){var n=t(i.helper),s=t(this).data("draggable").options;n.css("opacity")&&(s._opacity=n.css("opacity")),n.css("opacity",s.opacity)},stop:function(e,i){var n=t(this).data("draggable").options;n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(){var e=t(this).data("draggable");e.scrollParent[0]!=document&&"HTML"!=e.scrollParent[0].tagName&&(e.overflowOffset=e.scrollParent.offset())},drag:function(e){var i=t(this).data("draggable"),n=i.options,s=!1;i.scrollParent[0]!=document&&"HTML"!=i.scrollParent[0].tagName?(n.axis&&"x"==n.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-e.pageY<n.scrollSensitivity?i.scrollParent[0].scrollTop=s=i.scrollParent[0].scrollTop+n.scrollSpeed:e.pageY-i.overflowOffset.top<n.scrollSensitivity&&(i.scrollParent[0].scrollTop=s=i.scrollParent[0].scrollTop-n.scrollSpeed)),n.axis&&"y"==n.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-e.pageX<n.scrollSensitivity?i.scrollParent[0].scrollLeft=s=i.scrollParent[0].scrollLeft+n.scrollSpeed:e.pageX-i.overflowOffset.left<n.scrollSensitivity&&(i.scrollParent[0].scrollLeft=s=i.scrollParent[0].scrollLeft-n.scrollSpeed))):(n.axis&&"x"==n.axis||(e.pageY-t(document).scrollTop()<n.scrollSensitivity?s=t(document).scrollTop(t(document).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<n.scrollSensitivity&&(s=t(document).scrollTop(t(document).scrollTop()+n.scrollSpeed))),n.axis&&"y"==n.axis||(e.pageX-t(document).scrollLeft()<n.scrollSensitivity?s=t(document).scrollLeft(t(document).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<n.scrollSensitivity&&(s=t(document).scrollLeft(t(document).scrollLeft()+n.scrollSpeed)))),s!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(){var e=t(this).data("draggable"),i=e.options;e.snapElements=[],t(i.snap.constructor!=String?i.snap.items||":data(draggable)":i.snap).each(function(){var i=t(this),n=i.offset();this!=e.element[0]&&e.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:n.top,left:n.left})})},drag:function(e,i){for(var n=t(this).data("draggable"),s=n.options,a=s.snapTolerance,r=i.offset.left,o=r+n.helperProportions.width,l=i.offset.top,c=l+n.helperProportions.height,h=n.snapElements.length-1;h>=0;h--){var u=n.snapElements[h].left,d=u+n.snapElements[h].width,f=n.snapElements[h].top,p=f+n.snapElements[h].height;if(r>u-a&&d+a>r&&l>f-a&&p+a>l||r>u-a&&d+a>r&&c>f-a&&p+a>c||o>u-a&&d+a>o&&l>f-a&&p+a>l||o>u-a&&d+a>o&&c>f-a&&p+a>c){if("inner"!=s.snapMode){var g=Math.abs(f-c)<=a,m=Math.abs(p-l)<=a,v=Math.abs(u-o)<=a,b=Math.abs(d-r)<=a;g&&(i.position.top=n._convertPositionTo("relative",{top:f-n.helperProportions.height,left:0}).top-n.margins.top),m&&(i.position.top=n._convertPositionTo("relative",{top:p,left:0}).top-n.margins.top),v&&(i.position.left=n._convertPositionTo("relative",{top:0,left:u-n.helperProportions.width}).left-n.margins.left),b&&(i.position.left=n._convertPositionTo("relative",{top:0,left:d}).left-n.margins.left)}var y=g||m||v||b;if("outer"!=s.snapMode){var g=Math.abs(f-l)<=a,m=Math.abs(p-c)<=a,v=Math.abs(u-r)<=a,b=Math.abs(d-o)<=a;g&&(i.position.top=n._convertPositionTo("relative",{top:f,left:0}).top-n.margins.top),m&&(i.position.top=n._convertPositionTo("relative",{top:p-n.helperProportions.height,left:0}).top-n.margins.top),v&&(i.position.left=n._convertPositionTo("relative",{top:0,left:u}).left-n.margins.left),b&&(i.position.left=n._convertPositionTo("relative",{top:0,left:d-n.helperProportions.width}).left-n.margins.left)}!n.snapElements[h].snapping&&(g||m||v||b||y)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[h].item})),n.snapElements[h].snapping=g||m||v||b||y}else n.snapElements[h].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[h].item})),n.snapElements[h].snapping=!1}}}),t.ui.plugin.add("draggable","stack",{start:function(){var e=t(this).data("draggable").options,i=t.makeArray(t(e.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});if(i.length){var n=parseInt(i[0].style.zIndex)||0;t(i).each(function(t){this.style.zIndex=n+t}),this[0].style.zIndex=n+i.length}}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i){var n=t(i.helper),s=t(this).data("draggable").options;n.css("zIndex")&&(s._zIndex=n.css("zIndex")),n.css("zIndex",s.zIndex)},stop:function(e,i){var n=t(this).data("draggable").options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}})}(jQuery),/*
 * jQuery UI Droppable 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Droppables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.mouse.js
 *	jquery.ui.draggable.js
 */
function(t){t.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var e=this.options,i=e.accept;this.isover=0,this.isout=1,this.accept=t.isFunction(i)?i:function(t){return t.is(i)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},t.ui.ddmanager.droppables[e.scope]=t.ui.ddmanager.droppables[e.scope]||[],t.ui.ddmanager.droppables[e.scope].push(this),e.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var e=t.ui.ddmanager.droppables[this.options.scope],i=0;i<e.length;i++)e[i]==this&&e.splice(i,1);return this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable"),this},_setOption:function(e,i){"accept"==e&&(this.accept=t.isFunction(i)?i:function(t){return t.is(i)}),t.Widget.prototype._setOption.apply(this,arguments)},_activate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!=this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!=this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var n=i||t.ui.ddmanager.current;if(!n||(n.currentItem||n.element)[0]==this.element[0])return!1;var s=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var e=t.data(this,"droppable");return e.options.greedy&&!e.options.disabled&&e.options.scope==n.options.scope&&e.accept.call(e.element[0],n.currentItem||n.element)&&t.ui.intersect(n,t.extend(e,{offset:e.element.offset()}),e.options.tolerance)?(s=!0,!1):void 0}),s?!1:this.accept.call(this.element[0],n.currentItem||n.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(n)),this.element):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.extend(t.ui.droppable,{version:"1.8.18"}),t.ui.intersect=function(e,i,n){if(!i.offset)return!1;var s=(e.positionAbs||e.position.absolute).left,a=s+e.helperProportions.width,r=(e.positionAbs||e.position.absolute).top,o=r+e.helperProportions.height,l=i.offset.left,c=l+i.proportions.width,h=i.offset.top,u=h+i.proportions.height;switch(n){case"fit":return s>=l&&c>=a&&r>=h&&u>=o;case"intersect":return l<s+e.helperProportions.width/2&&a-e.helperProportions.width/2<c&&h<r+e.helperProportions.height/2&&o-e.helperProportions.height/2<u;case"pointer":var d=(e.positionAbs||e.position.absolute).left+(e.clickOffset||e.offset.click).left,f=(e.positionAbs||e.position.absolute).top+(e.clickOffset||e.offset.click).top,p=t.ui.isOver(f,d,h,l,i.proportions.height,i.proportions.width);return p;case"touch":return(r>=h&&u>=r||o>=h&&u>=o||h>r&&o>u)&&(s>=l&&c>=s||a>=l&&c>=a||l>s&&a>c);default:return!1}},t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var n=t.ui.ddmanager.droppables[e.options.scope]||[],s=i?i.type:null,a=(e.currentItem||e.element).find(":data(droppable)").andSelf();t:for(var r=0;r<n.length;r++)if(!(n[r].options.disabled||e&&!n[r].accept.call(n[r].element[0],e.currentItem||e.element))){for(var o=0;o<a.length;o++)if(a[o]==n[r].element[0]){n[r].proportions.height=0;continue t}n[r].visible="none"!=n[r].element.css("display"),n[r].visible&&("mousedown"==s&&n[r]._activate.call(n[r],i),n[r].offset=n[r].element.offset(),n[r].proportions={width:n[r].element[0].offsetWidth,height:n[r].element[0].offsetHeight})}},drop:function(e,i){var n=!1;return t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,i)))}),n},dragStart:function(e,i){e.element.parents(":not(body,html)").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n=t.ui.intersect(e,this,this.options.tolerance),s=n||1!=this.isover?n&&0==this.isover?"isover":null:"isout";if(s){var a;if(this.options.greedy){var r=this.element.parents(":data(droppable):eq(0)");r.length&&(a=t.data(r[0],"droppable"),a.greedyChild="isover"==s?1:0)}a&&"isover"==s&&(a.isover=0,a.isout=1,a._out.call(a,i)),this[s]=1,this["isout"==s?"isover":"isout"]=0,this["isover"==s?"_over":"_out"].call(this,i),a&&"isout"==s&&(a.isout=0,a.isover=1,a._over.call(a,i))}}})},dragStop:function(e,i){e.element.parents(":not(body,html)").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}}}(jQuery),/*
 * jQuery UI Resizable 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Resizables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(t){t.widget("ui.resizable",t.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var e=this,i=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=i.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var n=this.handles.split(",");this.handles={};for(var s=0;s<n.length;s++){var a=t.trim(n[s]),r="ui-resizable-"+a,o=t('<div class="ui-resizable-handle '+r+'"></div>');/sw|se|ne|nw/.test(a)&&o.css({zIndex:++i.zIndex}),"se"==a&&o.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[a]=".ui-resizable-"+a,this.element.append(o)}}this._renderAxis=function(e){e=e||this.element;for(var i in this.handles){if(this.handles[i].constructor==String&&(this.handles[i]=t(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var n=t(this.handles[i],this.element),s=0;s=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth();var a=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join("");e.css(a,s),this._proportionallyResize()}t(this.handles[i]).length}},this._renderAxis(this.element),this._handles=t(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!e.resizing){if(this.className)var t=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);e.axis=t&&t[1]?t[1]:"se"}}),i.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").hover(function(){i.disabled||(t(this).removeClass("ui-resizable-autohide"),e._handles.show())},function(){i.disabled||e.resizing||(t(this).addClass("ui-resizable-autohide"),e._handles.hide())})),this._mouseInit()},destroy:function(){this._mouseDestroy();var e=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){e(this.element);var i=this.element;i.after(this.originalElement.css({position:i.css("position"),width:i.outerWidth(),height:i.outerHeight(),top:i.css("top"),left:i.css("left")})).remove()}return this.originalElement.css("resize",this.originalResizeStyle),e(this.originalElement),this},_mouseCapture:function(e){var i=!1;for(var n in this.handles)t(this.handles[n])[0]==e.target&&(i=!0);return!this.options.disabled&&i},_mouseStart:function(i){var n=this.options,s=this.element.position(),a=this.element;this.resizing=!0,this.documentScroll={top:t(document).scrollTop(),left:t(document).scrollLeft()},(a.is(".ui-draggable")||/absolute/.test(a.css("position")))&&a.css({position:"absolute",top:s.top,left:s.left}),this._renderProxy();var r=e(this.helper.css("left")),o=e(this.helper.css("top"));n.containment&&(r+=t(n.containment).scrollLeft()||0,o+=t(n.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:r,top:o},this.size=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.originalPosition={left:r,top:o},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalMousePosition={left:i.pageX,top:i.pageY},this.aspectRatio="number"==typeof n.aspectRatio?n.aspectRatio:this.originalSize.width/this.originalSize.height||1;var l=t(".ui-resizable-"+this.axis).css("cursor");return t("body").css("cursor","auto"==l?this.axis+"-resize":l),a.addClass("ui-resizable-resizing"),this._propagate("start",i),!0},_mouseDrag:function(e){var i=this.helper,n=(this.options,this.originalMousePosition),s=this.axis,a=e.pageX-n.left||0,r=e.pageY-n.top||0,o=this._change[s];if(!o)return!1;var l=o.apply(this,[e,a,r]);return t.browser.msie&&t.browser.version<7,this.sizeDiff,this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(l=this._updateRatio(l,e)),l=this._respectSize(l,e),this._propagate("resize",e),i.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(l),this._trigger("resize",e,this.ui()),!1},_mouseStop:function(e){this.resizing=!1;var i=this.options,n=this;if(this._helper){var s=this._proportionallyResizeElements,a=s.length&&/textarea/i.test(s[0].nodeName),r=a&&t.ui.hasScroll(s[0],"left")?0:n.sizeDiff.height,o=a?0:n.sizeDiff.width,l={width:n.helper.width()-o,height:n.helper.height()-r},c=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,h=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;i.animate||this.element.css(t.extend(l,{top:h,left:c})),n.helper.height(n.size.height),n.helper.width(n.size.width),this._helper&&!i.animate&&this._proportionallyResize()}return t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(t){var e,n,s,a,r,o=this.options;r={minWidth:i(o.minWidth)?o.minWidth:0,maxWidth:i(o.maxWidth)?o.maxWidth:1/0,minHeight:i(o.minHeight)?o.minHeight:0,maxHeight:i(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||t)&&(e=r.minHeight*this.aspectRatio,s=r.minWidth/this.aspectRatio,n=r.maxHeight*this.aspectRatio,a=r.maxWidth/this.aspectRatio,e>r.minWidth&&(r.minWidth=e),s>r.minHeight&&(r.minHeight=s),n<r.maxWidth&&(r.maxWidth=n),a<r.maxHeight&&(r.maxHeight=a)),this._vBoundaries=r},_updateCache:function(t){this.options,this.offset=this.helper.offset(),i(t.left)&&(this.position.left=t.left),i(t.top)&&(this.position.top=t.top),i(t.height)&&(this.size.height=t.height),i(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=(this.options,this.position),n=this.size,s=this.axis;return i(t.height)?t.width=t.height*this.aspectRatio:i(t.width)&&(t.height=t.width/this.aspectRatio),"sw"==s&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"==s&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t,e){var n=(this.helper,this._vBoundaries),s=(this._aspectRatio||e.shiftKey,this.axis),a=i(t.width)&&n.maxWidth&&n.maxWidth<t.width,r=i(t.height)&&n.maxHeight&&n.maxHeight<t.height,o=i(t.width)&&n.minWidth&&n.minWidth>t.width,l=i(t.height)&&n.minHeight&&n.minHeight>t.height;o&&(t.width=n.minWidth),l&&(t.height=n.minHeight),a&&(t.width=n.maxWidth),r&&(t.height=n.maxHeight);var c=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,u=/sw|nw|w/.test(s),d=/nw|ne|n/.test(s);o&&u&&(t.left=c-n.minWidth),a&&u&&(t.left=c-n.maxWidth),l&&d&&(t.top=h-n.minHeight),r&&d&&(t.top=h-n.maxHeight);var f=!t.width&&!t.height;return f&&!t.left&&t.top?t.top=null:f&&!t.top&&t.left&&(t.left=null),t},_proportionallyResize:function(){if(this.options,this._proportionallyResizeElements.length)for(var e=this.helper||this.element,i=0;i<this._proportionallyResizeElements.length;i++){var n=this._proportionallyResizeElements[i];if(!this.borderDif){var s=[n.css("borderTopWidth"),n.css("borderRightWidth"),n.css("borderBottomWidth"),n.css("borderLeftWidth")],a=[n.css("paddingTop"),n.css("paddingRight"),n.css("paddingBottom"),n.css("paddingLeft")];this.borderDif=t.map(s,function(t,e){var i=parseInt(t,10)||0,n=parseInt(a[e],10)||0;return i+n})}t.browser.msie&&(t(e).is(":hidden")||t(e).parents(":hidden").length)||n.css({height:e.height()-this.borderDif[0]-this.borderDif[2]||0,width:e.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var e=this.element,i=this.options;if(this.elementOffset=e.offset(),this._helper){this.helper=this.helper||t('<div style="overflow:hidden;"></div>');var n=t.browser.msie&&t.browser.version<7,s=n?1:0,a=n?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+a,height:this.element.outerHeight()+a,position:"absolute",left:this.elementOffset.left-s+"px",top:this.elementOffset.top-s+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=(this.options,this.originalSize),n=this.originalPosition;return{left:n.left+e,width:i.width-e}},n:function(t,e,i){var n=(this.options,this.originalSize),s=this.originalPosition;return{top:s.top+i,height:n.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},sw:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,n]))},ne:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},nw:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,n]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!=e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.extend(t.ui.resizable,{version:"1.8.18"}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).data("resizable"),i=e.options,n=function(e){t(e).each(function(){var e=t(this);e.data("resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?n(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],n(i.alsoResize)):t.each(i.alsoResize,function(t){n(t)})},resize:function(e,i){var n=t(this).data("resizable"),s=n.options,a=n.originalSize,r=n.originalPosition,o={height:n.size.height-a.height||0,width:n.size.width-a.width||0,top:n.position.top-r.top||0,left:n.position.left-r.left||0},l=function(e,n){t(e).each(function(){var e=t(this),s=t(this).data("resizable-alsoresize"),a={},r=n&&n.length?n:e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(r,function(t,e){var i=(s[e]||0)+(o[e]||0);i&&i>=0&&(a[e]=i||null)}),e.css(a)})};"object"!=typeof s.alsoResize||s.alsoResize.nodeType?l(s.alsoResize):t.each(s.alsoResize,function(t,e){l(t,e)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).data("resizable"),n=i.options,s=i._proportionallyResizeElements,a=s.length&&/textarea/i.test(s[0].nodeName),r=a&&t.ui.hasScroll(s[0],"left")?0:i.sizeDiff.height,o=a?0:i.sizeDiff.width,l={width:i.size.width-o,height:i.size.height-r},c=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,h=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(l,h&&c?{top:h,left:c}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};s&&s.length&&t(s[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var i=t(this).data("resizable"),n=i.options,s=i.element,a=n.containment,r=a instanceof t?a.get(0):/parent/.test(a)?s.parent().get(0):a;if(r)if(i.containerElement=t(r),/document/.test(a)||a==document)i.containerOffset={left:0,top:0},i.containerPosition={left:0,top:0},i.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight};else{var o=t(r),l=[];t(["Top","Right","Left","Bottom"]).each(function(t,i){l[t]=e(o.css("padding"+i))}),i.containerOffset=o.offset(),i.containerPosition=o.position(),i.containerSize={height:o.innerHeight()-l[3],width:o.innerWidth()-l[1]};var c=i.containerOffset,h=i.containerSize.height,u=i.containerSize.width,d=t.ui.hasScroll(r,"left")?r.scrollWidth:u,f=t.ui.hasScroll(r)?r.scrollHeight:h;i.parentData={element:r,left:c.left,top:c.top,width:d,height:f}}},resize:function(e){var i=t(this).data("resizable"),n=i.options,s=(i.containerSize,i.containerOffset),a=(i.size,i.position),r=i._aspectRatio||e.shiftKey,o={top:0,left:0},l=i.containerElement;l[0]!=document&&/static/.test(l.css("position"))&&(o=s),a.left<(i._helper?s.left:0)&&(i.size.width=i.size.width+(i._helper?i.position.left-s.left:i.position.left-o.left),r&&(i.size.height=i.size.width/n.aspectRatio),i.position.left=n.helper?s.left:0),a.top<(i._helper?s.top:0)&&(i.size.height=i.size.height+(i._helper?i.position.top-s.top:i.position.top),r&&(i.size.width=i.size.height*n.aspectRatio),i.position.top=i._helper?s.top:0),i.offset.left=i.parentData.left+i.position.left,i.offset.top=i.parentData.top+i.position.top;var c=Math.abs((i._helper?i.offset.left-o.left:i.offset.left-o.left)+i.sizeDiff.width),h=Math.abs((i._helper?i.offset.top-o.top:i.offset.top-s.top)+i.sizeDiff.height),u=i.containerElement.get(0)==i.element.parent().get(0),d=/relative|absolute/.test(i.containerElement.css("position"));u&&d&&(c-=i.parentData.left),c+i.size.width>=i.parentData.width&&(i.size.width=i.parentData.width-c,r&&(i.size.height=i.size.width/i.aspectRatio)),h+i.size.height>=i.parentData.height&&(i.size.height=i.parentData.height-h,r&&(i.size.width=i.size.height*i.aspectRatio))},stop:function(){var e=t(this).data("resizable"),i=e.options,n=(e.position,e.containerOffset),s=e.containerPosition,a=e.containerElement,r=t(e.helper),o=r.offset(),l=r.outerWidth()-e.sizeDiff.width,c=r.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(a.css("position"))&&t(this).css({left:o.left-s.left-n.left,width:l,height:c}),e._helper&&!i.animate&&/static/.test(a.css("position"))&&t(this).css({left:o.left-s.left-n.left,width:l,height:c})}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).data("resizable"),i=e.options,n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).data("resizable");e.options,e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).data("resizable");e.options,e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(e){var i=t(this).data("resizable"),n=i.options,s=i.size,a=i.originalSize,r=i.originalPosition,o=i.axis;n._aspectRatio||e.shiftKey,n.grid="number"==typeof n.grid?[n.grid,n.grid]:n.grid;var l=Math.round((s.width-a.width)/(n.grid[0]||1))*(n.grid[0]||1),c=Math.round((s.height-a.height)/(n.grid[1]||1))*(n.grid[1]||1);/^(se|s|e)$/.test(o)?(i.size.width=a.width+l,i.size.height=a.height+c):/^(ne)$/.test(o)?(i.size.width=a.width+l,i.size.height=a.height+c,i.position.top=r.top-c):/^(sw)$/.test(o)?(i.size.width=a.width+l,i.size.height=a.height+c,i.position.left=r.left-l):(i.size.width=a.width+l,i.size.height=a.height+c,i.position.top=r.top-c,i.position.left=r.left-l)}});var e=function(t){return parseInt(t,10)||0},i=function(t){return!isNaN(parseInt(t,10))}}(jQuery),/*
 * jQuery UI Selectable 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Selectables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(t){t.widget("ui.selectable",t.ui.mouse,{options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var e=this;this.element.addClass("ui-selectable"),this.dragged=!1;var i;this.refresh=function(){i=t(e.options.filter,e.element[0]),i.addClass("ui-selectee"),i.each(function(){var e=t(this),i=e.offset();t.data(this,"selectable-item",{element:this,$element:e,left:i.left,top:i.top,right:i.left+e.outerWidth(),bottom:i.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=i.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},destroy:function(){return this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable"),this._mouseDestroy(),this},_mouseStart:function(e){var i=this;if(this.opos=[e.pageX,e.pageY],!this.options.disabled){var n=this.options;this.selectees=t(n.filter,this.element[0]),this._trigger("start",e),t(n.appendTo).append(this.helper),this.helper.css({left:e.clientX,top:e.clientY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=t.data(this,"selectable-item");n.startselected=!0,e.metaKey||e.ctrlKey||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element}))}),t(e.target).parents().andSelf().each(function(){var n=t.data(this,"selectable-item");if(n){var s=!e.metaKey&&!e.ctrlKey||!n.$element.hasClass("ui-selected");return n.$element.removeClass(s?"ui-unselecting":"ui-selected").addClass(s?"ui-selecting":"ui-unselecting"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger("selecting",e,{selecting:n.element}):i._trigger("unselecting",e,{unselecting:n.element}),!1}})}},_mouseDrag:function(e){var i=this;if(this.dragged=!0,!this.options.disabled){var n=this.options,s=this.opos[0],a=this.opos[1],r=e.pageX,o=e.pageY;if(s>r){var l=r;r=s,s=l}if(a>o){var l=o;o=a,a=l}return this.helper.css({left:s,top:a,width:r-s,height:o-a}),this.selectees.each(function(){var l=t.data(this,"selectable-item");if(l&&l.element!=i.element[0]){var c=!1;"touch"==n.tolerance?c=!(l.left>r||l.right<s||l.top>o||l.bottom<a):"fit"==n.tolerance&&(c=l.left>s&&l.right<r&&l.top>a&&l.bottom<o),c?(l.selected&&(l.$element.removeClass("ui-selected"),l.selected=!1),l.unselecting&&(l.$element.removeClass("ui-unselecting"),l.unselecting=!1),l.selecting||(l.$element.addClass("ui-selecting"),l.selecting=!0,i._trigger("selecting",e,{selecting:l.element}))):(l.selecting&&((e.metaKey||e.ctrlKey)&&l.startselected?(l.$element.removeClass("ui-selecting"),l.selecting=!1,l.$element.addClass("ui-selected"),l.selected=!0):(l.$element.removeClass("ui-selecting"),l.selecting=!1,l.startselected&&(l.$element.addClass("ui-unselecting"),l.unselecting=!0),i._trigger("unselecting",e,{unselecting:l.element}))),l.selected&&(e.metaKey||e.ctrlKey||l.startselected||(l.$element.removeClass("ui-selected"),l.selected=!1,l.$element.addClass("ui-unselecting"),l.unselecting=!0,i._trigger("unselecting",e,{unselecting:l.element}))))}}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,this.options,t(".ui-unselecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");n.$element.removeClass("ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",e,{unselected:n.element})}),t(".ui-selecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");n.$element.removeClass("ui-selecting").addClass("ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",e,{selected:n.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.extend(t.ui.selectable,{version:"1.8.18"})}(jQuery),/*
 * jQuery UI Sortable 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Sortables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(t){t.widget("ui.sortable",t.ui.mouse,{widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===t.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},destroy:function(){t.Widget.prototype.destroy.call(this),this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(e,i){"disabled"===e?(this.options[e]=i,this.widget()[i?"addClass":"removeClass"]("ui-sortable-disabled")):t.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,i){var n=this;if(this.reverting)return!1;if(this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(e);var s=null,a=this;if(t(e.target).parents().each(function(){return t.data(this,n.widgetName+"-item")==a?(s=t(this),!1):void 0}),t.data(e.target,n.widgetName+"-item")==a&&(s=t(e.target)),!s)return!1;if(this.options.handle&&!i){var r=!1;if(t(this.options.handle,s).find("*").andSelf().each(function(){this==e.target&&(r=!0)}),!r)return!1}return this.currentItem=s,this._removeCurrentsFromItems(),!0},_mouseStart:function(e,i,n){var s=this.options,a=this;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&(t("body").css("cursor")&&(this._storedCursor=t("body").css("cursor")),t("body").css("cursor",s.cursor)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(var r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,a._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){if(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll){var i=this.options,n=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<i.scrollSensitivity?this.scrollParent[0].scrollTop=n=this.scrollParent[0].scrollTop+i.scrollSpeed:e.pageY-this.overflowOffset.top<i.scrollSensitivity&&(this.scrollParent[0].scrollTop=n=this.scrollParent[0].scrollTop-i.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<i.scrollSensitivity?this.scrollParent[0].scrollLeft=n=this.scrollParent[0].scrollLeft+i.scrollSpeed:e.pageX-this.overflowOffset.left<i.scrollSensitivity&&(this.scrollParent[0].scrollLeft=n=this.scrollParent[0].scrollLeft-i.scrollSpeed)):(e.pageY-t(document).scrollTop()<i.scrollSensitivity?n=t(document).scrollTop(t(document).scrollTop()-i.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<i.scrollSensitivity&&(n=t(document).scrollTop(t(document).scrollTop()+i.scrollSpeed)),e.pageX-t(document).scrollLeft()<i.scrollSensitivity?n=t(document).scrollLeft(t(document).scrollLeft()-i.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<i.scrollSensitivity&&(n=t(document).scrollLeft(t(document).scrollLeft()+i.scrollSpeed))),n!==!1&&t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)}this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(var s=this.items.length-1;s>=0;s--){var a=this.items[s],r=a.item[0],o=this._intersectsWithPointer(a);if(o&&r!=this.currentItem[0]&&this.placeholder[1==o?"next":"prev"]()[0]!=r&&!t.ui.contains(this.placeholder[0],r)&&("semi-dynamic"==this.options.type?!t.ui.contains(this.element[0],r):!0)){if(this.direction=1==o?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(a))break;this._rearrange(e,a),this._trigger("change",e,this._uiHash());break}}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var n=this,s=n.placeholder.offset();n.reverting=!0,t(this.helper).animate({left:s.left-this.offset.parent.left-n.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:s.top-this.offset.parent.top-n.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){n._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){var e=this;if(this.dragging){this._mouseUp({target:null}),"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger("deactivate",null,e._uiHash(this)),this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",null,e._uiHash(this)),this.containers[i].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[-=_](.+)/);i&&n.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},i.each(function(){n.push(t(e.item||this).attr(e.attribute||"id")||"")}),n},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,s=n+this.helperProportions.height,a=t.left,r=a+t.width,o=t.top,l=o+t.height,c=this.offset.click.top,h=this.offset.click.left,u=n+c>o&&l>n+c&&e+h>a&&r>e+h;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?u:a<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<r&&o<n+this.helperProportions.height/2&&s-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var i=t.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),n=t.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),s=i&&n,a=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return s?this.floating?r&&"right"==r||"down"==a?2:1:a&&("down"==a?2:1):!1},_intersectsWithSides:function(e){var i=t.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=t.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),s=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return this.floating&&a?"right"==a&&n||"left"==a&&!n:s&&("down"==s&&i||"up"==s&&!i)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!=t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!=t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor==String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var i=[],n=[],s=this._connectWith();if(s&&e)for(var a=s.length-1;a>=0;a--)for(var r=t(s[a]),o=r.length-1;o>=0;o--){var l=t.data(r[o],this.widgetName);l&&l!=this&&!l.options.disabled&&n.push([t.isFunction(l.options.items)?l.options.items.call(l.element):t(l.options.items,l.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),l])}n.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var a=n.length-1;a>=0;a--)n[a][0].each(function(){i.push(this)});return t(i)},_removeCurrentsFromItems:function(){for(var t=this.currentItem.find(":data("+this.widgetName+"-item)"),e=0;e<this.items.length;e++)for(var i=0;i<t.length;i++)t[i]==this.items[e].item[0]&&this.items.splice(e,1)},_refreshItems:function(e){this.items=[],this.containers=[this];var i=this.items,n=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],s=this._connectWith();if(s&&this.ready)for(var a=s.length-1;a>=0;a--)for(var r=t(s[a]),o=r.length-1;o>=0;o--){var l=t.data(r[o],this.widgetName);l&&l!=this&&!l.options.disabled&&(n.push([t.isFunction(l.options.items)?l.options.items.call(l.element[0],e,{item:this.currentItem}):t(l.options.items,l.element),l]),this.containers.push(l))}for(var a=n.length-1;a>=0;a--)for(var c=n[a][1],h=n[a][0],o=0,u=h.length;u>o;o++){var d=t(h[o]);d.data(this.widgetName+"-item",c),i.push({item:d,instance:c,width:0,height:0,left:0,top:0})}},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var i=this.items.length-1;i>=0;i--){var n=this.items[i];if(n.instance==this.currentContainer||!this.currentContainer||n.item[0]==this.currentItem[0]){var s=this.options.toleranceElement?t(this.options.toleranceElement,n.item):n.item;e||(n.width=s.outerWidth(),n.height=s.outerHeight());var a=s.offset();n.left=a.left,n.top=a.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(var i=this.containers.length-1;i>=0;i--){var a=this.containers[i].element.offset();this.containers[i].containerCache.left=a.left,this.containers[i].containerCache.top=a.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight()}return this},_createPlaceholder:function(e){var i=e||this,n=i.options;if(!n.placeholder||n.placeholder.constructor==String){var s=n.placeholder;n.placeholder={element:function(){var e=t(document.createElement(i.currentItem[0].nodeName)).addClass(s||i.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return s||(e.style.visibility="hidden"),e},update:function(t,e){(!s||n.forcePlaceholderSize)&&(e.height()||e.height(i.currentItem.innerHeight()-parseInt(i.currentItem.css("paddingTop")||0,10)-parseInt(i.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(i.currentItem.innerWidth()-parseInt(i.currentItem.css("paddingLeft")||0,10)-parseInt(i.currentItem.css("paddingRight")||0,10)))}}}i.placeholder=t(n.placeholder.element.call(i.element,i.currentItem)),i.currentItem.after(i.placeholder),n.placeholder.update(i,i.placeholder)},_contactContainers:function(e){for(var i=null,n=null,s=this.containers.length-1;s>=0;s--)if(!t.ui.contains(this.currentItem[0],this.containers[s].element[0]))if(this._intersectsWith(this.containers[s].containerCache)){if(i&&t.ui.contains(this.containers[s].element[0],i.element[0]))continue;i=this.containers[s],n=s}else this.containers[s].containerCache.over&&(this.containers[s]._trigger("out",e,this._uiHash(this)),this.containers[s].containerCache.over=0);if(i)if(1===this.containers.length)this.containers[n]._trigger("over",e,this._uiHash(this)),this.containers[n].containerCache.over=1;else if(this.currentContainer!=this.containers[n]){for(var a=1e4,r=null,o=this.positionAbs[this.containers[n].floating?"left":"top"],l=this.items.length-1;l>=0;l--)if(t.ui.contains(this.containers[n].element[0],this.items[l].item[0])){var c=this.items[l][this.containers[n].floating?"left":"top"];Math.abs(c-o)<a&&(a=Math.abs(c-o),r=this.items[l])}if(!r&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[n],r?this._rearrange(e,r,null,!0):this._rearrange(e,null,this.containers[n].element,!0),this._trigger("change",e,this._uiHash()),this.containers[n]._trigger("change",e,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[n]._trigger("over",e,this._uiHash(this)),this.containers[n].containerCache.over=1}},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"==i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||t("parent"!=i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(""==n[0].style.width||i.forceHelperSize)&&n.width(this.currentItem.width()),(""==n[0].style.height||i.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&t.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&t.browser.msie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e=this.options;if("parent"==e.containment&&(e.containment=this.helper[0].parentNode),("document"==e.containment||"window"==e.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"==e.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"==e.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),!/^(document|window|parent)$/.test(e.containment)){var i=t(e.containment)[0],n=t(e.containment).offset(),s="hidden"!=t(i).css("overflow");this.containment=[n.left+(parseInt(t(i).css("borderLeftWidth"),10)||0)+(parseInt(t(i).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(i).css("borderTopWidth"),10)||0)+(parseInt(t(i).css("paddingTop"),10)||0)-this.margins.top,n.left+(s?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(t(i).css("borderLeftWidth"),10)||0)-(parseInt(t(i).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(s?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(t(i).css("borderTopWidth"),10)||0)-(parseInt(t(i).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"==e?1:-1,s=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&t.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),a=/(html|body)/i.test(s[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-(t.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():a?0:s.scrollTop())*n),left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-(t.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():a?0:s.scrollLeft())*n)}},_generatePosition:function(e){var i=this.options,n="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&t.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(n[0].tagName);"relative"!=this.cssPosition||this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());var a=e.pageX,r=e.pageY;if(this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(a=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(a=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),i.grid)){var o=this.originalPageY+Math.round((r-this.originalPageY)/i.grid[1])*i.grid[1];r=this.containment?o-this.offset.click.top<this.containment[1]||o-this.offset.click.top>this.containment[3]?o-this.offset.click.top<this.containment[1]?o+i.grid[1]:o-i.grid[1]:o:o;var l=this.originalPageX+Math.round((a-this.originalPageX)/i.grid[0])*i.grid[0];a=this.containment?l-this.offset.click.left<this.containment[0]||l-this.offset.click.left>this.containment[2]?l-this.offset.click.left<this.containment[0]?l+i.grid[0]:l-i.grid[0]:l:l}return{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(t.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():s?0:n.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(t.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():s?0:n.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var s=this,a=this.counter;window.setTimeout(function(){a==s.counter&&s.refreshPositions(!n)},0)},_clear:function(e,i){this.reverting=!1;var n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(var s in this._storedCSS)("auto"==this._storedCSS[s]||"static"==this._storedCSS[s])&&(this._storedCSS[s]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();if(this.fromOutside&&!i&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev==this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent==this.currentItem.parent()[0]||i||n.push(function(t){this._trigger("update",t,this._uiHash())}),!t.ui.contains(this.element[0],this.currentItem[0])){i||n.push(function(t){this._trigger("remove",t,this._uiHash())});for(var s=this.containers.length-1;s>=0;s--)t.ui.contains(this.containers[s].element[0],this.currentItem[0])&&!i&&(n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.containers[s])),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.containers[s])))}for(var s=this.containers.length-1;s>=0;s--)i||n.push(function(t){return function(e){t._trigger("deactivate",e,this._uiHash(this))}}.call(this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(function(t){return function(e){t._trigger("out",e,this._uiHash(this))}}.call(this,this.containers[s])),this.containers[s].containerCache.over=0);if(this._storedCursor&&t("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!i){this._trigger("beforeStop",e,this._uiHash());for(var s=0;s<n.length;s++)n[s].call(this,e);this._trigger("stop",e,this._uiHash())}return!1}if(i||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!i){for(var s=0;s<n.length;s++)n[s].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}}),t.extend(t.ui.sortable,{version:"1.8.18"})}(jQuery),jQuery.effects||function(t,e){function i(e){var i;return e&&e.constructor==Array&&3==e.length?e:(i=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(e))?[parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10)]:(i=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(e))?[2.55*parseFloat(i[1]),2.55*parseFloat(i[2]),2.55*parseFloat(i[3])]:(i=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e))?[parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16)]:(i=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(e))?[parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16)]:(i=/rgba\(0, 0, 0, 0\)/.exec(e))?c.transparent:c[t.trim(e).toLowerCase()]}function n(e,n){var s;do{if(s=t.curCSS(e,n),""!=s&&"transparent"!=s||t.nodeName(e,"body"))break;n="backgroundColor"}while(e=e.parentNode);return i(s)}function s(){var t,e,i=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,n={};if(i&&i.length&&i[0]&&i[i[0]])for(var s=i.length;s--;)t=i[s],"string"==typeof i[t]&&(e=t.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()}),n[e]=i[t]);else for(t in i)"string"==typeof i[t]&&(n[t]=i[t]);return n}function a(e){var i,n;for(i in e)n=e[i],(null==n||t.isFunction(n)||i in u||/scrollbar/.test(i)||!/color/i.test(i)&&isNaN(parseFloat(n)))&&delete e[i];return e}function r(t,e){var i,n={_:0};for(i in e)t[i]!=e[i]&&(n[i]=e[i]);return n}function o(e,i,n,s){return"object"==typeof e&&(s=i,n=null,i=e,e=i.effect),t.isFunction(i)&&(s=i,n=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(s=n,n=i,i={}),t.isFunction(n)&&(s=n,n=null),i=i||{},n=n||i.duration,n=t.fx.off?0:"number"==typeof n?n:n in t.fx.speeds?t.fx.speeds[n]:t.fx.speeds._default,s=s||i.complete,[e,i,n,s]}function l(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects[e]?!1:!0}t.effects={},t.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(e,s){t.fx.step[s]=function(t){t.colorInit||(t.start=n(t.elem,s),t.end=i(t.end),t.colorInit=!0),t.elem.style[s]="rgb("+Math.max(Math.min(parseInt(t.pos*(t.end[0]-t.start[0])+t.start[0],10),255),0)+","+Math.max(Math.min(parseInt(t.pos*(t.end[1]-t.start[1])+t.start[1],10),255),0)+","+Math.max(Math.min(parseInt(t.pos*(t.end[2]-t.start[2])+t.start[2],10),255),0)+")"}});var c={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},h=["add","remove","toggle"],u={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.effects.animateClass=function(e,i,n,o){return t.isFunction(n)&&(o=n,n=null),this.queue(function(){var l,c=t(this),u=c.attr("style")||" ",d=a(s.call(this)),f=c.attr("class");t.each(h,function(t,i){e[i]&&c[i+"Class"](e[i])}),l=a(s.call(this)),c.attr("class",f),c.animate(r(d,l),{queue:!1,duration:i,easing:n,complete:function(){t.each(h,function(t,i){e[i]&&c[i+"Class"](e[i])}),"object"==typeof c.attr("style")?(c.attr("style").cssText="",c.attr("style").cssText=u):c.attr("style",u),o&&o.apply(this,arguments),t.dequeue(this)}})})},t.fn.extend({_addClass:t.fn.addClass,addClass:function(e,i,n,s){return i?t.effects.animateClass.apply(this,[{add:e},i,n,s]):this._addClass(e)},_removeClass:t.fn.removeClass,removeClass:function(e,i,n,s){return i?t.effects.animateClass.apply(this,[{remove:e},i,n,s]):this._removeClass(e)},_toggleClass:t.fn.toggleClass,toggleClass:function(i,n,s,a,r){return"boolean"==typeof n||n===e?s?t.effects.animateClass.apply(this,[n?{add:i}:{remove:i},s,a,r]):this._toggleClass(i,n):t.effects.animateClass.apply(this,[{toggle:i},n,s,a])},switchClass:function(e,i,n,s,a){return t.effects.animateClass.apply(this,[{add:i,remove:e},n,s,a])}}),t.extend(t.effects,{version:"1.8.18",save:function(t,e){for(var i=0;i<e.length;i++)null!==e[i]&&t.data("ec.storage."+e[i],t[0].style[e[i]])},restore:function(t,e){for(var i=0;i<e.length;i++)null!==e[i]&&t.css(e[i],t.data("ec.storage."+e[i]))},setMode:function(t,e){return"toggle"==e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var i,n;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=t[1]/e.width}return{x:n,y:i}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},n=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),s=document.activeElement;return e.wrap(n),(e[0]===s||t.contains(e[0],s))&&t(s).focus(),n=e.parent(),"static"==e.css("position")?(n.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,n){i[n]=e.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),n.css(i).show()},removeWrapper:function(e){var i,n=document.activeElement;return e.parent().is(".ui-effects-wrapper")?(i=e.parent().replaceWith(e),(e[0]===n||t.contains(e[0],n))&&t(n).focus(),i):e},setTransition:function(e,i,n,s){return s=s||{},t.each(i,function(t,i){unit=e.cssUnit(i),unit[0]>0&&(s[i]=unit[0]*n+unit[1])}),s}}),t.fn.extend({effect:function(e){var i=o.apply(this,arguments),n={options:i[1],duration:i[2],callback:i[3]},s=n.options.mode,a=t.effects[e];return t.fx.off||!a?s?this[s](n.duration,n.callback):this.each(function(){n.callback&&n.callback.call(this)}):a.call(this,n)},_show:t.fn.show,show:function(t){if(l(t))return this._show.apply(this,arguments);var e=o.apply(this,arguments);return e[1].mode="show",this.effect.apply(this,e)},_hide:t.fn.hide,hide:function(t){if(l(t))return this._hide.apply(this,arguments);var e=o.apply(this,arguments);return e[1].mode="hide",this.effect.apply(this,e)},__toggle:t.fn.toggle,toggle:function(e){if(l(e)||"boolean"==typeof e||t.isFunction(e))return this.__toggle.apply(this,arguments);var i=o.apply(this,arguments);return i[1].mode="toggle",this.effect.apply(this,i)},cssUnit:function(e){var i=this.css(e),n=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(n=[parseFloat(i),e])}),n}}),/*
 * jQuery Easing v1.3 - http://gsgd.co.uk/sandbox/jquery/easing/
 *
 * Uses the built in easing capabilities added In jQuery 1.1
 * to offer multiple easing options
 *
 * TERMS OF USE - jQuery Easing
 *
 * Open source under the BSD License.
 *
 * Copyright 2008 George McGinley Smith
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice, this list of
 * conditions and the following disclaimer.
 * Redistributions in binary form must reproduce the above copyright notice, this list
 * of conditions and the following disclaimer in the documentation and/or other materials
 * provided with the distribution.
 *
 * Neither the name of the author nor the names of contributors may be used to endorse
 * or promote products derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
 * COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
 * GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED
 * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE.
 *
*/
t.easing.jswing=t.easing.swing,t.extend(t.easing,{def:"easeOutQuad",swing:function(e,i,n,s,a){return t.easing[t.easing.def](e,i,n,s,a)},easeInQuad:function(t,e,i,n,s){return n*(e/=s)*e+i},easeOutQuad:function(t,e,i,n,s){return-n*(e/=s)*(e-2)+i},easeInOutQuad:function(t,e,i,n,s){return(e/=s/2)<1?n/2*e*e+i:-n/2*(--e*(e-2)-1)+i},easeInCubic:function(t,e,i,n,s){return n*(e/=s)*e*e+i},easeOutCubic:function(t,e,i,n,s){return n*((e=e/s-1)*e*e+1)+i},easeInOutCubic:function(t,e,i,n,s){return(e/=s/2)<1?n/2*e*e*e+i:n/2*((e-=2)*e*e+2)+i},easeInQuart:function(t,e,i,n,s){return n*(e/=s)*e*e*e+i},easeOutQuart:function(t,e,i,n,s){return-n*((e=e/s-1)*e*e*e-1)+i},easeInOutQuart:function(t,e,i,n,s){return(e/=s/2)<1?n/2*e*e*e*e+i:-n/2*((e-=2)*e*e*e-2)+i},easeInQuint:function(t,e,i,n,s){return n*(e/=s)*e*e*e*e+i},easeOutQuint:function(t,e,i,n,s){return n*((e=e/s-1)*e*e*e*e+1)+i},easeInOutQuint:function(t,e,i,n,s){return(e/=s/2)<1?n/2*e*e*e*e*e+i:n/2*((e-=2)*e*e*e*e+2)+i},easeInSine:function(t,e,i,n,s){return-n*Math.cos(e/s*(Math.PI/2))+n+i},easeOutSine:function(t,e,i,n,s){return n*Math.sin(e/s*(Math.PI/2))+i},easeInOutSine:function(t,e,i,n,s){return-n/2*(Math.cos(Math.PI*e/s)-1)+i},easeInExpo:function(t,e,i,n,s){return 0==e?i:n*Math.pow(2,10*(e/s-1))+i},easeOutExpo:function(t,e,i,n,s){return e==s?i+n:n*(-Math.pow(2,-10*e/s)+1)+i},easeInOutExpo:function(t,e,i,n,s){return 0==e?i:e==s?i+n:(e/=s/2)<1?n/2*Math.pow(2,10*(e-1))+i:n/2*(-Math.pow(2,-10*--e)+2)+i},easeInCirc:function(t,e,i,n,s){return-n*(Math.sqrt(1-(e/=s)*e)-1)+i},easeOutCirc:function(t,e,i,n,s){return n*Math.sqrt(1-(e=e/s-1)*e)+i},easeInOutCirc:function(t,e,i,n,s){return(e/=s/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+i:n/2*(Math.sqrt(1-(e-=2)*e)+1)+i},easeInElastic:function(t,e,i,n,s){var a=1.70158,r=0,o=n;if(0==e)return i;if(1==(e/=s))return i+n;if(r||(r=.3*s),o<Math.abs(n)){o=n;var a=r/4}else var a=r/(2*Math.PI)*Math.asin(n/o);return-(o*Math.pow(2,10*(e-=1))*Math.sin((e*s-a)*2*Math.PI/r))+i},easeOutElastic:function(t,e,i,n,s){var a=1.70158,r=0,o=n;if(0==e)return i;if(1==(e/=s))return i+n;if(r||(r=.3*s),o<Math.abs(n)){o=n;var a=r/4}else var a=r/(2*Math.PI)*Math.asin(n/o);return o*Math.pow(2,-10*e)*Math.sin((e*s-a)*2*Math.PI/r)+n+i},easeInOutElastic:function(t,e,i,n,s){var a=1.70158,r=0,o=n;if(0==e)return i;if(2==(e/=s/2))return i+n;if(r||(r=s*.3*1.5),o<Math.abs(n)){o=n;var a=r/4}else var a=r/(2*Math.PI)*Math.asin(n/o);return 1>e?-.5*o*Math.pow(2,10*(e-=1))*Math.sin((e*s-a)*2*Math.PI/r)+i:.5*o*Math.pow(2,-10*(e-=1))*Math.sin((e*s-a)*2*Math.PI/r)+n+i},easeInBack:function(t,i,n,s,a,r){return r==e&&(r=1.70158),s*(i/=a)*i*((r+1)*i-r)+n},easeOutBack:function(t,i,n,s,a,r){return r==e&&(r=1.70158),s*((i=i/a-1)*i*((r+1)*i+r)+1)+n},easeInOutBack:function(t,i,n,s,a,r){return r==e&&(r=1.70158),(i/=a/2)<1?s/2*i*i*(((r*=1.525)+1)*i-r)+n:s/2*((i-=2)*i*(((r*=1.525)+1)*i+r)+2)+n},easeInBounce:function(e,i,n,s,a){return s-t.easing.easeOutBounce(e,a-i,0,s,a)+n},easeOutBounce:function(t,e,i,n,s){return(e/=s)<1/2.75?n*7.5625*e*e+i:2/2.75>e?n*(7.5625*(e-=1.5/2.75)*e+.75)+i:2.5/2.75>e?n*(7.5625*(e-=2.25/2.75)*e+.9375)+i:n*(7.5625*(e-=2.625/2.75)*e+.984375)+i},easeInOutBounce:function(e,i,n,s,a){return a/2>i?.5*t.easing.easeInBounce(e,2*i,0,s,a)+n:.5*t.easing.easeOutBounce(e,2*i-a,0,s,a)+.5*s+n}})}(jQuery),/*
 * jQuery UI Effects Blind 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Blind
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(t){t.effects.blind=function(e){return this.queue(function(){var i=t(this),n=["position","top","bottom","left","right"],s=t.effects.setMode(i,e.options.mode||"hide"),a=e.options.direction||"vertical";t.effects.save(i,n),i.show();var r=t.effects.createWrapper(i).css({overflow:"hidden"}),o="vertical"==a?"height":"width",l="vertical"==a?r.height():r.width();"show"==s&&r.css(o,0);var c={};c[o]="show"==s?l:0,r.animate(c,e.duration,e.options.easing,function(){"hide"==s&&i.hide(),t.effects.restore(i,n),t.effects.removeWrapper(i),e.callback&&e.callback.apply(i[0],arguments),i.dequeue()})})}}(jQuery),/*
 * jQuery UI Effects Bounce 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Bounce
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(t){t.effects.bounce=function(e){return this.queue(function(){var i=t(this),n=["position","top","bottom","left","right"],s=t.effects.setMode(i,e.options.mode||"effect"),a=e.options.direction||"up",r=e.options.distance||20,o=e.options.times||5,l=e.duration||250;/show|hide/.test(s)&&n.push("opacity"),t.effects.save(i,n),i.show(),t.effects.createWrapper(i);var c="up"==a||"down"==a?"top":"left",h="up"==a||"left"==a?"pos":"neg",r=e.options.distance||("top"==c?i.outerHeight({margin:!0})/3:i.outerWidth({margin:!0})/3);if("show"==s&&i.css("opacity",0).css(c,"pos"==h?-r:r),"hide"==s&&(r/=2*o),"hide"!=s&&o--,"show"==s){var u={opacity:1};u[c]=("pos"==h?"+=":"-=")+r,i.animate(u,l/2,e.options.easing),r/=2,o--}for(var d=0;o>d;d++){var f={},p={};f[c]=("pos"==h?"-=":"+=")+r,p[c]=("pos"==h?"+=":"-=")+r,i.animate(f,l/2,e.options.easing).animate(p,l/2,e.options.easing),r="hide"==s?2*r:r/2}if("hide"==s){var u={opacity:0};u[c]=("pos"==h?"-=":"+=")+r,i.animate(u,l/2,e.options.easing,function(){i.hide(),t.effects.restore(i,n),t.effects.removeWrapper(i),e.callback&&e.callback.apply(this,arguments)})}else{var f={},p={};f[c]=("pos"==h?"-=":"+=")+r,p[c]=("pos"==h?"+=":"-=")+r,i.animate(f,l/2,e.options.easing).animate(p,l/2,e.options.easing,function(){t.effects.restore(i,n),t.effects.removeWrapper(i),e.callback&&e.callback.apply(this,arguments)})}i.queue("fx",function(){i.dequeue()}),i.dequeue()})}}(jQuery),/*
 * jQuery UI Effects Clip 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Clip
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(t){t.effects.clip=function(e){return this.queue(function(){var i=t(this),n=["position","top","bottom","left","right","height","width"],s=t.effects.setMode(i,e.options.mode||"hide"),a=e.options.direction||"vertical";t.effects.save(i,n),i.show();var r=t.effects.createWrapper(i).css({overflow:"hidden"}),o="IMG"==i[0].tagName?r:i,l={size:"vertical"==a?"height":"width",position:"vertical"==a?"top":"left"},c="vertical"==a?o.height():o.width();"show"==s&&(o.css(l.size,0),o.css(l.position,c/2));var h={};h[l.size]="show"==s?c:0,h[l.position]="show"==s?0:c/2,o.animate(h,{queue:!1,duration:e.duration,easing:e.options.easing,complete:function(){"hide"==s&&i.hide(),t.effects.restore(i,n),t.effects.removeWrapper(i),e.callback&&e.callback.apply(i[0],arguments),i.dequeue()}})})}}(jQuery),/*
 * jQuery UI Effects Drop 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Drop
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(t){t.effects.drop=function(e){return this.queue(function(){var i=t(this),n=["position","top","bottom","left","right","opacity"],s=t.effects.setMode(i,e.options.mode||"hide"),a=e.options.direction||"left";t.effects.save(i,n),i.show(),t.effects.createWrapper(i);var r="up"==a||"down"==a?"top":"left",o="up"==a||"left"==a?"pos":"neg",l=e.options.distance||("top"==r?i.outerHeight({margin:!0})/2:i.outerWidth({margin:!0})/2);"show"==s&&i.css("opacity",0).css(r,"pos"==o?-l:l);var c={opacity:"show"==s?1:0};c[r]=("show"==s?"pos"==o?"+=":"-=":"pos"==o?"-=":"+=")+l,i.animate(c,{queue:!1,duration:e.duration,easing:e.options.easing,complete:function(){"hide"==s&&i.hide(),t.effects.restore(i,n),t.effects.removeWrapper(i),e.callback&&e.callback.apply(this,arguments),i.dequeue()}})})}}(jQuery),/*
 * jQuery UI Effects Explode 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Explode
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(t){t.effects.explode=function(e){return this.queue(function(){var i=e.options.pieces?Math.round(Math.sqrt(e.options.pieces)):3,n=e.options.pieces?Math.round(Math.sqrt(e.options.pieces)):3;e.options.mode="toggle"==e.options.mode?t(this).is(":visible")?"hide":"show":e.options.mode;var s=t(this).show().css("visibility","hidden"),a=s.offset();a.top-=parseInt(s.css("marginTop"),10)||0,a.left-=parseInt(s.css("marginLeft"),10)||0;for(var r=s.outerWidth(!0),o=s.outerHeight(!0),l=0;i>l;l++)for(var c=0;n>c;c++)s.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-c*(r/n),top:-l*(o/i)}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:r/n,height:o/i,left:a.left+c*(r/n)+("show"==e.options.mode?(c-Math.floor(n/2))*(r/n):0),top:a.top+l*(o/i)+("show"==e.options.mode?(l-Math.floor(i/2))*(o/i):0),opacity:"show"==e.options.mode?0:1}).animate({left:a.left+c*(r/n)+("show"==e.options.mode?0:(c-Math.floor(n/2))*(r/n)),top:a.top+l*(o/i)+("show"==e.options.mode?0:(l-Math.floor(i/2))*(o/i)),opacity:"show"==e.options.mode?1:0},e.duration||500);setTimeout(function(){"show"==e.options.mode?s.css({visibility:"visible"}):s.css({visibility:"visible"}).hide(),e.callback&&e.callback.apply(s[0]),s.dequeue(),t("div.ui-effects-explode").remove()},e.duration||500)})}}(jQuery),/*
 * jQuery UI Effects Fade 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Fade
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(t){t.effects.fade=function(e){return this.queue(function(){var i=t(this),n=t.effects.setMode(i,e.options.mode||"hide");i.animate({opacity:n},{queue:!1,duration:e.duration,easing:e.options.easing,complete:function(){e.callback&&e.callback.apply(this,arguments),i.dequeue()}})})}}(jQuery),/*
 * jQuery UI Effects Fold 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Fold
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(t){t.effects.fold=function(e){return this.queue(function(){var i=t(this),n=["position","top","bottom","left","right"],s=t.effects.setMode(i,e.options.mode||"hide"),a=e.options.size||15,r=!!e.options.horizFirst,o=e.duration?e.duration/2:t.fx.speeds._default/2;t.effects.save(i,n),i.show();var l=t.effects.createWrapper(i).css({overflow:"hidden"}),c="show"==s!=r,h=c?["width","height"]:["height","width"],u=c?[l.width(),l.height()]:[l.height(),l.width()],d=/([0-9]+)%/.exec(a);d&&(a=parseInt(d[1],10)/100*u["hide"==s?0:1]),"show"==s&&l.css(r?{height:0,width:a}:{height:a,width:0});var f={},p={};f[h[0]]="show"==s?u[0]:a,p[h[1]]="show"==s?u[1]:0,l.animate(f,o,e.options.easing).animate(p,o,e.options.easing,function(){"hide"==s&&i.hide(),t.effects.restore(i,n),t.effects.removeWrapper(i),e.callback&&e.callback.apply(i[0],arguments),i.dequeue()})})}}(jQuery),/*
 * jQuery UI Effects Highlight 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Highlight
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(t){t.effects.highlight=function(e){return this.queue(function(){var i=t(this),n=["backgroundImage","backgroundColor","opacity"],s=t.effects.setMode(i,e.options.mode||"show"),a={backgroundColor:i.css("backgroundColor")};"hide"==s&&(a.opacity=0),t.effects.save(i,n),i.show().css({backgroundImage:"none",backgroundColor:e.options.color||"#ffff99"}).animate(a,{queue:!1,duration:e.duration,easing:e.options.easing,complete:function(){"hide"==s&&i.hide(),t.effects.restore(i,n),"show"==s&&!t.support.opacity&&this.style.removeAttribute("filter"),e.callback&&e.callback.apply(this,arguments),i.dequeue()}})})}}(jQuery),/*
 * jQuery UI Effects Pulsate 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Pulsate
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(t){t.effects.pulsate=function(e){return this.queue(function(){var i=t(this),n=t.effects.setMode(i,e.options.mode||"show");times=2*(e.options.times||5)-1,duration=e.duration?e.duration/2:t.fx.speeds._default/2,isVisible=i.is(":visible"),animateTo=0,isVisible||(i.css("opacity",0).show(),animateTo=1),("hide"==n&&isVisible||"show"==n&&!isVisible)&&times--;for(var s=0;times>s;s++)i.animate({opacity:animateTo},duration,e.options.easing),animateTo=(animateTo+1)%2;i.animate({opacity:animateTo},duration,e.options.easing,function(){0==animateTo&&i.hide(),e.callback&&e.callback.apply(this,arguments)}),i.queue("fx",function(){i.dequeue()}).dequeue()})}}(jQuery),/*
 * jQuery UI Effects Scale 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Scale
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(t){t.effects.puff=function(e){return this.queue(function(){var i=t(this),n=t.effects.setMode(i,e.options.mode||"hide"),s=parseInt(e.options.percent,10)||150,a=s/100,r={height:i.height(),width:i.width()};t.extend(e.options,{fade:!0,mode:n,percent:"hide"==n?s:100,from:"hide"==n?r:{height:r.height*a,width:r.width*a}}),i.effect("scale",e.options,e.duration,e.callback),i.dequeue()})},t.effects.scale=function(e){return this.queue(function(){var i=t(this),n=t.extend(!0,{},e.options),s=t.effects.setMode(i,e.options.mode||"effect"),a=parseInt(e.options.percent,10)||(0==parseInt(e.options.percent,10)?0:"hide"==s?0:100),r=e.options.direction||"both",o=e.options.origin;"effect"!=s&&(n.origin=o||["middle","center"],n.restore=!0);var l={height:i.height(),width:i.width()};i.from=e.options.from||("show"==s?{height:0,width:0}:l);var c={y:"horizontal"!=r?a/100:1,x:"vertical"!=r?a/100:1};i.to={height:l.height*c.y,width:l.width*c.x},e.options.fade&&("show"==s&&(i.from.opacity=0,i.to.opacity=1),"hide"==s&&(i.from.opacity=1,i.to.opacity=0)),n.from=i.from,n.to=i.to,n.mode=s,i.effect("size",n,e.duration,e.callback),i.dequeue()})},t.effects.size=function(e){return this.queue(function(){var i=t(this),n=["position","top","bottom","left","right","width","height","overflow","opacity"],s=["position","top","bottom","left","right","overflow","opacity"],a=["width","height","overflow"],r=["fontSize"],o=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],l=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=t.effects.setMode(i,e.options.mode||"effect"),h=e.options.restore||!1,u=e.options.scale||"both",d=e.options.origin,f={height:i.height(),width:i.width()};if(i.from=e.options.from||f,i.to=e.options.to||f,d){var p=t.effects.getBaseline(d,f);i.from.top=(f.height-i.from.height)*p.y,i.from.left=(f.width-i.from.width)*p.x,i.to.top=(f.height-i.to.height)*p.y,i.to.left=(f.width-i.to.width)*p.x}var g={from:{y:i.from.height/f.height,x:i.from.width/f.width},to:{y:i.to.height/f.height,x:i.to.width/f.width}};("box"==u||"both"==u)&&(g.from.y!=g.to.y&&(n=n.concat(o),i.from=t.effects.setTransition(i,o,g.from.y,i.from),i.to=t.effects.setTransition(i,o,g.to.y,i.to)),g.from.x!=g.to.x&&(n=n.concat(l),i.from=t.effects.setTransition(i,l,g.from.x,i.from),i.to=t.effects.setTransition(i,l,g.to.x,i.to))),("content"==u||"both"==u)&&g.from.y!=g.to.y&&(n=n.concat(r),i.from=t.effects.setTransition(i,r,g.from.y,i.from),i.to=t.effects.setTransition(i,r,g.to.y,i.to)),t.effects.save(i,h?n:s),i.show(),t.effects.createWrapper(i),i.css("overflow","hidden").css(i.from),("content"==u||"both"==u)&&(o=o.concat(["marginTop","marginBottom"]).concat(r),l=l.concat(["marginLeft","marginRight"]),a=n.concat(o).concat(l),i.find("*[width]").each(function(){child=t(this),h&&t.effects.save(child,a);var i={height:child.height(),width:child.width()};child.from={height:i.height*g.from.y,width:i.width*g.from.x},child.to={height:i.height*g.to.y,width:i.width*g.to.x},g.from.y!=g.to.y&&(child.from=t.effects.setTransition(child,o,g.from.y,child.from),child.to=t.effects.setTransition(child,o,g.to.y,child.to)),g.from.x!=g.to.x&&(child.from=t.effects.setTransition(child,l,g.from.x,child.from),child.to=t.effects.setTransition(child,l,g.to.x,child.to)),child.css(child.from),child.animate(child.to,e.duration,e.options.easing,function(){h&&t.effects.restore(child,a)})})),i.animate(i.to,{queue:!1,duration:e.duration,easing:e.options.easing,complete:function(){0===i.to.opacity&&i.css("opacity",i.from.opacity),"hide"==c&&i.hide(),t.effects.restore(i,h?n:s),t.effects.removeWrapper(i),e.callback&&e.callback.apply(this,arguments),i.dequeue()}})})}}(jQuery),/*
 * jQuery UI Effects Shake 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Shake
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(t){t.effects.shake=function(e){return this.queue(function(){var i=t(this),n=["position","top","bottom","left","right"];t.effects.setMode(i,e.options.mode||"effect");var s=e.options.direction||"left",a=e.options.distance||20,r=e.options.times||3,o=e.duration||e.options.duration||140;t.effects.save(i,n),i.show(),t.effects.createWrapper(i);var l="up"==s||"down"==s?"top":"left",c="up"==s||"left"==s?"pos":"neg",h={},u={},d={};h[l]=("pos"==c?"-=":"+=")+a,u[l]=("pos"==c?"+=":"-=")+2*a,d[l]=("pos"==c?"-=":"+=")+2*a,i.animate(h,o,e.options.easing);for(var f=1;r>f;f++)i.animate(u,o,e.options.easing).animate(d,o,e.options.easing);i.animate(u,o,e.options.easing).animate(h,o/2,e.options.easing,function(){t.effects.restore(i,n),t.effects.removeWrapper(i),e.callback&&e.callback.apply(this,arguments)}),i.queue("fx",function(){i.dequeue()}),i.dequeue()})}}(jQuery),/*
 * jQuery UI Effects Slide 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Slide
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(t){t.effects.slide=function(e){return this.queue(function(){var i=t(this),n=["position","top","bottom","left","right"],s=t.effects.setMode(i,e.options.mode||"show"),a=e.options.direction||"left";t.effects.save(i,n),i.show(),t.effects.createWrapper(i).css({overflow:"hidden"});var r="up"==a||"down"==a?"top":"left",o="up"==a||"left"==a?"pos":"neg",l=e.options.distance||("top"==r?i.outerHeight({margin:!0}):i.outerWidth({margin:!0}));"show"==s&&i.css(r,"pos"==o?isNaN(l)?"-"+l:-l:l);var c={};c[r]=("show"==s?"pos"==o?"+=":"-=":"pos"==o?"-=":"+=")+l,i.animate(c,{queue:!1,duration:e.duration,easing:e.options.easing,complete:function(){"hide"==s&&i.hide(),t.effects.restore(i,n),t.effects.removeWrapper(i),e.callback&&e.callback.apply(this,arguments),i.dequeue()}})})}}(jQuery),/*
 * jQuery UI Effects Transfer 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Transfer
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(t){t.effects.transfer=function(e){return this.queue(function(){var i=t(this),n=t(e.options.to),s=n.offset(),a={top:s.top,left:s.left,height:n.innerHeight(),width:n.innerWidth()},r=i.offset(),o=t('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(e.options.className).css({top:r.top,left:r.left,height:i.innerHeight(),width:i.innerWidth(),position:"absolute"}).animate(a,e.duration,e.options.easing,function(){o.remove(),e.callback&&e.callback.apply(i[0],arguments),i.dequeue()})})}}(jQuery),/*
 * jQuery UI Accordion 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Accordion
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */
function(t){t.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:!0,clearStyle:!1,collapsible:!1,event:"click",fillSpace:!1,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var e=this,i=e.options;if(e.running=0,e.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix"),e.headers=e.element.find(i.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){i.disabled||t(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){i.disabled||t(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){i.disabled||t(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){i.disabled||t(this).removeClass("ui-state-focus")}),e.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom"),i.navigation){var n=e.element.find("a").filter(i.navigationFilter).eq(0);if(n.length){var s=n.closest(".ui-accordion-header");e.active=s.length?s:n.closest(".ui-accordion-content").prev()}}e.active=e._findActive(e.active||i.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top"),e.active.next().addClass("ui-accordion-content-active"),e._createIcons(),e.resize(),e.element.attr("role","tablist"),e.headers.attr("role","tab").bind("keydown.accordion",function(t){return e._keydown(t)}).next().attr("role","tabpanel"),e.headers.not(e.active||"").attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).next().hide(),e.active.length?e.active.attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}):e.headers.eq(0).attr("tabIndex",0),t.browser.safari||e.headers.find("a").attr("tabIndex",-1),i.event&&e.headers.bind(i.event.split(" ").join(".accordion ")+".accordion",function(t){e._clickHandler.call(e,t,this),t.preventDefault()})},_createIcons:function(){var e=this.options;e.icons&&(t("<span></span>").addClass("ui-icon "+e.icons.header).prependTo(this.headers),this.active.children(".ui-icon").toggleClass(e.icons.header).toggleClass(e.icons.headerSelected),this.element.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.children(".ui-icon").remove(),this.element.removeClass("ui-accordion-icons")},destroy:function(){var e=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("tabIndex"),this.headers.find("a").removeAttr("tabIndex"),this._destroyIcons();var i=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");return(e.autoHeight||e.fillHeight)&&i.css("height",""),t.Widget.prototype.destroy.call(this)},_setOption:function(e,i){t.Widget.prototype._setOption.apply(this,arguments),"active"==e&&this.activate(i),"icons"==e&&(this._destroyIcons(),i&&this._createIcons()),"disabled"==e&&this.headers.add(this.headers.next())[i?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")},_keydown:function(e){if(!(this.options.disabled||e.altKey||e.ctrlKey)){var i=t.ui.keyCode,n=this.headers.length,s=this.headers.index(e.target),a=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:a=this.headers[(s+1)%n];break;case i.LEFT:case i.UP:a=this.headers[(s-1+n)%n];break;case i.SPACE:case i.ENTER:this._clickHandler({target:e.target},e.target),e.preventDefault()}return a?(t(e.target).attr("tabIndex",-1),t(a).attr("tabIndex",0),a.focus(),!1):!0}},resize:function(){var e,i=this.options;if(i.fillSpace){if(t.browser.msie){var n=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden")}e=this.element.parent().height(),t.browser.msie&&this.element.parent().css("overflow",n),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")}else i.autoHeight&&(e=0,this.headers.next().each(function(){e=Math.max(e,t(this).height("").height())}).height(e));return this},activate:function(t){this.options.active=t;var e=this._findActive(t)[0];return this._clickHandler({target:e},e),this},_findActive:function(e){return e?"number"==typeof e?this.headers.filter(":eq("+e+")"):this.headers.not(this.headers.not(e)):e===!1?t([]):this.headers.filter(":eq(0)")},_clickHandler:function(e,i){var n=this.options;if(!n.disabled){if(!e.target){if(!n.collapsible)return;this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(n.icons.headerSelected).addClass(n.icons.header),this.active.next().addClass("ui-accordion-content-active");var s=this.active.next(),a={options:n,newHeader:t([]),oldHeader:n.active,newContent:t([]),oldContent:s},r=this.active=t([]);return this._toggle(r,s,a),void 0}var o=t(e.currentTarget||i),l=o[0]===this.active[0];if(n.active=n.collapsible&&l?!1:this.headers.index(o),!(this.running||!n.collapsible&&l)){var c=this.active,r=o.next(),s=this.active.next(),a={options:n,newHeader:l&&n.collapsible?t([]):o,oldHeader:this.active,newContent:l&&n.collapsible?t([]):r,oldContent:s},h=this.headers.index(this.active[0])>this.headers.index(o[0]);this.active=l?t([]):o,this._toggle(r,s,a,l,h),c.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(n.icons.headerSelected).addClass(n.icons.header),l||(o.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(n.icons.header).addClass(n.icons.headerSelected),o.next().addClass("ui-accordion-content-active"))}}},_toggle:function(e,i,n,s,a){var r=this,o=r.options;r.toShow=e,r.toHide=i,r.data=n;var l=function(){return r?r._completed.apply(r,arguments):void 0};if(r._trigger("changestart",null,r.data),r.running=0===i.size()?e.size():i.size(),o.animated){var c={};c=o.collapsible&&s?{toShow:t([]),toHide:i,complete:l,down:a,autoHeight:o.autoHeight||o.fillSpace}:{toShow:e,toHide:i,complete:l,down:a,autoHeight:o.autoHeight||o.fillSpace},o.proxied||(o.proxied=o.animated),o.proxiedDuration||(o.proxiedDuration=o.duration),o.animated=t.isFunction(o.proxied)?o.proxied(c):o.proxied,o.duration=t.isFunction(o.proxiedDuration)?o.proxiedDuration(c):o.proxiedDuration;var h=t.ui.accordion.animations,u=o.duration,d=o.animated;!d||h[d]||t.easing[d]||(d="slide"),h[d]||(h[d]=function(t){this.slide(t,{easing:d,duration:u||700})}),h[d](c)}else o.collapsible&&s?e.toggle():(i.hide(),e.show()),l(!0);i.prev().attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).blur(),e.prev().attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}).focus()},_completed:function(t){this.running=t?0:--this.running,this.running||(this.options.clearStyle&&this.toShow.add(this.toHide).css({height:"",overflow:""}),this.toHide.removeClass("ui-accordion-content-active"),this.toHide.length&&(this.toHide.parent()[0].className=this.toHide.parent()[0].className),this._trigger("change",null,this.data))}}),t.extend(t.ui.accordion,{version:"1.8.18",animations:{slide:function(e,i){if(e=t.extend({easing:"swing",duration:300},e,i),!e.toHide.size())return e.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},e),void 0;if(!e.toShow.size())return e.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},e),void 0;var n,s=e.toShow.css("overflow"),a=0,r={},o={},l=["height","paddingTop","paddingBottom"],c=e.toShow;n=c[0].style.width,c.width(c.parent().width()-parseFloat(c.css("paddingLeft"))-parseFloat(c.css("paddingRight"))-(parseFloat(c.css("borderLeftWidth"))||0)-(parseFloat(c.css("borderRightWidth"))||0)),t.each(l,function(i,n){o[n]="hide";var s=(""+t.css(e.toShow[0],n)).match(/^([\d+-.]+)(.*)$/);r[n]={value:s[1],unit:s[2]||"px"}}),e.toShow.css({height:0,overflow:"hidden"}).show(),e.toHide.filter(":hidden").each(e.complete).end().filter(":visible").animate(o,{step:function(t,i){"height"==i.prop&&(a=0===i.end-i.start?0:(i.now-i.start)/(i.end-i.start)),e.toShow[0].style[i.prop]=a*r[i.prop].value+r[i.prop].unit},duration:e.duration,easing:e.easing,complete:function(){e.autoHeight||e.toShow.css("height",""),e.toShow.css({width:n,overflow:s}),e.complete()}})},bounceslide:function(t){this.slide(t,{easing:t.down?"easeOutBounce":"swing",duration:t.down?1e3:200})}}})}(jQuery),/*
 * jQuery UI Autocomplete 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Autocomplete
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.position.js
 */
function(t){var e=0;t.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var e,i=this,n=this.element[0].ownerDocument;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(n){if(!i.options.disabled&&!i.element.propAttr("readOnly")){e=!1;var s=t.ui.keyCode;switch(n.keyCode){case s.PAGE_UP:i._move("previousPage",n);break;case s.PAGE_DOWN:i._move("nextPage",n);break;case s.UP:i._move("previous",n),n.preventDefault();break;case s.DOWN:i._move("next",n),n.preventDefault();break;case s.ENTER:case s.NUMPAD_ENTER:i.menu.active&&(e=!0,n.preventDefault());case s.TAB:if(!i.menu.active)return;i.menu.select(n);break;case s.ESCAPE:i.element.val(i.term),i.close(n);break;default:clearTimeout(i.searching),i.searching=setTimeout(function(){i.term!=i.element.val()&&(i.selectedItem=null,i.search(null,n))},i.options.delay)}}}).bind("keypress.autocomplete",function(t){e&&(e=!1,t.preventDefault())}).bind("focus.autocomplete",function(){i.options.disabled||(i.selectedItem=null,i.previous=i.element.val())}).bind("blur.autocomplete",function(t){i.options.disabled||(clearTimeout(i.searching),i.closing=setTimeout(function(){i.close(t),i._change(t)},150))}),this._initSource(),this.response=function(){return i._response.apply(i,arguments)},this.menu=t("<ul></ul>").addClass("ui-autocomplete").appendTo(t(this.options.appendTo||"body",n)[0]).mousedown(function(e){var n=i.menu.element[0];t(e.target).closest(".ui-menu-item").length||setTimeout(function(){t(document).one("mousedown",function(e){e.target===i.element[0]||e.target===n||t.ui.contains(n,e.target)||i.close()})},1),setTimeout(function(){clearTimeout(i.closing)},13)}).menu({focus:function(t,e){var n=e.item.data("item.autocomplete");!1!==i._trigger("focus",t,{item:n})&&/^key/.test(t.originalEvent.type)&&i.element.val(n.value)},selected:function(t,e){var s=e.item.data("item.autocomplete"),a=i.previous;i.element[0]!==n.activeElement&&(i.element.focus(),i.previous=a,setTimeout(function(){i.previous=a,i.selectedItem=s},1)),!1!==i._trigger("select",t,{item:s})&&i.element.val(s.value),i.term=i.element.val(),i.close(t),i.selectedItem=s},blur:function(){i.menu.element.is(":visible")&&i.element.val()!==i.term&&i.element.val(i.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu"),t.fn.bgiframe&&this.menu.element.bgiframe(),i.beforeunloadHandler=function(){i.element.removeAttr("autocomplete")},t(window).bind("beforeunload",i.beforeunloadHandler)},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"),this.menu.element.remove(),t(window).unbind("beforeunload",this.beforeunloadHandler),t.Widget.prototype.destroy.call(this)},_setOption:function(e,i){t.Widget.prototype._setOption.apply(this,arguments),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(t(i||"body",this.element[0].ownerDocument)[0]),"disabled"===e&&i&&this.xhr&&this.xhr.abort()},_initSource:function(){var i,n,s=this;t.isArray(this.options.source)?(i=this.options.source,this.source=function(e,n){n(t.ui.autocomplete.filter(i,e.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(i,a){s.xhr&&s.xhr.abort(),s.xhr=t.ajax({url:n,data:i,dataType:"json",context:{autocompleteRequest:++e},success:function(t){this.autocompleteRequest===e&&a(t)},error:function(){this.autocompleteRequest===e&&a([])}})}):this.source=this.options.source},search:function(t,e){return t=null!=t?t:this.element.val(),this.term=this.element.val(),t.length<this.options.minLength?this.close(e):(clearTimeout(this.closing),this._trigger("search",e)!==!1?this._search(t):void 0)},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.source({term:t},this.response)},_response:function(t){!this.options.disabled&&t&&t.length?(t=this._normalize(t),this._suggest(t),this._trigger("open")):this.close(),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},close:function(t){clearTimeout(this.closing),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger("close",t))},_change:function(t){this.previous!==this.element.val()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(e){var i=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(i,e),this.menu.deactivate(),this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(new t.Event("mouseover"))},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var n=this;t.each(i,function(t,i){n._renderItem(e,i)})},_renderItem:function(e,i){return t("<li></li>").data("item.autocomplete",i).append(t("<a></a>").text(i.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.first()&&/^previous/.test(t)||this.menu.last()&&/^next/.test(t)?(this.element.val(this.term),this.menu.deactivate(),void 0):(this.menu[t](e),void 0):(this.search(null,e),void 0)},widget:function(){return this.menu.element}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(e,i){var n=new RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return n.test(t.label||t.value||t)})}})}(jQuery),/*
 * jQuery UI Menu (not officially released)
 * 
 * This widget isn't yet finished and the API is subject to change. We plan to finish
 * it for the next release. You're welcome to give it a try anyway and give us feedback,
 * as long as you're okay with migrating your code later on. We can help with that, too.
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Menu
 *
 * Depends:
 *	jquery.ui.core.js
 *  jquery.ui.widget.js
 */
function(t){t.widget("ui.menu",{_create:function(){var e=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(i){t(i.target).closest(".ui-menu-item a").length&&(i.preventDefault(),e.select(i))}),this.refresh()},refresh:function(){var e=this,i=this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem");i.children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(i){e.activate(i,t(this).parent())}).mouseleave(function(){e.deactivate()})},activate:function(t,e){if(this.deactivate(),this.hasScroll()){var i=e.offset().top-this.element.offset().top,n=this.element.scrollTop(),s=this.element.height();0>i?this.element.scrollTop(n+i):i>=s&&this.element.scrollTop(n+i-s+e.height())}this.active=e.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end(),this._trigger("focus",t,{item:e})},deactivate:function(){this.active&&(this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null)},next:function(t){this.move("next",".ui-menu-item:first",t)},previous:function(t){this.move("prev",".ui-menu-item:last",t)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(t,e,i){if(!this.active)return this.activate(i,this.element.children(e)),void 0;var n=this.active[t+"All"](".ui-menu-item").eq(0);n.length?this.activate(i,n):this.activate(i,this.element.children(e))},nextPage:function(e){if(this.hasScroll()){if(!this.active||this.last())return this.activate(e,this.element.children(".ui-menu-item:first")),void 0;var i=this.active.offset().top,n=this.element.height(),s=this.element.children(".ui-menu-item").filter(function(){var e=t(this).offset().top-i-n+t(this).height();return 10>e&&e>-10});s.length||(s=this.element.children(".ui-menu-item:last")),this.activate(e,s)}else this.activate(e,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))},previousPage:function(e){if(this.hasScroll()){if(!this.active||this.first())return this.activate(e,this.element.children(".ui-menu-item:last")),void 0;var i=this.active.offset().top,n=this.element.height();result=this.element.children(".ui-menu-item").filter(function(){var e=t(this).offset().top-i+n-t(this).height();return 10>e&&e>-10}),result.length||(result=this.element.children(".ui-menu-item:first")),this.activate(e,result)}else this.activate(e,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element[t.fn.prop?"prop":"attr"]("scrollHeight")},select:function(t){this._trigger("selected",t,{item:this.active})}})}(jQuery),/*
 * jQuery UI Button 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Button
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */
function(t){var e,i,n,s,a="ui-button ui-widget ui-state-default ui-corner-all",r="ui-state-hover ui-state-active ",o="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",l=function(){var e=t(this).find(":ui-button");setTimeout(function(){e.button("refresh")},1)},c=function(e){var i=e.name,n=e.form,s=t([]);return i&&(s=n?t(n).find("[name='"+i+"']"):t("[name='"+i+"']",e.ownerDocument).filter(function(){return!this.form})),s};t.widget("ui.button",{options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",l),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.propAttr("disabled"):this.element.propAttr("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var r=this,o=this.options,h="checkbox"===this.type||"radio"===this.type,u="ui-state-hover"+(h?"":" ui-state-active"),d="ui-state-focus";null===o.label&&(o.label=this.buttonElement.html()),this.buttonElement.addClass(a).attr("role","button").bind("mouseenter.button",function(){o.disabled||(t(this).addClass("ui-state-hover"),this===e&&t(this).addClass("ui-state-active"))}).bind("mouseleave.button",function(){o.disabled||t(this).removeClass(u)}).bind("click.button",function(t){o.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this.element.bind("focus.button",function(){r.buttonElement.addClass(d)}).bind("blur.button",function(){r.buttonElement.removeClass(d)}),h&&(this.element.bind("change.button",function(){s||r.refresh()}),this.buttonElement.bind("mousedown.button",function(t){o.disabled||(s=!1,i=t.pageX,n=t.pageY)}).bind("mouseup.button",function(t){o.disabled||(i!==t.pageX||n!==t.pageY)&&(s=!0)})),"checkbox"===this.type?this.buttonElement.bind("click.button",function(){return o.disabled||s?!1:(t(this).toggleClass("ui-state-active"),r.buttonElement.attr("aria-pressed",r.element[0].checked),void 0)}):"radio"===this.type?this.buttonElement.bind("click.button",function(){if(o.disabled||s)return!1;t(this).addClass("ui-state-active"),r.buttonElement.attr("aria-pressed","true");var e=r.element[0];c(e).not(e).map(function(){return t(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown.button",function(){return o.disabled?!1:(t(this).addClass("ui-state-active"),e=this,t(document).one("mouseup",function(){e=null}),void 0)}).bind("mouseup.button",function(){return o.disabled?!1:(t(this).removeClass("ui-state-active"),void 0)}).bind("keydown.button",function(e){return o.disabled?!1:((e.keyCode==t.ui.keyCode.SPACE||e.keyCode==t.ui.keyCode.ENTER)&&t(this).addClass("ui-state-active"),void 0)}).bind("keyup.button",function(){t(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===t.ui.keyCode.SPACE&&t(this).click()})),this._setOption("disabled",o.disabled),this._resetButton()},_determineButtonType:function(){if(this.type=this.element.is(":checkbox")?"checkbox":this.element.is(":radio")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type){var t=this.element.parents().filter(":last"),e="label[for='"+this.element.attr("id")+"']";this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible");var i=this.element.is(":checked");i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.attr("aria-pressed",i)}else this.buttonElement=this.element},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(a+" "+r+" "+o).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title"),t.Widget.prototype.destroy.call(this)},_setOption:function(e,i){return t.Widget.prototype._setOption.apply(this,arguments),"disabled"===e?(i?this.element.propAttr("disabled",!0):this.element.propAttr("disabled",!1),void 0):(this._resetButton(),void 0)},refresh:function(){var e=this.element.is(":disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?c(this.element[0]).each(function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),void 0;var e=this.buttonElement.removeClass(o),i=t("<span></span>",this.element[0].ownerDocument).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),n=this.options.icons,s=n.primary&&n.secondary,a=[];n.primary||n.secondary?(this.options.text&&a.push("ui-button-text-icon"+(s?"s":n.primary?"-primary":"-secondary")),n.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(a.push(s?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",i))):a.push("ui-button-text-only"),e.addClass(a.join(" "))}}),t.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,i){"disabled"===e&&this.buttons.button("option",e,i),t.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){var e="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy"),t.Widget.prototype.destroy.call(this)}})}(jQuery),/*
 * jQuery UI Datepicker 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Datepicker
 *
 * Depends:
 *	jquery.ui.core.js
 */
function($,undefined){function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function bindHover(t){var e="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.bind("mouseout",function(t){var i=$(t.target).closest(e);i.length&&i.removeClass("ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover")}).bind("mouseover",function(i){var n=$(i.target).closest(e);!$.datepicker._isDisabledDatepicker(instActive.inline?t.parent()[0]:instActive.input[0])&&n.length&&(n.parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),n.addClass("ui-state-hover"),n.hasClass("ui-datepicker-prev")&&n.addClass("ui-datepicker-prev-hover"),n.hasClass("ui-datepicker-next")&&n.addClass("ui-datepicker-next-hover"))})}function extendRemove(t,e){$.extend(t,e);for(var i in e)(null==e[i]||e[i]==undefined)&&(t[i]=e[i]);return t}function isArray(t){return t&&($.browser.safari&&"object"==typeof t&&t.length||t.constructor&&t.constructor.toString().match(/\Array\(\)/))}$.extend($.ui,{datepicker:{version:"1.8.18"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return extendRemove(this._defaults,t||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline="div"==nodeName||"span"==nodeName;target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),"input"==nodeName?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(t,e){var i=t[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:i,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:e,dpDiv:e?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(t,e){var i=$(t);e.append=$([]),e.trigger=$([]),i.hasClass(this.markerClassName)||(this._attachments(i,e),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(t,i,n){e.settings[i]=n}).bind("getData.datepicker",function(t,i){return this._get(e,i)}),this._autoSize(e),$.data(t,PROP_NAME,e),e.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,e){var i=this._get(e,"appendText"),n=this._get(e,"isRTL");e.append&&e.append.remove(),i&&(e.append=$('<span class="'+this._appendClass+'">'+i+"</span>"),t[n?"before":"after"](e.append)),t.unbind("focus",this._showDatepicker),e.trigger&&e.trigger.remove();var s=this._get(e,"showOn");if(("focus"==s||"both"==s)&&t.focus(this._showDatepicker),"button"==s||"both"==s){var a=this._get(e,"buttonText"),r=this._get(e,"buttonImage");e.trigger=$(this._get(e,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:r,alt:a,title:a}):$('<button type="button"></button>').addClass(this._triggerClass).html(""==r?a:$("<img/>").attr({src:r,alt:a,title:a}))),t[n?"before":"after"](e.trigger),e.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==t[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!=t[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(t[0])):$.datepicker._showDatepicker(t[0]),!1})}},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e=new Date(2009,11,20),i=this._get(t,"dateFormat");if(i.match(/[DM]/)){var n=function(t){for(var e=0,i=0,n=0;n<t.length;n++)t[n].length>e&&(e=t[n].length,i=n);return i};e.setMonth(n(this._get(t,i.match(/MM/)?"monthNames":"monthNamesShort"))),e.setDate(n(this._get(t,i.match(/DD/)?"dayNames":"dayNamesShort"))+20-e.getDay())}t.input.attr("size",this._formatDate(t,e).length)}},_inlineDatepicker:function(t,e){var i=$(t);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(e.dpDiv).bind("setData.datepicker",function(t,i,n){e.settings[i]=n}).bind("getData.datepicker",function(t,i){return this._get(e,i)}),$.data(t,PROP_NAME,e),this._setDate(e,this._getDefaultDate(e),!0),this._updateDatepicker(e),this._updateAlternate(e),e.settings.disabled&&this._disableDatepicker(t),e.dpDiv.css("display","block"))},_dialogDatepicker:function(t,e,i,n,s){var a=this._dialogInst;if(!a){this.uuid+=1;var r="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+r+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),a=this._dialogInst=this._newInst(this._dialogInput,!1),a.settings={},$.data(this._dialogInput[0],PROP_NAME,a)}if(extendRemove(a.settings,n||{}),e=e&&e.constructor==Date?this._formatDate(a,e):e,this._dialogInput.val(e),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,!this._pos){var o=document.documentElement.clientWidth,l=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,h=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[o/2-100+c,l/2-150+h]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),a.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,a),this},_destroyDatepicker:function(t){var e=$(t),i=$.data(t,PROP_NAME);if(e.hasClass(this.markerClassName)){var n=t.nodeName.toLowerCase();$.removeData(t,PROP_NAME),"input"==n?(i.append.remove(),i.trigger.remove(),e.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"==n||"span"==n)&&e.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(t){var e=$(t),i=$.data(t,PROP_NAME);if(e.hasClass(this.markerClassName)){var n=t.nodeName.toLowerCase();if("input"==n)t.disabled=!1,i.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"==n||"span"==n){var s=e.children("."+this._inlineClass);s.children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").removeAttr("disabled")}this._disabledInputs=$.map(this._disabledInputs,function(e){return e==t?null:e})}},_disableDatepicker:function(t){var e=$(t),i=$.data(t,PROP_NAME);if(e.hasClass(this.markerClassName)){var n=t.nodeName.toLowerCase();if("input"==n)t.disabled=!0,i.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"==n||"span"==n){var s=e.children("."+this._inlineClass);s.children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").attr("disabled","disabled")}this._disabledInputs=$.map(this._disabledInputs,function(e){return e==t?null:e}),this._disabledInputs[this._disabledInputs.length]=t}},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]==t)return!0;return!1},_getInst:function(t){try{return $.data(t,PROP_NAME)}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,e,i){var n=this._getInst(t);if(2==arguments.length&&"string"==typeof e)return"defaults"==e?$.extend({},$.datepicker._defaults):n?"all"==e?$.extend({},n.settings):this._get(n,e):null;var s=e||{};if("string"==typeof e&&(s={},s[e]=i),n){this._curInst==n&&this._hideDatepicker();var a=this._getDateDatepicker(t,!0),r=this._getMinMaxDate(n,"min"),o=this._getMinMaxDate(n,"max");extendRemove(n.settings,s),null!==r&&s.dateFormat!==undefined&&s.minDate===undefined&&(n.settings.minDate=this._formatDate(n,r)),null!==o&&s.dateFormat!==undefined&&s.maxDate===undefined&&(n.settings.maxDate=this._formatDate(n,o)),this._attachments($(t),n),this._autoSize(n),this._setDate(n,a),this._updateAlternate(n),this._updateDatepicker(n)}},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(t){var e=$.datepicker._getInst(t.target),i=!0,n=e.dpDiv.is(".ui-datepicker-rtl");if(e._keyEvent=!0,$.datepicker._datepickerShowing)switch(t.keyCode){case 9:$.datepicker._hideDatepicker(),i=!1;break;case 13:var s=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",e.dpDiv);s[0]&&$.datepicker._selectDay(t.target,e.selectedMonth,e.selectedYear,s[0]);var a=$.datepicker._get(e,"onSelect");if(a){var r=$.datepicker._formatDate(e);a.apply(e.input?e.input[0]:null,[r,e])}else $.datepicker._hideDatepicker();return!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(t.target,t.ctrlKey?-$.datepicker._get(e,"stepBigMonths"):-$.datepicker._get(e,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(t.target,t.ctrlKey?+$.datepicker._get(e,"stepBigMonths"):+$.datepicker._get(e,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&$.datepicker._clearDate(t.target),i=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&$.datepicker._gotoToday(t.target),i=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,n?1:-1,"D"),i=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&$.datepicker._adjustDate(t.target,t.ctrlKey?-$.datepicker._get(e,"stepBigMonths"):-$.datepicker._get(e,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,-7,"D"),i=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,n?-1:1,"D"),i=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&$.datepicker._adjustDate(t.target,t.ctrlKey?+$.datepicker._get(e,"stepBigMonths"):+$.datepicker._get(e,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,7,"D"),i=t.ctrlKey||t.metaKey;break;default:i=!1}else 36==t.keyCode&&t.ctrlKey?$.datepicker._showDatepicker(this):i=!1;i&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var e=$.datepicker._getInst(t.target);if($.datepicker._get(e,"constrainInput")){var i=$.datepicker._possibleChars($.datepicker._get(e,"dateFormat")),n=String.fromCharCode(t.charCode==undefined?t.keyCode:t.charCode);return t.ctrlKey||t.metaKey||" ">n||!i||i.indexOf(n)>-1}},_doKeyUp:function(t){var e=$.datepicker._getInst(t.target);if(e.input.val()!=e.lastVal)try{var i=$.datepicker.parseDate($.datepicker._get(e,"dateFormat"),e.input?e.input.val():null,$.datepicker._getFormatConfig(e));i&&($.datepicker._setDateFromField(e),$.datepicker._updateAlternate(e),$.datepicker._updateDatepicker(e))}catch(t){$.datepicker.log(t)}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!=t.nodeName.toLowerCase()&&(t=$("input",t.parentNode)[0]),!$.datepicker._isDisabledDatepicker(t)&&$.datepicker._lastInput!=t){var e=$.datepicker._getInst(t);$.datepicker._curInst&&$.datepicker._curInst!=e&&($.datepicker._curInst.dpDiv.stop(!0,!0),e&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var i=$.datepicker._get(e,"beforeShow"),n=i?i.apply(t,[t,e]):{};if(n!==!1){extendRemove(e.settings,n),e.lastVal=null,$.datepicker._lastInput=t,$.datepicker._setDateFromField(e),$.datepicker._inDialog&&(t.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(t),$.datepicker._pos[1]+=t.offsetHeight);var s=!1;$(t).parents().each(function(){return s|="fixed"==$(this).css("position"),!s}),s&&$.browser.opera&&($.datepicker._pos[0]-=document.documentElement.scrollLeft,$.datepicker._pos[1]-=document.documentElement.scrollTop);var a={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};if($.datepicker._pos=null,e.dpDiv.empty(),e.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(e),a=$.datepicker._checkOffset(e,a,s),e.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":s?"fixed":"absolute",display:"none",left:a.left+"px",top:a.top+"px"}),!e.inline){var r=$.datepicker._get(e,"showAnim"),o=$.datepicker._get(e,"duration"),l=function(){var t=e.dpDiv.find("iframe.ui-datepicker-cover");if(t.length){var i=$.datepicker._getBorders(e.dpDiv);t.css({left:-i[0],top:-i[1],width:e.dpDiv.outerWidth(),height:e.dpDiv.outerHeight()})}};e.dpDiv.zIndex($(t).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&$.effects[r]?e.dpDiv.show(r,$.datepicker._get(e,"showOptions"),o,l):e.dpDiv[r||"show"](r?o:null,l),r&&o||l(),e.input.is(":visible")&&!e.input.is(":disabled")&&e.input.focus(),$.datepicker._curInst=e}}}},_updateDatepicker:function(t){var e=this;e.maxRows=4;var i=$.datepicker._getBorders(t.dpDiv);instActive=t,t.dpDiv.empty().append(this._generateHTML(t));var n=t.dpDiv.find("iframe.ui-datepicker-cover");n.length&&n.css({left:-i[0],top:-i[1],width:t.dpDiv.outerWidth(),height:t.dpDiv.outerHeight()}),t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var s=this._getNumberOfMonths(t),a=s[1],r=17;if(t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),a>1&&t.dpDiv.addClass("ui-datepicker-multi-"+a).css("width",r*a+"em"),t.dpDiv[(1!=s[0]||1!=s[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t==$.datepicker._curInst&&$.datepicker._datepickerShowing&&t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&t.input[0]!=document.activeElement&&t.input.focus(),t.yearshtml){var o=t.yearshtml;setTimeout(function(){o===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),o=t.yearshtml=null},0)}},_getBorders:function(t){var e=function(t){return{thin:1,medium:2,thick:3}[t]||t};return[parseFloat(e(t.css("border-left-width"))),parseFloat(e(t.css("border-top-width")))]},_checkOffset:function(t,e,i){var n=t.dpDiv.outerWidth(),s=t.dpDiv.outerHeight(),a=t.input?t.input.outerWidth():0,r=t.input?t.input.outerHeight():0,o=document.documentElement.clientWidth+$(document).scrollLeft(),l=document.documentElement.clientHeight+$(document).scrollTop();return e.left-=this._get(t,"isRTL")?n-a:0,e.left-=i&&e.left==t.input.offset().left?$(document).scrollLeft():0,e.top-=i&&e.top==t.input.offset().top+r?$(document).scrollTop():0,e.left-=Math.min(e.left,e.left+n>o&&o>n?Math.abs(e.left+n-o):0),e.top-=Math.min(e.top,e.top+s>l&&l>s?Math.abs(s+r):0),e},_findPos:function(t){for(var e=this._getInst(t),i=this._get(e,"isRTL");t&&("hidden"==t.type||1!=t.nodeType||$.expr.filters.hidden(t));)t=t[i?"previousSibling":"nextSibling"];var n=$(t).offset();return[n.left,n.top]},_hideDatepicker:function(t){var e=this._curInst;if(e&&(!t||e==$.data(t,PROP_NAME))&&this._datepickerShowing){var i=this._get(e,"showAnim"),n=this._get(e,"duration"),s=this,a=function(){$.datepicker._tidyDialog(e),s._curInst=null};$.effects&&$.effects[i]?e.dpDiv.hide(i,$.datepicker._get(e,"showOptions"),n,a):e.dpDiv["slideDown"==i?"slideUp":"fadeIn"==i?"fadeOut":"hide"](i?n:null,a),i||a(),this._datepickerShowing=!1;var r=this._get(e,"onClose");r&&r.apply(e.input?e.input[0]:null,[e.input?e.input.val():"",e]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if($.datepicker._curInst){var e=$(t.target),i=$.datepicker._getInst(e[0]);(e[0].id!=$.datepicker._mainDivId&&0==e.parents("#"+$.datepicker._mainDivId).length&&!e.hasClass($.datepicker.markerClassName)&&!e.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||e.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=i)&&$.datepicker._hideDatepicker()}},_adjustDate:function(t,e,i){var n=$(t),s=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(s,e+("M"==i?this._get(s,"showCurrentAtPos"):0),i),this._updateDatepicker(s))},_gotoToday:function(t){var e=$(t),i=this._getInst(e[0]);if(this._get(i,"gotoCurrent")&&i.currentDay)i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear;else{var n=new Date;i.selectedDay=n.getDate(),i.drawMonth=i.selectedMonth=n.getMonth(),i.drawYear=i.selectedYear=n.getFullYear()}this._notifyChange(i),this._adjustDate(e)},_selectMonthYear:function(t,e,i){var n=$(t),s=this._getInst(n[0]);s["selected"+("M"==i?"Month":"Year")]=s["draw"+("M"==i?"Month":"Year")]=parseInt(e.options[e.selectedIndex].value,10),this._notifyChange(s),this._adjustDate(n)},_selectDay:function(t,e,i,n){var s=$(t);if(!$(n).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(s[0])){var a=this._getInst(s[0]);a.selectedDay=a.currentDay=$("a",n).html(),a.selectedMonth=a.currentMonth=e,a.selectedYear=a.currentYear=i,this._selectDate(t,this._formatDate(a,a.currentDay,a.currentMonth,a.currentYear))}},_clearDate:function(t){var e=$(t);this._getInst(e[0]),this._selectDate(e,"")},_selectDate:function(t,e){var i=$(t),n=this._getInst(i[0]);e=null!=e?e:this._formatDate(n),n.input&&n.input.val(e),this._updateAlternate(n);var s=this._get(n,"onSelect");s?s.apply(n.input?n.input[0]:null,[e,n]):n.input&&n.input.trigger("change"),n.inline?this._updateDatepicker(n):(this._hideDatepicker(),this._lastInput=n.input[0],"object"!=typeof n.input[0]&&n.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var e=this._get(t,"altField");if(e){var i=this._get(t,"altFormat")||this._get(t,"dateFormat"),n=this._getDate(t),s=this.formatDate(i,n,this._getFormatConfig(t));$(e).each(function(){$(this).val(s)})}},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e=new Date(t.getTime());e.setDate(e.getDate()+4-(e.getDay()||7));var i=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((i-e)/864e5)/7)+1},parseDate:function(t,e,i){if(null==t||null==e)throw"Invalid arguments";if(e="object"==typeof e?e.toString():e+"",""==e)return null;var n=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff;n="string"!=typeof n?n:(new Date).getFullYear()%100+parseInt(n,10);for(var s=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,a=(i?i.dayNames:null)||this._defaults.dayNames,r=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,o=(i?i.monthNames:null)||this._defaults.monthNames,l=-1,c=-1,h=-1,u=-1,d=!1,f=function(e){var i=b+1<t.length&&t.charAt(b+1)==e;return i&&b++,i},p=function(t){var i=f(t),n="@"==t?14:"!"==t?20:"y"==t&&i?4:"o"==t?3:2,s=new RegExp("^\\d{1,"+n+"}"),a=e.substring(v).match(s);if(!a)throw"Missing number at position "+v;return v+=a[0].length,parseInt(a[0],10)},g=function(t,i,n){var s=$.map(f(t)?n:i,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)}),a=-1;if($.each(s,function(t,i){var n=i[1];return e.substr(v,n.length).toLowerCase()==n.toLowerCase()?(a=i[0],v+=n.length,!1):void 0}),-1!=a)return a+1;throw"Unknown name at position "+v},m=function(){if(e.charAt(v)!=t.charAt(b))throw"Unexpected literal at position "+v;v++},v=0,b=0;b<t.length;b++)if(d)"'"!=t.charAt(b)||f("'")?m():d=!1;else switch(t.charAt(b)){case"d":h=p("d");break;case"D":g("D",s,a);break;case"o":u=p("o");break;case"m":c=p("m");break;case"M":c=g("M",r,o);break;case"y":l=p("y");break;case"@":var y=new Date(p("@"));l=y.getFullYear(),c=y.getMonth()+1,h=y.getDate();break;case"!":var y=new Date((p("!")-this._ticksTo1970)/1e4);l=y.getFullYear(),c=y.getMonth()+1,h=y.getDate();break;case"'":f("'")?m():d=!0;break;default:m()}if(v<e.length)throw"Extra/unparsed characters found in date: "+e.substring(v);if(-1==l?l=(new Date).getFullYear():100>l&&(l+=(new Date).getFullYear()-(new Date).getFullYear()%100+(n>=l?0:-100)),u>-1)for(c=1,h=u;;){var _=this._getDaysInMonth(l,c-1);if(_>=h)break;c++,h-=_}var y=this._daylightSavingAdjust(new Date(l,c-1,h));if(y.getFullYear()!=l||y.getMonth()+1!=c||y.getDate()!=h)throw"Invalid date";return y},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(t,e,i){if(!e)return"";var n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,s=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,o=function(e){var i=d+1<t.length&&t.charAt(d+1)==e;return i&&d++,i},l=function(t,e,i){var n=""+e;if(o(t))for(;n.length<i;)n="0"+n;return n},c=function(t,e,i,n){return o(t)?n[e]:i[e]},h="",u=!1;if(e)for(var d=0;d<t.length;d++)if(u)"'"!=t.charAt(d)||o("'")?h+=t.charAt(d):u=!1;else switch(t.charAt(d)){case"d":h+=l("d",e.getDate(),2);break;case"D":h+=c("D",e.getDay(),n,s);break;case"o":h+=l("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=l("m",e.getMonth()+1,2);break;case"M":h+=c("M",e.getMonth(),a,r);break;case"y":h+=o("y")?e.getFullYear():(e.getYear()%100<10?"0":"")+e.getYear()%100;break;case"@":h+=e.getTime();break;case"!":h+=1e4*e.getTime()+this._ticksTo1970;break;case"'":o("'")?h+="'":u=!0;break;default:h+=t.charAt(d)}return h},_possibleChars:function(t){for(var e="",i=!1,n=function(e){var i=s+1<t.length&&t.charAt(s+1)==e;return i&&s++,i},s=0;s<t.length;s++)if(i)"'"!=t.charAt(s)||n("'")?e+=t.charAt(s):i=!1;else switch(t.charAt(s)){case"d":case"m":case"y":case"@":e+="0123456789";break;case"D":case"M":return null;case"'":n("'")?e+="'":i=!0;break;default:e+=t.charAt(s)}return e},_get:function(t,e){return t.settings[e]!==undefined?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!=t.lastVal){var i,n,s=this._get(t,"dateFormat"),a=t.lastVal=t.input?t.input.val():null;i=n=this._getDefaultDate(t);var r=this._getFormatConfig(t);try{i=this.parseDate(s,a,r)||n}catch(o){this.log(o),a=e?"":a}t.selectedDay=i.getDate(),t.drawMonth=t.selectedMonth=i.getMonth(),t.drawYear=t.selectedYear=i.getFullYear(),t.currentDay=a?i.getDate():0,t.currentMonth=a?i.getMonth():0,t.currentYear=a?i.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(t,e,i){var n=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},s=function(e){try{return $.datepicker.parseDate($.datepicker._get(t,"dateFormat"),e,$.datepicker._getFormatConfig(t))}catch(i){}for(var n=(e.toLowerCase().match(/^c/)?$.datepicker._getDate(t):null)||new Date,s=n.getFullYear(),a=n.getMonth(),r=n.getDate(),o=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=o.exec(e);l;){switch(l[2]||"d"){case"d":case"D":r+=parseInt(l[1],10);break;case"w":case"W":r+=7*parseInt(l[1],10);break;case"m":case"M":a+=parseInt(l[1],10),r=Math.min(r,$.datepicker._getDaysInMonth(s,a));break;case"y":case"Y":s+=parseInt(l[1],10),r=Math.min(r,$.datepicker._getDaysInMonth(s,a))}l=o.exec(e)}return new Date(s,a,r)},a=null==e||""===e?i:"string"==typeof e?s(e):"number"==typeof e?isNaN(e)?i:n(e):new Date(e.getTime());return a=a&&"Invalid Date"==a.toString()?i:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var n=!e,s=t.selectedMonth,a=t.selectedYear,r=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=r.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=r.getMonth(),t.drawYear=t.selectedYear=t.currentYear=r.getFullYear(),s==t.selectedMonth&&a==t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(n?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""==t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_generateHTML:function(t){var e=new Date;e=this._daylightSavingAdjust(new Date(e.getFullYear(),e.getMonth(),e.getDate()));var i=this._get(t,"isRTL"),n=this._get(t,"showButtonPanel"),s=this._get(t,"hideIfNoPrevNext"),a=this._get(t,"navigationAsDateFormat"),r=this._getNumberOfMonths(t),o=this._get(t,"showCurrentAtPos"),l=this._get(t,"stepMonths"),c=1!=r[0]||1!=r[1],h=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),u=this._getMinMaxDate(t,"min"),d=this._getMinMaxDate(t,"max"),f=t.drawMonth-o,p=t.drawYear;if(0>f&&(f+=12,p--),d){var g=this._daylightSavingAdjust(new Date(d.getFullYear(),d.getMonth()-r[0]*r[1]+1,d.getDate()));for(g=u&&u>g?u:g;this._daylightSavingAdjust(new Date(p,f,1))>g;)f--,0>f&&(f=11,p--)}t.drawMonth=f,t.drawYear=p;var m=this._get(t,"prevText");m=a?this.formatDate(m,this._daylightSavingAdjust(new Date(p,f-l,1)),this._getFormatConfig(t)):m;var v=this._canAdjustMonth(t,-1,p,f)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._adjustDate('#"+t.id+"', -"+l+", 'M');\""+' title="'+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"e":"w")+'">'+m+"</span></a>":s?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"e":"w")+'">'+m+"</span></a>",b=this._get(t,"nextText");b=a?this.formatDate(b,this._daylightSavingAdjust(new Date(p,f+l,1)),this._getFormatConfig(t)):b;var y=this._canAdjustMonth(t,1,p,f)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._adjustDate('#"+t.id+"', +"+l+", 'M');\""+' title="'+b+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"w":"e")+'">'+b+"</span></a>":s?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+b+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"w":"e")+'">'+b+"</span></a>",_=this._get(t,"currentText"),x=this._get(t,"gotoCurrent")&&t.currentDay?h:e;_=a?this.formatDate(_,x,this._getFormatConfig(t)):_;var w=t.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+dpuuid+'.datepicker._hideDatepicker();">'+this._get(t,"closeText")+"</button>",k=n?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(i?w:"")+(this._isInRange(t,x)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._gotoToday('#"+t.id+"');\""+">"+_+"</button>":"")+(i?"":w)+"</div>":"",C=parseInt(this._get(t,"firstDay"),10);C=isNaN(C)?0:C;var S=this._get(t,"showWeek"),j=this._get(t,"dayNames");this._get(t,"dayNamesShort");var T=this._get(t,"dayNamesMin"),I=this._get(t,"monthNames"),A=this._get(t,"monthNamesShort"),P=this._get(t,"beforeShowDay"),D=this._get(t,"showOtherMonths"),O=this._get(t,"selectOtherMonths");this._get(t,"calculateWeek")||this.iso8601Week;for(var F=this._getDefaultDate(t),M="",E=0;E<r[0];E++){var N="";this.maxRows=4;for(var H=0;H<r[1];H++){var L=this._daylightSavingAdjust(new Date(p,f,t.selectedDay)),R=" ui-corner-all",z="";if(c){if(z+='<div class="ui-datepicker-group',r[1]>1)switch(H){case 0:z+=" ui-datepicker-group-first",R=" ui-corner-"+(i?"right":"left");break;case r[1]-1:z+=" ui-datepicker-group-last",R=" ui-corner-"+(i?"left":"right");break;default:z+=" ui-datepicker-group-middle",R=""}z+='">'}z+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+R+'">'+(/all|left/.test(R)&&0==E?i?y:v:"")+(/all|right/.test(R)&&0==E?i?v:y:"")+this._generateMonthYearHeader(t,f,p,u,d,E>0||H>0,I,A)+'</div><table class="ui-datepicker-calendar"><thead>'+"<tr>";for(var W=S?'<th class="ui-datepicker-week-col">'+this._get(t,"weekHeader")+"</th>":"",q=0;7>q;q++){var B=(q+C)%7;W+="<th"+((q+C+6)%7>=5?' class="ui-datepicker-week-end"':"")+">"+'<span title="'+j[B]+'">'+T[B]+"</span></th>"}z+=W+"</tr></thead><tbody>";var G=this._getDaysInMonth(p,f);p==t.selectedYear&&f==t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,G));var U=(this._getFirstDayOfMonth(p,f)-C+7)%7,Y=Math.ceil((U+G)/7),V=c?this.maxRows>Y?this.maxRows:Y:Y;this.maxRows=V;for(var X=this._daylightSavingAdjust(new Date(p,f,1-U)),K=0;V>K;K++){z+="<tr>";for(var Q=S?'<td class="ui-datepicker-week-col">'+this._get(t,"calculateWeek")(X)+"</td>":"",q=0;7>q;q++){var J=P?P.apply(t.input?t.input[0]:null,[X]):[!0,""],Z=X.getMonth()!=f,te=Z&&!O||!J[0]||u&&u>X||d&&X>d;Q+='<td class="'+((q+C+6)%7>=5?" ui-datepicker-week-end":"")+(Z?" ui-datepicker-other-month":"")+(X.getTime()==L.getTime()&&f==t.selectedMonth&&t._keyEvent||F.getTime()==X.getTime()&&F.getTime()==L.getTime()?" "+this._dayOverClass:"")+(te?" "+this._unselectableClass+" ui-state-disabled":"")+(Z&&!D?"":" "+J[1]+(X.getTime()==h.getTime()?" "+this._currentClass:"")+(X.getTime()==e.getTime()?" ui-datepicker-today":""))+'"'+(Z&&!D||!J[2]?"":' title="'+J[2]+'"')+(te?"":' onclick="DP_jQuery_'+dpuuid+".datepicker._selectDay('#"+t.id+"',"+X.getMonth()+","+X.getFullYear()+', this);return false;"')+">"+(Z&&!D?"&#xa0;":te?'<span class="ui-state-default">'+X.getDate()+"</span>":'<a class="ui-state-default'+(X.getTime()==e.getTime()?" ui-state-highlight":"")+(X.getTime()==h.getTime()?" ui-state-active":"")+(Z?" ui-priority-secondary":"")+'" href="#">'+X.getDate()+"</a>")+"</td>",X.setDate(X.getDate()+1),X=this._daylightSavingAdjust(X)}z+=Q+"</tr>"}f++,f>11&&(f=0,p++),z+="</tbody></table>"+(c?"</div>"+(r[0]>0&&H==r[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),N+=z}M+=N}return M+=k+($.browser.msie&&parseInt($.browser.version,10)<7&&!t.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),t._keyEvent=!1,M},_generateMonthYearHeader:function(t,e,i,n,s,a,r,o){var l=this._get(t,"changeMonth"),c=this._get(t,"changeYear"),h=this._get(t,"showMonthAfterYear"),u='<div class="ui-datepicker-title">',d="";if(a||!l)d+='<span class="ui-datepicker-month">'+r[e]+"</span>";else{var f=n&&n.getFullYear()==i,p=s&&s.getFullYear()==i;d+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+t.id+"', this, 'M');\" "+">";
for(var g=0;12>g;g++)(!f||g>=n.getMonth())&&(!p||g<=s.getMonth())&&(d+='<option value="'+g+'"'+(g==e?' selected="selected"':"")+">"+o[g]+"</option>");d+="</select>"}if(h||(u+=d+(!a&&l&&c?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",a||!c)u+='<span class="ui-datepicker-year">'+i+"</span>";else{var m=this._get(t,"yearRange").split(":"),v=(new Date).getFullYear(),b=function(t){var e=t.match(/c[+-].*/)?i+parseInt(t.substring(1),10):t.match(/[+-].*/)?v+parseInt(t,10):parseInt(t,10);return isNaN(e)?v:e},y=b(m[0]),_=Math.max(y,b(m[1]||""));for(y=n?Math.max(y,n.getFullYear()):y,_=s?Math.min(_,s.getFullYear()):_,t.yearshtml+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+t.id+"', this, 'Y');\" "+">";_>=y;y++)t.yearshtml+='<option value="'+y+'"'+(y==i?' selected="selected"':"")+">"+y+"</option>";t.yearshtml+="</select>",u+=t.yearshtml,t.yearshtml=null}return u+=this._get(t,"yearSuffix"),h&&(u+=(!a&&l&&c?"":"&#xa0;")+d),u+="</div>"},_adjustInstDate:function(t,e,i){var n=t.drawYear+("Y"==i?e:0),s=t.drawMonth+("M"==i?e:0),a=Math.min(t.selectedDay,this._getDaysInMonth(n,s))+("D"==i?e:0),r=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(n,s,a)));t.selectedDay=r.getDate(),t.drawMonth=t.selectedMonth=r.getMonth(),t.drawYear=t.selectedYear=r.getFullYear(),("M"==i||"Y"==i)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max"),s=i&&i>e?i:e;return s=n&&s>n?n:s},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,n){var s=this._getNumberOfMonths(t),a=this._daylightSavingAdjust(new Date(i,n+(0>e?e:s[0]*s[1]),1));return 0>e&&a.setDate(this._getDaysInMonth(a.getFullYear(),a.getMonth())),this._isInRange(t,a)},_isInRange:function(t,e){var i=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max");return(!i||e.getTime()>=i.getTime())&&(!n||e.getTime()<=n.getTime())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,n){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var s=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(n,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),s,this._getFormatConfig(t))}}),$.fn.datepicker=function(t){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find("body").append($.datepicker.dpDiv),$.datepicker.initialized=!0);var e=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!=t&&"getDate"!=t&&"widget"!=t?"option"==t&&2==arguments.length&&"string"==typeof arguments[1]?$.datepicker["_"+t+"Datepicker"].apply($.datepicker,[this[0]].concat(e)):this.each(function(){"string"==typeof t?$.datepicker["_"+t+"Datepicker"].apply($.datepicker,[this].concat(e)):$.datepicker._attachDatepicker(this,t)}):$.datepicker["_"+t+"Datepicker"].apply($.datepicker,[this[0]].concat(e))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.8.18",window["DP_jQuery_"+dpuuid]=$}(jQuery),/*
 * jQuery UI Dialog 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Dialog
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *  jquery.ui.button.js
 *	jquery.ui.draggable.js
 *	jquery.ui.mouse.js
 *	jquery.ui.position.js
 *	jquery.ui.resizable.js
 */
function(t,e){var i="ui-dialog ui-widget ui-widget-content ui-corner-all ",n={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},s={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},a=t.attrFn||{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0,click:!0};t.widget("ui.dialog",{options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",collision:"fit",using:function(e){var i=t(this).css(e).offset().top;0>i&&t(this).css("top",e.top-i)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),"string"!=typeof this.originalTitle&&(this.originalTitle=""),this.options.title=this.options.title||this.originalTitle;var e=this,n=e.options,s=n.title||"&#160;",a=t.ui.dialog.getTitleId(e.element),r=(e.uiDialog=t("<div></div>")).appendTo(document.body).hide().addClass(i+n.dialogClass).css({zIndex:n.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(i){n.closeOnEscape&&!i.isDefaultPrevented()&&i.keyCode&&i.keyCode===t.ui.keyCode.ESCAPE&&(e.close(i),i.preventDefault())}).attr({role:"dialog","aria-labelledby":a}).mousedown(function(t){e.moveToTop(!1,t)}),o=(e.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(r),(e.uiDialogTitlebar=t("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(r)),l=t('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){l.addClass("ui-state-hover")},function(){l.removeClass("ui-state-hover")}).focus(function(){l.addClass("ui-state-focus")}).blur(function(){l.removeClass("ui-state-focus")}).click(function(t){return e.close(t),!1}).appendTo(o);(e.uiDialogTitlebarCloseText=t("<span></span>")).addClass("ui-icon ui-icon-closethick").text(n.closeText).appendTo(l),t("<span></span>").addClass("ui-dialog-title").attr("id",a).html(s).prependTo(o),t.isFunction(n.beforeclose)&&!t.isFunction(n.beforeClose)&&(n.beforeClose=n.beforeclose),o.find("*").add(o).disableSelection(),n.draggable&&t.fn.draggable&&e._makeDraggable(),n.resizable&&t.fn.resizable&&e._makeResizable(),e._createButtons(n.buttons),e._isOpen=!1,t.fn.bgiframe&&r.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){var t=this;return t.overlay&&t.overlay.destroy(),t.uiDialog.hide(),t.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),t.uiDialog.remove(),t.originalTitle&&t.element.attr("title",t.originalTitle),t},widget:function(){return this.uiDialog},close:function(e){var i,n,s=this;if(!1!==s._trigger("beforeClose",e))return s.overlay&&s.overlay.destroy(),s.uiDialog.unbind("keypress.ui-dialog"),s._isOpen=!1,s.options.hide?s.uiDialog.hide(s.options.hide,function(){s._trigger("close",e)}):(s.uiDialog.hide(),s._trigger("close",e)),t.ui.dialog.overlay.resize(),s.options.modal&&(i=0,t(".ui-dialog").each(function(){this!==s.uiDialog[0]&&(n=t(this).css("z-index"),isNaN(n)||(i=Math.max(i,n)))}),t.ui.dialog.maxZ=i),s},isOpen:function(){return this._isOpen},moveToTop:function(e,i){var n,s=this,a=s.options;return a.modal&&!e||!a.stack&&!a.modal?s._trigger("focus",i):(a.zIndex>t.ui.dialog.maxZ&&(t.ui.dialog.maxZ=a.zIndex),s.overlay&&(t.ui.dialog.maxZ+=1,s.overlay.$el.css("z-index",t.ui.dialog.overlay.maxZ=t.ui.dialog.maxZ)),n={scrollTop:s.element.scrollTop(),scrollLeft:s.element.scrollLeft()},t.ui.dialog.maxZ+=1,s.uiDialog.css("z-index",t.ui.dialog.maxZ),s.element.attr(n),s._trigger("focus",i),s)},open:function(){if(!this._isOpen){var e=this,i=e.options,n=e.uiDialog;return e.overlay=i.modal?new t.ui.dialog.overlay(e):null,e._size(),e._position(i.position),n.show(i.show),e.moveToTop(!0),i.modal&&n.bind("keydown.ui-dialog",function(e){if(e.keyCode===t.ui.keyCode.TAB){var i=t(":tabbable",this),n=i.filter(":first"),s=i.filter(":last");return e.target!==s[0]||e.shiftKey?e.target===n[0]&&e.shiftKey?(s.focus(1),!1):void 0:(n.focus(1),!1)}}),t(e.element.find(":tabbable").get().concat(n.find(".ui-dialog-buttonpane :tabbable").get().concat(n.get()))).eq(0).focus(),e._isOpen=!0,e._trigger("open"),e}},_createButtons:function(e){var i=this,n=!1,s=t("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),r=t("<div></div>").addClass("ui-dialog-buttonset").appendTo(s);i.uiDialog.find(".ui-dialog-buttonpane").remove(),"object"==typeof e&&null!==e&&t.each(e,function(){return!(n=!0)}),n&&(t.each(e,function(e,n){n=t.isFunction(n)?{click:n,text:e}:n;var s=t('<button type="button"></button>').click(function(){n.click.apply(i.element[0],arguments)}).appendTo(r);t.each(n,function(t,e){"click"!==t&&(t in a?s[t](e):s.attr(t,e))}),t.fn.button&&s.button()}),s.appendTo(i.uiDialog))},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i,n=this,s=n.options,a=t(document);n.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(a,r){i="auto"===s.height?"auto":t(this).height(),t(this).height(t(this).height()).addClass("ui-dialog-dragging"),n._trigger("dragStart",a,e(r))},drag:function(t,i){n._trigger("drag",t,e(i))},stop:function(r,o){s.position=[o.position.left-a.scrollLeft(),o.position.top-a.scrollTop()],t(this).removeClass("ui-dialog-dragging").height(i),n._trigger("dragStop",r,e(o)),t.ui.dialog.overlay.resize()}})},_makeResizable:function(i){function n(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}i=i===e?this.options.resizable:i;var s=this,a=s.options,r=s.uiDialog.css("position"),o="string"==typeof i?i:"n,e,s,w,se,sw,ne,nw";s.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:s.element,maxWidth:a.maxWidth,maxHeight:a.maxHeight,minWidth:a.minWidth,minHeight:s._minHeight(),handles:o,start:function(e,i){t(this).addClass("ui-dialog-resizing"),s._trigger("resizeStart",e,n(i))},resize:function(t,e){s._trigger("resize",t,n(e))},stop:function(e,i){t(this).removeClass("ui-dialog-resizing"),a.height=t(this).height(),a.width=t(this).width(),s._trigger("resizeStop",e,n(i)),t.ui.dialog.overlay.resize()}}).css("position",r).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(e){var i,n=[],s=[0,0];e?(("string"==typeof e||"object"==typeof e&&"0"in e)&&(n=e.split?e.split(" "):[e[0],e[1]],1===n.length&&(n[1]=n[0]),t.each(["left","top"],function(t,e){+n[t]===n[t]&&(s[t]=n[t],n[t]=e)}),e={my:n.join(" "),at:n.join(" "),offset:s.join(" ")}),e=t.extend({},t.ui.dialog.prototype.options.position,e)):e=t.ui.dialog.prototype.options.position,i=this.uiDialog.is(":visible"),i||this.uiDialog.show(),this.uiDialog.css({top:0,left:0}).position(t.extend({of:window},e)),i||this.uiDialog.hide()},_setOptions:function(e){var i=this,a={},r=!1;t.each(e,function(t,e){i._setOption(t,e),t in n&&(r=!0),t in s&&(a[t]=e)}),r&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",a)},_setOption:function(e,n){var s=this,a=s.uiDialog;switch(e){case"beforeclose":e="beforeClose";break;case"buttons":s._createButtons(n);break;case"closeText":s.uiDialogTitlebarCloseText.text(""+n);break;case"dialogClass":a.removeClass(s.options.dialogClass).addClass(i+n);break;case"disabled":n?a.addClass("ui-dialog-disabled"):a.removeClass("ui-dialog-disabled");break;case"draggable":var r=a.is(":data(draggable)");r&&!n&&a.draggable("destroy"),!r&&n&&s._makeDraggable();break;case"position":s._position(n);break;case"resizable":var o=a.is(":data(resizable)");o&&!n&&a.resizable("destroy"),o&&"string"==typeof n&&a.resizable("option","handles",n),o||n===!1||s._makeResizable(n);break;case"title":t(".ui-dialog-title",s.uiDialogTitlebar).html(""+(n||"&#160;"))}t.Widget.prototype._setOption.apply(s,arguments)},_size:function(){var e,i,n=this.options,s=this.uiDialog.is(":visible");if(this.element.show().css({width:"auto",minHeight:0,height:0}),n.minWidth>n.width&&(n.width=n.minWidth),e=this.uiDialog.css({height:"auto",width:n.width}).height(),i=Math.max(0,n.minHeight-e),"auto"===n.height)if(t.support.minHeight)this.element.css({minHeight:i,height:"auto"});else{this.uiDialog.show();var a=this.element.css("height","auto").height();s||this.uiDialog.hide(),this.element.height(Math.max(a,i))}else this.element.height(Math.max(n.height-e,0));this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),t.extend(t.ui.dialog,{version:"1.8.18",uuid:0,maxZ:0,getTitleId:function(t){var e=t.attr("id");return e||(this.uuid+=1,e=this.uuid),"ui-dialog-title-"+e},overlay:function(e){this.$el=t.ui.dialog.overlay.create(e)}}),t.extend(t.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:t.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(t){return t+".dialog-overlay"}).join(" "),create:function(e){0===this.instances.length&&(setTimeout(function(){t.ui.dialog.overlay.instances.length&&t(document).bind(t.ui.dialog.overlay.events,function(e){return t(e.target).zIndex()<t.ui.dialog.overlay.maxZ?!1:void 0})},1),t(document).bind("keydown.dialog-overlay",function(i){e.options.closeOnEscape&&!i.isDefaultPrevented()&&i.keyCode&&i.keyCode===t.ui.keyCode.ESCAPE&&(e.close(i),i.preventDefault())}),t(window).bind("resize.dialog-overlay",t.ui.dialog.overlay.resize));var i=(this.oldInstances.pop()||t("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});return t.fn.bgiframe&&i.bgiframe(),this.instances.push(i),i},destroy:function(e){var i=t.inArray(e,this.instances);-1!=i&&this.oldInstances.push(this.instances.splice(i,1)[0]),0===this.instances.length&&t([document,window]).unbind(".dialog-overlay"),e.remove();var n=0;t.each(this.instances,function(){n=Math.max(n,this.css("z-index"))}),this.maxZ=n},height:function(){var e,i;return t.browser.msie&&t.browser.version<7?(e=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),i=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),i>e?t(window).height()+"px":e+"px"):t(document).height()+"px"},width:function(){var e,i;return t.browser.msie?(e=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),i=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),i>e?t(window).width()+"px":e+"px"):t(document).width()+"px"},resize:function(){var e=t([]);t.each(t.ui.dialog.overlay.instances,function(){e=e.add(this)}),e.css({width:0,height:0}).css({width:t.ui.dialog.overlay.width(),height:t.ui.dialog.overlay.height()})}}),t.extend(t.ui.dialog.overlay.prototype,{destroy:function(){t.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),/*
 * jQuery UI Position 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Position
 */
function(t){t.ui=t.ui||{};var e=/left|center|right/,i=/top|center|bottom/,n="center",s={},a=t.fn.position,r=t.fn.offset;t.fn.position=function(r){if(!r||!r.of)return a.apply(this,arguments);r=t.extend({},r);var o,l,c,h=t(r.of),u=h[0],d=(r.collision||"flip").split(" "),f=r.offset?r.offset.split(" "):[0,0];return 9===u.nodeType?(o=h.width(),l=h.height(),c={top:0,left:0}):u.setTimeout?(o=h.width(),l=h.height(),c={top:h.scrollTop(),left:h.scrollLeft()}):u.preventDefault?(r.at="left top",o=l=0,c={top:r.of.pageY,left:r.of.pageX}):(o=h.outerWidth(),l=h.outerHeight(),c=h.offset()),t.each(["my","at"],function(){var t=(r[this]||"").split(" ");1===t.length&&(t=e.test(t[0])?t.concat([n]):i.test(t[0])?[n].concat(t):[n,n]),t[0]=e.test(t[0])?t[0]:n,t[1]=i.test(t[1])?t[1]:n,r[this]=t}),1===d.length&&(d[1]=d[0]),f[0]=parseInt(f[0],10)||0,1===f.length&&(f[1]=f[0]),f[1]=parseInt(f[1],10)||0,"right"===r.at[0]?c.left+=o:r.at[0]===n&&(c.left+=o/2),"bottom"===r.at[1]?c.top+=l:r.at[1]===n&&(c.top+=l/2),c.left+=f[0],c.top+=f[1],this.each(function(){var e,i=t(this),a=i.outerWidth(),h=i.outerHeight(),u=parseInt(t.curCSS(this,"marginLeft",!0))||0,p=parseInt(t.curCSS(this,"marginTop",!0))||0,g=a+u+(parseInt(t.curCSS(this,"marginRight",!0))||0),m=h+p+(parseInt(t.curCSS(this,"marginBottom",!0))||0),v=t.extend({},c);"right"===r.my[0]?v.left-=a:r.my[0]===n&&(v.left-=a/2),"bottom"===r.my[1]?v.top-=h:r.my[1]===n&&(v.top-=h/2),s.fractions||(v.left=Math.round(v.left),v.top=Math.round(v.top)),e={left:v.left-u,top:v.top-p},t.each(["left","top"],function(i,n){t.ui.position[d[i]]&&t.ui.position[d[i]][n](v,{targetWidth:o,targetHeight:l,elemWidth:a,elemHeight:h,collisionPosition:e,collisionWidth:g,collisionHeight:m,offset:f,my:r.my,at:r.at})}),t.fn.bgiframe&&i.bgiframe(),i.offset(t.extend(v,{using:r.using}))})},t.ui.position={fit:{left:function(e,i){var n=t(window),s=i.collisionPosition.left+i.collisionWidth-n.width()-n.scrollLeft();e.left=s>0?e.left-s:Math.max(e.left-i.collisionPosition.left,e.left)},top:function(e,i){var n=t(window),s=i.collisionPosition.top+i.collisionHeight-n.height()-n.scrollTop();e.top=s>0?e.top-s:Math.max(e.top-i.collisionPosition.top,e.top)}},flip:{left:function(e,i){if(i.at[0]!==n){var s=t(window),a=i.collisionPosition.left+i.collisionWidth-s.width()-s.scrollLeft(),r="left"===i.my[0]?-i.elemWidth:"right"===i.my[0]?i.elemWidth:0,o="left"===i.at[0]?i.targetWidth:-i.targetWidth,l=-2*i.offset[0];e.left+=i.collisionPosition.left<0?r+o+l:a>0?r+o+l:0}},top:function(e,i){if(i.at[1]!==n){var s=t(window),a=i.collisionPosition.top+i.collisionHeight-s.height()-s.scrollTop(),r="top"===i.my[1]?-i.elemHeight:"bottom"===i.my[1]?i.elemHeight:0,o="top"===i.at[1]?i.targetHeight:-i.targetHeight,l=-2*i.offset[1];e.top+=i.collisionPosition.top<0?r+o+l:a>0?r+o+l:0}}}},t.offset.setOffset||(t.offset.setOffset=function(e,i){/static/.test(t.curCSS(e,"position"))&&(e.style.position="relative");var n=t(e),s=n.offset(),a=parseInt(t.curCSS(e,"top",!0),10)||0,r=parseInt(t.curCSS(e,"left",!0),10)||0,o={top:i.top-s.top+a,left:i.left-s.left+r};"using"in i?i.using.call(e,o):n.css(o)},t.fn.offset=function(e){var i=this[0];return i&&i.ownerDocument?e?this.each(function(){t.offset.setOffset(this,e)}):r.call(this):null}),function(){var e,i,n,a,r,o=document.getElementsByTagName("body")[0],l=document.createElement("div");e=document.createElement(o?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&t.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(var c in n)e.style[c]=n[c];e.appendChild(l),i=o||document.documentElement,i.insertBefore(e,i.firstChild),l.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;",a=t(l).offset(function(t,e){return e}).offset(),e.innerHTML="",i.removeChild(e),r=a.top+a.left+(o?2e3:0),s.fractions=r>21&&22>r}()}(jQuery),/*
 * jQuery UI Progressbar 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Progressbar
 *
 * Depends:
 *   jquery.ui.core.js
 *   jquery.ui.widget.js
 */
function(t,e){t.widget("ui.progressbar",{options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove(),t.Widget.prototype.destroy.apply(this,arguments)},value:function(t){return t===e?this._value():(this._setOption("value",t),this)},_setOption:function(e,i){"value"===e&&(this.options.value=i,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),t.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var t=this.options.value;return"number"!=typeof t&&(t=0),Math.min(this.options.max,Math.max(this.min,t))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var t=this.value(),e=this._percentage();this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),this.valueDiv.toggle(t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(e.toFixed(0)+"%"),this.element.attr("aria-valuenow",t)}}),t.extend(t.ui.progressbar,{version:"1.8.18"})}(jQuery),/*
 * jQuery UI Slider 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Slider
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(t){var e=5;t.widget("ui.slider",t.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var i=this,n=this.options,s=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),a="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",r=n.values&&n.values.length||1,o=[];this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"+(n.disabled?" ui-slider-disabled ui-disabled":"")),this.range=t([]),n.range&&(n.range===!0&&(n.values||(n.values=[this._valueMin(),this._valueMin()]),n.values.length&&2!==n.values.length&&(n.values=[n.values[0],n.values[0]])),this.range=t("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+("min"===n.range||"max"===n.range?" ui-slider-range-"+n.range:"")));for(var l=s.length;r>l;l+=1)o.push(a);this.handles=s.add(t(o.join("")).appendTo(i.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(t){t.preventDefault()}).hover(function(){n.disabled||t(this).addClass("ui-state-hover")},function(){t(this).removeClass("ui-state-hover")}).focus(function(){n.disabled?t(this).blur():(t(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),t(this).addClass("ui-state-focus"))}).blur(function(){t(this).removeClass("ui-state-focus")}),this.handles.each(function(e){t(this).data("index.ui-slider-handle",e)}),this.handles.keydown(function(n){var s,a,r,o,l=t(this).data("index.ui-slider-handle");if(!i.options.disabled){switch(n.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n.preventDefault(),!i._keySliding&&(i._keySliding=!0,t(this).addClass("ui-state-active"),s=i._start(n,l),s===!1))return}switch(o=i.options.step,a=r=i.options.values&&i.options.values.length?i.values(l):i.value(),n.keyCode){case t.ui.keyCode.HOME:r=i._valueMin();break;case t.ui.keyCode.END:r=i._valueMax();break;case t.ui.keyCode.PAGE_UP:r=i._trimAlignValue(a+(i._valueMax()-i._valueMin())/e);break;case t.ui.keyCode.PAGE_DOWN:r=i._trimAlignValue(a-(i._valueMax()-i._valueMin())/e);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(a===i._valueMax())return;r=i._trimAlignValue(a+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(a===i._valueMin())return;r=i._trimAlignValue(a-o)}i._slide(n,l,r)}}).keyup(function(e){var n=t(this).data("index.ui-slider-handle");i._keySliding&&(i._keySliding=!1,i._stop(e,n),i._change(e,n),t(this).removeClass("ui-state-active"))}),this._refreshValue(),this._animateOff=!1},destroy:function(){return this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy(),this},_mouseCapture:function(e){var i,n,s,a,r,o,l,c,h,u=this.options;return u.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(i),s=this._valueMax()-this._valueMin()+1,r=this,this.handles.each(function(e){var i=Math.abs(n-r.values(e));s>i&&(s=i,a=t(this),o=e)}),u.range===!0&&this.values(1)===u.min&&(o+=1,a=t(this.handles[o])),l=this._start(e,o),l===!1?!1:(this._mouseSliding=!0,r._handleIndex=o,a.addClass("ui-state-active").focus(),c=a.offset(),h=!t(e.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=h?{left:0,top:0}:{left:e.pageX-c.left-a.width()/2,top:e.pageY-c.top-a.height()/2-(parseInt(a.css("borderTopWidth"),10)||0)-(parseInt(a.css("borderBottomWidth"),10)||0)+(parseInt(a.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,o,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,n,s,a;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/e,n>1&&(n=1),0>n&&(n=0),"vertical"===this.orientation&&(n=1-n),s=this._valueMax()-this._valueMin(),a=this._valueMin()+n*s,this._trimAlignValue(a)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("start",t,i)},_slide:function(t,e,i){var n,s,a;this.options.values&&this.options.values.length?(n=this.values(e?0:1),2===this.options.values.length&&this.options.range===!0&&(0===e&&i>n||1===e&&n>i)&&(i=n),i!==this.values(e)&&(s=this.values(),s[e]=i,a=this._trigger("slide",t,{handle:this.handles[e],value:i,values:s}),n=this.values(e?0:1),a!==!1&&this.values(e,i,!0))):i!==this.value()&&(a=this._trigger("slide",t,{handle:this.handles[e],value:i}),a!==!1&&this.value(i))},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("stop",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("change",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(e,i){var n,s,a;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),this._change(null,e),void 0;if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(n=this.options.values,s=arguments[0],a=0;a<n.length;a+=1)n[a]=this._trimAlignValue(s[a]),this._change(null,a);this._refreshValue()},_setOption:function(e,i){var n,s=0;switch(t.isArray(this.options.values)&&(s=this.options.values.length),t.Widget.prototype._setOption.apply(this,arguments),e){case"disabled":i?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.propAttr("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;s>n;n+=1)this._change(null,n);this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,n;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,n=t-i;return 2*Math.abs(i)>=e&&(n+=i>0?e:-e),parseFloat(n.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,i,n,s,a,r=this.options.range,o=this.options,l=this,c=this._animateOff?!1:o.animate,h={};this.options.values&&this.options.values.length?this.handles.each(function(n){e=100*((l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())),h["horizontal"===l.orientation?"left":"bottom"]=e+"%",t(this).stop(1,1)[c?"animate":"css"](h,o.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[c?"animate":"css"]({left:e+"%"},o.animate),1===n&&l.range[c?"animate":"css"]({width:e-i+"%"},{queue:!1,duration:o.animate})):(0===n&&l.range.stop(1,1)[c?"animate":"css"]({bottom:e+"%"},o.animate),1===n&&l.range[c?"animate":"css"]({height:e-i+"%"},{queue:!1,duration:o.animate}))),i=e}):(n=this.value(),s=this._valueMin(),a=this._valueMax(),e=a!==s?100*((n-s)/(a-s)):0,h["horizontal"===l.orientation?"left":"bottom"]=e+"%",this.handle.stop(1,1)[c?"animate":"css"](h,o.animate),"min"===r&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:e+"%"},o.animate),"max"===r&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-e+"%"},{queue:!1,duration:o.animate}),"min"===r&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:e+"%"},o.animate),"max"===r&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-e+"%"},{queue:!1,duration:o.animate}))}}),t.extend(t.ui.slider,{version:"1.8.18"})}(jQuery),/*
 * jQuery UI Tabs 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Tabs
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */
function(e,i){function n(){return++a}function s(){return++r}var a=0,r=0;e.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(!0)},_setOption:function(t,e){if("selected"==t){if(this.options.collapsible&&e==this.options.selected)return;this.select(e)}else this.options[t]=e,this._tabify()},_tabId:function(t){return t.title&&t.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+n()},_sanitizeSelector:function(t){return t.replace(/:/g,"\\:")},_cookie:function(){var t=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+s());return e.cookie.apply(null,[t].concat(e.makeArray(arguments)))},_ui:function(t,e){return{tab:t,panel:e,index:this.anchors.index(t)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var t=e(this);t.html(t.data("label.tabs")).removeData("label.tabs")})},_tabify:function(t){function n(t,i){t.css("display",""),!e.support.opacity&&i.opacity&&t[0].style.removeAttribute("filter")}var s=this,a=this.options,r=/^#.+/;this.list=this.element.find("ol,ul").eq(0),this.lis=e(" > li:has(a[href])",this.list),this.anchors=this.lis.map(function(){return e("a",this)[0]}),this.panels=e([]),this.anchors.each(function(t,i){var n,o=e(i).attr("href"),l=o.split("#")[0];if(l&&(l===location.toString().split("#")[0]||(n=e("base")[0])&&l===n.href)&&(o=i.hash,i.href=o),r.test(o))s.panels=s.panels.add(s.element.find(s._sanitizeSelector(o)));else if(o&&"#"!==o){e.data(i,"href.tabs",o),e.data(i,"load.tabs",o.replace(/#.*$/,""));var c=s._tabId(i);i.href="#"+c;var h=s.element.find("#"+c);h.length||(h=e(a.panelTemplate).attr("id",c).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(s.panels[t-1]||s.list),h.data("destroy.tabs",!0)),s.panels=s.panels.add(h)}else a.disabled.push(t)}),t?(this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),a.selected===i?(location.hash&&this.anchors.each(function(t,e){return e.hash==location.hash?(a.selected=t,!1):void 0}),"number"!=typeof a.selected&&a.cookie&&(a.selected=parseInt(s._cookie(),10)),"number"!=typeof a.selected&&this.lis.filter(".ui-tabs-selected").length&&(a.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))),a.selected=a.selected||(this.lis.length?0:-1)):null===a.selected&&(a.selected=-1),a.selected=a.selected>=0&&this.anchors[a.selected]||a.selected<0?a.selected:0,a.disabled=e.unique(a.disabled.concat(e.map(this.lis.filter(".ui-state-disabled"),function(t){return s.lis.index(t)}))).sort(),-1!=e.inArray(a.selected,a.disabled)&&a.disabled.splice(e.inArray(a.selected,a.disabled),1),this.panels.addClass("ui-tabs-hide"),this.lis.removeClass("ui-tabs-selected ui-state-active"),a.selected>=0&&this.anchors.length&&(s.element.find(s._sanitizeSelector(s.anchors[a.selected].hash)).removeClass("ui-tabs-hide"),this.lis.eq(a.selected).addClass("ui-tabs-selected ui-state-active"),s.element.queue("tabs",function(){s._trigger("show",null,s._ui(s.anchors[a.selected],s.element.find(s._sanitizeSelector(s.anchors[a.selected].hash))[0]))}),this.load(a.selected)),e(window).bind("unload",function(){s.lis.add(s.anchors).unbind(".tabs"),s.lis=s.anchors=s.panels=null})):a.selected=this.lis.index(this.lis.filter(".ui-tabs-selected")),this.element[a.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible"),a.cookie&&this._cookie(a.selected,a.cookie);for(var o,l=0;o=this.lis[l];l++)e(o)[-1==e.inArray(l,a.disabled)||e(o).hasClass("ui-tabs-selected")?"removeClass":"addClass"]("ui-state-disabled");if(a.cache===!1&&this.anchors.removeData("cache.tabs"),this.lis.add(this.anchors).unbind(".tabs"),"mouseover"!==a.event){var c=function(t,e){e.is(":not(.ui-state-disabled)")&&e.addClass("ui-state-"+t)},h=function(t,e){e.removeClass("ui-state-"+t)};this.lis.bind("mouseover.tabs",function(){c("hover",e(this))}),this.lis.bind("mouseout.tabs",function(){h("hover",e(this))}),this.anchors.bind("focus.tabs",function(){c("focus",e(this).closest("li"))}),this.anchors.bind("blur.tabs",function(){h("focus",e(this).closest("li"))})}var u,d;a.fx&&(e.isArray(a.fx)?(u=a.fx[0],d=a.fx[1]):u=d=a.fx);var f=d?function(t,i){e(t).closest("li").addClass("ui-tabs-selected ui-state-active"),i.hide().removeClass("ui-tabs-hide").animate(d,d.duration||"normal",function(){n(i,d),s._trigger("show",null,s._ui(t,i[0]))})}:function(t,i){e(t).closest("li").addClass("ui-tabs-selected ui-state-active"),i.removeClass("ui-tabs-hide"),s._trigger("show",null,s._ui(t,i[0]))},p=u?function(t,e){e.animate(u,u.duration||"normal",function(){s.lis.removeClass("ui-tabs-selected ui-state-active"),e.addClass("ui-tabs-hide"),n(e,u),s.element.dequeue("tabs")})}:function(t,e){s.lis.removeClass("ui-tabs-selected ui-state-active"),e.addClass("ui-tabs-hide"),s.element.dequeue("tabs")};this.anchors.bind(a.event+".tabs",function(){var t=this,i=e(t).closest("li"),n=s.panels.filter(":not(.ui-tabs-hide)"),r=s.element.find(s._sanitizeSelector(t.hash));if(i.hasClass("ui-tabs-selected")&&!a.collapsible||i.hasClass("ui-state-disabled")||i.hasClass("ui-state-processing")||s.panels.filter(":animated").length||s._trigger("select",null,s._ui(this,r[0]))===!1)return this.blur(),!1;if(a.selected=s.anchors.index(this),s.abort(),a.collapsible){if(i.hasClass("ui-tabs-selected"))return a.selected=-1,a.cookie&&s._cookie(a.selected,a.cookie),s.element.queue("tabs",function(){p(t,n)}).dequeue("tabs"),this.blur(),!1;if(!n.length)return a.cookie&&s._cookie(a.selected,a.cookie),s.element.queue("tabs",function(){f(t,r)}),s.load(s.anchors.index(this)),this.blur(),!1}if(a.cookie&&s._cookie(a.selected,a.cookie),!r.length)throw"jQuery UI Tabs: Mismatching fragment identifier.";n.length&&s.element.queue("tabs",function(){p(t,n)}),s.element.queue("tabs",function(){f(t,r)}),s.load(s.anchors.index(this)),e.browser.msie&&this.blur()}),this.anchors.bind("click.tabs",function(){return!1})},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$="+t+"]"))),t},destroy:function(){var t=this.options;return this.abort(),this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs"),this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.anchors.each(function(){var t=e.data(this,"href.tabs");t&&(this.href=t);var i=e(this).unbind(".tabs");e.each(["href","load","cache"],function(t,e){i.removeData(e+".tabs")})}),this.lis.unbind(".tabs").add(this.panels).each(function(){e.data(this,"destroy.tabs")?e(this).remove():e(this).removeClass(["ui-state-default","ui-corner-top","ui-tabs-selected","ui-state-active","ui-state-hover","ui-state-focus","ui-state-disabled","ui-tabs-panel","ui-widget-content","ui-corner-bottom","ui-tabs-hide"].join(" "))}),t.cookie&&this._cookie(null,t.cookie),this},add:function(t,n,s){s===i&&(s=this.anchors.length);var a=this,r=this.options,o=e(r.tabTemplate.replace(/#\{href\}/g,t).replace(/#\{label\}/g,n)),l=t.indexOf("#")?this._tabId(e("a",o)[0]):t.replace("#","");o.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0);var c=a.element.find("#"+l);return c.length||(c=e(r.panelTemplate).attr("id",l).data("destroy.tabs",!0)),c.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"),s>=this.lis.length?(o.appendTo(this.list),c.appendTo(this.list[0].parentNode)):(o.insertBefore(this.lis[s]),c.insertBefore(this.panels[s])),r.disabled=e.map(r.disabled,function(t){return t>=s?++t:t}),this._tabify(),1==this.anchors.length&&(r.selected=0,o.addClass("ui-tabs-selected ui-state-active"),c.removeClass("ui-tabs-hide"),this.element.queue("tabs",function(){a._trigger("show",null,a._ui(a.anchors[0],a.panels[0]))}),this.load(0)),this._trigger("add",null,this._ui(this.anchors[s],this.panels[s])),this},remove:function(t){t=this._getIndex(t);var i=this.options,n=this.lis.eq(t).remove(),s=this.panels.eq(t).remove();return n.hasClass("ui-tabs-selected")&&this.anchors.length>1&&this.select(t+(t+1<this.anchors.length?1:-1)),i.disabled=e.map(e.grep(i.disabled,function(e){return e!=t}),function(e){return e>=t?--e:e}),this._tabify(),this._trigger("remove",null,this._ui(n.find("a")[0],s[0])),this},enable:function(t){t=this._getIndex(t);var i=this.options;if(-1!=e.inArray(t,i.disabled))return this.lis.eq(t).removeClass("ui-state-disabled"),i.disabled=e.grep(i.disabled,function(e){return e!=t}),this._trigger("enable",null,this._ui(this.anchors[t],this.panels[t])),this},disable:function(t){t=this._getIndex(t);var e=this.options;return t!=e.selected&&(this.lis.eq(t).addClass("ui-state-disabled"),e.disabled.push(t),e.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[t],this.panels[t]))),this},select:function(t){if(t=this._getIndex(t),-1==t){if(!this.options.collapsible||-1==this.options.selected)return this;t=this.options.selected}return this.anchors.eq(t).trigger(this.options.event+".tabs"),this},load:function(t){t=this._getIndex(t);var i=this,n=this.options,s=this.anchors.eq(t)[0],a=e.data(s,"load.tabs");if(this.abort(),!a||0!==this.element.queue("tabs").length&&e.data(s,"cache.tabs"))return this.element.dequeue("tabs"),void 0;if(this.lis.eq(t).addClass("ui-state-processing"),n.spinner){var r=e("span",s);r.data("label.tabs",r.html()).html(n.spinner)}return this.xhr=e.ajax(e.extend({},n.ajaxOptions,{url:a,success:function(a,r){i.element.find(i._sanitizeSelector(s.hash)).html(a),i._cleanup(),n.cache&&e.data(s,"cache.tabs",!0),i._trigger("load",null,i._ui(i.anchors[t],i.panels[t]));try{n.ajaxOptions.success(a,r)}catch(o){}},error:function(e,a){i._cleanup(),i._trigger("load",null,i._ui(i.anchors[t],i.panels[t]));try{n.ajaxOptions.error(e,a,t,s)}catch(r){}}})),i.element.dequeue("tabs"),this},abort:function(){return this.element.queue([]),this.panels.stop(!1,!0),this.element.queue("tabs",this.element.queue("tabs").splice(-2,2)),this.xhr&&(this.xhr.abort(),delete this.xhr),this._cleanup(),this},url:function(t,e){return this.anchors.eq(t).removeData("cache.tabs").data("load.tabs",e),this},length:function(){return this.anchors.length}}),e.extend(e.ui.tabs,{version:"1.8.18"}),e.extend(e.ui.tabs.prototype,{rotation:null,rotate:function(e,i){var n=this,s=this.options,a=n._rotate||(n._rotate=function(t){clearTimeout(n.rotation),n.rotation=setTimeout(function(){var t=s.selected;n.select(++t<n.anchors.length?t:0)},e),t&&t.stopPropagation()}),r=n._unrotate||(n._unrotate=i?function(){t=s.selected,a()}:function(t){t.clientX&&n.rotate(null)});return e?(this.element.bind("tabsshow",a),this.anchors.bind(s.event+".tabs",r),a()):(clearTimeout(n.rotation),this.element.unbind("tabsshow",a),this.anchors.unbind(s.event+".tabs",r),delete this._rotate,delete this._unrotate),this}})}(jQuery),/**
 * jQuery Cookie plugin
 *
 * Copyright (c) 2010 Klaus Hartl (stilbuero.de)
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 */
jQuery.cookie=function(t,e,i){if(arguments.length>1&&"[object Object]"!==String(e)){if(i=jQuery.extend({},i),(null===e||void 0===e)&&(i.expires=-1),"number"==typeof i.expires){var n=i.expires,s=i.expires=new Date;s.setDate(s.getDate()+n)}return e=String(e),document.cookie=[encodeURIComponent(t),"=",i.raw?e:encodeURIComponent(e),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}i=e||{};var a,r=i.raw?function(t){return t}:decodeURIComponent;return(a=new RegExp("(?:^|; )"+encodeURIComponent(t)+"=([^;]*)").exec(document.cookie))?r(a[1]):null},/*
 * jQuery Plugin: Tokenizing Autocomplete Text Entry
 * Version 1.6.0
 *
 * Copyright (c) 2009 James Smith (http://loopj.com)
 * Licensed jointly under the GPL and MIT licenses,
 * choose which one suits your project best!
 *
 */
function(t){var e={method:"GET",contentType:"json",queryParam:"q",searchDelay:300,minChars:1,propertyToSearch:"name",jsonContainer:null,hintText:"Type in a search term",noResultsText:"No results",searchingText:"Searching...",deleteText:"&times;",animateDropdown:!0,tokenLimit:null,tokenDelimiter:",",preventDuplicates:!1,tokenValue:"id",prePopulate:null,processPrePopulate:!1,idPrefix:"token-input-",resultsFormatter:function(t){return"<li>"+t[this.propertyToSearch]+"</li>"},tokenFormatter:function(t){return"<li><p>"+t[this.propertyToSearch]+"</p></li>"},onResult:null,onAdd:null,onDelete:null,onReady:null},i={tokenList:"token-input-list",token:"token-input-token",tokenDelete:"token-input-delete-token",selectedToken:"token-input-selected-token",highlightedToken:"token-input-highlighted-token",dropdown:"token-input-dropdown",dropdownItem:"token-input-dropdown-item",dropdownItem2:"token-input-dropdown-item2",selectedDropdownItem:"token-input-selected-dropdown-item",inputToken:"token-input-input-token"},n={BEFORE:0,AFTER:1,END:2},s={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUMPAD_ENTER:108,COMMA:188},a={init:function(i,n){var s=t.extend({},e,n||{});return this.each(function(){t(this).data("tokenInputObject",new t.TokenList(this,i,s))})},clear:function(){return this.data("tokenInputObject").clear(),this},add:function(t){return this.data("tokenInputObject").add(t),this},remove:function(t){return this.data("tokenInputObject").remove(t),this},get:function(){return this.data("tokenInputObject").getTokens()}};t.fn.tokenInput=function(t){return a[t]?a[t].apply(this,Array.prototype.slice.call(arguments,1)):a.init.apply(this,arguments)},t.TokenList=function(e,a,r){function o(){return null!==r.tokenLimit&&O>=r.tokenLimit?(M.hide(),m(),void 0):void 0}function l(){if(P!==(P=M.val())){var t=P.replace(/&/g,"&amp;").replace(/\s/g," ").replace(/</g,"&lt;").replace(/>/g,"&gt;");W.html(t),M.width(W.width()+30)}}function c(e){var i=r.tokenFormatter(e);i=t(i).addClass(r.classes.token).insertBefore(R),t("<span>"+r.deleteText+"</span>").addClass(r.classes.tokenDelete).appendTo(i).click(function(){return p(t(this).parent()),E.change(),!1});var n={id:e.id};return n[r.propertyToSearch]=e[r.propertyToSearch],t.data(i.get(0),"tokeninput",e),D=D.slice(0,$).concat([n]).concat(D.slice($)),$++,g(D,E),O+=1,null!==r.tokenLimit&&O>=r.tokenLimit&&(M.hide(),m()),i}function h(e){var i=r.onAdd;if(O>0&&r.preventDuplicates){var n=null;if(L.children().each(function(){var i=t(this),s=t.data(i.get(0),"tokeninput");return s&&s.id===e.id?(n=i,!1):void 0}),n)return u(n),R.insertAfter(n),M.focus(),void 0}(null==r.tokenLimit||O<r.tokenLimit)&&(c(e),o()),M.val(""),m(),t.isFunction(i)&&i.call(E,e)}function u(t){t.addClass(r.classes.selectedToken),N=t.get(0),M.val(""),m()}function d(t,e){t.removeClass(r.classes.selectedToken),N=null,e===n.BEFORE?(R.insertBefore(t),$--):e===n.AFTER?(R.insertAfter(t),$++):(R.appendTo(L),$=O),M.focus()}function f(e){var i=N;N&&d(t(N),n.END),i===e.get(0)?d(e,n.END):u(e)}function p(e){var i=t.data(e.get(0),"tokeninput"),n=r.onDelete,s=e.prevAll().length;s>$&&s--,e.remove(),N=null,M.focus(),D=D.slice(0,s).concat(D.slice(s+1)),$>s&&$--,g(D,E),O-=1,null!==r.tokenLimit&&M.show().val("").focus(),t.isFunction(n)&&n.call(E,i)}function g(e,i){var n=t.map(e,function(t){return t[r.tokenValue]});i.val(n.join(r.tokenDelimiter))}function m(){z.hide().empty(),H=null}function v(){z.css({position:"absolute",top:t(L).offset().top+t(L).outerHeight(),left:t(L).offset().left,zindex:999}).show()}function b(){r.searchingText&&(z.html("<p>"+r.searchingText+"</p>"),v())}function y(){r.hintText&&(z.html("<p>"+r.hintText+"</p>"),v())}function _(t,e){return t.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+e+")(?![^<>]*>)(?![^&;]+;)","gi"),"<b>$1</b>")}function x(t,e,i){return t.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+e+")(?![^<>]*>)(?![^&;]+;)","g"),_(e,i))}function w(e,i){if(i&&i.length){z.empty();var n=t("<ul>").appendTo(z).mouseover(function(e){k(t(e.target).closest("li"))}).mousedown(function(e){return h(t(e.target).closest("li").data("tokeninput")),E.change(),!1}).hide();t.each(i,function(i,s){var a=r.resultsFormatter(s);a=x(a,s[r.propertyToSearch],e),a=t(a).appendTo(n),i%2?a.addClass(r.classes.dropdownItem):a.addClass(r.classes.dropdownItem2),0===i&&k(a),t.data(a.get(0),"tokeninput",s)}),v(),r.animateDropdown?n.slideDown("fast"):n.show()}else r.noResultsText&&(z.html("<p>"+r.noResultsText+"</p>"),v())}function k(e){e&&(H&&C(t(H)),e.addClass(r.classes.selectedDropdownItem),H=e.get(0))}function C(t){t.removeClass(r.classes.selectedDropdownItem),H=null}function S(){var e=M.val().toLowerCase();e&&e.length&&(N&&d(t(N),n.AFTER),e.length>=r.minChars?(b(),clearTimeout(A),A=setTimeout(function(){j(e)},r.searchDelay)):m())}function j(e){var i=e+T(),n=F.get(i);if(n)w(e,n);else if(r.url){var s=T(),a={};if(a.data={},s.indexOf("?")>-1){var o=s.split("?");a.url=o[0];var l=o[1].split("&");t.each(l,function(t,e){var i=e.split("=");a.data[i[0]]=i[1]})}else a.url=s;a.data[r.queryParam]=e,a.type=r.method,a.dataType=r.contentType,r.crossDomain&&(a.dataType="jsonp"),a.success=function(n){t.isFunction(r.onResult)&&(n=r.onResult.call(E,n)),F.add(i,r.jsonContainer?n[r.jsonContainer]:n),M.val().toLowerCase()===e&&w(e,r.jsonContainer?n[r.jsonContainer]:n)},t.ajax(a)}else if(r.local_data){var c=t.grep(r.local_data,function(t){return t[r.propertyToSearch].toLowerCase().indexOf(e.toLowerCase())>-1});t.isFunction(r.onResult)&&(c=r.onResult.call(E,c)),F.add(i,c),w(e,c)}}function T(){var t=r.url;return"function"==typeof r.url&&(t=r.url.call()),t}if("string"===t.type(a)||"function"===t.type(a)){r.url=a;var I=T();void 0===r.crossDomain&&(r.crossDomain=-1===I.indexOf("://")?!1:location.href.split(/\/+/g)[1]!==I.split(/\/+/g)[1])}else"object"==typeof a&&(r.local_data=a);r.classes?r.classes=t.extend({},i,r.classes):r.theme?(r.classes={},t.each(i,function(t,e){r.classes[t]=e+"-"+r.theme})):r.classes=i;var A,P,D=[],O=0,F=new t.TokenList.Cache,M=t('<input type="text"  autocomplete="off">').css({outline:"none"}).attr("id",r.idPrefix+e.id).focus(function(){(null===r.tokenLimit||r.tokenLimit!==O)&&y()}).blur(function(){m(),t(this).val("")}).bind("keyup keydown blur update",l).keydown(function(e){var i,a;switch(e.keyCode){case s.LEFT:case s.RIGHT:case s.UP:case s.DOWN:if(t(this).val()){var r=null;return r=e.keyCode===s.DOWN||e.keyCode===s.RIGHT?t(H).next():t(H).prev(),r.length&&k(r),!1}i=R.prev(),a=R.next(),i.length&&i.get(0)===N||a.length&&a.get(0)===N?e.keyCode===s.LEFT||e.keyCode===s.UP?d(t(N),n.BEFORE):d(t(N),n.AFTER):e.keyCode!==s.LEFT&&e.keyCode!==s.UP||!i.length?e.keyCode!==s.RIGHT&&e.keyCode!==s.DOWN||!a.length||u(t(a.get(0))):u(t(i.get(0)));break;case s.BACKSPACE:if(i=R.prev(),!t(this).val().length)return N?(p(t(N)),E.change()):i.length&&u(t(i.get(0))),!1;1===t(this).val().length?m():setTimeout(function(){S()},5);break;case s.TAB:case s.ENTER:case s.NUMPAD_ENTER:case s.COMMA:if(H)return h(t(H).data("tokeninput")),E.change(),!1;break;case s.ESCAPE:return m(),!0;default:String.fromCharCode(e.which)&&setTimeout(function(){S()},5)}}),E=t(e).hide().val("").focus(function(){M.focus()}).blur(function(){M.blur()}),N=null,$=0,H=null,L=t("<ul />").addClass(r.classes.tokenList).click(function(e){var i=t(e.target).closest("li");i&&i.get(0)&&t.data(i.get(0),"tokeninput")?f(i):(N&&d(t(N),n.END),M.focus())}).mouseover(function(e){var i=t(e.target).closest("li");i&&N!==this&&i.addClass(r.classes.highlightedToken)}).mouseout(function(e){var i=t(e.target).closest("li");i&&N!==this&&i.removeClass(r.classes.highlightedToken)}).insertBefore(E),R=t("<li />").addClass(r.classes.inputToken).appendTo(L).append(M),z=t("<div>").addClass(r.classes.dropdown).appendTo("body").hide(),W=t("<tester/>").insertAfter(M).css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:M.css("fontSize"),fontFamily:M.css("fontFamily"),fontWeight:M.css("fontWeight"),letterSpacing:M.css("letterSpacing"),whiteSpace:"nowrap"});E.val("");var q=r.prePopulate||E.data("pre");r.processPrePopulate&&t.isFunction(r.onResult)&&(q=r.onResult.call(E,q)),q&&q.length&&t.each(q,function(t,e){c(e),o()}),t.isFunction(r.onReady)&&r.onReady.call(),this.clear=function(){L.children("li").each(function(){0===t(this).children("input").length&&p(t(this))})},this.add=function(t){h(t)},this.remove=function(e){L.children("li").each(function(){if(0===t(this).children("input").length){var i=t(this).data("tokeninput"),n=!0;for(var s in e)if(e[s]!==i[s]){n=!1;break}n&&p(t(this))}})},this.getTokens=function(){return D}},t.TokenList.Cache=function(e){var i=t.extend({max_size:500},e),n={},s=0,a=function(){n={},s=0};this.add=function(t,e){s>i.max_size&&a(),n[t]||(s+=1),n[t]=e},this.get=function(t){return n[t]}}}(jQuery),function(t){t.extend(t.fn,{delayedObserver:function(e,i,n){return this.each(function(){var s=t(this),a=n||{};s.data("oldval",s.val()).data("delay",i||.5).data("condition",a.condition||function(){return t(this).data("oldval")==t(this).val()}).data("callback",e)[a.event||"keyup"](function(){s.data("condition").apply(s)||(s.data("timer")&&clearTimeout(s.data("timer")),s.data("timer",setTimeout(function(){s.data("callback").apply(s)},1e3*s.data("delay"))),s.data("oldval",s.val()))})})}})}(jQuery),function(){if(!jQuery||!jQuery.jstree){var t=!1,e=!1,i=!1;!function(n){n.vakata={},n.vakata.css={get_css:function(t,e,i){t=t.toLowerCase();var n=i.cssRules||i.rules,s=0;do{if(n.length&&s>n.length+5)return!1;if(n[s].selectorText&&n[s].selectorText.toLowerCase()==t)return e===!0?(i.removeRule&&i.removeRule(s),i.deleteRule&&i.deleteRule(s),!0):n[s]}while(n[++s]);return!1},add_css:function(t,e){return n.jstree.css.get_css(t,!1,e)?!1:(e.insertRule?e.insertRule(t+" { }",0):e.addRule(t,null,0),n.vakata.css.get_css(t))},remove_css:function(t,e){return n.vakata.css.get_css(t,!0,e)},add_sheet:function(t){var e=!1,i=!0;if(t.str)return t.title&&(e=n("style[id='"+t.title+"-stylesheet']")[0]),e?i=!1:(e=document.createElement("style"),e.setAttribute("type","text/css"),t.title&&e.setAttribute("id",t.title+"-stylesheet")),e.styleSheet?i?(document.getElementsByTagName("head")[0].appendChild(e),e.styleSheet.cssText=t.str):e.styleSheet.cssText=e.styleSheet.cssText+" "+t.str:(e.appendChild(document.createTextNode(t.str)),document.getElementsByTagName("head")[0].appendChild(e)),e.sheet||e.styleSheet;if(t.url){if(!document.createStyleSheet)return e=document.createElement("link"),e.rel="stylesheet",e.type="text/css",e.media="all",e.href=t.url,document.getElementsByTagName("head")[0].appendChild(e),e.styleSheet;try{e=document.createStyleSheet(t.url)}catch(s){}}}};var s=[],a=-1,r={},o={};n.fn.jstree=function(t){var e="string"==typeof t,i=Array.prototype.slice.call(arguments,1),a=this;if(e){if("_"==t.substring(0,1))return a;this.each(function(){var e=s[n.data(this,"jstree-instance-id")],r=e&&n.isFunction(e[t])?e[t].apply(e,i):e;return"undefined"!=typeof r&&(0===t.indexOf("is_")||r!==!0&&r!==!1)?(a=r,!1):void 0})}else this.each(function(){var e=n.data(this,"jstree-instance-id"),a=[],o=t?n.extend({},!0,t):{},l=n(this),c=!1,h=[];a=a.concat(i),l.data("jstree")&&a.push(l.data("jstree")),o=a.length?n.extend.apply(null,[!0,o].concat(a)):o,"undefined"!=typeof e&&s[e]&&s[e].destroy(),e=parseInt(s.push({}),10)-1,n.data(this,"jstree-instance-id",e),o.plugins=n.isArray(o.plugins)?o.plugins:n.jstree.defaults.plugins.slice(),o.plugins.unshift("core"),o.plugins=o.plugins.sort().join(",,").replace(/(,|^)([^,]+)(,,\2)+(,|$)/g,"$1$2$4").replace(/,,+/g,",").replace(/,$/,"").split(","),c=n.extend(!0,{},n.jstree.defaults,o),c.plugins=o.plugins,n.each(r,function(t){-1===n.inArray(t,c.plugins)?(c[t]=null,delete c[t]):h.push(t)}),c.plugins=h,s[e]=new n.jstree._instance(e,n(this).addClass("jstree jstree-"+e),c),n.each(s[e]._get_settings().plugins,function(t,i){s[e].data[i]={}}),n.each(s[e]._get_settings().plugins,function(t,i){r[i]&&r[i].__init.apply(s[e])}),setTimeout(function(){s[e].init()},0)});return a},n.jstree={defaults:{plugins:[]},_focused:function(){return s[a]||null},_reference:function(t){if(s[t])return s[t];var e=n(t);return e.length||"string"!=typeof t||(e=n("#"+t)),e.length?s[e.closest(".jstree").data("jstree-instance-id")]||null:null},_instance:function(t,e,i){this.data={core:{}},this.get_settings=function(){return n.extend(!0,{},i)},this._get_settings=function(){return i},this.get_index=function(){return t},this.get_container=function(){return e},this.get_container_ul=function(){return e.children("ul:eq(0)")},this._set_settings=function(t){i=n.extend(!0,{},i,t)}},_fn:{},plugin:function(t,e){e=n.extend({},{__init:n.noop,__destroy:n.noop,_fn:{},defaults:!1},e),r[t]=e,n.jstree.defaults[t]=e.defaults,n.each(e._fn,function(e,i){i.plugin=t,i.old=n.jstree._fn[e],n.jstree._fn[e]=function(){var t,s=i,a=Array.prototype.slice.call(arguments),r=new n.Event("before.jstree"),o=!1;if(this.data.core.locked!==!0||"unlock"===e||"is_locked"===e){do{if(s&&s.plugin&&-1!==n.inArray(s.plugin,this._get_settings().plugins))break;s=s.old}while(s);if(s){if(0===e.indexOf("_"))t=s.apply(this,a);else{if(t=this.get_container().triggerHandler(r,{func:e,inst:this,args:a,plugin:s.plugin}),t===!1)return;"undefined"!=typeof t&&(a=t),t=s.apply(n.extend({},this,{__callback:function(t){this.get_container().triggerHandler(e+".jstree",{inst:this,args:a,rslt:t,rlbk:o})},__rollback:function(){return o=this.get_rollback()},__call_old:function(t){return s.old.apply(this,t?Array.prototype.slice.call(arguments,1):a)}}),a)}return t}}},n.jstree._fn[e].old=i.old,n.jstree._fn[e].plugin=t})},rollback:function(t){t&&(n.isArray(t)||(t=[t]),n.each(t,function(t,e){s[e.i].set_rollback(e.h,e.d)}))}},n.jstree._fn=n.jstree._instance.prototype={},n(function(){var s=navigator.userAgent.toLowerCase(),a=(s.match(/.+?(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1],r=".jstree ul, .jstree li { display:block; margin:0 0 0 0; padding:0 0 0 0; list-style-type:none; } .jstree li { display:block; min-height:18px; line-height:18px; white-space:nowrap; margin-left:18px; min-width:18px; } .jstree-rtl li { margin-left:0; margin-right:18px; } .jstree > ul > li { margin-left:0px; } .jstree-rtl > ul > li { margin-right:0px; } .jstree ins { display:inline-block; text-decoration:none; width:18px; height:18px; margin:0 0 0 0; padding:0; } .jstree a { display:inline-block; line-height:16px; height:16px; color:black; white-space:nowrap; text-decoration:none; padding:1px 2px; margin:0; } .jstree a:focus { outline: none; } .jstree a > ins { height:16px; width:16px; } .jstree a > .jstree-icon { margin-right:3px; } .jstree-rtl a > .jstree-icon { margin-left:3px; margin-right:0; } li.jstree-open > ul { display:block; } li.jstree-closed > ul { display:none; } ";if(/msie/.test(s)&&6==parseInt(a,10)){t=!0;try{document.execCommand("BackgroundImageCache",!1,!0)}catch(o){}r+=".jstree li { height:18px; margin-left:0; margin-right:0; } .jstree li li { margin-left:18px; } .jstree-rtl li li { margin-left:0px; margin-right:18px; } li.jstree-open ul { display:block; } li.jstree-closed ul { display:none !important; } .jstree li a { display:inline; border-width:0 !important; padding:0px 2px !important; } .jstree li a ins { height:16px; width:16px; margin-right:3px; } .jstree-rtl li a ins { margin-right:0px; margin-left:3px; } "}/msie/.test(s)&&7==parseInt(a,10)&&(e=!0,r+=".jstree li a { border-width:0 !important; padding:0px 2px !important; } "),!/compatible/.test(s)&&/mozilla/.test(s)&&parseFloat(a,10)<1.9&&(i=!0,r+=".jstree ins { display:-moz-inline-box; } .jstree li { line-height:12px; } .jstree a { display:-moz-inline-box; } .jstree .jstree-no-icons .jstree-checkbox { display:-moz-inline-stack !important; } "),n.vakata.css.add_sheet({str:r,title:"jstree"})}),n.jstree.plugin("core",{__init:function(){this.data.core.locked=!1,this.data.core.to_open=this.get_settings().core.initially_open,this.data.core.to_load=this.get_settings().core.initially_load},defaults:{html_titles:!1,animation:500,initially_open:[],initially_load:[],open_parents:!0,notify_plugins:!0,rtl:!1,load_open:!1,strings:{loading:"Loading ...",new_node:"New node",multiple_selection:"Multiple selection"}},_fn:{init:function(){this.set_focus(),this._get_settings().core.rtl&&this.get_container().addClass("jstree-rtl").css("direction","rtl"),this.get_container().html("<ul><li class='jstree-last jstree-leaf'><ins>&#160;</ins><a class='jstree-loading' href='#'><ins class='jstree-icon'>&#160;</ins>"+this._get_string("loading")+"</a></li></ul>"),this.data.core.li_height=this.get_container_ul().find("li.jstree-closed, li.jstree-leaf").eq(0).height()||18,this.get_container().delegate("li > ins","click.jstree",n.proxy(function(t){var e=n(t.target);e.is("ins")&&t.pageY-e.offset().top<this.data.core.li_height&&this.toggle_node(e)},this)).bind("mousedown.jstree",n.proxy(function(){this.set_focus()},this)).bind("dblclick.jstree",function(){var t;if(document.selection&&document.selection.empty)document.selection.empty();else if(window.getSelection){t=window.getSelection();try{t.removeAllRanges(),t.collapse()}catch(e){}}}),this._get_settings().core.notify_plugins&&this.get_container().bind("load_node.jstree",n.proxy(function(t,e){var i=this._get_node(e.rslt.obj),s=this;-1===i&&(i=this.get_container_ul()),i.length&&i.find("li").each(function(){var t=n(this);t.data("jstree")&&n.each(t.data("jstree"),function(e,i){s.data[e]&&n.isFunction(s["_"+e+"_notify"])&&s["_"+e+"_notify"].call(s,t,i)})})},this)),this._get_settings().core.load_open&&this.get_container().bind("load_node.jstree",n.proxy(function(t,e){var i=this._get_node(e.rslt.obj),s=this;-1===i&&(i=this.get_container_ul()),i.length&&i.find("li.jstree-open:not(:has(ul))").each(function(){s.load_node(this,n.noop,n.noop)})},this)),this.__callback(),this.load_node(-1,function(){this.loaded(),this.reload_nodes()})},destroy:function(){var t,e=this.get_index(),i=this._get_settings(),o=this;if(n.each(i.plugins,function(t,e){try{r[e].__destroy.apply(o)}catch(i){}}),this.__callback(),this.is_focused())for(t in s)if(s.hasOwnProperty(t)&&t!=e){s[t].set_focus();break}e===a&&(a=-1),this.get_container().unbind(".jstree").undelegate(".jstree").removeData("jstree-instance-id").find("[class^='jstree']").andSelf().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/gi,"")}),n(document).unbind(".jstree-"+e).undelegate(".jstree-"+e),s[e]=null,delete s[e]},_core_notify:function(t,e){e.opened&&this.open_node(t,!1,!0)},lock:function(){this.data.core.locked=!0,this.get_container().children("ul").addClass("jstree-locked").css("opacity","0.7"),this.__callback({})},unlock:function(){this.data.core.locked=!1,this.get_container().children("ul").removeClass("jstree-locked").css("opacity","1"),this.__callback({})},is_locked:function(){return this.data.core.locked},save_opened:function(){var t=this;this.data.core.to_open=[],this.get_container_ul().find("li.jstree-open").each(function(){this.id&&t.data.core.to_open.push("#"+this.id.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:"))}),this.__callback(t.data.core.to_open)},save_loaded:function(){},reload_nodes:function(t){var e=this,i=!0,s=[],a=[];t||(this.data.core.reopen=!1,this.data.core.refreshing=!0,this.data.core.to_open=n.map(n.makeArray(this.data.core.to_open),function(t){return"#"+t.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")}),this.data.core.to_load=n.map(n.makeArray(this.data.core.to_load),function(t){return"#"+t.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")}),this.data.core.to_open.length&&(this.data.core.to_load=this.data.core.to_load.concat(this.data.core.to_open))),this.data.core.to_load.length&&(n.each(this.data.core.to_load,function(t,e){return"#"==e?!0:(n(e).length?s.push(e):a.push(e),void 0)}),s.length&&(this.data.core.to_load=a,n.each(s,function(t,n){e._is_loaded(n)||(e.load_node(n,function(){e.reload_nodes(!0)},function(){e.reload_nodes(!0)}),i=!1)}))),this.data.core.to_open.length&&n.each(this.data.core.to_open,function(t,i){e.open_node(i,!1,!0)}),i&&(this.data.core.reopen&&clearTimeout(this.data.core.reopen),this.data.core.reopen=setTimeout(function(){e.__callback({},e)},50),this.data.core.refreshing=!1,this.reopen())},reopen:function(){var t=this;this.data.core.to_open.length&&n.each(this.data.core.to_open,function(e,i){t.open_node(i,!1,!0)}),this.__callback({})},refresh:function(t){var e=this;this.save_opened(),t||(t=-1),t=this._get_node(t),t||(t=-1),-1!==t?t.children("UL").remove():this.get_container_ul().empty(),this.load_node(t,function(){e.__callback({obj:t}),e.reload_nodes()})},loaded:function(){this.__callback()},set_focus:function(){if(!this.is_focused()){var t=n.jstree._focused();t&&t.unset_focus(),this.get_container().addClass("jstree-focused"),a=this.get_index(),this.__callback()}},is_focused:function(){return a==this.get_index()},unset_focus:function(){this.is_focused()&&(this.get_container().removeClass("jstree-focused"),a=-1),this.__callback()},_get_node:function(t){var e=n(t,this.get_container());return e.is(".jstree")||-1==t?-1:(e=e.closest("li",this.get_container()),e.length?e:!1)},_get_next:function(t,e){return t=this._get_node(t),-1===t?this.get_container().find("> ul > li:first-child"):t.length?e?t.nextAll("li").size()>0?t.nextAll("li:eq(0)"):!1:t.hasClass("jstree-open")?t.find("li:eq(0)"):t.nextAll("li").size()>0?t.nextAll("li:eq(0)"):t.parentsUntil(".jstree","li").next("li").eq(0):!1},_get_prev:function(t,e){if(t=this._get_node(t),-1===t)return this.get_container().find("> ul > li:last-child");if(!t.length)return!1;if(e)return t.prevAll("li").length>0?t.prevAll("li:eq(0)"):!1;if(t.prev("li").length){for(t=t.prev("li").eq(0);t.hasClass("jstree-open");)t=t.children("ul:eq(0)").children("li:last");return t}var i=t.parentsUntil(".jstree","li:eq(0)");return i.length?i:!1},_get_parent:function(t){if(t=this._get_node(t),-1==t||!t.length)return!1;var e=t.parentsUntil(".jstree","li:eq(0)");return e.length?e:-1},_get_children:function(t){return t=this._get_node(t),-1===t?this.get_container().children("ul:eq(0)").children("li"):t.length?t.children("ul:eq(0)").children("li"):!1},get_path:function(t,e){var i=[],n=this;return t=this._get_node(t),-1!==t&&t&&t.length?(t.parentsUntil(".jstree","li").each(function(){i.push(e?this.id:n.get_text(this))}),i.reverse(),i.push(e?t.attr("id"):this.get_text(t)),i):!1},_get_string:function(t){return this._get_settings().core.strings[t]||t},is_open:function(t){return t=this._get_node(t),t&&-1!==t&&t.hasClass("jstree-open")},is_closed:function(t){return t=this._get_node(t),t&&-1!==t&&t.hasClass("jstree-closed")},is_leaf:function(t){return t=this._get_node(t),t&&-1!==t&&t.hasClass("jstree-leaf")},correct_state:function(t){return t=this._get_node(t),t&&-1!==t?(t.removeClass("jstree-closed jstree-open").addClass("jstree-leaf").children("ul").remove(),this.__callback({obj:t}),void 0):!1},open_node:function(e,i,n){if(e=this._get_node(e),!e.length)return!1;if(!e.hasClass("jstree-closed"))return i&&i.call(),!1;var s=n||t?0:this._get_settings().core.animation,a=this;this._is_loaded(e)?(this._get_settings().core.open_parents&&e.parentsUntil(".jstree",".jstree-closed").each(function(){a.open_node(this,!1,!0)}),s&&e.children("ul").css("display","none"),e.removeClass("jstree-closed").addClass("jstree-open").children("a").removeClass("jstree-loading"),s?e.children("ul").stop(!0,!0).slideDown(s,function(){this.style.display="",a.after_open(e)}):a.after_open(e),this.__callback({obj:e}),i&&i.call()):(e.children("a").addClass("jstree-loading"),this.load_node(e,function(){a.open_node(e,i,n)},i))},after_open:function(t){this.__callback({obj:t})},close_node:function(e,i){e=this._get_node(e);var n=i||t?0:this._get_settings().core.animation,s=this;return e.length&&e.hasClass("jstree-open")?(n&&e.children("ul").attr("style","display:block !important"),e.removeClass("jstree-open").addClass("jstree-closed"),n?e.children("ul").stop(!0,!0).slideUp(n,function(){this.style.display="",s.after_close(e)}):s.after_close(e),this.__callback({obj:e}),void 0):!1},after_close:function(t){this.__callback({obj:t})},toggle_node:function(t){return t=this._get_node(t),t.hasClass("jstree-closed")?this.open_node(t):t.hasClass("jstree-open")?this.close_node(t):void 0},open_all:function(t,e,i){t=t?this._get_node(t):-1,t&&-1!==t||(t=this.get_container_ul()),i?t=t.find("li.jstree-closed"):(i=t,t=t.is(".jstree-closed")?t.find("li.jstree-closed").andSelf():t.find("li.jstree-closed"));var n=this;t.each(function(){var t=this;n._is_loaded(this)?n.open_node(this,!1,!e):n.open_node(this,function(){n.open_all(t,e,i)},!e)}),0===i.find("li.jstree-closed").length&&this.__callback({obj:i})},close_all:function(t,e){var i=this;t=t?this._get_node(t):this.get_container(),t&&-1!==t||(t=this.get_container_ul()),t.find("li.jstree-open").andSelf().each(function(){i.close_node(this,!e)}),this.__callback({obj:t})},clean_node:function(t){t=t&&-1!=t?n(t):this.get_container_ul(),t=t.is("li")?t.find("li").andSelf():t.find("li"),t.removeClass("jstree-last").filter("li:last-child").addClass("jstree-last").end().filter(":has(li)").not(".jstree-open").removeClass("jstree-leaf").addClass("jstree-closed"),t.not(".jstree-open, .jstree-closed").addClass("jstree-leaf").children("ul").remove(),this.__callback({obj:t})},get_rollback:function(){return this.__callback(),{i:this.get_index(),h:this.get_container().children("ul").clone(!0),d:this.data}},set_rollback:function(t,e){this.get_container().empty().append(t),this.data=e,this.__callback()},load_node:function(t){this.__callback({obj:t})},_is_loaded:function(){return!0},create_node:function(t,e,i,s,a){t=this._get_node(t),e="undefined"==typeof e?"last":e;var r,o=n("<li />"),l=this._get_settings().core;if(-1!==t&&!t.length)return!1;if(!a&&!this._is_loaded(t))return this.load_node(t,function(){this.create_node(t,e,i,s,!0)}),!1;switch(this.__rollback(),"string"==typeof i&&(i={data:i}),i||(i={}),i.attr&&o.attr(i.attr),i.metadata&&o.data(i.metadata),i.state&&o.addClass("jstree-"+i.state),i.data||(i.data=this._get_string("new_node")),n.isArray(i.data)||(r=i.data,i.data=[],i.data.push(r)),n.each(i.data,function(t,e){r=n("<a />"),n.isFunction(e)&&(e=e.call(this,i)),"string"==typeof e?r.attr("href","#")[l.html_titles?"html":"text"](e):(e.attr||(e.attr={}),e.attr.href||(e.attr.href="#"),r.attr(e.attr)[l.html_titles?"html":"text"](e.title),e.language&&r.addClass(e.language)),r.prepend("<ins class='jstree-icon'>&#160;</ins>"),e.icon&&(-1===e.icon.indexOf("/")?r.children("ins").addClass(e.icon):r.children("ins").css("background","url('"+e.icon+"') center center no-repeat")),o.append(r)}),o.prepend("<ins class='jstree-icon'>&#160;</ins>"),-1===t&&(t=this.get_container(),"before"===e&&(e="first"),"after"===e&&(e="last")),e){case"before":t.before(o),r=this._get_parent(t);break;case"after":t.after(o),r=this._get_parent(t);break;case"inside":case"first":t.children("ul").length||t.append("<ul />"),t.children("ul").prepend(o),r=t;break;case"last":t.children("ul").length||t.append("<ul />"),t.children("ul").append(o),r=t;break;default:t.children("ul").length||t.append("<ul />"),e||(e=0),r=t.children("ul").children("li").eq(e),r.length?r.before(o):t.children("ul").append(o),r=t}return(-1===r||r.get(0)===this.get_container().get(0))&&(r=-1),this.clean_node(r),this.__callback({obj:o,parent:r}),s&&s.call(this,o),o},get_text:function(t){if(t=this._get_node(t),!t.length)return!1;var e=this._get_settings().core.html_titles;return t=t.children("a:eq(0)"),e?(t=t.clone(),t.children("INS").remove(),t.html()):(t=t.contents().filter(function(){return 3==this.nodeType})[0],t.nodeValue)},set_text:function(t,e){if(t=this._get_node(t),!t.length)return!1;if(t=t.children("a:eq(0)"),this._get_settings().core.html_titles){var i=t.children("INS").clone();return t.html(e).prepend(i),this.__callback({obj:t,name:e}),!0}return t=t.contents().filter(function(){return 3==this.nodeType})[0],this.__callback({obj:t,name:e}),t.nodeValue=e},rename_node:function(t,e){t=this._get_node(t),this.__rollback(),t&&t.length&&this.set_text.apply(this,Array.prototype.slice.call(arguments))&&this.__callback({obj:t,name:e})},delete_node:function(t){if(t=this._get_node(t),!t.length)return!1;this.__rollback();var e=this._get_parent(t),i=n([]),s=this;return t.each(function(){i=i.add(s._get_prev(this))}),t=t.detach(),-1!==e&&0===e.find("> ul > li").length&&e.removeClass("jstree-open jstree-closed").addClass("jstree-leaf"),this.clean_node(e),this.__callback({obj:t,prev:i,parent:e}),t},prepare_move:function(t,e,i,s,a){var r={};if(r.ot=n.jstree._reference(t)||this,r.o=r.ot._get_node(t),r.r=-1===e?-1:this._get_node(e),r.p="undefined"==typeof i||i===!1?"last":i,!a&&o.o&&o.o[0]===r.o[0]&&o.r[0]===r.r[0]&&o.p===r.p)return this.__callback(o),s&&s.call(this,o),void 0;if(r.ot=n.jstree._reference(r.o)||this,r.rt=n.jstree._reference(r.r)||this,-1!==r.r&&r.r){if(!/^(before|after)$/.test(r.p)&&!this._is_loaded(r.r))return this.load_node(r.r,function(){this.prepare_move(t,e,i,s,!0)});switch(r.p){case"before":r.cp=r.r.index(),r.cr=r.rt._get_parent(r.r);break;case"after":r.cp=r.r.index()+1,r.cr=r.rt._get_parent(r.r);break;case"inside":case"first":r.cp=0,r.cr=r.r;break;case"last":r.cp=r.r.find(" > ul > li").length,r.cr=r.r;break;default:r.cp=r.p,r.cr=r.r}}else switch(r.cr=-1,r.p){case"first":case"before":case"inside":r.cp=0;break;case"after":case"last":r.cp=r.rt.get_container().find(" > ul > li").length;break;default:r.cp=r.p}r.np=-1==r.cr?r.rt.get_container():r.cr,r.op=r.ot._get_parent(r.o),r.cop=r.o.index(),-1===r.op&&(r.op=r.ot?r.ot.get_container():this.get_container()),!/^(before|after)$/.test(r.p)&&r.op&&r.np&&r.op[0]===r.np[0]&&r.o.index()<r.cp&&r.cp++,r.or=r.np.find(" > ul > li:nth-child("+(r.cp+1)+")"),o=r,this.__callback(o),s&&s.call(this,o)},check_move:function(){var t=o,e=!0,i=-1===t.r?this.get_container():t.r;return t&&t.o&&t.or[0]!==t.o[0]?t.op&&t.np&&t.op[0]===t.np[0]&&t.cp-1===t.o.index()?!1:(t.o.each(function(){return-1!==i.parentsUntil(".jstree","li").andSelf().index(this)?(e=!1,!1):void 0}),e):!1},move_node:function(t,e,i,s,a,r){if(!a)return this.prepare_move(t,e,i,function(t){this.move_node(t,!1,!1,s,!0,r)});if(s&&(o.cy=!0),!r&&!this.check_move())return!1;this.__rollback();var l=!1;s?(l=t.o.clone(!0),l.find("*[id]").andSelf().each(function(){this.id&&(this.id="copy_"+this.id)})):l=t.o,t.or.length?t.or.before(l):(t.np.children("ul").length||n("<ul />").appendTo(t.np),t.np.children("ul:eq(0)").append(l));try{t.ot.clean_node(t.op),t.rt.clean_node(t.np),t.op.find("> ul > li").length||t.op.removeClass("jstree-open jstree-closed").addClass("jstree-leaf").children("ul").remove()}catch(c){}return s&&(o.cy=!0,o.oc=l),this.__callback(o),o},_get_move:function(){return o}}})}(jQuery),function(t){var e,i,n;t(function(){/msie/.test(navigator.userAgent.toLowerCase())?(i=t('<textarea cols="10" rows="2"></textarea>').css({position:"absolute",top:-1e3,left:0}).appendTo("body"),n=t('<textarea cols="10" rows="2" style="overflow: hidden;"></textarea>').css({position:"absolute",top:-1e3,left:0}).appendTo("body"),e=i.width()-n.width(),i.add(n).remove()):(i=t("<div />").css({width:100,height:100,overflow:"auto",position:"absolute",top:-1e3,left:0}).prependTo("body").append("<div />").find("div").css({width:"100%",height:200}),e=100-i.width(),i.parent().remove())}),t.jstree.plugin("ui",{__init:function(){this.data.ui.selected=t(),this.data.ui.last_selected=!1,this.data.ui.hovered=null,this.data.ui.to_select=this.get_settings().ui.initially_select,this.get_container().delegate("a","click.jstree",t.proxy(function(e){e.preventDefault(),e.currentTarget.blur(),t(e.currentTarget).hasClass("jstree-loading")||this.select_node(e.currentTarget,!0,e)},this)).delegate("a","mouseenter.jstree",t.proxy(function(e){t(e.currentTarget).hasClass("jstree-loading")||this.hover_node(e.target)},this)).delegate("a","mouseleave.jstree",t.proxy(function(e){t(e.currentTarget).hasClass("jstree-loading")||this.dehover_node(e.target)},this)).bind("reopen.jstree",t.proxy(function(){this.reselect()},this)).bind("get_rollback.jstree",t.proxy(function(){this.dehover_node(),this.save_selected()},this)).bind("set_rollback.jstree",t.proxy(function(){this.reselect()},this)).bind("close_node.jstree",t.proxy(function(e,i){var n=this._get_settings().ui,s=this._get_node(i.rslt.obj),a=s&&s.length?s.children("ul").find("a.jstree-clicked"):t(),r=this;n.selected_parent_close!==!1&&a.length&&a.each(function(){r.deselect_node(this),"select_parent"===n.selected_parent_close&&r.select_node(s)})},this)).bind("delete_node.jstree",t.proxy(function(t,e){var i=this._get_settings().ui.select_prev_on_delete,n=this._get_node(e.rslt.obj),s=n&&n.length?n.find("a.jstree-clicked"):[],a=this;
s.each(function(){a.deselect_node(this)}),i&&s.length&&e.rslt.prev.each(function(){return this.parentNode?(a.select_node(this),!1):void 0})},this)).bind("move_node.jstree",t.proxy(function(t,e){e.rslt.cy&&e.rslt.oc.find("a.jstree-clicked").removeClass("jstree-clicked")},this))},defaults:{select_limit:-1,select_multiple_modifier:"ctrl",select_range_modifier:"shift",selected_parent_close:"select_parent",selected_parent_open:!0,select_prev_on_delete:!0,disable_selecting_children:!1,initially_select:[]},_fn:{_get_node:function(e,i){if("undefined"==typeof e||null===e)return i?this.data.ui.selected:this.data.ui.last_selected;var n=t(e,this.get_container());return n.is(".jstree")||-1==e?-1:(n=n.closest("li",this.get_container()),n.length?n:!1)},_ui_notify:function(t,e){e.selected&&this.select_node(t,!1)},save_selected:function(){var t=this;this.data.ui.to_select=[],this.data.ui.selected.each(function(){this.id&&t.data.ui.to_select.push("#"+this.id.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:"))}),this.__callback(this.data.ui.to_select)},reselect:function(){var e=this,i=this.data.ui.to_select;i=t.map(t.makeArray(i),function(t){return"#"+t.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")}),t.each(i,function(t,i){i&&"#"!==i&&e.select_node(i)}),this.data.ui.selected=this.data.ui.selected.filter(function(){return this.parentNode}),this.__callback()},refresh:function(){return this.save_selected(),this.__call_old()},hover_node:function(t){return t=this._get_node(t),t.length?(t.hasClass("jstree-hovered")||this.dehover_node(),this.data.ui.hovered=t.children("a").addClass("jstree-hovered").parent(),this._fix_scroll(t),this.__callback({obj:t}),void 0):!1},dehover_node:function(){var t,e=this.data.ui.hovered;return e&&e.length?(t=e.children("a").removeClass("jstree-hovered").parent(),this.data.ui.hovered[0]===t[0]&&(this.data.ui.hovered=null),this.__callback({obj:e}),void 0):!1},select_node:function(t,e,i){if(t=this._get_node(t),-1==t||!t||!t.length)return!1;var n=this._get_settings().ui,s="on"==n.select_multiple_modifier||n.select_multiple_modifier!==!1&&i&&i[n.select_multiple_modifier+"Key"],a=n.select_range_modifier!==!1&&i&&i[n.select_range_modifier+"Key"]&&this.data.ui.last_selected&&this.data.ui.last_selected[0]!==t[0]&&this.data.ui.last_selected.parent()[0]===t.parent()[0],r=this.is_selected(t),o=!0,l=this;if(e){if(n.disable_selecting_children&&s&&(t.parentsUntil(".jstree","li").children("a.jstree-clicked").length||t.children("ul").find("a.jstree-clicked:eq(0)").length))return!1;switch(o=!1,!0){case a:this.data.ui.last_selected.addClass("jstree-last-selected"),t=t[t.index()<this.data.ui.last_selected.index()?"nextUntil":"prevUntil"](".jstree-last-selected").andSelf(),-1==n.select_limit||t.length<n.select_limit?(this.data.ui.last_selected.removeClass("jstree-last-selected"),this.data.ui.selected.each(function(){this!==l.data.ui.last_selected[0]&&l.deselect_node(this)}),r=!1,o=!0):o=!1;break;case r&&!s:this.deselect_all(),r=!1,o=!0;break;case!r&&!s:(-1==n.select_limit||n.select_limit>0)&&(this.deselect_all(),o=!0);break;case r&&s:this.deselect_node(t);break;case!r&&s:(-1==n.select_limit||this.data.ui.selected.length+1<=n.select_limit)&&(o=!0)}}o&&!r&&(a||(this.data.ui.last_selected=t),t.children("a").addClass("jstree-clicked"),n.selected_parent_open&&t.parents(".jstree-closed").each(function(){l.open_node(this,!1,!0)}),this.data.ui.selected=this.data.ui.selected.add(t),this._fix_scroll(t.eq(0)),this.__callback({obj:t,e:i}))},_fix_scroll:function(t){var i,n=this.get_container()[0];if(n.scrollHeight>n.offsetHeight){if(t=this._get_node(t),!t||-1===t||!t.length||!t.is(":visible"))return;i=t.offset().top-this.get_container().offset().top,0>i&&(n.scrollTop=n.scrollTop+i-1),i+this.data.core.li_height+(n.scrollWidth>n.offsetWidth?e:0)>n.offsetHeight&&(n.scrollTop=n.scrollTop+(i-n.offsetHeight+this.data.core.li_height+1+(n.scrollWidth>n.offsetWidth?e:0)))}},deselect_node:function(t){return t=this._get_node(t),t.length?(this.is_selected(t)&&(t.children("a").removeClass("jstree-clicked"),this.data.ui.selected=this.data.ui.selected.not(t),this.data.ui.last_selected.get(0)===t.get(0)&&(this.data.ui.last_selected=this.data.ui.selected.eq(0)),this.__callback({obj:t})),void 0):!1},toggle_select:function(t){return t=this._get_node(t),t.length?(this.is_selected(t)?this.deselect_node(t):this.select_node(t),void 0):!1},is_selected:function(t){return this.data.ui.selected.index(this._get_node(t))>=0},get_selected:function(e){return e?t(e).find("a.jstree-clicked").parent():this.data.ui.selected},deselect_all:function(e){var i=e?t(e).find("a.jstree-clicked").parent():this.get_container().find("a.jstree-clicked").parent();i.children("a.jstree-clicked").removeClass("jstree-clicked"),this.data.ui.selected=t([]),this.data.ui.last_selected=!1,this.__callback({obj:i})}}}),t.jstree.defaults.plugins.push("ui")}(jQuery),function(t){t.jstree.plugin("crrm",{__init:function(){this.get_container().bind("move_node.jstree",t.proxy(function(t,e){if(this._get_settings().crrm.move.open_onmove){var i=this;e.rslt.np.parentsUntil(".jstree").andSelf().filter(".jstree-closed").each(function(){i.open_node(this,!1,!0)})}},this))},defaults:{input_width_limit:200,move:{always_copy:!1,open_onmove:!0,default_position:"last",check_move:function(){return!0}}},_fn:{_show_input:function(e,i){e=this._get_node(e);var n=this._get_settings().core.rtl,s=this._get_settings().crrm.input_width_limit,a=e.children("ins").width(),r=e.find("> a:visible > ins").width()*e.find("> a:visible > ins").length,o=this.get_text(e),l=t("<div />",{css:{position:"absolute",top:"-200px",left:n?"0px":"-1000px",visibility:"hidden"}}).appendTo("body"),c=e.css("position","relative").append(t("<input />",{value:o,"class":"jstree-rename-input",css:{padding:"0",border:"1px solid silver",position:"absolute",left:n?"auto":a+r+4+"px",right:n?a+r+4+"px":"auto",top:"0px",height:this.data.core.li_height-2+"px",lineHeight:this.data.core.li_height-2+"px",width:"150px"},blur:t.proxy(function(){var t=e.children(".jstree-rename-input"),n=t.val();""===n&&(n=o),l.remove(),t.remove(),this.set_text(e,o),this.rename_node(e,n),i.call(this,e,n,o),e.css("position","")},this),keyup:function(t){var e=t.keyCode||t.which;return 27==e?(this.value=o,this.blur(),void 0):13==e?(this.blur(),void 0):(c.width(Math.min(l.text("pW"+this.value).width(),s)),void 0)},keypress:function(t){var e=t.keyCode||t.which;return 13==e?!1:void 0}})).children(".jstree-rename-input");this.set_text(e,""),l.css({fontFamily:c.css("fontFamily")||"",fontSize:c.css("fontSize")||"",fontWeight:c.css("fontWeight")||"",fontStyle:c.css("fontStyle")||"",fontStretch:c.css("fontStretch")||"",fontVariant:c.css("fontVariant")||"",letterSpacing:c.css("letterSpacing")||"",wordSpacing:c.css("wordSpacing")||""}),c.width(Math.min(l.text("pW"+c[0].value).width(),s))[0].select()},rename:function(t){t=this._get_node(t),this.__rollback();var e=this.__callback;this._show_input(t,function(t,i,n){e.call(this,{obj:t,new_name:i,old_name:n})})},create:function(e,i,n,s,a){var r,o=this;return e=this._get_node(e),e||(e=-1),this.__rollback(),r=this.create_node(e,i,n,function(e){var i=this._get_parent(e),n=t(e).index();s&&s.call(this,e),i.length&&i.hasClass("jstree-closed")&&this.open_node(i,!1,!0),a?o.__callback({obj:e,name:this.get_text(e),parent:i,position:n}):this._show_input(e,function(t,e){o.__callback({obj:t,name:e,parent:i,position:n})})})},remove:function(t){t=this._get_node(t,!0);var e=this._get_parent(t),i=this._get_prev(t);this.__rollback(),t=this.delete_node(t),t!==!1&&this.__callback({obj:t,prev:i,parent:e})},check_move:function(){if(!this.__call_old())return!1;var t=this._get_settings().crrm.move;return t.check_move.call(this,this._get_move())?!0:!1},move_node:function(t,e,i,n,s,a){var r=this._get_settings().crrm.move;return s?((r.always_copy===!0||"multitree"===r.always_copy&&t.rt.get_index()!==t.ot.get_index())&&(n=!0),this.__call_old(!0,t,e,i,n,!0,a),void 0):("undefined"==typeof i&&(i=r.default_position),"inside"!==i||r.default_position.match(/^(before|after)$/)||(i=r.default_position),this.__call_old(!0,t,e,i,n,!1,a))},cut:function(t){return t=this._get_node(t,!0),t&&t.length?(this.data.crrm.cp_nodes=!1,this.data.crrm.ct_nodes=t,this.__callback({obj:t}),void 0):!1},copy:function(t){return t=this._get_node(t,!0),t&&t.length?(this.data.crrm.ct_nodes=!1,this.data.crrm.cp_nodes=t,this.__callback({obj:t}),void 0):!1},paste:function(t){if(t=this._get_node(t),!t||!t.length)return!1;var e=this.data.crrm.ct_nodes?this.data.crrm.ct_nodes:this.data.crrm.cp_nodes;return this.data.crrm.ct_nodes||this.data.crrm.cp_nodes?(this.data.crrm.ct_nodes&&(this.move_node(this.data.crrm.ct_nodes,t),this.data.crrm.ct_nodes=!1),this.data.crrm.cp_nodes&&this.move_node(this.data.crrm.cp_nodes,t,!1,!0),this.__callback({obj:t,nodes:e}),void 0):!1}}})}(jQuery),function(t){var e=[];t.jstree._themes=!1,t.jstree.plugin("themes",{__init:function(){this.get_container().bind("init.jstree",t.proxy(function(){var t=this._get_settings().themes;this.data.themes.dots=t.dots,this.data.themes.icons=t.icons,this.set_theme(t.theme,t.url)},this)).bind("loaded.jstree",t.proxy(function(){this.data.themes.dots?this.show_dots():this.hide_dots(),this.data.themes.icons?this.show_icons():this.hide_icons()},this))},defaults:{theme:"default",url:!1,dots:!0,icons:!0},_fn:{set_theme:function(i,n){return i?(n||(n=t.jstree._themes+i+"/style.css"),-1==t.inArray(n,e)&&(t.vakata.css.add_sheet({url:n}),e.push(n)),this.data.themes.theme!=i&&(this.get_container().removeClass("jstree-"+this.data.themes.theme),this.data.themes.theme=i),this.get_container().addClass("jstree-"+i),this.data.themes.dots?this.show_dots():this.hide_dots(),this.data.themes.icons?this.show_icons():this.hide_icons(),this.__callback(),void 0):!1},get_theme:function(){return this.data.themes.theme},show_dots:function(){this.data.themes.dots=!0,this.get_container().children("ul").removeClass("jstree-no-dots")},hide_dots:function(){this.data.themes.dots=!1,this.get_container().children("ul").addClass("jstree-no-dots")},toggle_dots:function(){this.data.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this.data.themes.icons=!0,this.get_container().children("ul").removeClass("jstree-no-icons")},hide_icons:function(){this.data.themes.icons=!1,this.get_container().children("ul").addClass("jstree-no-icons")},toggle_icons:function(){this.data.themes.icons?this.hide_icons():this.show_icons()}}}),t(function(){t.jstree._themes===!1&&t("script").each(function(){return this.src.toString().match(/jquery\.jstree[^\/]*?\.js(\?.*)?$/)?(t.jstree._themes=this.src.toString().replace(/jquery\.jstree[^\/]*?\.js(\?.*)?$/,"")+"themes/",!1):void 0}),t.jstree._themes===!1&&(t.jstree._themes="themes/")}),t.jstree.defaults.plugins.push("themes")}(jQuery),function(t){function e(e,i){var n,s=t.jstree._focused();return s&&s.data&&s.data.hotkeys&&s.data.hotkeys.enabled&&(n=s._get_settings().hotkeys[e])?n.call(s,i):void 0}var i=[];t.jstree.plugin("hotkeys",{__init:function(){if("undefined"==typeof t.hotkeys)throw"jsTree hotkeys: jQuery hotkeys plugin not included.";if(!this.data.ui)throw"jsTree hotkeys: jsTree UI plugin not included.";t.each(this._get_settings().hotkeys,function(n,s){s!==!1&&-1==t.inArray(n,i)&&(t(document).bind("keydown",n,function(t){return e(n,t)}),i.push(n))}),this.get_container().bind("lock.jstree",t.proxy(function(){this.data.hotkeys.enabled&&(this.data.hotkeys.enabled=!1,this.data.hotkeys.revert=!0)},this)).bind("unlock.jstree",t.proxy(function(){this.data.hotkeys.revert&&(this.data.hotkeys.enabled=!0)},this)),this.enable_hotkeys()},defaults:{up:function(){var t=this.data.ui.hovered||this.data.ui.last_selected||-1;return this.hover_node(this._get_prev(t)),!1},"ctrl+up":function(){var t=this.data.ui.hovered||this.data.ui.last_selected||-1;return this.hover_node(this._get_prev(t)),!1},"shift+up":function(){var t=this.data.ui.hovered||this.data.ui.last_selected||-1;return this.hover_node(this._get_prev(t)),!1},down:function(){var t=this.data.ui.hovered||this.data.ui.last_selected||-1;return this.hover_node(this._get_next(t)),!1},"ctrl+down":function(){var t=this.data.ui.hovered||this.data.ui.last_selected||-1;return this.hover_node(this._get_next(t)),!1},"shift+down":function(){var t=this.data.ui.hovered||this.data.ui.last_selected||-1;return this.hover_node(this._get_next(t)),!1},left:function(){var t=this.data.ui.hovered||this.data.ui.last_selected;return t&&(t.hasClass("jstree-open")?this.close_node(t):this.hover_node(this._get_prev(t))),!1},"ctrl+left":function(){var t=this.data.ui.hovered||this.data.ui.last_selected;return t&&(t.hasClass("jstree-open")?this.close_node(t):this.hover_node(this._get_prev(t))),!1},"shift+left":function(){var t=this.data.ui.hovered||this.data.ui.last_selected;return t&&(t.hasClass("jstree-open")?this.close_node(t):this.hover_node(this._get_prev(t))),!1},right:function(){var t=this.data.ui.hovered||this.data.ui.last_selected;return t&&t.length&&(t.hasClass("jstree-closed")?this.open_node(t):this.hover_node(this._get_next(t))),!1},"ctrl+right":function(){var t=this.data.ui.hovered||this.data.ui.last_selected;return t&&t.length&&(t.hasClass("jstree-closed")?this.open_node(t):this.hover_node(this._get_next(t))),!1},"shift+right":function(){var t=this.data.ui.hovered||this.data.ui.last_selected;return t&&t.length&&(t.hasClass("jstree-closed")?this.open_node(t):this.hover_node(this._get_next(t))),!1},space:function(){return this.data.ui.hovered&&this.data.ui.hovered.children("a:eq(0)").click(),!1},"ctrl+space":function(t){return t.type="click",this.data.ui.hovered&&this.data.ui.hovered.children("a:eq(0)").trigger(t),!1},"shift+space":function(t){return t.type="click",this.data.ui.hovered&&this.data.ui.hovered.children("a:eq(0)").trigger(t),!1},f2:function(){this.rename(this.data.ui.hovered||this.data.ui.last_selected)},del:function(){this.remove(this.data.ui.hovered||this._get_node(null))}},_fn:{enable_hotkeys:function(){this.data.hotkeys.enabled=!0},disable_hotkeys:function(){this.data.hotkeys.enabled=!1}}})}(jQuery),function(t){t.jstree.plugin("json_data",{__init:function(){var t=this._get_settings().json_data;t.progressive_unload&&this.get_container().bind("after_close.jstree",function(t,e){e.rslt.obj.children("ul").remove()})},defaults:{data:!1,ajax:!1,correct_state:!0,progressive_render:!1,progressive_unload:!1},_fn:{load_node:function(t,e,i){var n=this;this.load_node_json(t,function(){n.__callback({obj:n._get_node(t)}),e.call(this)},i)},_is_loaded:function(e){var i=this._get_settings().json_data;return e=this._get_node(e),-1==e||!e||!i.ajax&&!i.progressive_render&&!t.isFunction(i.data)||e.is(".jstree-open, .jstree-leaf")||e.children("ul").children("li").length>0},refresh:function(e){e=this._get_node(e);var i=this._get_settings().json_data;return e&&-1!==e&&i.progressive_unload&&(t.isFunction(i.data)||i.ajax)&&e.removeData("jstree-children"),this.__call_old()},load_node_json:function(e,i,n){var s,a=this.get_settings().json_data,r=function(){},o=function(){};if(e=this._get_node(e),e&&-1!==e&&(a.progressive_render||a.progressive_unload)&&!e.is(".jstree-open, .jstree-leaf")&&0===e.children("ul").children("li").length&&e.data("jstree-children"))return s=this._parse_json(e.data("jstree-children"),e),s&&(e.append(s),a.progressive_unload||e.removeData("jstree-children")),this.clean_node(e),i&&i.call(this),void 0;if(e&&-1!==e){if(e.data("jstree-is-loading"))return;e.data("jstree-is-loading",!0)}switch(!0){case!a.data&&!a.ajax:throw"Neither data nor ajax settings supplied.";case t.isFunction(a.data):a.data.call(this,e,t.proxy(function(t){t=this._parse_json(t,e),t?(-1!==e&&e?(e.append(t).children("a.jstree-loading").removeClass("jstree-loading"),e.removeData("jstree-is-loading")):this.get_container().children("ul").empty().append(t.children()),this.clean_node(e),i&&i.call(this)):(-1!==e&&e?(e.children("a.jstree-loading").removeClass("jstree-loading"),e.removeData("jstree-is-loading"),a.correct_state&&this.correct_state(e)):a.correct_state&&this.get_container().children("ul").empty(),n&&n.call(this))},this));break;case!!a.data&&!a.ajax||!!a.data&&!!a.ajax&&(!e||-1===e):e&&-1!=e||(s=this._parse_json(a.data,e),s?(this.get_container().children("ul").empty().append(s.children()),this.clean_node()):a.correct_state&&this.get_container().children("ul").empty()),i&&i.call(this);break;case!a.data&&!!a.ajax||!!a.data&&!!a.ajax&&e&&-1!==e:r=function(t,i,s){var r=this.get_settings().json_data.ajax.error;r&&r.call(this,t,i,s),-1!=e&&e.length?(e.children("a.jstree-loading").removeClass("jstree-loading"),e.removeData("jstree-is-loading"),"success"===i&&a.correct_state&&this.correct_state(e)):"success"===i&&a.correct_state&&this.get_container().children("ul").empty(),n&&n.call(this)},o=function(n,s,o){var l=this.get_settings().json_data.ajax.success;return l&&(n=l.call(this,n,s,o)||n),""===n||n&&n.toString&&""===n.toString().replace(/^[\s\n]+$/,"")||!t.isArray(n)&&!t.isPlainObject(n)?r.call(this,o,s,""):(n=this._parse_json(n,e),n?(-1!==e&&e?(e.append(n).children("a.jstree-loading").removeClass("jstree-loading"),e.removeData("jstree-is-loading")):this.get_container().children("ul").empty().append(n.children()),this.clean_node(e),i&&i.call(this)):-1!==e&&e?(e.children("a.jstree-loading").removeClass("jstree-loading"),e.removeData("jstree-is-loading"),a.correct_state&&(this.correct_state(e),i&&i.call(this))):a.correct_state&&(this.get_container().children("ul").empty(),i&&i.call(this)),void 0)},a.ajax.context=this,a.ajax.error=r,a.ajax.success=o,a.ajax.dataType||(a.ajax.dataType="json"),t.isFunction(a.ajax.url)&&(a.ajax.url=a.ajax.url.call(this,e)),t.isFunction(a.ajax.data)&&(a.ajax.data=a.ajax.data.call(this,e)),t.ajax(a.ajax)}},_parse_json:function(e,i,n){var s,a,r,o,l,c=!1,h=this._get_settings(),u=h.json_data,d=h.core.html_titles;if(!e)return c;if(u.progressive_unload&&i&&-1!==i&&i.data("jstree-children",c),t.isArray(e)){if(c=t(),!e.length)return!1;for(a=0,r=e.length;r>a;a++)s=this._parse_json(e[a],i,!0),s.length&&(c=c.add(s))}else{if("string"==typeof e&&(e={data:e}),!e.data&&""!==e.data)return c;c=t("<li />"),e.attr&&c.attr(e.attr),e.metadata&&c.data(e.metadata),e.state&&c.addClass("jstree-"+e.state),t.isArray(e.data)||(s=e.data,e.data=[],e.data.push(s)),t.each(e.data,function(i,n){s=t("<a />"),t.isFunction(n)&&(n=n.call(this,e)),"string"==typeof n?s.attr("href","#")[d?"html":"text"](n):(n.attr||(n.attr={}),n.attr.href||(n.attr.href="#"),s.attr(n.attr)[d?"html":"text"](n.title),n.language&&s.addClass(n.language)),s.prepend("<ins class='jstree-icon'>&#160;</ins>"),!n.icon&&e.icon&&(n.icon=e.icon),n.icon&&(-1===n.icon.indexOf("/")?s.children("ins").addClass(n.icon):s.children("ins").css("background","url('"+n.icon+"') center center no-repeat")),c.append(s)}),c.prepend("<ins class='jstree-icon'>&#160;</ins>"),e.children&&(u.progressive_render&&"open"!==e.state?c.addClass("jstree-closed").data("jstree-children",e.children):(u.progressive_unload&&c.data("jstree-children",e.children),t.isArray(e.children)&&e.children.length&&(s=this._parse_json(e.children,i,!0),s.length&&(l=t("<ul />"),l.append(s),c.append(l)))))}return n||(o=t("<ul />"),o.append(c),c=o),c},get_json:function(e,i,n,s){var a,r,o,l,c,h,u=[],d=this._get_settings(),f=this;return e=this._get_node(e),e&&-1!==e||(e=this.get_container().find("> ul > li")),i=t.isArray(i)?i:["id","class"],!s&&this.data.types&&i.push(d.types.type_attr),n=t.isArray(n)?n:[],e.each(function(){o=t(this),a={data:[]},i.length&&(a.attr={}),t.each(i,function(t,e){r=o.attr(e),r&&r.length&&r.replace(/jstree[^ ]*/gi,"").length&&(a.attr[e]=(" "+r).replace(/ jstree[^ ]*/gi,"").replace(/\s+$/gi," ").replace(/^ /,"").replace(/ $/,""))}),o.hasClass("jstree-open")&&(a.state="open"),o.hasClass("jstree-closed")&&(a.state="closed"),o.data()&&(a.metadata=o.data()),l=o.children("a"),l.each(function(){c=t(this),n.length||-1!==t.inArray("languages",d.plugins)||c.children("ins").get(0).style.backgroundImage.length||c.children("ins").get(0).className&&c.children("ins").get(0).className.replace(/jstree[^ ]*|$/gi,"").length?(h=!1,-1!==t.inArray("languages",d.plugins)&&t.isArray(d.languages)&&d.languages.length&&t.each(d.languages,function(t,e){return c.hasClass(e)?(h=e,!1):void 0}),r={attr:{},title:f.get_text(c,h)},t.each(n,function(t,e){r.attr[e]=(" "+(c.attr(e)||"")).replace(/ jstree[^ ]*/gi,"").replace(/\s+$/gi," ").replace(/^ /,"").replace(/ $/,"")}),-1!==t.inArray("languages",d.plugins)&&t.isArray(d.languages)&&d.languages.length&&t.each(d.languages,function(t,e){return c.hasClass(e)?(r.language=e,!0):void 0}),c.children("ins").get(0).className.replace(/jstree[^ ]*|$/gi,"").replace(/^\s+$/gi,"").length&&(r.icon=c.children("ins").get(0).className.replace(/jstree[^ ]*|$/gi,"").replace(/\s+$/gi," ").replace(/^ /,"").replace(/ $/,"")),c.children("ins").get(0).style.backgroundImage.length&&(r.icon=c.children("ins").get(0).style.backgroundImage.replace("url(","").replace(")",""))):r=f.get_text(c),l.length>1?a.data.push(r):a.data=r}),o=o.find("> ul > li"),o.length&&(a.children=f.get_json(o,i,n,!0)),u.push(a)}),u}}})}(jQuery),function(t){t.jstree.plugin("languages",{__init:function(){this._load_css()},defaults:[],_fn:{set_lang:function(e){var i=this._get_settings().languages,n=!1,s=".jstree-"+this.get_index()+" a";if(!t.isArray(i)||0===i.length)return!1;if(-1==t.inArray(e,i)){if(!i[e])return!1;e=i[e]}return e==this.data.languages.current_language?!0:(n=t.vakata.css.get_css(s+"."+this.data.languages.current_language,!1,this.data.languages.language_css),n!==!1&&(n.style.display="none"),n=t.vakata.css.get_css(s+"."+e,!1,this.data.languages.language_css),n!==!1&&(n.style.display=""),this.data.languages.current_language=e,this.__callback(e),!0)},get_lang:function(){return this.data.languages.current_language},_get_string:function(e,i){var n=this._get_settings().languages,s=this._get_settings().core.strings;return t.isArray(n)&&n.length&&(i=i&&-1!=t.inArray(i,n)?i:this.data.languages.current_language),s[i]&&s[i][e]?s[i][e]:s[e]?s[e]:e},get_text:function(e,i){if(e=this._get_node(e)||this.data.ui.last_selected,!e.size())return!1;var n=this._get_settings().languages,s=this._get_settings().core.html_titles;return t.isArray(n)&&n.length?(i=i&&-1!=t.inArray(i,n)?i:this.data.languages.current_language,e=e.children("a."+i)):e=e.children("a:eq(0)"),s?(e=e.clone(),e.children("INS").remove(),e.html()):(e=e.contents().filter(function(){return 3==this.nodeType})[0],e.nodeValue)},set_text:function(e,i,n){if(e=this._get_node(e)||this.data.ui.last_selected,!e.size())return!1;var s,a=this._get_settings().languages,r=this._get_settings().core.html_titles;return t.isArray(a)&&a.length?(n=n&&-1!=t.inArray(n,a)?n:this.data.languages.current_language,e=e.children("a."+n)):e=e.children("a:eq(0)"),r?(s=e.children("INS").clone(),e.html(i).prepend(s),this.__callback({obj:e,name:i,lang:n}),!0):(e=e.contents().filter(function(){return 3==this.nodeType})[0],this.__callback({obj:e,name:i,lang:n}),e.nodeValue=i)},_load_css:function(){var e,i=this._get_settings().languages,n="/* languages css */",s=".jstree-"+this.get_index()+" a";if(t.isArray(i)&&i.length){for(this.data.languages.current_language=i[0],e=0;e<i.length;e++)n+=s+"."+i[e]+" {",i[e]!=this.data.languages.current_language&&(n+=" display:none; "),n+=" } ";this.data.languages.language_css=t.vakata.css.add_sheet({str:n,title:"jstree-languages"})}},create_node:function(e,i,n,s){var a=this.__call_old(!0,e,i,n,function(e){var i,n=this._get_settings().languages,a=e.children("a");if(t.isArray(n)&&n.length){for(i=0;i<n.length;i++)a.is("."+n[i])||e.append(a.eq(0).clone().removeClass(n.join(" ")).addClass(n[i]));a.not("."+n.join(", .")).remove()}s&&s.call(this,e)});return a}}})}(jQuery),function(t){t.jstree.plugin("cookies",{__init:function(){if("undefined"==typeof t.cookie)throw"jsTree cookie: jQuery cookie plugin not included.";var e,i=this._get_settings().cookies;i.save_loaded&&(e=t.cookie(i.save_loaded),e&&e.length&&(this.data.core.to_load=e.split(","))),i.save_opened&&(e=t.cookie(i.save_opened),e&&e.length&&(this.data.core.to_open=e.split(","))),i.save_selected&&(e=t.cookie(i.save_selected),e&&e.length&&this.data.ui&&(this.data.ui.to_select=e.split(","))),this.get_container().one((this.data.ui?"reselect":"reopen")+".jstree",t.proxy(function(){this.get_container().bind("open_node.jstree close_node.jstree select_node.jstree deselect_node.jstree",t.proxy(function(t){this._get_settings().cookies.auto_save&&this.save_cookie((t.handleObj.namespace+t.handleObj.type).replace("jstree",""))},this))},this))},defaults:{save_loaded:"jstree_load",save_opened:"jstree_open",save_selected:"jstree_select",auto_save:!0,cookie_options:{}},_fn:{save_cookie:function(e){if(!this.data.core.refreshing){var i=this._get_settings().cookies;if(!e)return i.save_loaded&&(this.save_loaded(),t.cookie(i.save_loaded,this.data.core.to_load.join(","),i.cookie_options)),i.save_opened&&(this.save_opened(),t.cookie(i.save_opened,this.data.core.to_open.join(","),i.cookie_options)),i.save_selected&&this.data.ui&&(this.save_selected(),t.cookie(i.save_selected,this.data.ui.to_select.join(","),i.cookie_options)),void 0;switch(e){case"open_node":case"close_node":i.save_opened&&(this.save_opened(),t.cookie(i.save_opened,this.data.core.to_open.join(","),i.cookie_options)),i.save_loaded&&(this.save_loaded(),t.cookie(i.save_loaded,this.data.core.to_load.join(","),i.cookie_options));break;case"select_node":case"deselect_node":i.save_selected&&this.data.ui&&(this.save_selected(),t.cookie(i.save_selected,this.data.ui.to_select.join(","),i.cookie_options))}}}}})}(jQuery),function(t){t.jstree.plugin("sort",{__init:function(){this.get_container().bind("load_node.jstree",t.proxy(function(t,e){var i=this._get_node(e.rslt.obj);i=-1===i?this.get_container().children("ul"):i.children("ul"),this.sort(i)},this)).bind("rename_node.jstree create_node.jstree create.jstree",t.proxy(function(t,e){this.sort(e.rslt.obj.parent())},this)).bind("move_node.jstree",t.proxy(function(t,e){var i=-1==e.rslt.np?this.get_container():e.rslt.np;this.sort(i.children("ul"))},this))},defaults:function(t,e){return this.get_text(t)>this.get_text(e)?1:-1},_fn:{sort:function(e){var i=this._get_settings().sort,n=this;e.append(t.makeArray(e.children("li")).sort(t.proxy(i,n))),e.find("> li > ul").each(function(){n.sort(t(this))}),this.clean_node(e)}}})}(jQuery),function(t){var e=!1,i=!1,n=!1,s=!1,a=!1,r=!1,o=!1,l=!1,c=!1;t.vakata.dnd={is_down:!1,is_drag:!1,helper:!1,scroll_spd:10,init_x:0,init_y:0,threshold:5,helper_left:5,helper_top:10,user_data:{},drag_start:function(e,i,n){t.vakata.dnd.is_drag&&t.vakata.drag_stop({});try{e.currentTarget.unselectable="on",e.currentTarget.onselectstart=function(){return!1},e.currentTarget.style&&(e.currentTarget.style.MozUserSelect="none")}catch(s){}return t.vakata.dnd.init_x=e.pageX,t.vakata.dnd.init_y=e.pageY,t.vakata.dnd.user_data=i,t.vakata.dnd.is_down=!0,t.vakata.dnd.helper=t("<div id='vakata-dragged' />").html(n),t(document).bind("mousemove",t.vakata.dnd.drag),t(document).bind("mouseup",t.vakata.dnd.drag_stop),!1},drag:function(e){if(t.vakata.dnd.is_down){if(!t.vakata.dnd.is_drag){if(!(Math.abs(e.pageX-t.vakata.dnd.init_x)>5||Math.abs(e.pageY-t.vakata.dnd.init_y)>5))return;t.vakata.dnd.helper.appendTo("body"),t.vakata.dnd.is_drag=!0,t(document).triggerHandler("drag_start.vakata",{event:e,data:t.vakata.dnd.user_data})}if("mousemove"===e.type){var i=t(document),n=i.scrollTop(),s=i.scrollLeft();e.pageY-n<20?(r&&"down"===o&&(clearInterval(r),r=!1),r||(o="up",r=setInterval(function(){t(document).scrollTop(t(document).scrollTop()-t.vakata.dnd.scroll_spd)},150))):r&&"up"===o&&(clearInterval(r),r=!1),t(window).height()-(e.pageY-n)<20?(r&&"up"===o&&(clearInterval(r),r=!1),r||(o="down",r=setInterval(function(){t(document).scrollTop(t(document).scrollTop()+t.vakata.dnd.scroll_spd)},150))):r&&"down"===o&&(clearInterval(r),r=!1),e.pageX-s<20?(a&&"right"===l&&(clearInterval(a),a=!1),a||(l="left",a=setInterval(function(){t(document).scrollLeft(t(document).scrollLeft()-t.vakata.dnd.scroll_spd)},150))):a&&"left"===l&&(clearInterval(a),a=!1),t(window).width()-(e.pageX-s)<20?(a&&"left"===l&&(clearInterval(a),a=!1),a||(l="right",a=setInterval(function(){t(document).scrollLeft(t(document).scrollLeft()+t.vakata.dnd.scroll_spd)},150))):a&&"right"===l&&(clearInterval(a),a=!1)}t.vakata.dnd.helper.css({left:e.pageX+t.vakata.dnd.helper_left+"px",top:e.pageY+t.vakata.dnd.helper_top+"px"}),t(document).triggerHandler("drag.vakata",{event:e,data:t.vakata.dnd.user_data})}},drag_stop:function(e){a&&clearInterval(a),r&&clearInterval(r),t(document).unbind("mousemove",t.vakata.dnd.drag),t(document).unbind("mouseup",t.vakata.dnd.drag_stop),t(document).triggerHandler("drag_stop.vakata",{event:e,data:t.vakata.dnd.user_data}),t.vakata.dnd.helper.remove(),t.vakata.dnd.init_x=0,t.vakata.dnd.init_y=0,t.vakata.dnd.user_data={},t.vakata.dnd.is_down=!1,t.vakata.dnd.is_drag=!1}},t(function(){var e="#vakata-dragged { display:block; margin:0 0 0 0; padding:4px 4px 4px 24px; position:absolute; top:-2000px; line-height:16px; z-index:10000; } ";t.vakata.css.add_sheet({str:e,title:"vakata"})}),t.jstree.plugin("dnd",{__init:function(){this.data.dnd={active:!1,after:!1,inside:!1,before:!1,off:!1,prepared:!1,w:0,to1:!1,to2:!1,cof:!1,cw:!1,ch:!1,i1:!1,i2:!1,mto:!1},this.get_container().bind("mouseenter.jstree",t.proxy(function(i){if(t.vakata.dnd.is_drag&&t.vakata.dnd.user_data.jstree&&(this.data.themes&&(n.attr("class","jstree-"+this.data.themes.theme),s&&s.attr("class","jstree-"+this.data.themes.theme),t.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme)),i.currentTarget===i.target&&t.vakata.dnd.user_data.obj&&t(t.vakata.dnd.user_data.obj).length&&t(t.vakata.dnd.user_data.obj).parents(".jstree:eq(0)")[0]!==i.target)){var a,r=t.jstree._reference(i.target);r.data.dnd.foreign?(a=r._get_settings().dnd.drag_check.call(this,{o:e,r:r.get_container(),is_root:!0}),(a===!0||a.inside===!0||a.before===!0||a.after===!0)&&t.vakata.dnd.helper.children("ins").attr("class","jstree-ok")):(r.prepare_move(e,r.get_container(),"last"),r.check_move()&&t.vakata.dnd.helper.children("ins").attr("class","jstree-ok"))}},this)).bind("mouseup.jstree",t.proxy(function(i){if(t.vakata.dnd.is_drag&&t.vakata.dnd.user_data.jstree&&i.currentTarget===i.target&&t.vakata.dnd.user_data.obj&&t(t.vakata.dnd.user_data.obj).length&&t(t.vakata.dnd.user_data.obj).parents(".jstree:eq(0)")[0]!==i.target){var n,s=t.jstree._reference(i.currentTarget);s.data.dnd.foreign?(n=s._get_settings().dnd.drag_check.call(this,{o:e,r:s.get_container(),is_root:!0}),(n===!0||n.inside===!0||n.before===!0||n.after===!0)&&s._get_settings().dnd.drag_finish.call(this,{o:e,r:s.get_container(),is_root:!0})):s.move_node(e,s.get_container(),"last",i[s._get_settings().dnd.copy_modifier+"Key"])}},this)).bind("mouseleave.jstree",t.proxy(function(e){return e.relatedTarget&&e.relatedTarget.id&&"jstree-marker-line"===e.relatedTarget.id?!1:(t.vakata.dnd.is_drag&&t.vakata.dnd.user_data.jstree&&(this.data.dnd.i1&&clearInterval(this.data.dnd.i1),this.data.dnd.i2&&clearInterval(this.data.dnd.i2),this.data.dnd.to1&&clearTimeout(this.data.dnd.to1),this.data.dnd.to2&&clearTimeout(this.data.dnd.to2),t.vakata.dnd.helper.children("ins").hasClass("jstree-ok")&&t.vakata.dnd.helper.children("ins").attr("class","jstree-invalid")),void 0)},this)).bind("mousemove.jstree",t.proxy(function(e){if(t.vakata.dnd.is_drag&&t.vakata.dnd.user_data.jstree){var i=this.get_container()[0];e.pageX+24>this.data.dnd.cof.left+this.data.dnd.cw?(this.data.dnd.i1&&clearInterval(this.data.dnd.i1),this.data.dnd.i1=setInterval(t.proxy(function(){this.scrollLeft+=t.vakata.dnd.scroll_spd},i),100)):e.pageX-24<this.data.dnd.cof.left?(this.data.dnd.i1&&clearInterval(this.data.dnd.i1),this.data.dnd.i1=setInterval(t.proxy(function(){this.scrollLeft-=t.vakata.dnd.scroll_spd},i),100)):this.data.dnd.i1&&clearInterval(this.data.dnd.i1),e.pageY+24>this.data.dnd.cof.top+this.data.dnd.ch?(this.data.dnd.i2&&clearInterval(this.data.dnd.i2),this.data.dnd.i2=setInterval(t.proxy(function(){this.scrollTop+=t.vakata.dnd.scroll_spd},i),100)):e.pageY-24<this.data.dnd.cof.top?(this.data.dnd.i2&&clearInterval(this.data.dnd.i2),this.data.dnd.i2=setInterval(t.proxy(function(){this.scrollTop-=t.vakata.dnd.scroll_spd},i),100)):this.data.dnd.i2&&clearInterval(this.data.dnd.i2)}},this)).bind("scroll.jstree",t.proxy(function(){t.vakata.dnd.is_drag&&t.vakata.dnd.user_data.jstree&&n&&s&&(n.hide(),s.hide())},this)).delegate("a","mousedown.jstree",t.proxy(function(t){return 1===t.which?(this.start_drag(t.currentTarget,t),!1):void 0
},this)).delegate("a","mouseenter.jstree",t.proxy(function(e){t.vakata.dnd.is_drag&&t.vakata.dnd.user_data.jstree&&this.dnd_enter(e.currentTarget)},this)).delegate("a","mousemove.jstree",t.proxy(function(e){t.vakata.dnd.is_drag&&t.vakata.dnd.user_data.jstree&&(i&&i.length&&i.children("a")[0]===e.currentTarget||this.dnd_enter(e.currentTarget),"undefined"==typeof this.data.dnd.off.top&&(this.data.dnd.off=t(e.target).offset()),this.data.dnd.w=(e.pageY-(this.data.dnd.off.top||0))%this.data.core.li_height,this.data.dnd.w<0&&(this.data.dnd.w+=this.data.core.li_height),this.dnd_show())},this)).delegate("a","mouseleave.jstree",t.proxy(function(e){if(t.vakata.dnd.is_drag&&t.vakata.dnd.user_data.jstree){if(e.relatedTarget&&e.relatedTarget.id&&"jstree-marker-line"===e.relatedTarget.id)return!1;n&&n.hide(),s&&s.hide(),this.data.dnd.mto=setTimeout(function(t){return function(){t.dnd_leave(e)}}(this),0)}},this)).delegate("a","mouseup.jstree",t.proxy(function(e){t.vakata.dnd.is_drag&&t.vakata.dnd.user_data.jstree&&this.dnd_finish(e)},this)),t(document).bind("drag_stop.vakata",t.proxy(function(){this.data.dnd.to1&&clearTimeout(this.data.dnd.to1),this.data.dnd.to2&&clearTimeout(this.data.dnd.to2),this.data.dnd.i1&&clearInterval(this.data.dnd.i1),this.data.dnd.i2&&clearInterval(this.data.dnd.i2),this.data.dnd.after=!1,this.data.dnd.before=!1,this.data.dnd.inside=!1,this.data.dnd.off=!1,this.data.dnd.prepared=!1,this.data.dnd.w=!1,this.data.dnd.to1=!1,this.data.dnd.to2=!1,this.data.dnd.i1=!1,this.data.dnd.i2=!1,this.data.dnd.active=!1,this.data.dnd.foreign=!1,n&&n.css({top:"-2000px"}),s&&s.css({top:"-2000px"})},this)).bind("drag_start.vakata",t.proxy(function(e,i){if(i.data.jstree){var n=t(i.event.target);n.closest(".jstree").hasClass("jstree-"+this.get_index())&&this.dnd_enter(n)}},this));var a=this._get_settings().dnd;a.drag_target&&t(document).delegate(a.drag_target,"mousedown.jstree-"+this.get_index(),t.proxy(function(i){e=i.target,t.vakata.dnd.drag_start(i,{jstree:!0,obj:i.target},"<ins class='jstree-icon'></ins>"+t(i.target).text()),this.data.themes&&(n&&n.attr("class","jstree-"+this.data.themes.theme),s&&s.attr("class","jstree-"+this.data.themes.theme),t.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme)),t.vakata.dnd.helper.children("ins").attr("class","jstree-invalid");var a=this.get_container();this.data.dnd.cof=a.offset(),this.data.dnd.cw=parseInt(a.width(),10),this.data.dnd.ch=parseInt(a.height(),10),this.data.dnd.foreign=!0,i.preventDefault()},this)),a.drop_target&&t(document).delegate(a.drop_target,"mouseenter.jstree-"+this.get_index(),t.proxy(function(i){this.data.dnd.active&&this._get_settings().dnd.drop_check.call(this,{o:e,r:t(i.target),e:i})&&t.vakata.dnd.helper.children("ins").attr("class","jstree-ok")},this)).delegate(a.drop_target,"mouseleave.jstree-"+this.get_index(),t.proxy(function(){this.data.dnd.active&&t.vakata.dnd.helper.children("ins").attr("class","jstree-invalid")},this)).delegate(a.drop_target,"mouseup.jstree-"+this.get_index(),t.proxy(function(i){this.data.dnd.active&&t.vakata.dnd.helper.children("ins").hasClass("jstree-ok")&&this._get_settings().dnd.drop_finish.call(this,{o:e,r:t(i.target),e:i})},this))},defaults:{copy_modifier:"ctrl",check_timeout:100,open_timeout:500,drop_target:".jstree-drop",drop_check:function(){return!0},drop_finish:t.noop,drag_target:".jstree-draggable",drag_finish:t.noop,drag_check:function(){return{after:!1,before:!1,inside:!0}}},_fn:{dnd_prepare:function(){if(i&&i.length){if(this.data.dnd.off=i.offset(),this._get_settings().core.rtl&&(this.data.dnd.off.right=this.data.dnd.off.left+i.width()),this.data.dnd.foreign){var t=this._get_settings().dnd.drag_check.call(this,{o:e,r:i});return this.data.dnd.after=t.after,this.data.dnd.before=t.before,this.data.dnd.inside=t.inside,this.data.dnd.prepared=!0,this.dnd_show()}return this.prepare_move(e,i,"before"),this.data.dnd.before=this.check_move(),this.prepare_move(e,i,"after"),this.data.dnd.after=this.check_move(),this._is_loaded(i)?(this.prepare_move(e,i,"inside"),this.data.dnd.inside=this.check_move()):this.data.dnd.inside=!1,this.data.dnd.prepared=!0,this.dnd_show()}},dnd_show:function(){if(this.data.dnd.prepared){var e,i=["before","inside","after"],a=!1,r=this._get_settings().core.rtl;switch(i=this.data.dnd.w<this.data.core.li_height/3?["before","inside","after"]:this.data.dnd.w<=2*this.data.core.li_height/3?this.data.dnd.w<this.data.core.li_height/2?["inside","before","after"]:["inside","after","before"]:["after","inside","before"],t.each(i,t.proxy(function(e,i){return this.data.dnd[i]?(t.vakata.dnd.helper.children("ins").attr("class","jstree-ok"),a=i,!1):void 0},this)),a===!1&&t.vakata.dnd.helper.children("ins").attr("class","jstree-invalid"),e=r?this.data.dnd.off.right-18:this.data.dnd.off.left+10,a){case"before":n.css({left:e+"px",top:this.data.dnd.off.top-6+"px"}).show(),s&&s.css({left:e+8+"px",top:this.data.dnd.off.top-1+"px"}).show();break;case"after":n.css({left:e+"px",top:this.data.dnd.off.top+this.data.core.li_height-6+"px"}).show(),s&&s.css({left:e+8+"px",top:this.data.dnd.off.top+this.data.core.li_height-1+"px"}).show();break;case"inside":n.css({left:e+(r?-4:4)+"px",top:this.data.dnd.off.top+this.data.core.li_height/2-5+"px"}).show(),s&&s.hide();break;default:n.hide(),s&&s.hide()}return c=a,a}},dnd_open:function(){this.data.dnd.to2=!1,this.open_node(i,t.proxy(this.dnd_prepare,this),!0)},dnd_finish:function(t){this.data.dnd.foreign?(this.data.dnd.after||this.data.dnd.before||this.data.dnd.inside)&&this._get_settings().dnd.drag_finish.call(this,{o:e,r:i,p:c}):(this.dnd_prepare(),this.move_node(e,i,c,t[this._get_settings().dnd.copy_modifier+"Key"])),e=!1,i=!1,n.hide(),s&&s.hide()},dnd_enter:function(e){this.data.dnd.mto&&(clearTimeout(this.data.dnd.mto),this.data.dnd.mto=!1);var n=this._get_settings().dnd;this.data.dnd.prepared=!1,i=this._get_node(e),n.check_timeout?(this.data.dnd.to1&&clearTimeout(this.data.dnd.to1),this.data.dnd.to1=setTimeout(t.proxy(this.dnd_prepare,this),n.check_timeout)):this.dnd_prepare(),n.open_timeout?(this.data.dnd.to2&&clearTimeout(this.data.dnd.to2),i&&i.length&&i.hasClass("jstree-closed")&&(this.data.dnd.to2=setTimeout(t.proxy(this.dnd_open,this),n.open_timeout))):i&&i.length&&i.hasClass("jstree-closed")&&this.dnd_open()},dnd_leave:function(e){this.data.dnd.after=!1,this.data.dnd.before=!1,this.data.dnd.inside=!1,t.vakata.dnd.helper.children("ins").attr("class","jstree-invalid"),n.hide(),s&&s.hide(),i&&i[0]===e.target.parentNode&&(this.data.dnd.to1&&(clearTimeout(this.data.dnd.to1),this.data.dnd.to1=!1),this.data.dnd.to2&&(clearTimeout(this.data.dnd.to2),this.data.dnd.to2=!1))},start_drag:function(i,a){e=this._get_node(i),this.data.ui&&this.is_selected(e)&&(e=this._get_node(null,!0));var r=e.length>1?this._get_string("multiple_selection"):this.get_text(e),o=this.get_container();this._get_settings().core.html_titles||(r=r.replace(/</gi,"&lt;").replace(/>/gi,"&gt;")),t.vakata.dnd.drag_start(a,{jstree:!0,obj:e},"<ins class='jstree-icon'></ins>"+r),this.data.themes&&(n&&n.attr("class","jstree-"+this.data.themes.theme),s&&s.attr("class","jstree-"+this.data.themes.theme),t.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme)),this.data.dnd.cof=o.offset(),this.data.dnd.cw=parseInt(o.width(),10),this.data.dnd.ch=parseInt(o.height(),10),this.data.dnd.active=!0}}}),t(function(){var e="#vakata-dragged ins { display:block; text-decoration:none; width:16px; height:16px; margin:0 0 0 0; padding:0; position:absolute; top:4px; left:4px;  -moz-border-radius:4px; border-radius:4px; -webkit-border-radius:4px; } #vakata-dragged .jstree-ok { background:green; } #vakata-dragged .jstree-invalid { background:red; } #jstree-marker { padding:0; margin:0; font-size:12px; overflow:hidden; height:12px; width:8px; position:absolute; top:-30px; z-index:10001; background-repeat:no-repeat; display:none; background-color:transparent; text-shadow:1px 1px 1px white; color:black; line-height:10px; } #jstree-marker-line { padding:0; margin:0; line-height:0%; font-size:1px; overflow:hidden; height:1px; width:100px; position:absolute; top:-30px; z-index:10000; background-repeat:no-repeat; display:none; background-color:#456c43;  cursor:pointer; border:1px solid #eeeeee; border-left:0; -moz-box-shadow: 0px 0px 2px #666; -webkit-box-shadow: 0px 0px 2px #666; box-shadow: 0px 0px 2px #666;  -moz-border-radius:1px; border-radius:1px; -webkit-border-radius:1px; }";t.vakata.css.add_sheet({str:e,title:"jstree"}),n=t("<div />").attr({id:"jstree-marker"}).hide().html("&raquo;").bind("mouseleave mouseenter",function(t){return n.hide(),s.hide(),t.preventDefault(),t.stopImmediatePropagation(),!1}).appendTo("body"),s=t("<div />").attr({id:"jstree-marker-line"}).hide().bind("mouseup",function(t){return i&&i.length?(i.children("a").trigger(t),t.preventDefault(),t.stopImmediatePropagation(),!1):void 0}).bind("mouseleave",function(e){var a=t(e.relatedTarget);return(a.is(".jstree")||0===a.closest(".jstree").length)&&i&&i.length?(i.children("a").trigger(e),n.hide(),s.hide(),e.preventDefault(),e.stopImmediatePropagation(),!1):void 0}).appendTo("body"),t(document).bind("drag_start.vakata",function(t,e){e.data.jstree&&(n.show(),s&&s.show())}),t(document).bind("drag_stop.vakata",function(t,e){e.data.jstree&&(n.hide(),s&&s.hide())})})}(jQuery),function(t){t.jstree.plugin("checkbox",{__init:function(){this.data.checkbox.noui=this._get_settings().checkbox.override_ui,this.data.ui&&this.data.checkbox.noui&&(this.select_node=this.deselect_node=this.deselect_all=t.noop,this.get_selected=this.get_checked),this.get_container().bind("open_node.jstree create_node.jstree clean_node.jstree refresh.jstree",t.proxy(function(t,e){this._prepare_checkboxes(e.rslt.obj)},this)).bind("loaded.jstree",t.proxy(function(){this._prepare_checkboxes()},this)).delegate(this.data.ui&&this.data.checkbox.noui?"a":"ins.jstree-checkbox","click.jstree",t.proxy(function(t){return t.preventDefault(),this._get_node(t.target).hasClass("jstree-checked")?this.uncheck_node(t.target):this.check_node(t.target),this.data.ui&&this.data.checkbox.noui?(this.save_selected(),this.data.cookies&&this.save_cookie("select_node"),void 0):(t.stopImmediatePropagation(),!1)},this))},defaults:{override_ui:!1,two_state:!1,real_checkboxes:!1,checked_parent_open:!0,real_checkboxes_names:function(t){return["check_"+(t[0].id||Math.ceil(1e4*Math.random())),1]}},__destroy:function(){this.get_container().find("input.jstree-real-checkbox").removeClass("jstree-real-checkbox").end().find("ins.jstree-checkbox").remove()},_fn:{_checkbox_notify:function(t,e){e.checked&&this.check_node(t,!1)},_prepare_checkboxes:function(e){if(e=e&&-1!=e?this._get_node(e):this.get_container().find("> ul > li"),e!==!1){var i,n,s=this,a=this._get_settings().checkbox.two_state,r=this._get_settings().checkbox.real_checkboxes,o=this._get_settings().checkbox.real_checkboxes_names;e.each(function(){n=t(this),i=n.is("li")&&(n.hasClass("jstree-checked")||r&&n.children(":checked").length)?"jstree-checked":"jstree-unchecked",n.find("li").andSelf().each(function(){var e,n=t(this);n.children("a"+(s.data.languages?"":":eq(0)")).not(":has(.jstree-checkbox)").prepend("<ins class='jstree-checkbox'>&#160;</ins>").parent().not(".jstree-checked, .jstree-unchecked").addClass(a?"jstree-unchecked":i),r&&(n.children(":checkbox").length?n.children(":checkbox").addClass("jstree-real-checkbox"):(e=o.call(s,n),n.prepend("<input type='checkbox' class='jstree-real-checkbox' id='"+e[0]+"' name='"+e[0]+"' value='"+e[1]+"' />")),"jstree-checked"===i&&n.children(":checkbox").attr("checked","checked")),"jstree-checked"!==i||a||n.find("li").addClass("jstree-checked")})}),a||(1===e.length&&e.is("li")&&this._repair_state(e),e.is("li")?e.each(function(){s._repair_state(this)}):e.find("> ul > li").each(function(){s._repair_state(this)}),e.find(".jstree-checked").parent().parent().each(function(){s._repair_state(this)}))}},change_state:function(e,i){e=this._get_node(e);var n=!1,s=this._get_settings().checkbox.real_checkboxes;if(!e||-1===e)return!1;if(i=i===!1||i===!0?i:e.hasClass("jstree-checked"),this._get_settings().checkbox.two_state)i?(e.removeClass("jstree-checked").addClass("jstree-unchecked"),s&&e.children(":checkbox").removeAttr("checked")):(e.removeClass("jstree-unchecked").addClass("jstree-checked"),s&&e.children(":checkbox").attr("checked","checked"));else{if(i){if(n=e.find("li").andSelf(),!n.filter(".jstree-checked, .jstree-undetermined").length)return!1;n.removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked"),s&&n.children(":checkbox").removeAttr("checked")}else{if(n=e.find("li").andSelf(),!n.filter(".jstree-unchecked, .jstree-undetermined").length)return!1;n.removeClass("jstree-unchecked jstree-undetermined").addClass("jstree-checked"),s&&n.children(":checkbox").attr("checked","checked"),this.data.ui&&(this.data.ui.last_selected=e),this.data.checkbox.last_selected=e}e.parentsUntil(".jstree","li").each(function(){var e=t(this);if(i){if(e.children("ul").children("li.jstree-checked, li.jstree-undetermined").length)return e.parentsUntil(".jstree","li").andSelf().removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"),s&&e.parentsUntil(".jstree","li").andSelf().children(":checkbox").removeAttr("checked"),!1;e.removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked"),s&&e.children(":checkbox").removeAttr("checked")}else{if(e.children("ul").children("li.jstree-unchecked, li.jstree-undetermined").length)return e.parentsUntil(".jstree","li").andSelf().removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"),s&&e.parentsUntil(".jstree","li").andSelf().children(":checkbox").removeAttr("checked"),!1;e.removeClass("jstree-unchecked jstree-undetermined").addClass("jstree-checked"),s&&e.children(":checkbox").attr("checked","checked")}})}return this.data.ui&&this.data.checkbox.noui&&(this.data.ui.selected=this.get_checked()),this.__callback(e),!0},check_node:function(t){if(this.change_state(t,!1)){if(t=this._get_node(t),this._get_settings().checkbox.checked_parent_open){var e=this;t.parents(".jstree-closed").each(function(){e.open_node(this,!1,!0)})}this.__callback({obj:t})}},uncheck_node:function(t){this.change_state(t,!0)&&this.__callback({obj:this._get_node(t)})},check_all:function(){var t=this,e=this._get_settings().checkbox.two_state?this.get_container_ul().find("li"):this.get_container_ul().children("li");e.each(function(){t.change_state(this,!1)}),this.__callback()},uncheck_all:function(){var t=this,e=this._get_settings().checkbox.two_state?this.get_container_ul().find("li"):this.get_container_ul().children("li");e.each(function(){t.change_state(this,!0)}),this.__callback()},is_checked:function(t){return t=this._get_node(t),t.length?t.is(".jstree-checked"):!1},get_checked:function(t,e){return t=t&&-1!==t?this._get_node(t):this.get_container(),e||this._get_settings().checkbox.two_state?t.find(".jstree-checked"):t.find("> ul > .jstree-checked, .jstree-undetermined > ul > .jstree-checked")},get_unchecked:function(t,e){return t=t&&-1!==t?this._get_node(t):this.get_container(),e||this._get_settings().checkbox.two_state?t.find(".jstree-unchecked"):t.find("> ul > .jstree-unchecked, .jstree-undetermined > ul > .jstree-unchecked")},show_checkboxes:function(){this.get_container().children("ul").removeClass("jstree-no-checkboxes")},hide_checkboxes:function(){this.get_container().children("ul").addClass("jstree-no-checkboxes")},_repair_state:function(t){if(t=this._get_node(t),t.length){var e=this._get_settings().checkbox.real_checkboxes,i=t.find("> ul > .jstree-checked").length,n=t.find("> ul > .jstree-undetermined").length,s=t.find("> ul > li").length;0===s?t.hasClass("jstree-undetermined")&&this.change_state(t,!1):0===i&&0===n?this.change_state(t,!0):i===s?this.change_state(t,!1):(t.parentsUntil(".jstree","li").andSelf().removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"),e&&t.parentsUntil(".jstree","li").andSelf().children(":checkbox").removeAttr("checked"))}},reselect:function(){if(this.data.ui&&this.data.checkbox.noui){var e=this,i=this.data.ui.to_select;i=t.map(t.makeArray(i),function(t){return"#"+t.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")}),this.deselect_all(),t.each(i,function(t,i){e.check_node(i)}),this.__callback()}else this.__call_old()},save_loaded:function(){var t=this;this.data.core.to_load=[],this.get_container_ul().find("li.jstree-closed.jstree-undetermined").each(function(){this.id&&t.data.core.to_load.push("#"+this.id)})}}}),t(function(){var e=".jstree .jstree-real-checkbox { display:none; } ";t.vakata.css.add_sheet({str:e,title:"jstree"})})}(jQuery),function(t){t.vakata.xslt=function(e,i,n){var s,a,r,o,l="";return document.recalc?(s=document.createElement("xml"),a=document.createElement("xml"),s.innerHTML=e,a.innerHTML=i,t("body").append(s).append(a),setTimeout(function(e,i,n){return function(){n.call(null,e.transformNode(i.XMLDocument)),setTimeout(function(e,i){return function(){t(e).remove(),t(i).remove()}}(e,i),200)}}(s,a,n),100),!0):("undefined"!=typeof window.DOMParser&&"undefined"!=typeof window.XMLHttpRequest&&"undefined"==typeof window.XSLTProcessor&&(e=(new DOMParser).parseFromString(e,"text/xml"),i=(new DOMParser).parseFromString(i,"text/xml")),"undefined"!=typeof window.DOMParser&&"undefined"!=typeof window.XMLHttpRequest&&"undefined"!=typeof window.XSLTProcessor?(r=new XSLTProcessor,(o=t.isFunction(r.transformDocument)?"undefined"!=typeof window.XMLSerializer:!0)?(e=(new DOMParser).parseFromString(e,"text/xml"),i=(new DOMParser).parseFromString(i,"text/xml"),t.isFunction(r.transformDocument)?(l=document.implementation.createDocument("","",null),r.transformDocument(e,i,l,null),n.call(null,(new XMLSerializer).serializeToString(l)),!0):(r.importStylesheet(i),l=r.transformToFragment(e,document),n.call(null,t("<div />").append(l).html()),!0)):!1):!1)};var e={nest:'<?xml version="1.0" encoding="utf-8" ?><xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" ><xsl:output method="html" encoding="utf-8" omit-xml-declaration="yes" standalone="no" indent="no" media-type="text/html" /><xsl:template match="/">	<xsl:call-template name="nodes">		<xsl:with-param name="node" select="/root" />	</xsl:call-template></xsl:template><xsl:template name="nodes">	<xsl:param name="node" />	<ul>	<xsl:for-each select="$node/item">		<xsl:variable name="children" select="count(./item) &gt; 0" />		<li>			<xsl:attribute name="class">				<xsl:if test="position() = last()">jstree-last </xsl:if>				<xsl:choose>					<xsl:when test="@state = \'open\'">jstree-open </xsl:when>					<xsl:when test="$children or @hasChildren or @state = \'closed\'">jstree-closed </xsl:when>					<xsl:otherwise>jstree-leaf </xsl:otherwise>				</xsl:choose>				<xsl:value-of select="@class" />			</xsl:attribute>			<xsl:for-each select="@*">				<xsl:if test="name() != \'class\' and name() != \'state\' and name() != \'hasChildren\'">					<xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>				</xsl:if>			</xsl:for-each>	<ins class="jstree-icon"><xsl:text>&#xa0;</xsl:text></ins>			<xsl:for-each select="content/name">				<a>				<xsl:attribute name="href">					<xsl:choose>					<xsl:when test="@href"><xsl:value-of select="@href" /></xsl:when>					<xsl:otherwise>#</xsl:otherwise>					</xsl:choose>				</xsl:attribute>				<xsl:attribute name="class"><xsl:value-of select="@lang" /> <xsl:value-of select="@class" /></xsl:attribute>				<xsl:attribute name="style"><xsl:value-of select="@style" /></xsl:attribute>				<xsl:for-each select="@*">					<xsl:if test="name() != \'style\' and name() != \'class\' and name() != \'href\'">						<xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>					</xsl:if>				</xsl:for-each>					<ins>						<xsl:attribute name="class">jstree-icon 							<xsl:if test="string-length(attribute::icon) > 0 and not(contains(@icon,\'/\'))"><xsl:value-of select="@icon" /></xsl:if>						</xsl:attribute>						<xsl:if test="string-length(attribute::icon) > 0 and contains(@icon,\'/\')"><xsl:attribute name="style">background:url(<xsl:value-of select="@icon" />) center center no-repeat;</xsl:attribute></xsl:if>						<xsl:text>&#xa0;</xsl:text>					</ins>					<xsl:copy-of select="./child::node()" />				</a>			</xsl:for-each>			<xsl:if test="$children or @hasChildren"><xsl:call-template name="nodes"><xsl:with-param name="node" select="current()" /></xsl:call-template></xsl:if>		</li>	</xsl:for-each>	</ul></xsl:template></xsl:stylesheet>',flat:'<?xml version="1.0" encoding="utf-8" ?><xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" ><xsl:output method="html" encoding="utf-8" omit-xml-declaration="yes" standalone="no" indent="no" media-type="text/xml" /><xsl:template match="/">	<ul>	<xsl:for-each select="//item[not(@parent_id) or @parent_id=0 or not(@parent_id = //item/@id)]">		<xsl:call-template name="nodes">			<xsl:with-param name="node" select="." />			<xsl:with-param name="is_last" select="number(position() = last())" />		</xsl:call-template>	</xsl:for-each>	</ul></xsl:template><xsl:template name="nodes">	<xsl:param name="node" />	<xsl:param name="is_last" />	<xsl:variable name="children" select="count(//item[@parent_id=$node/attribute::id]) &gt; 0" />	<li>	<xsl:attribute name="class">		<xsl:if test="$is_last = true()">jstree-last </xsl:if>		<xsl:choose>			<xsl:when test="@state = \'open\'">jstree-open </xsl:when>			<xsl:when test="$children or @hasChildren or @state = \'closed\'">jstree-closed </xsl:when>			<xsl:otherwise>jstree-leaf </xsl:otherwise>		</xsl:choose>		<xsl:value-of select="@class" />	</xsl:attribute>	<xsl:for-each select="@*">		<xsl:if test="name() != \'parent_id\' and name() != \'hasChildren\' and name() != \'class\' and name() != \'state\'">		<xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>		</xsl:if>	</xsl:for-each>	<ins class="jstree-icon"><xsl:text>&#xa0;</xsl:text></ins>	<xsl:for-each select="content/name">		<a>		<xsl:attribute name="href">			<xsl:choose>			<xsl:when test="@href"><xsl:value-of select="@href" /></xsl:when>			<xsl:otherwise>#</xsl:otherwise>			</xsl:choose>		</xsl:attribute>		<xsl:attribute name="class"><xsl:value-of select="@lang" /> <xsl:value-of select="@class" /></xsl:attribute>		<xsl:attribute name="style"><xsl:value-of select="@style" /></xsl:attribute>		<xsl:for-each select="@*">			<xsl:if test="name() != \'style\' and name() != \'class\' and name() != \'href\'">				<xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>			</xsl:if>		</xsl:for-each>			<ins>				<xsl:attribute name="class">jstree-icon 					<xsl:if test="string-length(attribute::icon) > 0 and not(contains(@icon,\'/\'))"><xsl:value-of select="@icon" /></xsl:if>				</xsl:attribute>				<xsl:if test="string-length(attribute::icon) > 0 and contains(@icon,\'/\')"><xsl:attribute name="style">background:url(<xsl:value-of select="@icon" />) center center no-repeat;</xsl:attribute></xsl:if>				<xsl:text>&#xa0;</xsl:text>			</ins>			<xsl:copy-of select="./child::node()" />		</a>	</xsl:for-each>	<xsl:if test="$children">		<ul>		<xsl:for-each select="//item[@parent_id=$node/attribute::id]">			<xsl:call-template name="nodes">				<xsl:with-param name="node" select="." />				<xsl:with-param name="is_last" select="number(position() = last())" />			</xsl:call-template>		</xsl:for-each>		</ul>	</xsl:if>	</li></xsl:template></xsl:stylesheet>'},i=function(t){return t.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")};t.jstree.plugin("xml_data",{defaults:{data:!1,ajax:!1,xsl:"flat",clean_node:!1,correct_state:!0,get_skip_empty:!1,get_include_preamble:!0},_fn:{load_node:function(t,e,i){var n=this;this.load_node_xml(t,function(){n.__callback({obj:n._get_node(t)}),e.call(this)},i)},_is_loaded:function(e){var i=this._get_settings().xml_data;return e=this._get_node(e),-1==e||!e||!i.ajax&&!t.isFunction(i.data)||e.is(".jstree-open, .jstree-leaf")||e.children("ul").children("li").size()>0},load_node_xml:function(e,i,n){var s=this.get_settings().xml_data,a=function(){},r=function(){};if(e=this._get_node(e),e&&-1!==e){if(e.data("jstree-is-loading"))return;e.data("jstree-is-loading",!0)}switch(!0){case!s.data&&!s.ajax:throw"Neither data nor ajax settings supplied.";case t.isFunction(s.data):s.data.call(this,e,t.proxy(function(n){this.parse_xml(n,t.proxy(function(n){n&&(n=n.replace(/ ?xmlns="[^"]*"/gi,""),n.length>10?(n=t(n),-1!==e&&e?(e.children("a.jstree-loading").removeClass("jstree-loading"),e.append(n),e.removeData("jstree-is-loading")):this.get_container().children("ul").empty().append(n.children()),s.clean_node&&this.clean_node(e),i&&i.call(this)):e&&-1!==e?(e.children("a.jstree-loading").removeClass("jstree-loading"),e.removeData("jstree-is-loading"),s.correct_state&&(this.correct_state(e),i&&i.call(this))):s.correct_state&&(this.get_container().children("ul").empty(),i&&i.call(this)))},this))},this));break;case!!s.data&&!s.ajax||!!s.data&&!!s.ajax&&(!e||-1===e):e&&-1!=e||this.parse_xml(s.data,t.proxy(function(n){n?(n=n.replace(/ ?xmlns="[^"]*"/gi,""),n.length>10&&(n=t(n),this.get_container().children("ul").empty().append(n.children()),s.clean_node&&this.clean_node(e),i&&i.call(this))):s.correct_state&&(this.get_container().children("ul").empty(),i&&i.call(this))},this));break;case!s.data&&!!s.ajax||!!s.data&&!!s.ajax&&e&&-1!==e:a=function(t,i,a){var r=this.get_settings().xml_data.ajax.error;r&&r.call(this,t,i,a),-1!==e&&e.length?(e.children("a.jstree-loading").removeClass("jstree-loading"),e.removeData("jstree-is-loading"),"success"===i&&s.correct_state&&this.correct_state(e)):"success"===i&&s.correct_state&&this.get_container().children("ul").empty(),n&&n.call(this)},r=function(n,r,o){n=o.responseText;var l=this.get_settings().xml_data.ajax.success;return l&&(n=l.call(this,n,r,o)||n),""===n||n&&n.toString&&""===n.toString().replace(/^[\s\n]+$/,"")?a.call(this,o,r,""):(this.parse_xml(n,t.proxy(function(n){n&&(n=n.replace(/ ?xmlns="[^"]*"/gi,""),n.length>10?(n=t(n),-1!==e&&e?(e.children("a.jstree-loading").removeClass("jstree-loading"),e.append(n),e.removeData("jstree-is-loading")):this.get_container().children("ul").empty().append(n.children()),s.clean_node&&this.clean_node(e),i&&i.call(this)):e&&-1!==e?(e.children("a.jstree-loading").removeClass("jstree-loading"),e.removeData("jstree-is-loading"),s.correct_state&&(this.correct_state(e),i&&i.call(this))):s.correct_state&&(this.get_container().children("ul").empty(),i&&i.call(this)))},this)),void 0)},s.ajax.context=this,s.ajax.error=a,s.ajax.success=r,s.ajax.dataType||(s.ajax.dataType="xml"),t.isFunction(s.ajax.url)&&(s.ajax.url=s.ajax.url.call(this,e)),t.isFunction(s.ajax.data)&&(s.ajax.data=s.ajax.data.call(this,e)),t.ajax(s.ajax)}},parse_xml:function(i,n){var s=this._get_settings().xml_data;t.vakata.xslt(i,e[s.xsl],n)},get_xml:function(e,n,s,a,r){var o,l,c,h,u,d="",f=this._get_settings(),p=this;return e||(e="flat"),r||(r=0),n=this._get_node(n),n&&-1!==n||(n=this.get_container().find("> ul > li")),s=t.isArray(s)?s:["id","class"],!r&&this.data.types&&-1===t.inArray(f.types.type_attr,s)&&s.push(f.types.type_attr),a=t.isArray(a)?a:[],r||(f.xml_data.get_include_preamble&&(d+='<?xml version="1.0" encoding="UTF-8"?>'),d+="<root>"),n.each(function(){d+="<item",c=t(this),t.each(s,function(t,e){var n=c.attr(e);f.xml_data.get_skip_empty&&"undefined"==typeof n||(d+=" "+e+'="'+i((" "+(n||"")).replace(/ jstree[^ ]*/gi,"").replace(/\s+$/gi," ").replace(/^ /,"").replace(/ $/,""))+'"')}),c.hasClass("jstree-open")&&(d+=' state="open"'),c.hasClass("jstree-closed")&&(d+=' state="closed"'),"flat"===e&&(d+=' parent_id="'+i(r)+'"'),d+=">",d+="<content>",h=c.children("a"),h.each(function(){o=t(this),u=!1,d+="<name",-1!==t.inArray("languages",f.plugins)&&t.each(f.languages,function(t,e){return o.hasClass(e)?(d+=' lang="'+i(e)+'"',u=e,!1):void 0}),a.length&&t.each(a,function(t,e){var n=o.attr(e);f.xml_data.get_skip_empty&&"undefined"==typeof n||(d+=" "+e+'="'+i((" "+n||"").replace(/ jstree[^ ]*/gi,"").replace(/\s+$/gi," ").replace(/^ /,"").replace(/ $/,""))+'"')}),o.children("ins").get(0).className.replace(/jstree[^ ]*|$/gi,"").replace(/^\s+$/gi,"").length&&(d+=' icon="'+i(o.children("ins").get(0).className.replace(/jstree[^ ]*|$/gi,"").replace(/\s+$/gi," ").replace(/^ /,"").replace(/ $/,""))+'"'),o.children("ins").get(0).style.backgroundImage.length&&(d+=' icon="'+i(o.children("ins").get(0).style.backgroundImage.replace("url(","").replace(")","").replace(/'/gi,"").replace(/"/gi,""))+'"'),d+=">",d+="<![CDATA["+p.get_text(o,u)+"]]>",d+="</name>"}),d+="</content>",l=c[0].id||!0,c=c.find("> ul > li"),l=c.length?p.get_xml(e,c,s,a,l):"","nest"==e&&(d+=l),d+="</item>","flat"==e&&(d+=l)}),r||(d+="</root>"),d}}})}(jQuery),function(t){t.expr[":"].jstree_contains=function(t,e,i){return(t.textContent||t.innerText||"").toLowerCase().indexOf(i[3].toLowerCase())>=0},t.expr[":"].jstree_title_contains=function(t,e,i){return(t.getAttribute("title")||"").toLowerCase().indexOf(i[3].toLowerCase())>=0},t.jstree.plugin("search",{__init:function(){this.data.search.str="",this.data.search.result=t(),this._get_settings().search.show_only_matches&&this.get_container().bind("search.jstree",function(e,i){t(this).children("ul").find("li").hide().removeClass("jstree-last"),i.rslt.nodes.parentsUntil(".jstree").andSelf().show().filter("ul").each(function(){t(this).children("li:visible").eq(-1).addClass("jstree-last")})}).bind("clear_search.jstree",function(){t(this).children("ul").find("li").css("display","").end().end().jstree("clean_node",-1)})},defaults:{ajax:!1,search_method:"jstree_contains",show_only_matches:!1},_fn:{search:function(e,i){if(""===t.trim(e))return this.clear_search(),void 0;var n=this.get_settings().search,s=this,a=function(){},r=function(){};return this.data.search.str=e,!i&&n.ajax!==!1&&this.get_container_ul().find("li.jstree-closed:not(:has(ul)):eq(0)").length>0?(this.search.supress_callback=!0,a=function(){},r=function(t,e,i){var n=this.get_settings().search.ajax.success;n&&(t=n.call(this,t,e,i)||t),this.data.search.to_open=t,this._search_open()},n.ajax.context=this,n.ajax.error=a,n.ajax.success=r,t.isFunction(n.ajax.url)&&(n.ajax.url=n.ajax.url.call(this,e)),t.isFunction(n.ajax.data)&&(n.ajax.data=n.ajax.data.call(this,e)),n.ajax.data||(n.ajax.data={search_string:e}),(!n.ajax.dataType||/^json/.exec(n.ajax.dataType))&&(n.ajax.dataType="json"),t.ajax(n.ajax),void 0):(this.data.search.result.length&&this.clear_search(),this.data.search.result=this.get_container().find("a"+(this.data.languages?"."+this.get_lang():"")+":"+n.search_method+"("+this.data.search.str+")"),this.data.search.result.addClass("jstree-search").parent().parents(".jstree-closed").each(function(){s.open_node(this,!1,!0)}),this.__callback({nodes:this.data.search.result,str:e}),void 0)},clear_search:function(){this.data.search.result.removeClass("jstree-search"),this.__callback(this.data.search.result),this.data.search.result=t()},_search_open:function(){var e=this,i=!0,n=[],s=[];this.data.search.to_open.length&&(t.each(this.data.search.to_open,function(e,i){return"#"==i?!0:(t(i).length&&t(i).is(".jstree-closed")?n.push(i):s.push(i),void 0)}),n.length&&(this.data.search.to_open=s,t.each(n,function(t,i){e.open_node(i,function(){e._search_open(!0)})}),i=!1)),i&&this.search(this.data.search.str,!0)}}})}(jQuery),function(t){t.vakata.context={hide_on_mouseleave:!1,cnt:t("<div id='vakata-contextmenu' />"),vis:!1,tgt:!1,par:!1,func:!1,data:!1,rtl:!1,show:function(e,i,n,s,a,r,o){t.vakata.context.rtl=!!o;var l,c,h=t.vakata.context.parse(e);h&&(t.vakata.context.vis=!0,t.vakata.context.tgt=i,t.vakata.context.par=r||i||null,t.vakata.context.data=a||null,t.vakata.context.cnt.html(h).css({visibility:"hidden",display:"block",left:0,top:0}),t.vakata.context.hide_on_mouseleave&&t.vakata.context.cnt.one("mouseleave",function(){t.vakata.context.hide()}),l=t.vakata.context.cnt.height(),c=t.vakata.context.cnt.width(),n+c>t(document).width()&&(n=t(document).width()-(c+5),t.vakata.context.cnt.find("li > ul").addClass("right")),s+l>t(document).height()&&(s-=l+i[0].offsetHeight,t.vakata.context.cnt.find("li > ul").addClass("bottom")),t.vakata.context.cnt.css({left:n,top:s}).find("li:has(ul)").bind("mouseenter",function(){var e=t(document).width(),i=t(document).height(),n=t(this).children("ul").show();e!==t(document).width()&&n.toggleClass("right"),i!==t(document).height()&&n.toggleClass("bottom")}).bind("mouseleave",function(){t(this).children("ul").hide()}).end().css({visibility:"visible"}).show(),t(document).triggerHandler("context_show.vakata"))
},hide:function(){t.vakata.context.vis=!1,t.vakata.context.cnt.attr("class","").css({visibility:"hidden"}),t(document).triggerHandler("context_hide.vakata")},parse:function(e,i){if(!e)return!1;var n="",s=!1,a=!0;return i||(t.vakata.context.func={}),n+="<ul>",t.each(e,function(e,i){return i?(t.vakata.context.func[e]=i.action,!a&&i.separator_before&&(n+="<li class='vakata-separator vakata-separator-before'></li>"),a=!1,n+="<li class='"+(i._class||"")+(i._disabled?" jstree-contextmenu-disabled ":"")+"'><ins ",i.icon&&-1===i.icon.indexOf("/")&&(n+=" class='"+i.icon+"' "),i.icon&&-1!==i.icon.indexOf("/")&&(n+=" style='background:url("+i.icon+") center center no-repeat;' "),n+=">&#160;</ins><a href='#' rel='"+e+"'>",i.submenu&&(n+="<span style='float:"+(t.vakata.context.rtl?"left":"right")+";'>&raquo;</span>"),n+=i.label+"</a>",i.submenu&&(s=t.vakata.context.parse(i.submenu,!0),s&&(n+=s)),n+="</li>",i.separator_after&&(n+="<li class='vakata-separator vakata-separator-after'></li>",a=!0),void 0):!0}),n=n.replace(/<li class\='vakata-separator vakata-separator-after'\><\/li\>$/,""),n+="</ul>",t(document).triggerHandler("context_parse.vakata"),n.length>10?n:!1},exec:function(e){return t.isFunction(t.vakata.context.func[e])?(t.vakata.context.func[e].call(t.vakata.context.data,t.vakata.context.par),!0):!1}},t(function(){var e="#vakata-contextmenu { display:block; visibility:hidden; left:0; top:-200px; position:absolute; margin:0; padding:0; min-width:180px; background:#ebebeb; border:1px solid silver; z-index:10000; *width:180px; } #vakata-contextmenu ul { min-width:180px; *width:180px; } #vakata-contextmenu ul, #vakata-contextmenu li { margin:0; padding:0; list-style-type:none; display:block; } #vakata-contextmenu li { line-height:20px; min-height:20px; position:relative; padding:0px; } #vakata-contextmenu li a { padding:1px 6px; line-height:17px; display:block; text-decoration:none; margin:1px 1px 0 1px; } #vakata-contextmenu li ins { float:left; width:16px; height:16px; text-decoration:none; margin-right:2px; } #vakata-contextmenu li a:hover, #vakata-contextmenu li.vakata-hover > a { background:gray; color:white; } #vakata-contextmenu li ul { display:none; position:absolute; top:-2px; left:100%; background:#ebebeb; border:1px solid gray; } #vakata-contextmenu .right { right:100%; left:auto; } #vakata-contextmenu .bottom { bottom:-1px; top:auto; } #vakata-contextmenu li.vakata-separator { min-height:0; height:1px; line-height:1px; font-size:1px; overflow:hidden; margin:0 2px; background:silver; /* border-top:1px solid #fefefe; */ padding:0; } ";t.vakata.css.add_sheet({str:e,title:"vakata"}),t.vakata.context.cnt.delegate("a","click",function(t){t.preventDefault()}).delegate("a","mouseup",function(){!t(this).parent().hasClass("jstree-contextmenu-disabled")&&t.vakata.context.exec(t(this).attr("rel"))?t.vakata.context.hide():t(this).blur()}).delegate("a","mouseover",function(){t.vakata.context.cnt.find(".vakata-hover").removeClass("vakata-hover")}).appendTo("body"),t(document).bind("mousedown",function(e){t.vakata.context.vis&&!t.contains(t.vakata.context.cnt[0],e.target)&&t.vakata.context.hide()}),"undefined"!=typeof t.hotkeys&&t(document).bind("keydown","up",function(e){if(t.vakata.context.vis){var i=t.vakata.context.cnt.find("ul:visible").last().children(".vakata-hover").removeClass("vakata-hover").prevAll("li:not(.vakata-separator)").first();i.length||(i=t.vakata.context.cnt.find("ul:visible").last().children("li:not(.vakata-separator)").last()),i.addClass("vakata-hover"),e.stopImmediatePropagation(),e.preventDefault()}}).bind("keydown","down",function(e){if(t.vakata.context.vis){var i=t.vakata.context.cnt.find("ul:visible").last().children(".vakata-hover").removeClass("vakata-hover").nextAll("li:not(.vakata-separator)").first();i.length||(i=t.vakata.context.cnt.find("ul:visible").last().children("li:not(.vakata-separator)").first()),i.addClass("vakata-hover"),e.stopImmediatePropagation(),e.preventDefault()}}).bind("keydown","right",function(e){t.vakata.context.vis&&(t.vakata.context.cnt.find(".vakata-hover").children("ul").show().children("li:not(.vakata-separator)").removeClass("vakata-hover").first().addClass("vakata-hover"),e.stopImmediatePropagation(),e.preventDefault())}).bind("keydown","left",function(e){t.vakata.context.vis&&(t.vakata.context.cnt.find(".vakata-hover").children("ul").hide().children(".vakata-separator").removeClass("vakata-hover"),e.stopImmediatePropagation(),e.preventDefault())}).bind("keydown","esc",function(e){t.vakata.context.hide(),e.preventDefault()}).bind("keydown","space",function(e){t.vakata.context.cnt.find(".vakata-hover").last().children("a").click(),e.preventDefault()})}),t.jstree.plugin("contextmenu",{__init:function(){this.get_container().delegate("a","contextmenu.jstree",t.proxy(function(e){e.preventDefault(),t(e.currentTarget).hasClass("jstree-loading")||this.show_contextmenu(e.currentTarget,e.pageX,e.pageY)},this)).delegate("a","click.jstree",t.proxy(function(){this.data.contextmenu&&t.vakata.context.hide()},this)).bind("destroy.jstree",t.proxy(function(){this.data.contextmenu&&t.vakata.context.hide()},this)),t(document).bind("context_hide.vakata",t.proxy(function(){this.data.contextmenu=!1},this))},defaults:{select_node:!1,show_at_node:!0,items:{create:{separator_before:!1,separator_after:!0,label:"Create",action:function(t){this.create(t)}},rename:{separator_before:!1,separator_after:!1,label:"Rename",action:function(t){this.rename(t)}},remove:{separator_before:!1,icon:!1,separator_after:!1,label:"Delete",action:function(t){this.is_selected(t)?this.remove():this.remove(t)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(t){this.cut(t)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(t){this.copy(t)}},paste:{separator_before:!1,icon:!1,separator_after:!1,label:"Paste",action:function(t){this.paste(t)}}}}}},_fn:{show_contextmenu:function(e,i,n){e=this._get_node(e);var s=this.get_settings().contextmenu,a=e.children("a:visible:eq(0)"),r=!1,o=!1;s.select_node&&this.data.ui&&!this.is_selected(e)&&(this.deselect_all(),this.select_node(e,!0)),(s.show_at_node||"undefined"==typeof i||"undefined"==typeof n)&&(r=a.offset(),i=r.left,n=r.top+this.data.core.li_height),o=e.data("jstree")&&e.data("jstree").contextmenu?e.data("jstree").contextmenu:s.items,t.isFunction(o)&&(o=o.call(this,e)),this.data.contextmenu=!0,t.vakata.context.show(o,a,i,n,this,e,this._get_settings().core.rtl),this.data.themes&&t.vakata.context.cnt.attr("class","jstree-"+this.data.themes.theme+"-context")}}})}(jQuery),function(e){e.jstree.plugin("types",{__init:function(){var i=this._get_settings().types;this.data.types.attach_to=[],this.get_container().bind("init.jstree",e.proxy(function(){var t=i.types,n=i.type_attr,s="",a=this;e.each(t,function(t,i){return e.each(i,function(t){/^(max_depth|max_children|icon|valid_children)$/.test(t)||a.data.types.attach_to.push(t)}),i.icon?((i.icon.image||i.icon.position)&&(s+="default"==t?".jstree-"+a.get_index()+" a > .jstree-icon { ":".jstree-"+a.get_index()+" li["+n+'="'+t+'"] > a > .jstree-icon { ',i.icon.image&&(s+=" background-image:url("+i.icon.image+"); "),s+=i.icon.position?" background-position:"+i.icon.position+"; ":" background-position:0 0; ",s+="} "),void 0):!0}),""!==s&&e.vakata.css.add_sheet({str:s,title:"jstree-types"})},this)).bind("before.jstree",e.proxy(function(t,i){var n,s,a=this._get_settings().types.use_data?this._get_node(i.args[0]):!1,r=a&&-1!==a&&a.length?a.data("jstree"):!1;if(r&&r.types&&r.types[i.func]===!1)return t.stopImmediatePropagation(),!1;if(-1!==e.inArray(i.func,this.data.types.attach_to)){if(!i.args[0]||!i.args[0].tagName&&!i.args[0].jquery)return;if(n=this._get_settings().types.types,s=this._get_type(i.args[0]),(n[s]&&"undefined"!=typeof n[s][i.func]||n["default"]&&"undefined"!=typeof n["default"][i.func])&&this._check(i.func,i.args[0])===!1)return t.stopImmediatePropagation(),!1}},this)),t&&this.get_container().bind("load_node.jstree set_type.jstree",e.proxy(function(t,i){var n=i&&i.rslt&&i.rslt.obj&&-1!==i.rslt.obj?this._get_node(i.rslt.obj).parent():this.get_container_ul(),s=!1,a=this._get_settings().types;e.each(a.types,function(t,e){e.icon&&(e.icon.image||e.icon.position)&&(s="default"===t?n.find("li > a > .jstree-icon"):n.find("li["+a.type_attr+"='"+t+"'] > a > .jstree-icon"),e.icon.image&&s.css("backgroundImage","url("+e.icon.image+")"),s.css("backgroundPosition",e.icon.position||"0 0"))})},this))},defaults:{max_children:-1,max_depth:-1,valid_children:"all",use_data:!1,type_attr:"rel",types:{"default":{max_children:-1,max_depth:-1,valid_children:"all"}}},_fn:{_types_notify:function(t,e){e.type&&this._get_settings().types.use_data&&this.set_type(e.type,t)},_get_type:function(t){return t=this._get_node(t),t&&t.length?t.attr(this._get_settings().types.type_attr)||"default":!1},set_type:function(t,e){e=this._get_node(e);var i=e.length&&t?e.attr(this._get_settings().types.type_attr,t):!1;return i&&this.__callback({obj:e,type:t}),i},_check:function(t,i,n){i=this._get_node(i);var s=!1,a=this._get_type(i),r=0,o=this,l=this._get_settings().types,c=!1;if(-1===i){if(!l[t])return;s=l[t]}else{if(a===!1)return;c=l.use_data?i.data("jstree"):!1,c&&c.types&&"undefined"!=typeof c.types[t]?s=c.types[t]:l.types[a]&&"undefined"!=typeof l.types[a][t]?s=l.types[a][t]:l.types["default"]&&"undefined"!=typeof l.types["default"][t]&&(s=l.types["default"][t])}return e.isFunction(s)&&(s=s.call(this,i)),"max_depth"===t&&-1!==i&&n!==!1&&-2!==l.max_depth&&0!==s&&i.children("a:eq(0)").parentsUntil(".jstree","li").each(function(e){return-1!==l.max_depth&&l.max_depth-(e+1)<=0?(s=0,!1):(r=0===e?s:o._check(t,this,!1),-1!==r&&0>=r-(e+1)?(s=0,!1):(r>=0&&(s>r-(e+1)||0>s)&&(s=r-(e+1)),l.max_depth>=0&&(l.max_depth-(e+1)<s||0>s)&&(s=l.max_depth-(e+1)),void 0))}),s},check_move:function(){if(!this.__call_old())return!1;var t,i=this._get_move(),n=i.rt._get_settings().types,s=i.rt._check("max_children",i.cr),a=i.rt._check("max_depth",i.cr),r=i.rt._check("valid_children",i.cr),o=0,l=1;if("none"===r)return!1;if(e.isArray(r)&&i.ot&&i.ot._get_type&&(i.o.each(function(){return-1===e.inArray(i.ot._get_type(this),r)?(l=!1,!1):void 0}),l===!1))return!1;if(-2!==n.max_children&&-1!==s&&(o=-1===i.cr?this.get_container().find("> ul > li").not(i.o).length:i.cr.find("> ul > li").not(i.o).length,o+i.o.length>s))return!1;if(-2!==n.max_depth&&-1!==a){if(l=0,0===a)return!1;if("undefined"==typeof i.o.d){for(t=i.o;t.length>0;)t=t.find("> ul > li"),l++;i.o.d=l}if(a-i.o.d<0)return!1}return!0},create_node:function(t,i,n,s,a,r){if(!r&&(a||this._is_loaded(t))){var o,l="string"==typeof i&&i.match(/^before|after$/i)&&-1!==t?this._get_parent(t):this._get_node(t),c=this._get_settings().types,h=this._check("max_children",l),u=this._check("max_depth",l),d=this._check("valid_children",l);if("string"==typeof n&&(n={data:n}),n||(n={}),"none"===d)return!1;if(e.isArray(d))if(n.attr&&n.attr[c.type_attr]){if(-1===e.inArray(n.attr[c.type_attr],d))return!1}else n.attr||(n.attr={}),n.attr[c.type_attr]=d[0];if(-2!==c.max_children&&-1!==h&&(o=-1===l?this.get_container().find("> ul > li").length:l.find("> ul > li").length,o+1>h))return!1;if(-2!==c.max_depth&&-1!==u&&0>u-1)return!1}return this.__call_old(!0,t,i,n,s,a,r)}}})}(jQuery),function(t){t.jstree.plugin("html_data",{__init:function(){this.data.html_data.original_container_html=this.get_container().find(" > ul > li").clone(!0),this.data.html_data.original_container_html.find("li").andSelf().contents().filter(function(){return 3==this.nodeType}).remove()},defaults:{data:!1,ajax:!1,correct_state:!0},_fn:{load_node:function(t,e,i){var n=this;this.load_node_html(t,function(){n.__callback({obj:n._get_node(t)}),e.call(this)},i)},_is_loaded:function(e){return e=this._get_node(e),-1==e||!e||!this._get_settings().html_data.ajax&&!t.isFunction(this._get_settings().html_data.data)||e.is(".jstree-open, .jstree-leaf")||e.children("ul").children("li").size()>0},load_node_html:function(e,i,n){var s,a=this.get_settings().html_data,r=function(){},o=function(){};if(e=this._get_node(e),e&&-1!==e){if(e.data("jstree-is-loading"))return;e.data("jstree-is-loading",!0)}switch(!0){case t.isFunction(a.data):a.data.call(this,e,t.proxy(function(n){n&&""!==n&&n.toString&&""!==n.toString().replace(/^[\s\n]+$/,"")?(n=t(n),n.is("ul")||(n=t("<ul />").append(n)),-1!=e&&e?(e.children("a.jstree-loading").removeClass("jstree-loading"),e.append(n).children("ul").find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),e.removeData("jstree-is-loading")):this.get_container().children("ul").empty().append(n.children()).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),this.clean_node(e),i&&i.call(this)):e&&-1!==e?(e.children("a.jstree-loading").removeClass("jstree-loading"),e.removeData("jstree-is-loading"),a.correct_state&&(this.correct_state(e),i&&i.call(this))):a.correct_state&&(this.get_container().children("ul").empty(),i&&i.call(this))},this));break;case!a.data&&!a.ajax:e&&-1!=e||(this.get_container().children("ul").empty().append(this.data.html_data.original_container_html).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),this.clean_node()),i&&i.call(this);break;case!!a.data&&!a.ajax||!!a.data&&!!a.ajax&&(!e||-1===e):e&&-1!=e||(s=t(a.data),s.is("ul")||(s=t("<ul />").append(s)),this.get_container().children("ul").empty().append(s.children()).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),this.clean_node()),i&&i.call(this);break;case!a.data&&!!a.ajax||!!a.data&&!!a.ajax&&e&&-1!==e:e=this._get_node(e),r=function(t,i,s){var r=this.get_settings().html_data.ajax.error;r&&r.call(this,t,i,s),-1!=e&&e.length?(e.children("a.jstree-loading").removeClass("jstree-loading"),e.removeData("jstree-is-loading"),"success"===i&&a.correct_state&&this.correct_state(e)):"success"===i&&a.correct_state&&this.get_container().children("ul").empty(),n&&n.call(this)},o=function(n,s,o){var l=this.get_settings().html_data.ajax.success;return l&&(n=l.call(this,n,s,o)||n),""===n||n&&n.toString&&""===n.toString().replace(/^[\s\n]+$/,"")?r.call(this,o,s,""):(n?(n=t(n),n.is("ul")||(n=t("<ul />").append(n)),-1!=e&&e?(e.children("a.jstree-loading").removeClass("jstree-loading"),e.append(n).children("ul").find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),e.removeData("jstree-is-loading")):this.get_container().children("ul").empty().append(n.children()).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),this.clean_node(e),i&&i.call(this)):e&&-1!==e?(e.children("a.jstree-loading").removeClass("jstree-loading"),e.removeData("jstree-is-loading"),a.correct_state&&(this.correct_state(e),i&&i.call(this))):a.correct_state&&(this.get_container().children("ul").empty(),i&&i.call(this)),void 0)},a.ajax.context=this,a.ajax.error=r,a.ajax.success=o,a.ajax.dataType||(a.ajax.dataType="html"),t.isFunction(a.ajax.url)&&(a.ajax.url=a.ajax.url.call(this,e)),t.isFunction(a.ajax.data)&&(a.ajax.data=a.ajax.data.call(this,e)),t.ajax(a.ajax)}}}}),t.jstree.defaults.plugins.push("html_data")}(jQuery),function(t){t.jstree.plugin("themeroller",{__init:function(){var e=this._get_settings().themeroller;this.get_container().addClass("ui-widget-content").addClass("jstree-themeroller").delegate("a","mouseenter.jstree",function(i){t(i.currentTarget).hasClass("jstree-loading")||t(this).addClass(e.item_h)}).delegate("a","mouseleave.jstree",function(){t(this).removeClass(e.item_h)}).bind("init.jstree",t.proxy(function(t,e){e.inst.get_container().find("> ul > li > .jstree-loading > ins").addClass("ui-icon-refresh"),this._themeroller(e.inst.get_container().find("> ul > li"))},this)).bind("open_node.jstree create_node.jstree",t.proxy(function(t,e){this._themeroller(e.rslt.obj)},this)).bind("loaded.jstree refresh.jstree",t.proxy(function(){this._themeroller()},this)).bind("close_node.jstree",t.proxy(function(t,e){this._themeroller(e.rslt.obj)},this)).bind("delete_node.jstree",t.proxy(function(t,e){this._themeroller(e.rslt.parent)},this)).bind("correct_state.jstree",t.proxy(function(t,i){i.rslt.obj.children("ins.jstree-icon").removeClass(e.opened+" "+e.closed+" ui-icon").end().find("> a > ins.ui-icon").filter(function(){return-1===this.className.toString().replace(e.item_clsd,"").replace(e.item_open,"").replace(e.item_leaf,"").indexOf("ui-icon-")}).removeClass(e.item_open+" "+e.item_clsd).addClass(e.item_leaf||"jstree-no-icon")},this)).bind("select_node.jstree",t.proxy(function(t,i){i.rslt.obj.children("a").addClass(e.item_a)},this)).bind("deselect_node.jstree deselect_all.jstree",t.proxy(function(){this.get_container().find("a."+e.item_a).removeClass(e.item_a).end().find("a.jstree-clicked").addClass(e.item_a)},this)).bind("dehover_node.jstree",t.proxy(function(t,i){i.rslt.obj.children("a").removeClass(e.item_h)},this)).bind("hover_node.jstree",t.proxy(function(t,i){this.get_container().find("a."+e.item_h).not(i.rslt.obj).removeClass(e.item_h),i.rslt.obj.children("a").addClass(e.item_h)},this)).bind("move_node.jstree",t.proxy(function(t,e){this._themeroller(e.rslt.o),this._themeroller(e.rslt.op)},this))},__destroy:function(){var e=this._get_settings().themeroller,i=["ui-icon"];t.each(e,function(t,e){e=e.split(" "),e.length&&(i=i.concat(e))}),this.get_container().removeClass("ui-widget-content").find("."+i.join(", .")).removeClass(i.join(" "))},_fn:{_themeroller:function(t){var e=this._get_settings().themeroller;t=t&&-1!=t?this._get_node(t).parent():this.get_container_ul(),t.find("li.jstree-closed").children("ins.jstree-icon").removeClass(e.opened).addClass("ui-icon "+e.closed).end().children("a").addClass(e.item).children("ins.jstree-icon").addClass("ui-icon").filter(function(){return-1===this.className.toString().replace(e.item_clsd,"").replace(e.item_open,"").replace(e.item_leaf,"").indexOf("ui-icon-")}).removeClass(e.item_leaf+" "+e.item_open).addClass(e.item_clsd||"jstree-no-icon").end().end().end().end().find("li.jstree-open").children("ins.jstree-icon").removeClass(e.closed).addClass("ui-icon "+e.opened).end().children("a").addClass(e.item).children("ins.jstree-icon").addClass("ui-icon").filter(function(){return-1===this.className.toString().replace(e.item_clsd,"").replace(e.item_open,"").replace(e.item_leaf,"").indexOf("ui-icon-")}).removeClass(e.item_leaf+" "+e.item_clsd).addClass(e.item_open||"jstree-no-icon").end().end().end().end().find("li.jstree-leaf").children("ins.jstree-icon").removeClass(e.closed+" ui-icon "+e.opened).end().children("a").addClass(e.item).children("ins.jstree-icon").addClass("ui-icon").filter(function(){return-1===this.className.toString().replace(e.item_clsd,"").replace(e.item_open,"").replace(e.item_leaf,"").indexOf("ui-icon-")}).removeClass(e.item_clsd+" "+e.item_open).addClass(e.item_leaf||"jstree-no-icon")}},defaults:{opened:"ui-icon-triangle-1-se",closed:"ui-icon-triangle-1-e",item:"ui-state-default",item_h:"ui-state-hover",item_a:"ui-state-active",item_open:"ui-icon-folder-open",item_clsd:"ui-icon-folder-collapsed",item_leaf:"ui-icon-document"}}),t(function(){var e=".jstree-themeroller .ui-icon { overflow:visible; } .jstree-themeroller a { padding:0 2px; } .jstree-themeroller .jstree-no-icon { display:none; }";t.vakata.css.add_sheet({str:e,title:"jstree"})})}(jQuery),function(t){t.jstree.plugin("unique",{__init:function(){this.get_container().bind("before.jstree",t.proxy(function(e,i){var n,s,a=[],r=!0;return"move_node"==i.func&&i.args[4]===!0&&i.args[0].o&&i.args[0].o.length&&(i.args[0].o.children("a").each(function(){a.push(t(this).text().replace(/^\s+/g,""))}),r=this._check_unique(a,i.args[0].np.find("> ul > li").not(i.args[0].o),"move_node")),"create_node"==i.func&&(i.args[4]||this._is_loaded(i.args[0]))&&(n=this._get_node(i.args[0]),!i.args[1]||"before"!==i.args[1]&&"after"!==i.args[1]||(n=this._get_parent(i.args[0]),n&&-1!==n||(n=this.get_container())),"string"==typeof i.args[2]?a.push(i.args[2]):i.args[2]&&i.args[2].data?a.push(i.args[2].data):a.push(this._get_string("new_node")),r=this._check_unique(a,n.find("> ul > li"),"create_node")),"rename_node"==i.func&&(a.push(i.args[1]),s=this._get_node(i.args[0]),n=this._get_parent(s),n&&-1!==n||(n=this.get_container()),r=this._check_unique(a,n.find("> ul > li").not(s),"rename_node")),r?void 0:(e.stopPropagation(),!1)},this))},defaults:{error_callback:t.noop},_fn:{_check_unique:function(e,i,n){var s=[];return i.children("a").each(function(){s.push(t(this).text().replace(/^\s+/g,""))}),s.length&&e.length?(s=s.sort().join(",,").replace(/(,|^)([^,]+)(,,\2)+(,|$)/g,"$1$2$4").replace(/,,+/g,",").replace(/,$/,"").split(","),s.length+e.length!=s.concat(e).sort().join(",,").replace(/(,|^)([^,]+)(,,\2)+(,|$)/g,"$1$2$4").replace(/,,+/g,",").replace(/,$/,"").split(",").length?(this._get_settings().unique.error_callback.call(null,e,i,n),!1):!0):!0},check_move:function(){if(!this.__call_old())return!1;var e=this._get_move(),i=[];return e.o&&e.o.length?(e.o.children("a").each(function(){i.push(t(this).text().replace(/^\s+/g,""))}),this._check_unique(i,e.np.find("> ul > li").not(e.o),"check_move")):!0}}})}(jQuery),function(n){n.jstree.plugin("wholerow",{__init:function(){if(!this.data.ui)throw"jsTree wholerow: jsTree UI plugin not included.";this.data.wholerow.html=!1,this.data.wholerow.to=!1,this.get_container().bind("init.jstree",n.proxy(function(){this._get_settings().core.animation=0},this)).bind("open_node.jstree create_node.jstree clean_node.jstree loaded.jstree",n.proxy(function(t,e){this._prepare_wholerow_span(e&&e.rslt&&e.rslt.obj?e.rslt.obj:-1)},this)).bind("search.jstree clear_search.jstree reopen.jstree after_open.jstree after_close.jstree create_node.jstree delete_node.jstree clean_node.jstree",n.proxy(function(t,e){this.data.to&&clearTimeout(this.data.to),this.data.to=setTimeout(function(t,e){return function(){t._prepare_wholerow_ul(e)}}(this,e&&e.rslt&&e.rslt.obj?e.rslt.obj:-1),0)},this)).bind("deselect_all.jstree",n.proxy(function(){this.get_container().find(" > .jstree-wholerow .jstree-clicked").removeClass("jstree-clicked "+(this.data.themeroller?this._get_settings().themeroller.item_a:""))},this)).bind("select_node.jstree deselect_node.jstree ",n.proxy(function(t,e){e.rslt.obj.each(function(){var t=e.inst.get_container().find(" > .jstree-wholerow li:visible:eq("+parseInt((n(this).offset().top-e.inst.get_container().offset().top+e.inst.get_container()[0].scrollTop)/e.inst.data.core.li_height,10)+")");t.children("a").attr("class",e.rslt.obj.children("a").attr("class"))})},this)).bind("hover_node.jstree dehover_node.jstree",n.proxy(function(t,e){if(this.get_container().find(" > .jstree-wholerow .jstree-hovered").removeClass("jstree-hovered "+(this.data.themeroller?this._get_settings().themeroller.item_h:"")),"hover_node"===t.type){var i=this.get_container().find(" > .jstree-wholerow li:visible:eq("+parseInt((e.rslt.obj.offset().top-this.get_container().offset().top+this.get_container()[0].scrollTop)/this.data.core.li_height,10)+")");i.children("a").attr("class",e.rslt.obj.children(".jstree-hovered").attr("class"))}},this)).delegate(".jstree-wholerow-span, ins.jstree-icon, li","click.jstree",function(t){var e=n(t.currentTarget);"A"===t.target.tagName||"INS"===t.target.tagName&&e.closest("li").is(".jstree-open, .jstree-closed")||(e.closest("li").children("a:visible:eq(0)").click(),t.stopImmediatePropagation())}).delegate("li","mouseover.jstree",n.proxy(function(t){return t.stopImmediatePropagation(),n(t.currentTarget).children(".jstree-hovered, .jstree-clicked").length?!1:(this.hover_node(t.currentTarget),!1)},this)).delegate("li","mouseleave.jstree",n.proxy(function(t){n(t.currentTarget).children("a").hasClass("jstree-hovered").length||this.dehover_node(t.currentTarget)},this)),(e||t)&&n.vakata.css.add_sheet({str:".jstree-"+this.get_index()+" { position:relative; } ",title:"jstree"})},defaults:{},__destroy:function(){this.get_container().children(".jstree-wholerow").remove(),this.get_container().find(".jstree-wholerow-span").remove()},_fn:{_prepare_wholerow_span:function(t){t=t&&-1!=t?this._get_node(t):this.get_container().find("> ul > li"),t!==!1&&t.each(function(){n(this).find("li").andSelf().each(function(){var t=n(this);return t.children(".jstree-wholerow-span").length?!0:(t.prepend("<span class='jstree-wholerow-span' style='width:"+18*t.parentsUntil(".jstree","li").length+"px;'>&#160;</span>"),void 0)})})},_prepare_wholerow_ul:function(){var t=this.get_container().children("ul").eq(0),i=t.html();t.addClass("jstree-wholerow-real"),this.data.wholerow.last_html!==i&&(this.data.wholerow.last_html=i,this.get_container().children(".jstree-wholerow").remove(),this.get_container().append(t.clone().removeClass("jstree-wholerow-real").wrapAll("<div class='jstree-wholerow' />").parent().width(t.parent()[0].scrollWidth).css("top",-1*(t.height()+(e?5:0))).find("li[id]").each(function(){this.removeAttribute("id")}).end()))}}}),n(function(){var s=".jstree .jstree-wholerow-real { position:relative; z-index:1; } .jstree .jstree-wholerow-real li { cursor:pointer; } .jstree .jstree-wholerow-real a { border-left-color:transparent !important; border-right-color:transparent !important; } .jstree .jstree-wholerow { position:relative; z-index:0; height:0; } .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li { width:100%; } .jstree .jstree-wholerow, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li, .jstree .jstree-wholerow a { margin:0 !important; padding:0 !important; } .jstree .jstree-wholerow, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li { background:transparent !important; }.jstree .jstree-wholerow ins, .jstree .jstree-wholerow span, .jstree .jstree-wholerow input { display:none !important; }.jstree .jstree-wholerow a, .jstree .jstree-wholerow a:hover { text-indent:-9999px; !important; width:100%; padding:0 !important; border-right-width:0px !important; border-left-width:0px !important; } .jstree .jstree-wholerow-span { position:absolute; left:0; margin:0px; padding:0; height:18px; border-width:0; padding:0; z-index:0; }";i&&(s+=".jstree .jstree-wholerow a { display:block; height:18px; margin:0; padding:0; border:0; } .jstree .jstree-wholerow-real a { border-color:transparent !important; } "),(e||t)&&(s+=".jstree .jstree-wholerow, .jstree .jstree-wholerow li, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow a { margin:0; padding:0; line-height:18px; } .jstree .jstree-wholerow a { display:block; height:18px; line-height:18px; overflow:hidden; } "),n.vakata.css.add_sheet({str:s,title:"jstree"})})}(jQuery),function(t){var e=["getChildren","getChildrenCount","getAttr","getName","getProps"],i=function(e,i){var n=!0;return e=e||{},i=[].concat(i),t.each(i,function(i,s){return t.isFunction(e[s])?void 0:(n=!1,!1)}),n};t.jstree.plugin("model",{__init:function(){if(!this.data.json_data)throw"jsTree model: jsTree json_data plugin not included.";this._get_settings().json_data.data=function(n,s){var a=-1==n?this._get_settings().model.object:n.data("jstree_model");return i(a,e)?(this._get_settings().model.async?a.getChildren(t.proxy(function(t){this.model_done(t,s)},this)):this.model_done(a.getChildren(),s),void 0):s.call(null,!1)}},defaults:{object:!1,id_prefix:!1,async:!1},_fn:{model_done:function(e,i){var n=[],s=this._get_settings(),a=this;t.isArray(e)||(e=[e]),t.each(e,function(e,i){var r=i.getProps()||{};r.attr=i.getAttr()||{},i.getChildrenCount()&&(r.state="closed"),r.data=i.getName(),t.isArray(r.data)||(r.data=[r.data]),a.data.types&&t.isFunction(i.getType)&&(r.attr[s.types.type_attr]=i.getType()),r.attr.id&&s.model.id_prefix&&(r.attr.id=s.model.id_prefix+r.attr.id),r.metadata||(r.metadata={}),r.metadata.jstree_model=i,n.push(r)}),i.call(null,n)}}})}(jQuery)}}(),// is copyright 2008 A Beautiful Site, LLC. 
function(t){t.alerts={verticalOffset:-75,horizontalOffset:0,repositionOnResize:!0,overlayOpacity:.01,overlayColor:"#FFF",draggable:!0,okButton:"&nbsp;OK&nbsp;",cancelButton:"&nbsp;Cancel&nbsp;",dialogClass:null,alert:function(e,i,n){null==i&&(i="Alert"),t.alerts._show(i,e,null,"alert",function(t){n&&n(t)})},confirm:function(e,i,n){null==i&&(i="Confirm"),t.alerts._show(i,e,null,"confirm",function(t){n&&n(t)})},prompt:function(e,i,n,s){null==n&&(n="Prompt"),t.alerts._show(n,e,i,"prompt",function(t){s&&s(t)})},_show:function(e,i,n,s,a){t.alerts._hide(),t.alerts._overlay("show"),t("BODY").append('<div id="popup_container"><h1 id="popup_title"></h1><div id="popup_content"><div id="popup_message"></div></div></div>'),t.alerts.dialogClass&&t("#popup_container").addClass(t.alerts.dialogClass);var r=t.browser.msie&&parseInt(t.browser.version)<=6?"absolute":"fixed";switch(t("#popup_container").css({position:r,zIndex:99999,padding:0,margin:0}),t("#popup_title").text(e),t("#popup_content").addClass(s),t("#popup_message").text(i),t("#popup_message").html(t("#popup_message").text().replace(/\n/g,"<br />")),t("#popup_container").css({minWidth:t("#popup_container").outerWidth(),maxWidth:t("#popup_container").outerWidth()}),t.alerts._reposition(),t.alerts._maintainPosition(!0),s){case"alert":t("#popup_message").after('<div id="popup_panel"><input type="button" value="'+t.alerts.okButton+'" id="popup_ok" /></div>'),t("#popup_ok").click(function(){t.alerts._hide(),a(!0)}),t("#popup_ok").focus().keypress(function(e){(13==e.keyCode||27==e.keyCode)&&t("#popup_ok").trigger("click")});break;case"confirm":t("#popup_message").after('<div id="popup_panel"><input type="button" value="'+t.alerts.okButton+'" id="popup_ok" /> <input type="button" value="'+t.alerts.cancelButton+'" id="popup_cancel" /></div>'),t("#popup_ok").click(function(){t.alerts._hide(),a&&a(!0)}),t("#popup_cancel").click(function(){t.alerts._hide(),a&&a(!1)}),t("#popup_ok").focus(),t("#popup_ok, #popup_cancel").keypress(function(e){13==e.keyCode&&t("#popup_ok").trigger("click"),27==e.keyCode&&t("#popup_cancel").trigger("click")});break;case"prompt":t("#popup_message").append('<br /><input type="text" size="30" id="popup_prompt" />').after('<div id="popup_panel"><input type="button" value="'+t.alerts.okButton+'" id="popup_ok" /> <input type="button" value="'+t.alerts.cancelButton+'" id="popup_cancel" /></div>'),t("#popup_prompt").width(t("#popup_message").width()),t("#popup_ok").click(function(){var e=t("#popup_prompt").val();t.alerts._hide(),a&&a(e)}),t("#popup_cancel").click(function(){t.alerts._hide(),a&&a(null)}),t("#popup_prompt, #popup_ok, #popup_cancel").keypress(function(e){13==e.keyCode&&t("#popup_ok").trigger("click"),27==e.keyCode&&t("#popup_cancel").trigger("click")}),n&&t("#popup_prompt").val(n),t("#popup_prompt").focus().select()}if(t.alerts.draggable)try{t("#popup_container").draggable({handle:t("#popup_title")}),t("#popup_title").css({cursor:"move"})}catch(o){}},_hide:function(){t("#popup_container").remove(),t.alerts._overlay("hide"),t.alerts._maintainPosition(!1)},_overlay:function(e){switch(e){case"show":t.alerts._overlay("hide"),t("BODY").append('<div id="popup_overlay"></div>'),t("#popup_overlay").css({position:"absolute",zIndex:99998,top:"0px",left:"0px",width:"100%",height:t(document).height(),background:t.alerts.overlayColor,opacity:t.alerts.overlayOpacity});break;case"hide":t("#popup_overlay").remove()}},_reposition:function(){var e=t(window).height()/2-t("#popup_container").outerHeight()/2+t.alerts.verticalOffset,i=t(window).width()/2-t("#popup_container").outerWidth()/2+t.alerts.horizontalOffset;0>e&&(e=0),0>i&&(i=0),t.browser.msie&&parseInt(t.browser.version)<=6&&(e+=t(window).scrollTop()),t("#popup_container").css({top:e+"px",left:i+"px"}),t("#popup_overlay").height(t(document).height())},_maintainPosition:function(e){if(t.alerts.repositionOnResize)switch(e){case!0:t(window).bind("resize",t.alerts._reposition);break;case!1:t(window).unbind("resize",t.alerts._reposition)}}},jAlert=function(e,i,n){t.alerts.alert(e,i,n)},jConfirm=function(e,i,n){t.alerts.confirm(e,i,n)},jPrompt=function(e,i,n,s){t.alerts.prompt(e,i,n,s)}}(jQuery);var update_state=function(t){var e=$("span#"+t+"country :only-child").val(),i=state_mapper[e],n=$("span#"+t+"state select"),s=$("span#"+t+"state input");if(i){n.html("");var a=[["",""]].concat(i);$.each(a,function(t,e){var i=$(document.createElement("option")).attr("value",e[0]).html(e[1]);n.append(i)}),n.prop("disabled",!1).show(),s.hide().prop("disabled",!0)}else s.prop("disabled",!1).show(),n.hide().prop("disabled",!0)};$(document).ajaxStart(function(){$("#progress").slideDown()}),$(document).ajaxStop(function(){$("#progress").slideUp()}),$.fn.visible=function(t){this[t?"show":"hide"]()},show_flash_error=function(t){error_div=$(".flash.error"),error_div.length>0?(error_div.html(t),error_div.show()):$("#content .toolbar").length>0?$("#content .toolbar").before('<div class="flash error">'+t+"</div>"):$("#content h1").before('<div class="flash error">'+t+"</div>")},$.fn.radioControlsVisibilityOfElement=function(t){this.get(0)&&(showValue=this.get(0).value,radioGroup=$("input[name='"+this.get(0).name+"']"),radioGroup.each(function(){$(this).click(function(){$(t).visible(this.checked&&this.value==showValue)}),this.checked&&this.click()}))},$.fn.objectPicker=function(t){$(this).tokenInput(t+"&authenticity_token="+escape(AUTH_TOKEN),{searchDelay:600,hintText:strings.type_to_search,noResultsText:strings.no_results,searchingText:strings.searching,prePopulateFromInput:!0})},$.fn.productPicker=function(){$(this).objectPicker(Spree.routes.product_search_basic)},handle_date_picker_fields=function(){$(".datepicker").datepicker({dateFormat:"yy/mm/dd",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesMin:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],prevText:"Previous",nextText:"Next",showOn:"button",buttonImage:"/assets/datepicker/cal.gif",buttonImageOnly:!0})},$(document).ready(function(){handle_date_picker_fields(),$(".observe_field").on("change",function(){target=$(this).attr("data-update"),ajax_indicator=$(this).attr("data-ajax-indicator")||"#busy_indicator",$(target).hide(),$(ajax_indicator).show(),$.ajax({dataType:"html",url:$(this).attr("data-base-url")+encodeURIComponent($(this).val()),type:"get",success:function(t){$(target).html(t),$(ajax_indicator).hide(),$(target).show()}})}),$(".add_fields").click(function(){var t=$(this).data("target"),e=$(t+" tr:visible:last").clone(),i=(new Date).getTime();e.find("input").each(function(){var t=$(this);t.val(""),t.attr("id",t.attr("id").replace(/\d+/,i)),t.attr("name",t.attr("name").replace(/\d+/,i))}),$(t).append(e)}),$("body").on("click",".delete-resource",function(){var t=$(this);return confirm(t.data("confirm"))&&$.ajax({type:"POST",url:$(this).attr("href"),data:{_method:"delete",authenticity_token:AUTH_TOKEN},dataType:"script",success:function(){t.parents("tr").fadeOut("hide")},error:function(t){show_flash_error(t.responseText)}}),!1}),$("body").on("click","a.remove_fields",function(){return $(this).prev("input[type=hidden]").val("1"),$(this).closest(".fields").hide(),!1}),$(".tokeninput.products").productPicker(),$("body").on("click",".select_properties_from_prototype",function(){$("#busy_indicator").show();var t=$(this);return $.ajax({dataType:"script",url:t.attr("href"),type:"get",success:function(){t.parent("td").parent("tr").hide(),$("#busy_indicator").hide()}}),!1}),$("table.sortable").ready(function(){$("table.sortable tbody").sortable({handle:".handle",update:function(t,e){$("#progress").show(),positions={},$.each($("table.sortable tbody tr"),function(t,e){reg=/spree_(\w+_?)+_(\d+)/,parts=reg.exec($(e).attr("id")),parts&&(positions["positions["+parts[2]+"]"]=t)}),$.ajax({type:"POST",dataType:"script",url:$(e.item).closest("table.sortable").data("sortable-link"),data:positions,success:function(){$("#progress").hide()}})}})}),$("a.dismiss").click(function(){$(this).parent().fadeOut()})}),image_html=function(t){return"<img src='"+t.images[0].mini_url+"'/>"},format_product_autocomplete=function(t){var e="",i=t.data.product;if(void 0==t.data.variant)0!=i.images.length&&(e=image_html(i)),e+="<div><h4>"+i.name+"</h4>",i.master&&(e+="<span><strong>SKU: </strong>"+i.master.sku+"</span>"),e+="<span><strong>On Hand: </strong>"+i.count_on_hand+"</span></div>";else{var n=t.data.variant,s=t.data.product.name;0!=n.images.length?e=image_html(n):0!=i.images.length&&(e=image_html(i)),s+=" - "+$.map(n.option_values,function(t){return t.option_type.presentation+": "+t.presentation}).join(", "),e+="<div><h4>"+s+"</h4>",e+="<span><strong>SKU: </strong>"+n.sku+"</span>",e+="<span><strong>On Hand: </strong>"+n.count_on_hand+"</span></div>"}return e},prep_product_autocomplete_data=function(data){return $.map(eval(data),function(t){var e=t.product;return e.variants.length>0?$.map(e.variants,function(t){var i=e.name;return i+=" - "+$.map(t.option_values,function(t){return t.option_type.presentation+": "+t.presentation}).join(", "),{data:{product:e,variant:t},value:i,result:i}}):{data:{product:e},value:e.name,result:e.name}})},$.fn.product_autocomplete=function(){return this.each(function(){$(this).autocomplete({source:function(t,e){$.get(Spree.routes.product_search+"?"+jQuery.param({q:$(".product_autocomplete").val(),authenticity_token:encodeURIComponent($("meta[name=csrf-token]").attr("content"))}),function(t){result=prep_product_autocomplete_data(t),e(result)})},minLength:4,focus:function(t,e){return $(".product_autocomplete").val(e.item.label),!1},select:function(t,e){return $(".product_autocomplete").val(e.item.label),product=e.item.data,void 0==product.variant?$("#add_variant_id").val(product.product.master.id):$("#add_variant_id").val(product.variant.id),!1}}).data("autocomplete")._renderItem=function(t,e){return $(t).addClass("ac_results"),html=format_product_autocomplete(e),$("<li></li>").data("item.autocomplete",e).append("<a>"+html+"</a>").appendTo(t)},$(this).data("autocomplete")._resizeMenu=function(){var t=this.menu.element;t.outerWidth(this.element.outerWidth())}})},/*
 Copyright 2012 Igor Vaynberg
 
 Version: 2.1 Timestamp: Tue Jun 12 19:50:25 PDT 2012

 Licensed under the Apache License, Version 2.0 (the "License"); you may not use this work except in
 compliance with the License. You may obtain a copy of the License in the LICENSE file, or at:

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software distributed under the License is
 distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and limitations under the License.
 */
function(t,e){"use strict";function i(t,e){var i,n=0,s=e.length;if("undefined"==typeof t)return-1;if(t.constructor===String){for(;s>n;n+=1)if(0===t.localeCompare(e[n]))return n}else for(;s>n;n+=1)if(i=e[n],i.constructor===String){if(0===i.localeCompare(t))return n}else if(i===t)return n;return-1}function n(t,i){return t===i?!0:t===e||i===e?!1:null===t||null===i?!1:t.constructor===String?0===t.localeCompare(i):i.constructor===String?0===i.localeCompare(t):!1}function s(e,i){var n,s,a;if(null===e||e.length<1)return[];for(n=e.split(i),s=0,a=n.length;a>s;s+=1)n[s]=t.trim(n[s]);return n}function a(t){return t.outerWidth()-t.width()}function r(t){t.bind("keydown",function(){t.data("keyup-change-value",t.val())}),t.bind("keyup",function(){t.val()!==t.data("keyup-change-value")&&t.trigger("keyup-change")})}function o(i){i.bind("mousemove",function(i){var n=t(document).data("select2-lastpos");(n===e||n.x!==i.pageX||n.y!==i.pageY)&&t(i.target).trigger("mousemove-filtered",i)})}function l(t,e){var i;return function(){window.clearTimeout(i),i=window.setTimeout(e,t)}}function c(t,e){var n=l(t,function(t){e.trigger("scroll-debounced",t)});e.bind("scroll",function(t){i(t.target,e.get())>=0&&n(t)})}function h(t){t.preventDefault(),t.stopPropagation()}function u(e){var i,n;return i=t("<div></div>").css({position:"absolute",left:"-1000px",top:"-1000px",display:"none",fontSize:e.css("fontSize"),fontFamily:e.css("fontFamily"),fontStyle:e.css("fontStyle"),fontWeight:e.css("fontWeight"),letterSpacing:e.css("letterSpacing"),textTransform:e.css("textTransform"),whiteSpace:"nowrap"}),i.text(e.val()),t("body").append(i),n=i.width(),i.remove(),n}function d(e){var i,n=0,s=null,a=e.quietMillis||100;return function(r){window.clearTimeout(i),i=window.setTimeout(function(){n+=1;var i=n,a=e.data,o=e.transport||t.ajax;a=a.call(this,r.term,r.page,r.context),null!==s&&s.abort(),s=o.call(null,{url:e.url,dataType:e.dataType,data:a,success:function(t){if(!(n>i)){var s=e.results(t,r.page);r.callback(s)}}})},a)}}function f(e){var i=e,n=function(t){return""+t.text};return t.isArray(i)||(n=i.text,t.isFunction(n)||(n=function(t){return t[i.text]}),i=i.results),function(e){var s=e.term,a={};return""===s?(e.callback({results:i}),void 0):(a.results=t(i).filter(function(){return e.matcher(s,n(this))}).get(),e.callback(a),void 0)}}function p(i){return t.isFunction(i)?i:function(n){var s=n.term,a={results:[]};t(i).each(function(){var t=this.text!==e,i=t?this.text:this;(""===s||n.matcher(s,i))&&a.results.push(t?this:{id:this,text:this})}),n.callback(a)}}function g(e,i){var n=function(){};return n.prototype=new e,n.prototype.constructor=n,n.prototype.parent=e.prototype,n.prototype=t.extend(n.prototype,i),n}if(window.Select2===e){var m,v,b,y;m={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(t){switch(t=t.which?t.which:t){case m.LEFT:case m.RIGHT:case m.UP:case m.DOWN:return!0}return!1},isControl:function(t){switch(t=t.which?t.which:t){case m.SHIFT:case m.CTRL:case m.ALT:return!0}return!1},isFunctionKey:function(t){return t=t.which?t.which:t,t>=112&&123>=t}},t(document).delegate("*","mousemove",function(e){t(document).data("select2-lastpos",{x:e.pageX,y:e.pageY})}),t(document).ready(function(){t(document).delegate("*","mousedown focusin touchend",function(e){var i=t(e.target).closest("div.select2-container").get(0);t(document).find("div.select2-container-active").each(function(){this!==i&&t(this).data("select2").blur()})})}),v=g(Object,{bind:function(t){var e=this;return function(){t.apply(e,arguments)}},init:function(i){var n,s,a=".select2-results";this.opts=i=this.prepareOpts(i),this.id=i.id,i.element.data("select2")!==e&&null!==i.element.data("select2")&&this.destroy(),this.enabled=!0,this.container=this.createContainer(),i.element.attr("class")!==e&&this.container.addClass(i.element.attr("class")),this.opts.element.data("select2",this).hide().after(this.container),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),this.results=n=this.container.find(a),this.search=s=this.container.find("input[type=text]"),this.resultsPage=0,this.context=null,this.initContainer(),o(this.results),this.container.delegate(a,"mousemove-filtered",this.bind(this.highlightUnderEvent)),c(80,this.results),this.container.delegate(a,"scroll-debounced",this.bind(this.loadMoreIfNeeded)),t.fn.mousewheel&&n.mousewheel(function(t,e,i,s){var a=n.scrollTop();s>0&&0>=a-s?(n.scrollTop(0),h(t)):0>s&&n.get(0).scrollHeight-n.scrollTop()+s<=n.height()&&(n.scrollTop(n.get(0).scrollHeight-n.height()),h(t))}),r(s),s.bind("keyup-change",this.bind(this.updateResults)),s.bind("focus",function(){s.addClass("select2-focused")}),s.bind("blur",function(){s.removeClass("select2-focused")}),this.container.delegate(a,"click",this.bind(function(e){t(e.target).closest(".select2-result:not(.select2-disabled)").length>0?(this.highlightUnderEvent(e),this.selectHighlighted(e)):(h(e),this.focusSearch())})),t.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),i.element.is(":disabled")&&this.disable()},destroy:function(){var t=this.opts.element.data("select2");t!==e&&(t.container.remove(),t.opts.element.removeData("select2").unbind(".select2").show())},prepareOpts:function(i){var n,a,r;if(n=i.element,"select"===n.get(0).tagName.toLowerCase()&&(this.select=a=i.element),a&&t.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in i)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),i=t.extend({},{formatResult:function(t){return t.text},formatSelection:function(t){return t.text},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(t,e){return"Please enter "+(e-t.length)+" more characters"},minimumResultsForSearch:0,minimumInputLength:0,id:function(t){return t.id},matcher:function(t,e){return e.toUpperCase().indexOf(t.toUpperCase())>=0}},i),"function"!=typeof i.id&&(r=i.id,i.id=function(t){return t[r]}),a?(i.query=this.bind(function(i){var s={results:[],more:!1},a=i.term,r=this.getPlaceholder();n.find("option").each(function(n){var o=t(this),l=o.text();return 0===n&&r!==e&&""===l?!0:(i.matcher(a,l)&&s.results.push({id:o.attr("value"),text:l}),void 0)}),i.callback(s)}),i.id=function(t){return t.id}):"query"in i||("ajax"in i?i.query=d(i.ajax):"data"in i?i.query=f(i.data):"tags"in i&&(i.query=p(i.tags),i.createSearchChoice=function(t){return{id:t,text:t}},i.initSelection=function(e){var i=[];return t(s(e.val(),",")).each(function(){i.push({id:this,text:this})}),i})),"function"!=typeof i.query)throw"query function not defined for Select2 "+i.element.attr("id");return i},monitorSource:function(){this.opts.element.bind("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()}))},triggerChange:function(){this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger("change"),this.opts.element.data("select2-change-triggered",!1)},enable:function(){this.enabled||(this.enabled=!0,this.container.removeClass("select2-container-disabled"))},disable:function(){this.enabled&&(this.close(),this.enabled=!1,this.container.addClass("select2-container-disabled"))},opened:function(){return this.container.hasClass("select2-dropdown-open")},open:function(){this.opened()||(this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.updateResults(!0),this.dropdown.show(),this.ensureHighlightVisible(),this.focusSearch())},close:function(){this.opened()&&(this.dropdown.hide(),this.container.removeClass("select2-dropdown-open"),this.results.empty(),this.clearSearch())},clearSearch:function(){},ensureHighlightVisible:function(){var e,i,n,s,a,r,o,l=this.results;e=l.children(".select2-result"),i=this.highlight(),0>i||(n=t(e[i]),s=n.offset().top+n.outerHeight(),i===e.length-1&&(o=l.find("li.select2-more-results"),o.length>0&&(s=o.offset().top+o.outerHeight())),a=l.offset().top+l.outerHeight(),s>a&&l.scrollTop(l.scrollTop()+(s-a)),r=n.offset().top-l.offset().top,0>r&&l.scrollTop(l.scrollTop()+r))},moveHighlight:function(e){for(var i=this.results.children(".select2-result"),n=this.highlight();n>-1&&n<i.length;)if(n+=e,!t(i[n]).hasClass("select2-disabled")){this.highlight(n);break}},highlight:function(e){var n=this.results.children(".select2-result");return 0===arguments.length?i(n.filter(".select2-highlighted")[0],n.get()):(n.removeClass("select2-highlighted"),e>=n.length&&(e=n.length-1),0>e&&(e=0),t(n[e]).addClass("select2-highlighted"),this.ensureHighlightVisible(),this.opened()&&this.focusSearch(),void 0)},highlightUnderEvent:function(e){var i=t(e.target).closest(".select2-result");i.length>0&&this.highlight(i.index())},loadMoreIfNeeded:function(){var i,n=this.results,s=n.find("li.select2-more-results"),a=-1,r=this.resultsPage+1;0!==s.length&&(i=s.offset().top-n.offset().top-n.height(),0>=i&&(s.addClass("select2-active"),this.opts.query({term:this.search.val(),page:r,context:this.context,matcher:this.opts.matcher,callback:this.bind(function(i){var o=[],l=this;t(i.results).each(function(){o.push("<li class='select2-result'>"),o.push(l.opts.formatResult(this)),o.push("</li>")}),s.before(o.join("")),n.find(".select2-result").each(function(n){var s=t(this);s.data("select2-data")!==e?a=n:s.data("select2-data",i.results[n-a-1])}),i.more?s.removeClass("select2-active"):s.remove(),this.resultsPage=r})})))},updateResults:function(i){function s(t){r.html(t),r.scrollTop(0),a.removeClass("select2-active")}var a=this.search,r=this.results,o=this.opts,l=this;if(i===!0||this.showSearchInput!==!1){if(a.addClass("select2-active"),a.val().length<o.minimumInputLength)return s("<li class='select2-no-results'>"+o.formatInputTooShort(a.val(),o.minimumInputLength)+"</li>"),void 0;this.resultsPage=1,o.query({term:a.val(),page:this.resultsPage,context:null,matcher:o.matcher,callback:this.bind(function(c){var h,u=[];return this.context=c.context===e?null:c.context,this.opts.createSearchChoice&&""!==a.val()&&(h=this.opts.createSearchChoice.call(null,a.val(),c.results),h!==e&&null!==h&&l.id(h)!==e&&null!==l.id(h)&&0===t(c.results).filter(function(){return n(l.id(this),l.id(h))}).length&&c.results.unshift(h)),0===c.results.length?(s("<li class='select2-no-results'>"+o.formatNoMatches(a.val())+"</li>"),void 0):(t(c.results).each(function(){u.push("<li class='select2-result'>"),u.push(o.formatResult(this)),u.push("</li>")}),c.more===!0&&u.push("<li class='select2-more-results'>Loading more results...</li>"),s(u.join("")),r.children(".select2-result").each(function(e){var i=c.results[e];t(this).data("select2-data",i)}),this.postprocessResults(c,i),void 0)})})}},cancel:function(){this.close()},blur:function(){window.setTimeout(this.bind(function(){this.close(),this.container.removeClass("select2-container-active"),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.search.blur()}),10)},focusSearch:function(){window.setTimeout(this.bind(function(){this.search.focus()}),10)},selectHighlighted:function(){var t=this.results.find(".select2-highlighted:not(.select2-disabled)").data("select2-data");t&&this.onSelect(t)},getPlaceholder:function(){return this.opts.element.attr("placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder},getContainerWidth:function(){var t,i,n,s,a;if(this.opts.width!==e)return this.opts.width;if(t=this.opts.element.attr("style"),t!==e)for(i=t.split(";"),s=0,a=i.length;a>s;s+=1)if(n=i[s].replace(/\s/g,"").match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/),null!==n&&n.length>=1)return n[1];return this.opts.element.width()+"px"}}),b=g(v,{createContainer:function(){return t("<div></div>",{"class":"select2-container",style:"width: "+this.getContainerWidth()}).html(["    <a href='javascript:void(0)' class='select2-choice'>","   <span></span><abbr class='select2-search-choice-close' style='display:none;'></abbr>","   <div><b></b></div>","</a>","    <div class='select2-drop' style='display:none;'>","   <div class='select2-search'>","       <input type='text' autocomplete='off'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""))},open:function(){this.opened()||this.parent.open.apply(this,arguments)},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.selection.focus()},isFocused:function(){return this.selection.is(":focus")},cancel:function(){this.parent.cancel.apply(this,arguments),this.selection.focus()},initContainer:function(){var t,e=this.container,i=!1,n=".select2-choice";this.selection=t=e.find(n),this.search.bind("keydown",this.bind(function(t){switch(t.which){case m.UP:case m.DOWN:return this.moveHighlight(t.which===m.UP?-1:1),h(t),void 0;case m.TAB:case m.ENTER:return this.selectHighlighted(),h(t),void 0;case m.ESC:return this.cancel(t),t.preventDefault(),void 0}})),e.delegate(n,"click",this.bind(function(e){i=!0,this.opened()?(this.close(),t.focus()):this.enabled&&this.open(),e.preventDefault(),i=!1})),e.delegate(n,"keydown",this.bind(function(t){!this.enabled||t.which===m.TAB||m.isControl(t)||m.isFunctionKey(t)||t.which===m.ESC||(this.open(),(t.which===m.PAGE_UP||t.which===m.PAGE_DOWN||t.which===m.SPACE)&&h(t),t.which===m.ENTER&&h(t))})),e.delegate(n,"focus",function(){this.enabled&&e.addClass("select2-container-active")}),e.delegate(n,"blur",this.bind(function(){i||this.opened()||this.blur()})),t.delegate("abbr","click",this.bind(function(t){this.enabled&&(this.val(""),h(t),this.close(),this.triggerChange())})),this.setPlaceholder()},initSelection:function(){var t;""===this.opts.element.val()?this.updateSelection({id:"",text:""}):(t=this.opts.initSelection.call(null,this.opts.element),t!==e&&null!==t&&this.updateSelection(t)),this.close(),this.setPlaceholder()},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments);return"select"===t.element.get(0).tagName.toLowerCase()&&(t.initSelection=function(t){var e=t.find(":selected");return{id:e.attr("value"),text:e.text()}}),t},setPlaceholder:function(){var t=this.getPlaceholder();if(""===this.opts.element.val()&&t!==e){if(this.select&&""!==this.select.find("option:first").text())return;"object"==typeof t?this.updateSelection(t):this.selection.find("span").html(t),this.selection.addClass("select2-default"),this.selection.find("abbr").hide()}},postprocessResults:function(e,i){var s=0,a=this,r=!0;this.results.find(".select2-result").each(function(e){return n(a.id(t(this).data("select2-data")),a.opts.element.val())?(s=e,!1):void 0}),this.highlight(s),i===!0&&(r=this.showSearchInput=e.results.length>=this.opts.minimumResultsForSearch,this.container.find(".select2-search")[r?"removeClass":"addClass"]("select2-search-hidden"),this.container[r?"addClass":"removeClass"]("select2-with-searchbox"))},onSelect:function(t){var e=this.opts.element.val();this.opts.element.val(this.id(t)),this.updateSelection(t),this.close(),this.selection.focus(),n(e,this.id(t))||this.triggerChange()},updateSelection:function(t){this.selection.find("span").html(this.opts.formatSelection(t)),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==e&&this.selection.find("abbr").show()},val:function(){var e,i=null;return 0===arguments.length?this.opts.element.val():(e=arguments[0],this.select?(this.select.val(e).find(":selected").each(function(){return i={id:t(this).attr("value"),text:t(this).text()},!1}),this.updateSelection(i)):(this.opts.element.val(e?this.id(e):""),this.updateSelection(e)),this.setPlaceholder(),void 0)},clearSearch:function(){this.search.val("")}}),y=g(v,{createContainer:function(){return t("<div></div>",{"class":"select2-container select2-container-multi",style:"width: "+this.getContainerWidth()}).html(["    <ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' style='width: 25px;'>","  </li>","</ul>","<div class='select2-drop' style='display:none;'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""))},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments);return e=t.extend({},{closeOnSelect:!0},e),"select"===e.element.get(0).tagName.toLowerCase()&&(e.initSelection=function(e){var i=[];return e.find(":selected").each(function(){i.push({id:t(this).attr("value"),text:t(this).text()})}),i}),e},initContainer:function(){var t,e=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=t=this.container.find(e),this.search.bind("keydown",this.bind(function(e){if(this.enabled){if(e.which===m.BACKSPACE&&""===this.search.val()){this.close();var i,n=t.find(".select2-search-choice-focus");if(n.length>0)return this.unselect(n.first()),this.search.width(10),h(e),void 0;i=t.find(".select2-search-choice"),i.length>0&&i.last().addClass("select2-search-choice-focus")}else t.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");if(this.opened())switch(e.which){case m.UP:case m.DOWN:return this.moveHighlight(e.which===m.UP?-1:1),h(e),void 0;case m.ENTER:case m.TAB:return this.selectHighlighted(),h(e),void 0;case m.ESC:return this.cancel(e),e.preventDefault(),void 0}e.which===m.TAB||m.isControl(e)||m.isFunctionKey(e)||e.which===m.BACKSPACE||e.which===m.ESC||(this.open(),(e.which===m.PAGE_UP||e.which===m.PAGE_DOWN)&&h(e))}})),this.search.bind("keyup",this.bind(this.resizeSearch)),this.container.delegate(e,"click",this.bind(function(t){this.enabled&&(this.open(),this.focusSearch(),t.preventDefault())})),this.container.delegate(e,"focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.clearPlaceholder())})),this.clearSearch()},enable:function(){this.enabled||(this.parent.enable.apply(this,arguments),this.search.show())},disable:function(){this.enabled&&(this.parent.disable.apply(this,arguments),this.search.hide())},initSelection:function(){var t;""===this.opts.element.val()&&this.updateSelection([]),(this.select||""!==this.opts.element.val())&&(t=this.opts.initSelection.call(null,this.opts.element),t!==e&&null!==t&&this.updateSelection(t)),this.close(),this.clearSearch()},clearSearch:function(){var t=this.getPlaceholder();t!==e&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(t).addClass("select2-default"),this.search.width(this.getContainerWidth())):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},open:function(){this.opened()||(this.parent.open.apply(this,arguments),this.resizeSearch(),this.focusSearch())},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(e){var n=[],s=[],a=this;t(e).each(function(){i(a.id(this),n)<0&&(n.push(a.id(this)),s.push(this))}),e=s,this.selection.find(".select2-search-choice").remove(),t(e).each(function(){a.addSelectedChoice(this)}),a.postprocessResults()},onSelect:function(t){this.addSelectedChoice(t),this.select&&this.postprocessResults(),this.opts.closeOnSelect?(this.close(),this.search.width(10)):(this.search.width(10),this.resizeSearch()),this.triggerChange(),this.focusSearch()},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(e){var i,n,s=this.id(e),a=this.getVal();n=["<li class='select2-search-choice'>",this.opts.formatSelection(e),"<a href='javascript:void(0)' class='select2-search-choice-close' tabindex='-1'></a>","</li>"],i=t(n.join("")),i.find("a").bind("click dblclick",this.bind(function(e){this.enabled&&(this.unselect(t(e.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),h(e),this.close(),this.focusSearch())})).bind("focus",this.bind(function(){this.enabled&&this.container.addClass("select2-container-active")})),i.data("select2-data",e),i.insertBefore(this.searchContainer),a.push(s),this.setVal(a)},unselect:function(t){var e,n=this.getVal();if(t=t.closest(".select2-search-choice"),0===t.length)throw"Invalid argument: "+t+". Must be .select2-search-choice";e=i(this.id(t.data("select2-data")),n),e>=0&&(n.splice(e,1),this.setVal(n),this.select&&this.postprocessResults()),t.remove(),this.triggerChange()},postprocessResults:function(){var e=this.getVal(),n=this.results.find(".select2-result"),s=this;n.each(function(){var n=t(this),a=s.id(n.data("select2-data"));i(a,e)>=0?n.addClass("select2-disabled"):n.removeClass("select2-disabled")}),n.each(function(e){return t(this).hasClass("select2-disabled")?void 0:(s.highlight(e),!1)})},resizeSearch:function(){var t,e,i,n,s;t=u(this.search)+10,e=this.search.offset().left,i=this.selection.width(),n=this.selection.offset().left,s=i-(e-n)-a(this.search),t>s&&(s=i-a(this.search)),40>s&&(s=i-a(this.search)),this.search.width(s)},getVal:function(){var t;return this.select?(t=this.select.val(),null===t?[]:t):(t=this.opts.element.val(),s(t,","))},setVal:function(e){var n;this.select?this.select.val(e):(n=[],t(e).each(function(){i(this,n)<0&&n.push(this)}),this.opts.element.val(0===n.length?"":n.join(",")))},val:function(){var e,i=[],n=this;return 0===arguments.length?this.getVal():(e=arguments[0],this.select?(this.setVal(e),this.select.find(":selected").each(function(){i.push({id:t(this).attr("value"),text:t(this).text()})}),this.updateSelection(i)):(e=null===e?[]:e,this.setVal(e),t(e).each(function(){i.push(n.id(this))}),this.setVal(i),this.updateSelection(e)),this.clearSearch(),void 0)},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var e=[],i=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){e.push(i.opts.id(t(this).data("select2-data")))}),this.setVal(e),this.triggerChange()}}),t.fn.select2=function(){var n,s,a,r,o=Array.prototype.slice.call(arguments,0),l=["val","destroy","open","close","focus","isFocused","container","onSortStart","onSortEnd","enable","disable"];return this.each(function(){if(0===o.length||"object"==typeof o[0])n=0===o.length?{}:t.extend({},o[0]),n.element=t(this),"select"===n.element.get(0).tagName.toLowerCase()?r=n.element.attr("multiple"):(r=n.multiple||!1,"tags"in n&&(n.multiple=r=!0)),s=r?new y:new b,s.init(n);else{if("string"!=typeof o[0])throw"Invalid arguments to select2 plugin: "+o;if(i(o[0],l)<0)throw"Unknown method: "+o[0];if(a=e,s=t(this).data("select2"),s===e)return;if(a="container"===o[0]?s.container:s[o[0]].apply(s,o.slice(1)),a!==e)return!1}}),a===e?this:a},window.Select2={query:{ajax:d,local:f,tags:p},util:{debounce:l},"class":{"abstract":v,single:b,multi:y}}}}(jQuery),$(function(){var t=$("select#calc_type"),e=t.attr("value");$("div#calculator-settings-warning").hide(),t.change(function(){t.attr("value")==e?($("div.calculator-settings").show(),$("div#calculator-settings-warning").hide(),$(".calculator-settings input").prop("disabled",!1)):($("div.calculator-settings").hide(),$("div#calculator-settings-warning").show(),$(".calculator-settings input").prop("disabled",!0))})}),$(document).ready(function(){add_address=function(t){var e="";return void 0!=t&&(e+=t.firstname+" "+t.lastname+", ",e+=t.address1+", "+t.address2+", ",e+=t.city+", ",e+=null!=t.state_id?t.state.name+", ":t.state_name+", ",e+=t.country.name),e},format_user_autocomplete=function(t){var e=t.data,i="<h4>"+e.email+"</h4>";return i+="<span><strong>Billing:</strong> ",i+=add_address(e.bill_address),i+="</span>",i+="<span><strong>Shipping:</strong> ",i+=add_address(e.ship_address),i+="</span>"},prep_user_autocomplete_data=function(data){return $.map(eval(data),function(t){return{data:t.user,value:t.user.email,result:t.user.email}})},$("#customer_search").length>0&&($("#customer_search").autocomplete({minChars:5,delay:1500,source:function(t,e){var i={q:$("#customer_search").val(),authenticity_token:encodeURIComponent($("meta[name=csrf-token]").attr("content"))};$.get(Spree.routes.user_search+"&"+jQuery.param(i),function(t){result=prep_user_autocomplete_data(t),e(result)})},focus:function(t,e){return $("#customer_search").val(e.item.label),$(e).addClass("ac_over"),!1},select:function(t,e){return $("#customer_search").val(e.item.label),_.each(["bill","ship"],function(t){var i=e.item.data[t+"_address"];void 0!=i&&($("#order_"+t+"_address_attributes_firstname").val(i.firstname),$("#order_"+t+"_address_attributes_lastname").val(i.lastname),$("#order_"+t+"_address_attributes_company").val(i.company),$("#order_"+t+"_address_attributes_address1").val(i.address1),$("#order_"+t+"_address_attributes_address2").val(i.address2),$("#order_"+t+"_address_attributes_city").val(i.city),$("#order_"+t+"_address_attributes_zipcode").val(i.zipcode),$("#order_"+t+"_address_attributes_state_id").val(i.state_id),$("#order_"+t+"_address_attributes_country_id").val(i.country_id),$("#order_"+t+"_address_attributes_phone").val(i.phone))}),$("#order_email").val(e.item.data.email),$("#user_id").val(e.item.data.id),$("#guest_checkout_true").prop("checked",!1),$("#guest_checkout_false").prop("checked",!0),$("#guest_checkout_false").prob("disabled",!1),!0}}).data("autocomplete")._renderItem=function(t,e){return $(t).addClass("ac_results"),html=format_user_autocomplete(e),$("<li></li>").data("item.autocomplete",e).append("<a class='ui-menu-item'>"+html+"</a>").appendTo(t)},$("#customer_search").data("autocomplete")._resizeMenu=function(){var t=this.menu.element;t.outerWidth(this.element.outerWidth())});var show_billing=function(t){t?($("#shipping").show(),$("#shipping input").prop("disabled",!1),$("#shipping select").prop("disabled",!1)):($("#shipping").hide(),$("#shipping input").prop("disabled",!0),$("#shipping select").prop("disabled",!0))};$("input#order_use_billing").click(function(){show_billing(!$(this).is(":checked"))}),$("#guest_checkout_true").change(function(){$("#customer_search").val(""),$("#user_id").val(""),$("#checkout_email").val("");var t=["firstname","lastname","company","address1","address2","city","zipcode","state_id","country_id","phone"];$.each(t,function(t,e){$("#order_bill_address_attributes"+e).val(""),$("#order_ship_address_attributes"+e).val("")})})}),$(function(){var t=$("#gtwy-type").attr("value");$("div#gateway-settings-warning").hide(),$("#gtwy-type").change(function(){$("#gtwy-type").attr("value")==t?($("div.gateway-settings").show(),$("div#gateway-settings-warning").hide()):($("div.gateway-settings").hide(),$("div#gateway-settings-warning").show())})}),$(document).ready(function(){$('input#preferences_use_s3[type="checkbox"]:checked').length>0&&$("#s3_settings").show(),$('input#preferences_use_s3[type="checkbox"]').click(function(){$("#s3_settings").toggle()}),$(".destroy_style").on("click",function(){$(this).parent().remove()}),$(".destroy_header").on("click",function(){$(this).parent().remove()});var t=1;$(".add_style").click(function(){$("#styles_list").append(generate_html_for_hash("new_attachment_styles",t))});var e=1;$(".add_header").click(function(){$("#headers_list").append(generate_html_for_hash("new_s3_headers",e))}),generate_html_for_hash=function(t,e){var i="<li>";return i+='<label for="'+t+"_"+e+'_name">',i+="Name</label>",i+='<input id="'+t+"_"+e+'_name" name="'+t+"["+e+'][name]" type="text">',i+='<label for="'+t+"_"+e+'_value">',i+="Value</label>",i+='<input id="'+t+"_"+e+'_value" name="'+t+"["+e+'][value]" type="text">',i+='<a href="#" alt="Destroy" class="destroy_style">&nbsp;x</a>',i+="</li>",e+=1,i}}),function(){$(function(){return $("#new_image_link").click(function(t){return t.preventDefault(),$(this).hide(),$.ajax({type:"GET",url:this.href,data:{authenticity_token:AUTH_TOKEN},success:function(t){return $("#images").html(t)}})})})}.call(this),function(){$("#cancel_link").click(function(t){return t.preventDefault(),$("#new_image_link").show(),$("#images").html("")})}.call(this),replace_ids=function(t){var e=(new Date).getTime();return t.replace(/NEW_RECORD/g,e)},$(function(){$("a[id*=nested]").click(function(){var template=$(this).attr("href").replace(/.*#/,"");html=replace_ids(eval(template)),$("#ul-"+$(this).attr("id")).append(html),update_remove_links()}),update_remove_links()});var update_remove_links=function(){$(".remove").click(function(){return $(this).prevAll(":first").val(1),$(this).parent().hide(),!1})};$(document).ready(function(){$("#add_line_item_to_order").on("click",function(){return""==$("#add_variant_id").val()?!1:(update_target=$(this).attr("data-update"),$.ajax({dataType:"script",url:this.href,type:"POST",data:{"line_item[variant_id]":$("#add_variant_id").val(),"line_item[quantity]":$("#add_quantity").val()}}),!1)}),$(".product_autocomplete").product_autocomplete()}),$(document).ready(function(){$.each($("td.qty input"),function(t,e){$(e).on("change",function(){var t="#"+$(this).attr("id").replace("_quantity","_id");jQuery.post("/admin/orders/"+$("input#order_number").val()+"/line_items/"+$(t).val(),{_method:"put","line_item[quantity]":$(this).val()},function(t){$("#order-form-wrapper").html(t.responseText)})})})}),$(document).ready(function(){$("#card_new").radioControlsVisibilityOfElement("#card_form"),$("select.jump_menu").change(function(){window.location=this.options[this.selectedIndex].value})}),function(){$(function(){var t;return $(".categories input:checked").length>0&&$("input[type=checkbox]:not(:checked)").attr("disabled",!0),t=".categories input[type=checkbox]",$(t).change(function(){return $(this).is(":checked")?($(t+":not(:checked)").attr("disabled",!0),$(this).removeAttr("disabled")):$("input[type=checkbox]").removeAttr("disabled")})})}.call(this);var handle_ajax_error=function(){$.jstree.rollback(last_rollback),$("#ajax_error").show().html("<strong>"+server_error+"</strong><br />"+taxonomy_tree_error)},handle_move=function(t,e){last_rollback=e.rlbk;var i=e.rslt.cp,n=e.rslt.o,s=e.rslt.np;return $.ajax({type:"POST",dataType:"json",url:base_url+n.attr("id"),data:{_method:"put","taxon[parent_id]":s.attr("id"),"taxon[position]":i,authenticity_token:AUTH_TOKEN},error:handle_ajax_error}),!0},handle_create=function(t,e){last_rollback=e.rlbk;var i=e.rslt.obj,n=e.rslt.name,s=e.rslt.position,a=e.rslt.parent;$.ajax({type:"POST",dataType:"json",url:base_url,data:{"taxon[name]":n,"taxon[parent_id]":a.attr("id"),"taxon[position]":s,authenticity_token:AUTH_TOKEN},error:handle_ajax_error,success:function(t){i.attr("id",t.taxon.id)}})},handle_rename=function(t,e){last_rollback=e.rlbk;var i=e.rslt.obj,n=e.rslt.new_name;$.ajax({type:"POST",dataType:"json",url:base_url+i.attr("id"),data:{_method:"put","taxon[name]":n,authenticity_token:AUTH_TOKEN},error:handle_ajax_error})},handle_delete=function(t,e){last_rollback=e.rlbk;var i=e.rslt.obj;jConfirm("Are you sure you want to delete this taxon?","Confirm Taxon Deletion",function(t){t?$.ajax({type:"POST",dataType:"json",url:base_url+i.attr("id"),data:{_method:"delete",authenticity_token:AUTH_TOKEN},error:handle_ajax_error}):($.jstree.rollback(last_rollback),last_rollback=null)})},taxonomy_id;$(document).ready(function(){if(void 0!=taxonomy_id){base_url=$("#taxonomy_tree").data("url").split("?")[0]+"/",child_url=base_url.replace("/taxons","/get_children.json"),is_cut=!1,last_rollback=null;var t={json_data:{data:initial,ajax:{url:child_url,data:function(t){return{parent_id:t.attr?t.attr("id"):0}}}},themes:{theme:"apple",url:"/assets/jquery.jstree/themes/apple/style.css"},strings:{new_node:new_taxon,loading:loading+"..."},crrm:{move:{check_move:function(t){var e=t.cp,i=t.o,n=t.np;return n?"root"==i.attr("rel")?!1:"taxonomy_tree"==n.attr("id")&&0==e?!1:!0:!1}}},contextmenu:{items:function(t){t.attr("id");var e=t.attr("rel"),i={};return i="root"==e?{create:{label:"Create",action:function(t){this.create(t)}},paste:{separator_before:!0,label:"Paste",action:function(t){is_cut=!1,this.paste(t)},_disabled:0==is_cut},edit:{separator_before:!0,label:"Edit",action:function(t){window.location=base_url+t.attr("id")+"/edit/"}}}:{create:{label:"Create",action:function(t){this.create(t)}},rename:{label:"Rename",action:function(t){this.rename(t)}},remove:{label:"Remove",action:function(t){this.remove(t)}},cut:{separator_before:!0,label:"Cut",action:function(t){is_cut=!0,this.cut(t)}},paste:{label:"Paste",action:function(t){is_cut=!1,this.paste(t)},_disabled:0==is_cut},edit:{separator_before:!0,label:"Edit",action:function(t){window.location=base_url+t.attr("id")+"/edit/"
}}}}},plugins:["themes","json_data","dnd","crrm","contextmenu"]};$("#taxonomy_tree").jstree(t).bind("move_node.jstree",handle_move).bind("remove.jstree",handle_delete).bind("create.jstree",handle_create).bind("rename.jstree",handle_rename),$("#taxonomy_tree a").on("dblclick",function(){$("#taxonomy_tree").jstree("rename",this)}),$(document).keypress(function(t){13==t.keyCode&&t.preventDefault()})}}),function(){var t=this,e=t._,i={},n=Array.prototype,s=Object.prototype,a=n.slice,r=n.unshift,o=s.toString,l=s.hasOwnProperty,c=n.forEach,h=n.map,u=n.reduce,d=n.reduceRight,f=n.filter,p=n.every,g=n.some,m=n.indexOf,v=n.lastIndexOf;s=Array.isArray;var b=Object.keys,y=Function.prototype.bind,_=function(t){return new S(t)};"undefined"!=typeof module&&module.exports?(module.exports=_,_._=_):t._=_,_.VERSION="1.1.6";var x=_.each=_.forEach=function(t,e,n){if(null!=t)if(c&&t.forEach===c)t.forEach(e,n);else if(_.isNumber(t.length))for(var s=0,a=t.length;a>s&&e.call(n,t[s],s,t)!==i;s++);else for(s in t)if(l.call(t,s)&&e.call(n,t[s],s,t)===i)break};_.map=function(t,e,i){var n=[];return null==t?n:h&&t.map===h?t.map(e,i):(x(t,function(t,s,a){n[n.length]=e.call(i,t,s,a)}),n)},_.reduce=_.foldl=_.inject=function(t,e,i,n){var s=void 0!==i;if(null==t&&(t=[]),u&&t.reduce===u)return n&&(e=_.bind(e,n)),s?t.reduce(e,i):t.reduce(e);if(x(t,function(t,a,r){s||0!==a?i=e.call(n,i,t,a,r):(i=t,s=!0)}),!s)throw new TypeError("Reduce of empty array with no initial value");return i},_.reduceRight=_.foldr=function(t,e,i,n){return null==t&&(t=[]),d&&t.reduceRight===d?(n&&(e=_.bind(e,n)),void 0!==i?t.reduceRight(e,i):t.reduceRight(e)):(t=(_.isArray(t)?t.slice():_.toArray(t)).reverse(),_.reduce(t,e,i,n))},_.find=_.detect=function(t,e,i){var n;return w(t,function(t,s,a){return e.call(i,t,s,a)?(n=t,!0):void 0}),n},_.filter=_.select=function(t,e,i){var n=[];return null==t?n:f&&t.filter===f?t.filter(e,i):(x(t,function(t,s,a){e.call(i,t,s,a)&&(n[n.length]=t)}),n)},_.reject=function(t,e,i){var n=[];return null==t?n:(x(t,function(t,s,a){e.call(i,t,s,a)||(n[n.length]=t)}),n)},_.every=_.all=function(t,e,n){var s=!0;return null==t?s:p&&t.every===p?t.every(e,n):(x(t,function(t,a,r){return(s=s&&e.call(n,t,a,r))?void 0:i}),s)};var w=_.some=_.any=function(t,e,n){e||(e=_.identity);var s=!1;return null==t?s:g&&t.some===g?t.some(e,n):(x(t,function(t,a,r){return(s=e.call(n,t,a,r))?i:void 0}),s)};_.include=_.contains=function(t,e){var i=!1;return null==t?i:m&&t.indexOf===m?-1!=t.indexOf(e):(w(t,function(t){return(i=t===e)?!0:void 0}),i)},_.invoke=function(t,e){var i=a.call(arguments,2);return _.map(t,function(t){return(e.call?e||t:t[e]).apply(t,i)})},_.pluck=function(t,e){return _.map(t,function(t){return t[e]})},_.max=function(t,e,i){if(!e&&_.isArray(t))return Math.max.apply(Math,t);var n={computed:-1/0};return x(t,function(t,s,a){s=e?e.call(i,t,s,a):t,s>=n.computed&&(n={value:t,computed:s})}),n.value},_.min=function(t,e,i){if(!e&&_.isArray(t))return Math.min.apply(Math,t);var n={computed:1/0};return x(t,function(t,s,a){s=e?e.call(i,t,s,a):t,s<n.computed&&(n={value:t,computed:s})}),n.value},_.sortBy=function(t,e,i){return _.pluck(_.map(t,function(t,n,s){return{value:t,criteria:e.call(i,t,n,s)}}).sort(function(t,e){var i=t.criteria,n=e.criteria;return n>i?-1:i>n?1:0}),"value")},_.sortedIndex=function(t,e,i){i||(i=_.identity);for(var n=0,s=t.length;s>n;){var a=n+s>>1;i(t[a])<i(e)?n=a+1:s=a}return n},_.toArray=function(t){return t?t.toArray?t.toArray():_.isArray(t)?t:_.isArguments(t)?a.call(t):_.values(t):[]},_.size=function(t){return _.toArray(t).length},_.first=_.head=function(t,e,i){return null==e||i?t[0]:a.call(t,0,e)},_.rest=_.tail=function(t,e,i){return a.call(t,null==e||i?1:e)},_.last=function(t){return t[t.length-1]},_.compact=function(t){return _.filter(t,function(t){return!!t})},_.flatten=function(t){return _.reduce(t,function(t,e){return _.isArray(e)?t.concat(_.flatten(e)):(t[t.length]=e,t)},[])},_.without=function(t){var e=a.call(arguments,1);return _.filter(t,function(t){return!_.include(e,t)})},_.uniq=_.unique=function(t,e){return _.reduce(t,function(t,i,n){return 0!=n&&(e===!0?_.last(t)==i:_.include(t,i))||(t[t.length]=i),t},[])},_.intersect=function(t){var e=a.call(arguments,1);return _.filter(_.uniq(t),function(t){return _.every(e,function(e){return _.indexOf(e,t)>=0})})},_.zip=function(){for(var t=a.call(arguments),e=_.max(_.pluck(t,"length")),i=Array(e),n=0;e>n;n++)i[n]=_.pluck(t,""+n);return i},_.indexOf=function(t,e,i){if(null==t)return-1;var n;if(i)return i=_.sortedIndex(t,e),t[i]===e?i:-1;if(m&&t.indexOf===m)return t.indexOf(e);for(i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1},_.lastIndexOf=function(t,e){if(null==t)return-1;if(v&&t.lastIndexOf===v)return t.lastIndexOf(e);for(var i=t.length;i--;)if(t[i]===e)return i;return-1},_.range=function(t,e,i){arguments.length<=1&&(e=t||0,t=0),i=arguments[2]||1;for(var n=Math.max(Math.ceil((e-t)/i),0),s=0,a=Array(n);n>s;)a[s++]=t,t+=i;return a},_.bind=function(t,e){if(t.bind===y&&y)return y.apply(t,a.call(arguments,1));var i=a.call(arguments,2);return function(){return t.apply(e,i.concat(a.call(arguments)))}},_.bindAll=function(t){var e=a.call(arguments,1);return 0==e.length&&(e=_.functions(t)),x(e,function(e){t[e]=_.bind(t[e],t)}),t},_.memoize=function(t,e){var i={};return e||(e=_.identity),function(){var n=e.apply(this,arguments);return l.call(i,n)?i[n]:i[n]=t.apply(this,arguments)}},_.delay=function(t,e){var i=a.call(arguments,2);return setTimeout(function(){return t.apply(t,i)},e)},_.defer=function(t){return _.delay.apply(_,[t,1].concat(a.call(arguments,1)))};var k=function(t,e,i){var n;return function(){var s=this,a=arguments,r=function(){n=null,t.apply(s,a)};i&&clearTimeout(n),(i||!n)&&(n=setTimeout(r,e))}};_.throttle=function(t,e){return k(t,e,!1)},_.debounce=function(t,e){return k(t,e,!0)},_.once=function(t){var e,i=!1;return function(){return i?e:(i=!0,e=t.apply(this,arguments))}},_.wrap=function(t,e){return function(){var i=[t].concat(a.call(arguments));return e.apply(this,i)}},_.compose=function(){var t=a.call(arguments);return function(){for(var e=a.call(arguments),i=t.length-1;i>=0;i--)e=[t[i].apply(this,e)];return e[0]}},_.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},_.keys=b||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e,i=[];for(e in t)l.call(t,e)&&(i[i.length]=e);return i},_.values=function(t){return _.map(t,_.identity)},_.functions=_.methods=function(t){return _.filter(_.keys(t),function(e){return _.isFunction(t[e])}).sort()},_.extend=function(t){return x(a.call(arguments,1),function(e){for(var i in e)void 0!==e[i]&&(t[i]=e[i])}),t},_.defaults=function(t){return x(a.call(arguments,1),function(e){for(var i in e)null==t[i]&&(t[i]=e[i])}),t},_.clone=function(t){return _.isArray(t)?t.slice():_.extend({},t)},_.tap=function(t,e){return e(t),t},_.isEqual=function(t,e){if(t===e)return!0;var i=typeof t;if(i!=typeof e)return!1;if(t==e)return!0;if(!t&&e||t&&!e)return!1;if(t._chain&&(t=t._wrapped),e._chain&&(e=e._wrapped),t.isEqual)return t.isEqual(e);if(_.isDate(t)&&_.isDate(e))return t.getTime()===e.getTime();if(_.isNaN(t)&&_.isNaN(e))return!1;if(_.isRegExp(t)&&_.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.ignoreCase===e.ignoreCase&&t.multiline===e.multiline;if("object"!==i)return!1;if(t.length&&t.length!==e.length)return!1;i=_.keys(t);var n=_.keys(e);if(i.length!=n.length)return!1;for(var s in t)if(!(s in e&&_.isEqual(t[s],e[s])))return!1;return!0},_.isEmpty=function(t){if(_.isArray(t)||_.isString(t))return 0===t.length;for(var e in t)if(l.call(t,e))return!1;return!0},_.isElement=function(t){return!(!t||1!=t.nodeType)},_.isArray=s||function(t){return"[object Array]"===o.call(t)},_.isArguments=function(t){return!(!t||!l.call(t,"callee"))},_.isFunction=function(t){return!!(t&&t.constructor&&t.call&&t.apply)},_.isString=function(t){return!!(""===t||t&&t.charCodeAt&&t.substr)},_.isNumber=function(t){return!!(0===t||t&&t.toExponential&&t.toFixed)},_.isNaN=function(t){return t!==t},_.isBoolean=function(t){return t===!0||t===!1},_.isDate=function(t){return!(!t||!t.getTimezoneOffset||!t.setUTCFullYear)},_.isRegExp=function(t){return!(!t||!t.test||!t.exec||!t.ignoreCase&&t.ignoreCase!==!1)},_.isNull=function(t){return null===t},_.isUndefined=function(t){return void 0===t},_.noConflict=function(){return t._=e,this},_.identity=function(t){return t},_.times=function(t,e,i){for(var n=0;t>n;n++)e.call(i,n)},_.mixin=function(t){x(_.functions(t),function(e){T(e,_[e]=t[e])})};var C=0;_.uniqueId=function(t){var e=C++;return t?t+e:e},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g},_.template=function(t,e){var i=_.templateSettings;return i="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+t.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(i.interpolate,function(t,e){return"',"+e.replace(/\\'/g,"'")+",'"}).replace(i.evaluate||null,function(t,e){return"');"+e.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",i=new Function("obj",i),e?i(e):i};var S=function(t){this._wrapped=t};_.prototype=S.prototype;var j=function(t,e){return e?_(t).chain():t},T=function(t,e){S.prototype[t]=function(){var t=a.call(arguments);return r.call(t,this._wrapped),j(e.apply(_,t),this._chain)}};_.mixin(_),x(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=n[t];S.prototype[t]=function(){return e.apply(this._wrapped,arguments),j(this._wrapped,this._chain)}}),x(["concat","join","slice"],function(t){var e=n[t];S.prototype[t]=function(){return j(e.apply(this._wrapped,arguments),this._chain)}}),S.prototype.chain=function(){return this._chain=!0,this},S.prototype.value=function(){return this._wrapped}}(),function(){var t,e;$(function(){return $("#country_based").is(":checked")?t():e(),$("#country_based").click(function(){return t()}),$("#state_based").click(function(){return e()})}),t=function(){return $("#state_members :input").each(function(){return $(this).prop("disabled",!0)}),$("#state_members").hide(),$("#zone_members :input").each(function(){return $(this).prop("disabled",!0)}),$("#zone_members").hide(),$("#country_members :input").each(function(){return $(this).prop("disabled",!1)}),$("#country_members").show()},e=function(){return $("#country_members :input").each(function(){return $(this).prop("disabled",!0)}),$("#country_members").hide(),$("#zone_members :input").each(function(){return $(this).prop("disabled",!0)}),$("#zone_members").hide(),$("#state_members :input").each(function(){return $(this).prop("disabled",!1)}),$("#state_members").show()}}.call(this);var Spree={},initProductActions=function(){$(".product_autocomplete").product_autocomplete(),$(".calculator-fields").each(function(){var t=$(this),e=t.find(".type-select"),i=t.find(".settings"),n=t.find(".warning"),s=e.val();n.hide(),e.change(function(){$(this).val()==s?(n.hide(),i.show(),i.find("input").removeAttr("disabled")):(n.show(),i.hide(),i.find("input").attr("disabled","disabled"))})}),function(){var t=function(){$(".promotion_action table").each(function(){0==$(this).find("td").length?$(this).hide():$(this).show()})};t();var e=function(){$(".remove_promotion_line_item").click(function(){line_items_el=$($(".line_items_string")[0]),finder=RegExp($(this).data("variant-id")+"x\\d+"),line_items_el.val(line_items_el.val().replace(finder,"")),$(this).parents("tr").remove(),t()})};e(),$(".promotion_action.create_line_items button.add").unbind("click").click(function(){var i=$(this).parents(".promotion_action"),n=i.find("input[name='add_product_name']").val(),s=i.find("input[name='add_variant_id']").val(),a=i.find("input[name='add_quantity']").val();if(s){var r="<tr><td>"+n+"</td><td>"+a+"</td><td><img src='/assets/admin/icons/cross.png' /></td></tr>";i.find("table").append(r);var o=i.find(".line_items_string");o.val(o.val()+","+s+"x"+a),e(),t()}return!1})}()};$(document).ready(function(){initProductActions(),$("#promotion_event_name").change(function(){$("#promotion_code_field").toggle("spree.checkout.coupon_code_added"==$("#promotion_event_name").val()),$("#promotion_path_field").toggle("spree.content.visited"==$("#promotion_event_name").val())}),$("#promotion_event_name").change()}),function(){}.call(this),$(window).load(function(){function t(){$("#addText, #addShape, #addBorder, .priceWrapper, #addToBasket").removeClass("overlay"),$("#tourOverlay").fadeOut()}var e=$(window).height()-131,i=$(".canvas-container").css("margin-left");$("#loadingOverlay").fadeOut(),$("#canvasZoomWrapper").css("height",e),$("#toolPalette").css("right",parseInt(i,10)-93+"px"),$("#majorFunctions").css("left",parseInt(i,10)+"px"),$(this).joyride({tipContent:"#tourSteps",postRideCallback:t}),$("#joyRidePopup0 .button").click(function(){$("#addText").removeClass("overlay"),$("#addShape").addClass("overlay")}),$("#joyRidePopup1 .button").click(function(){$("#addShape").removeClass("overlay"),$("#addBorder").addClass("overlay")}),$("#joyRidePopup2 .button").click(function(){$("#addBorder").removeClass("overlay"),$(".priceWrapper, #addToBasket").addClass("overlay")})}),$(function(){function t(t){return t.id?"<span style='font-family: "+t.id+"'>"+t.text+"</span>":t.text}function e(t){return t.id?"<object data='/assets/svg/"+t.id.toLowerCase()+".svg'/>"+t.text:t.text}$(window).resize(function(){var t=$(window).height()-131,e=$(".canvas-container").css("margin-left");$("#canvasZoomWrapper").css("height",t),$("#toolPalette").css("right",parseInt(e,10)-93+"px"),$("#majorFunctions").css("left",parseInt(e,10)+"px")}),$("#toolPalette").draggable({containment:"#canvasZoomWrapper",handle:"#grabHandle",scroll:!1}),$("#fontFamily").select2({formatResult:t,formatSelection:t,minimumResultsForSearch:1e3,width:"element"}),$("#shapeSelect").select2({formatResult:e,formatSelection:e,minimumResultsForSearch:1e3,placeholder:"Select a Shape",width:"element"}),$("#borderSelect").select2({minimumResultsForSearch:1e3,placeholder:"Select a Border",width:"element"}),$(".showPaletteOnly").spectrum({showPaletteOnly:!0,palette:[["#ff8080","#ffff80","#80ff80","#00ff80","#80ffff","#0080ff","#ff80c0","#ff80ff"],["#ff0000","#ffff00","#80ff00","#00ff40","#00ffff","#0080c0","#8080c0","#ff00ff"],["#804040","#ff8040","#00ff00","#008080","#004080","#8080ff","#800040","#ff0080"],["#800000","#ff8000","#008000","#008040","#0000ff","#0000a0","#800080","#8000ff"],["#400000","#804000","#004000","#004040","#000080","#000040","#400040","#400080"],["#000000","#808000","#808040","#808080","#408080","#c0c0c0","#400040","#ffffff"]]}),$(".priceWrapper .price").html(function(){var t=$(this).text().split("."),e=t.pop();return t.join(".")+(t.length>0?"<sup>."+e+"</sup>":e)}),$("#toolPalette .tool, #addTextMenu .function").qtip();var i=$("#footerWrapper").outerHeight();$("#footerWrapper").css({bottom:-i}),$("#footerTab").toggle(function(){$("#footerWrapper").animate({bottom:0})},function(){$("#footerWrapper").animate({bottom:-i})})});/*! Fabric.js Copyright 2008-2012, Printio (Juriy Zaytsev, Maxim Chernyak) */
var fabric=fabric||{version:"0.8.41"};"undefined"!=typeof exports&&(exports.fabric=fabric),"undefined"!=typeof document&&"undefined"!=typeof window?(fabric.document=document,fabric.window=window):(fabric.document=require("jsdom").jsdom("<!DOCTYPE html><html><head></head><body></body></html>"),fabric.window=fabric.document.createWindow()),fabric.isTouchSupported="ontouchstart"in fabric.document.documentElement,fabric.isLikelyNode="undefined"!=typeof Buffer&&"undefined"==typeof window;/*!
 * Copyright (c) 2009 Simo Kinnunen.
 * Licensed under the MIT license.
 */
var Cufon=function(){function t(t){var e=this.face=t.face;this.glyphs=t.glyphs,this.w=t.w,this.baseSize=parseInt(e["units-per-em"],10),this.family=e["font-family"].toLowerCase(),this.weight=e["font-weight"],this.style=e["font-style"]||"normal",this.viewBox=function(){var t=e.bbox.split(/\s+/),i={minX:parseInt(t[0],10),minY:parseInt(t[1],10),maxX:parseInt(t[2],10),maxY:parseInt(t[3],10)};return i.width=i.maxX-i.minX,i.height=i.maxY-i.minY,i.toString=function(){return[this.minX,this.minY,this.width,this.height].join(" ")},i}(),this.ascent=-parseInt(e.ascent,10),this.descent=-parseInt(e.descent,10),this.height=-this.ascent+this.descent}function e(){var t={},e={oblique:"italic",italic:"oblique"};this.add=function(e){(t[e.style]||(t[e.style]={}))[e.weight]=e},this.get=function(i,n){var s=t[i]||t[e[i]]||t.normal||t.italic||t.oblique;if(!s)return null;if(n={normal:400,bold:700}[n]||parseInt(n,10),s[n])return s[n];var a,r,o={1:1,99:0}[n%100],l=[];void 0===o&&(o=n>400),500==n&&(n=400);for(var c in s)c=parseInt(c,10),(!a||a>c)&&(a=c),(!r||c>r)&&(r=c),l.push(c);return a>n&&(n=a),n>r&&(n=r),l.sort(function(t,e){return(o?t>n&&e>n?e>t:t>e:n>t&&n>e?t>e:e>t)?-1:1}),s[l[0]]}}function i(){function t(t,e){return t.contains?t.contains(e):16&t.compareDocumentPosition(e)}function e(e){var i=e.relatedTarget;i&&!t(this,i)&&n(this)}function i(){n(this)}function n(t){setTimeout(function(){f.replace(t,v.get(t).options,!0)},10)}this.attach=function(t){void 0===t.onmouseenter?(a(t,"mouseover",e),a(t,"mouseout",e)):(a(t,"mouseenter",i),a(t,"mouseleave",i))}}function n(){function t(t){return t.cufid||(t.cufid=++i)}var e={},i=0;this.get=function(i){var n=t(i);return e[n]||(e[n]={})}}function s(t){var e={},i={};this.get=function(i){return void 0!=e[i]?e[i]:t[i]},this.getSize=function(t,e){return i[t]||(i[t]=new g.Size(this.get(t),e))},this.extend=function(t){for(var i in t)e[i]=t[i];return this}}function a(t,e,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+e,function(){return i.call(t,fabric.window.event)})}function r(t,e){var i=v.get(t);return i.options?t:(e.hover&&e.hoverables[t.nodeName.toLowerCase()]&&b.attach(t),i.options=e,t)}function o(t){var e={};return function(i){return e.hasOwnProperty(i)||(e[i]=t.apply(null,arguments)),e[i]}}function l(t,e){e||(e=g.getStyle(t));for(var i,n=g.quotedList(e.get("fontFamily").toLowerCase()),s=0,a=n.length;a>s;++s)if(i=n[s],x[i])return x[i].get(e.get("fontStyle"),e.get("fontWeight"));return null}function c(t){return fabric.document.getElementsByTagName(t)}function h(){for(var t,e={},i=0,n=arguments.length;n>i;++i)for(t in arguments[i])e[t]=arguments[i][t];return e}function u(t,e,i,n,s,a){var r=n.separate;if("none"==r)return _[n.engine].apply(null,arguments);var o,l=fabric.document.createDocumentFragment(),c=e.split(k[r]),h="words"==r;h&&m&&(/^\s/.test(e)&&c.unshift(""),/\s$/.test(e)&&c.push(""));for(var u=0,d=c.length;d>u;++u)o=_[n.engine](t,h?g.textAlign(c[u],i,u,d):c[u],i,n,s,a,d-1>u),o&&l.appendChild(o);return l}function d(t,e){for(var i,n,s,a,o=r(t,e).firstChild;o;o=s){if(s=o.nextSibling,a=!1,1==o.nodeType){if(!o.firstChild)continue;if(!/cufon/.test(o.className)){arguments.callee(o,e);continue}a=!0}if(n||(n=g.getStyle(t).extend(e)),i||(i=l(t,n)),i)if(a)_[e.engine](i,null,n,e,o,t);else{var c=o.data;if("undefined"!=typeof G_vmlCanvasManager&&(c=c.replace(/\r/g,"\n")),""!==c){var h=u(i,c,n,e,o,t);h?o.parentNode.replaceChild(h,o):o.parentNode.removeChild(o)}}}}var f=function(){return f.replace.apply(null,arguments)},p=f.DOM={ready:function(){var t=!1,e={loaded:1,complete:1},i=[],n=function(){if(!t){t=!0;for(var e;e=i.shift();e());}};return fabric.document.addEventListener&&(fabric.document.addEventListener("DOMContentLoaded",n,!1),fabric.window.addEventListener("pageshow",n,!1)),!fabric.window.opera&&fabric.document.readyState&&function(){e[fabric.document.readyState]?n():setTimeout(arguments.callee,10)}(),fabric.document.readyState&&fabric.document.createStyleSheet&&function(){try{fabric.document.body.doScroll("left"),n()}catch(t){setTimeout(arguments.callee,1)}}(),a(fabric.window,"load",n),function(e){arguments.length?t?e():i.push(e):n()}}()},g=f.CSS={Size:function(t,e){this.value=parseFloat(t),this.unit=String(t).match(/[a-z%]*$/)[0]||"px",this.convert=function(t){return t/e*this.value},this.convertFrom=function(t){return t/this.value*e},this.toString=function(){return this.value+this.unit}},getStyle:function(t){return new s(t.style)},quotedList:o(function(t){for(var e,i=[],n=/\s*((["'])([\s\S]*?[^\\])\2|[^,]+)\s*/g;e=n.exec(t);)i.push(e[3]||e[1]);return i}),ready:function(){var t=!1,e=[],i=function(){t=!0;for(var i;i=e.shift();i());},n=Object.prototype.propertyIsEnumerable?c("style"):{length:0},s=c("link");return p.ready(function(){for(var t,e=0,a=0,r=s.length;t=s[a],r>a;++a)t.disabled||"stylesheet"!=t.rel.toLowerCase()||++e;fabric.document.styleSheets.length>=n.length+e?i():setTimeout(arguments.callee,10)}),function(i){t?i():e.push(i)}}(),supports:function(t,e){var i=fabric.document.createElement("span").style;return void 0===i[t]?!1:(i[t]=e,i[t]===e)},textAlign:function(t,e,i,n){return"right"==e.get("textAlign")?i>0&&(t=" "+t):n-1>i&&(t+=" "),t},textDecoration:function(t,e){e||(e=this.getStyle(t));for(var i={underline:null,overline:null,"line-through":null},n=t;n.parentNode&&1==n.parentNode.nodeType;){var s=!0;for(var a in i)i[a]||(-1!=e.get("textDecoration").indexOf(a)&&(i[a]=e.get("color")),s=!1);if(s)break;e=this.getStyle(n=n.parentNode)}return i},textShadow:o(function(t){if("none"==t)return null;for(var e,i=[],n={},s=0,a=/(#[a-f0-9]+|[a-z]+\(.*?\)|[a-z]+)|(-?[\d.]+[a-z%]*)|,/gi;e=a.exec(t);)","==e[0]?(i.push(n),n={},s=0):e[1]?n.color=e[1]:n[["offX","offY","blur"][s++]]=e[2];return i.push(n),i}),color:o(function(t){var e={};return e.color=t.replace(/^rgba\((.*?),\s*([\d.]+)\)/,function(t,i,n){return e.opacity=parseFloat(n),"rgb("+i+")"}),e}),textTransform:function(t,e){return t[{uppercase:"toUpperCase",lowercase:"toLowerCase"}[e.get("textTransform")]||"toString"]()}},m=0==" ".split(/\s+/).length,v=new n,b=new i,y=[],_={},x={},w={engine:null,hover:!1,hoverables:{a:!0},printable:!0,selector:fabric.window.Sizzle||fabric.window.jQuery&&function(t){return jQuery(t)}||fabric.window.dojo&&dojo.query||fabric.window.$$&&function(t){return $$(t)}||fabric.window.$&&function(t){return $(t)}||fabric.document.querySelectorAll&&function(t){return fabric.document.querySelectorAll(t)}||c,separate:"words",textShadow:"none"},k={words:/\s+/,characters:""};return f.now=function(){return p.ready(),f},f.refresh=function(){for(var t=y.splice(0,y.length),e=0,i=t.length;i>e;++e)f.replace.apply(null,t[e]);return f},f.registerEngine=function(t,e){return e?(_[t]=e,f.set("engine",t)):f},f.registerFont=function(i){var n=new t(i),s=n.family;return x[s]||(x[s]=new e),x[s].add(n),f.set("fontFamily",'"'+s+'"')},f.replace=function(t,e,i){return e=h(w,e),e.engine?("string"==typeof e.textShadow&&e.textShadow&&(e.textShadow=g.textShadow(e.textShadow)),i||y.push(arguments),(t.nodeType||"string"==typeof t)&&(t=[t]),g.ready(function(){for(var i=0,n=t.length;n>i;++i){var s=t[i];"string"==typeof s?f.replace(e.selector(s),e,!0):d(s,e)}}),f):f},f.replaceElement=function(t,e){return e=h(w,e),"string"==typeof e.textShadow&&e.textShadow&&(e.textShadow=g.textShadow(e.textShadow)),d(t,e)},f.engines=_,f.fonts=x,f.getOptions=function(){return h(w)},f.set=function(t,e){return w[t]=e,f},f}();Cufon.registerEngine("canvas",function(){function t(t,e){var i,n=0,s=0,a=[],r=/([mrvxe])([^a-z]*)/g;t:for(var o=0;i=r.exec(t);++o){var l=i[2].split(",");switch(i[1]){case"v":a[o]={m:"bezierCurveTo",a:[n+~~l[0],s+~~l[1],n+~~l[2],s+~~l[3],n+=~~l[4],s+=~~l[5]]};break;case"r":a[o]={m:"lineTo",a:[n+=~~l[0],s+=~~l[1]]};break;case"m":a[o]={m:"moveTo",a:[n=~~l[0],s=~~l[1]]};break;case"x":a[o]={m:"closePath",a:[]};break;case"e":break t}e[a[o].m].apply(e,a[o].a)}return a}function e(t,e){for(var i=0,n=t.length;n>i;++i){var s=t[i];e[s.m].apply(e,s.a)}}var i=Cufon.CSS.supports("display","inline-block"),n=!i&&("BackCompat"==fabric.document.compatMode||/frameset|transitional/i.test(fabric.document.doctype.publicId)),s=fabric.document.createElement("style");s.type="text/css";var a=fabric.document.createTextNode(".cufon-canvas{text-indent:0}@media screen,projection{.cufon-canvas{display:inline;display:inline-block;position:relative;vertical-align:middle"+(n?"":";font-size:1px;line-height:1px")+"}.cufon-canvas .cufon-alt{display:-moz-inline-box;display:inline-block;width:0;height:0;overflow:hidden}"+(i?".cufon-canvas canvas{position:relative}":".cufon-canvas canvas{position:absolute}")+"}"+"@media print{"+".cufon-canvas{padding:0 !important}"+".cufon-canvas canvas{display:none}"+".cufon-canvas .cufon-alt{display:inline}"+"}");try{s.appendChild(a)}catch(r){s.setAttribute("type","text/css"),s.styleSheet.cssText=a.data}return fabric.document.getElementsByTagName("head")[0].appendChild(s),function(n,s,a,r,o){function l(){G.save(),G.fillStyle=r.backgroundColor;var t=0,e=0,i=[{left:0}];"right"===r.textAlign?(G.translate(O[e],0),i[0].left=O[e]*U):"center"===r.textAlign&&(G.translate(O[e]/2,0),i[0].left=O[e]/2*U);for(var s=0,a=S.length;a>s;++s)if("\n"!==S[s]){var o=n.glyphs[S[s]]||n.missingGlyph;if(o){var l=Number(o.w||n.w)+f;r.backgroundColor&&(G.save(),G.translate(0,n.ascent),G.fillRect(0,0,l+10,-n.ascent+n.descent),G.restore()),G.translate(l,0),t+=l,s==a-1&&(i[i.length-1].width=t*U,i[i.length-1].height=(-n.ascent+n.descent)*U)}}else{e++;var c=-n.ascent-n.ascent/5*r.lineHeight,h=i[i.length-1],u={left:0};h.width=t*U,h.height=(-n.ascent+n.descent)*U,"right"===r.textAlign?(G.translate(-j,c),G.translate(O[e],0),u.left=O[e]*U):"center"===r.textAlign?(G.translate(-t-O[e-1]/2,c),G.translate(O[e]/2,0),u.left=O[e]/2*U):G.translate(-t,c),i.push(u),t=0}G.restore(),Cufon.textOptions.boundaries=i}function c(i){G.fillStyle=i||Cufon.textOptions.color||a.get("color");var s=0,o=0;"right"===r.textAlign?G.translate(O[o],0):"center"===r.textAlign&&G.translate(O[o]/2,0);for(var l=0,c=S.length;c>l;++l)if("\n"!==S[l]){var h=n.glyphs[S[l]]||n.missingGlyph;if(h){var u=Number(h.w||n.w)+f;V&&(G.save(),G.strokeStyle=G.fillStyle,G.lineWidth+=G.lineWidth,G.beginPath(),V.underline&&(G.moveTo(0,-n.face["underline-position"]+.5),G.lineTo(u,-n.face["underline-position"]+.5)),V.overline&&(G.moveTo(0,n.ascent+.5),G.lineTo(u,n.ascent+.5)),V["line-through"]&&(G.moveTo(0,-n.descent+.5),G.lineTo(u,-n.descent+.5)),G.stroke(),G.restore()),X&&(G.save(),G.transform(1,0,-.25,1,0,0)),G.beginPath(),h.d&&(h.code?e(h.code,G):h.code=t("m"+h.d,G)),G.fill(),r.strokeStyle&&(G.closePath(),G.save(),G.lineWidth=r.strokeWidth,G.strokeStyle=r.strokeStyle,G.stroke(),G.restore()),X&&G.restore(),G.translate(u,0),s+=u}}else{o++;var d=-n.ascent-n.ascent/5*r.lineHeight;"right"===r.textAlign?(G.translate(-j,d),G.translate(O[o],0)):"center"===r.textAlign?(G.translate(-s-O[o-1]/2,d),G.translate(O[o]/2,0)):G.translate(-s,d),s=0}}var h=null===s,u=n.viewBox,d=a.getSize("fontSize",n.baseSize),f=a.get("letterSpacing");f="normal"==f?0:d.convertFrom(parseInt(f,10));var p=0,g=0,m=0,v=0,b=r.textShadow,y=[];if(Cufon.textOptions.shadowOffsets=[],Cufon.textOptions.shadows=null,b){Cufon.textOptions.shadows=b;for(var _=0,x=b.length;x>_;++_){var w=b[_],k=d.convertFrom(parseFloat(w.offX)),C=d.convertFrom(parseFloat(w.offY));y[_]=[k,C]}}for(var S=Cufon.CSS.textTransform(h?o.alt:s,a).split(""),j=0,T=null,I=0,A=1,P=[],_=0,x=S.length;x>_;++_)if("\n"!==S[_]){var D=n.glyphs[S[_]]||n.missingGlyph;D&&(j+=T=Number(D.w||n.w)+f)}else A++,j>I&&(I=j),P.push(j),j=0;P.push(j),j=Math.max(I,j);for(var O=[],_=P.length;_--;)O[_]=j-P[_];if(null===T)return null;g+=u.width-T,v+=u.minX;var F,M;if(h)F=o,M=o.firstChild;else if(F=fabric.document.createElement("span"),F.className="cufon cufon-canvas",F.alt=s,M=fabric.document.createElement("canvas"),F.appendChild(M),r.printable){var E=fabric.document.createElement("span");E.className="cufon-alt",E.appendChild(fabric.document.createTextNode(s)),F.appendChild(E)}var N=F.style,$=M.style||{},H=d.convert(u.height-p+m),L=Math.ceil(H),R=L/H;M.width=Math.ceil(d.convert(j+g-v)*R),M.height=L,p+=u.minY,$.top=Math.round(d.convert(p-n.ascent))+"px",$.left=Math.round(d.convert(v))+"px";var z=Math.ceil(d.convert(j*R)),W=z+"px",q=d.convert(n.height),B=(r.lineHeight-1)*d.convert(-n.ascent/5)*(A-1);Cufon.textOptions.width=z,Cufon.textOptions.height=q*A+B,Cufon.textOptions.lines=A,Cufon.textOptions.totalLineHeight=B,i?(N.width=W,N.height=q+"px"):(N.paddingLeft=W,N.paddingBottom=q-1+"px");var G=Cufon.textOptions.context||M.getContext("2d"),U=L/u.height;Cufon.textOptions.fontAscent=n.ascent*U,Cufon.textOptions.boundaries=null;for(var Y=Cufon.textOptions.shadowOffsets,_=y.length;_--;)Y[_]=[y[_][0]*U,y[_][1]*U];G.save(),G.scale(U,U),G.translate(-v-1/U*M.width/2+(Cufon.fonts[n.family].offsetLeft||0),-p-Cufon.textOptions.height/U/2+(Cufon.fonts[n.family].offsetTop||0)),G.lineWidth=n.face["underline-thickness"],G.save();var V=Cufon.getTextDecoration(r),X="italic"===r.fontStyle;if(G.save(),l(),b)for(var _=0,x=b.length;x>_;++_){var w=b[_];G.save(),G.translate.apply(G,y[_]),c(w.color),G.restore()}return c(),G.restore(),G.restore(),G.restore(),F}}()),Cufon.registerEngine("vml",function(){function t(t,i){return e(t,/(?:em|ex|%)$/i.test(i)?"1em":i)}function e(t,e){if(/px$/i.test(e))return parseFloat(e);var i=t.style.left,n=t.runtimeStyle.left;t.runtimeStyle.left=t.currentStyle.left,t.style.left=e;var s=t.style.pixelLeft;return t.style.left=i,t.runtimeStyle.left=n,s}if(fabric.document.namespaces){var i=fabric.document.createElement("canvas");if(!(i&&i.getContext&&i.getContext.apply)){null==fabric.document.namespaces.cvml&&fabric.document.namespaces.add("cvml","urn:schemas-microsoft-com:vml");var n=fabric.document.createElement("cvml:shape");if(n.style.behavior="url(#default#VML)",n.coordsize)return n=null,fabric.document.write('<style type="text/css">.cufon-vml-canvas{text-indent:0}@media screen{cvml\\:shape,cvml\\:shadow{behavior:url(#default#VML);display:block;antialias:true;position:absolute}.cufon-vml-canvas{position:absolute;text-align:left}.cufon-vml{display:inline-block;position:relative;vertical-align:middle}.cufon-vml .cufon-alt{position:absolute;left:-10000in;font-size:1px}a .cufon-vml{cursor:pointer}}@media print{.cufon-vml *{display:none}.cufon-vml .cufon-alt{display:inline}}</style>'),function(i,n,s,a,r,o,l){var c=null===n;c&&(n=r.alt);var h=i.viewBox,u=s.computedFontSize||(s.computedFontSize=new Cufon.CSS.Size(t(o,s.get("fontSize"))+"px",i.baseSize)),d=s.computedLSpacing;void 0==d&&(d=s.get("letterSpacing"),s.computedLSpacing=d="normal"==d?0:~~u.convertFrom(e(o,d)));var f,p;if(c)f=r,p=r.firstChild;else{if(f=fabric.document.createElement("span"),f.className="cufon cufon-vml",f.alt=n,p=fabric.document.createElement("span"),p.className="cufon-vml-canvas",f.appendChild(p),a.printable){var g=fabric.document.createElement("span");g.className="cufon-alt",g.appendChild(fabric.document.createTextNode(n)),f.appendChild(g)}l||f.appendChild(fabric.document.createElement("cvml:shape"))}var m=f.style,v=p.style,b=u.convert(h.height),y=Math.ceil(b),_=y/b,x=h.minX,w=h.minY;v.height=y,v.top=Math.round(u.convert(w-i.ascent)),v.left=Math.round(u.convert(x)),m.height=u.convert(i.height)+"px",Cufon.getTextDecoration(a);for(var k,C,S=s.get("color"),j=Cufon.CSS.textTransform(n,s).split(""),T=0,I=0,A=null,P=a.textShadow,D=0,O=0,F=j.length;F>D;++D)k=i.glyphs[j[D]]||i.missingGlyph,k&&(T+=A=~~(k.w||i.w)+d);if(null===A)return null;var M,E=-x+T+(h.width-A),N=u.convert(E*_),$=Math.round(N),H=E+","+h.height,L="r"+H+"nsnf";for(D=0;F>D;++D)if(k=i.glyphs[j[D]]||i.missingGlyph){c?(C=p.childNodes[O],C.firstChild&&C.removeChild(C.firstChild)):(C=fabric.document.createElement("cvml:shape"),p.appendChild(C)),C.stroked="f",C.coordsize=H,C.coordorigin=M=x-I+","+w,C.path=(k.d?"m"+k.d+"xe":"")+"m"+M+L,C.fillcolor=S;var R=C.style;if(R.width=$,R.height=y,P){var z,W=P[0],q=P[1],B=Cufon.CSS.color(W.color),G=fabric.document.createElement("cvml:shadow");G.on="t",G.color=B.color,G.offset=W.offX+","+W.offY,q&&(z=Cufon.CSS.color(q.color),G.type="double",G.color2=z.color,G.offset2=q.offX+","+q.offY),G.opacity=B.opacity||z&&z.opacity||1,C.appendChild(G)}I+=~~(k.w||i.w)+d,++O}return m.width=Math.max(Math.ceil(u.convert(T*_)),0),f}}}}()),Cufon.getTextDecoration=function(t){return{underline:"underline"===t.textDecoration,overline:"overline"===t.textDecoration,"line-through":"line-through"===t.textDecoration}},"undefined"!=typeof exports&&(exports.Cufon=Cufon);var JSON;JSON||(JSON={}),function(){"use strict";function f(t){return 10>t?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var i,n,s,a,r,o=gap,l=e[t];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(t)),"function"==typeof rep&&(l=rep.call(e,t,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,r=[],"[object Array]"===Object.prototype.toString.apply(l)){for(a=l.length,i=0;a>i;i+=1)r[i]=str(i,l)||"null";return s=0===r.length?"[]":gap?"[\n"+gap+r.join(",\n"+gap)+"\n"+o+"]":"["+r.join(",")+"]",gap=o,s}if(rep&&"object"==typeof rep)for(a=rep.length,i=0;a>i;i+=1)"string"==typeof rep[i]&&(n=rep[i],s=str(n,l),s&&r.push(quote(n)+(gap?": ":":")+s));else for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(s=str(n,l),s&&r.push(quote(n)+(gap?": ":":")+s));return s=0===r.length?"{}":gap?"{\n"+gap+r.join(",\n"+gap)+"\n"+o+"}":"{"+r.join(",")+"}",gap=o,s}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,i){var n;if(gap="",indent="","number"==typeof i)for(n=0;i>n;n+=1)indent+=" ";else"string"==typeof i&&(indent=i);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var i,n,s=t[e];if(s&&"object"==typeof s)for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n=walk(s,i),void 0!==n?s[i]=n:delete s[i]);return reviver.call(t,e,s)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),fabric.log=function(){},fabric.warn=function(){},"undefined"!=typeof console&&("undefined"!=typeof console.log&&console.log.apply&&(fabric.log=function(){return console.log.apply(console,arguments)}),"undefined"!=typeof console.warn&&console.warn.apply&&(fabric.warn=function(){return console.warn.apply(console,arguments)})),fabric.Observable={observe:function(t,e){if(this.__eventListeners||(this.__eventListeners={}),1===arguments.length)for(var i in t)this.on(i,t[i]);else this.__eventListeners[t]||(this.__eventListeners[t]=[]),this.__eventListeners[t].push(e)},stopObserving:function(t,e){this.__eventListeners||(this.__eventListeners={}),this.__eventListeners[t]&&fabric.util.removeFromArray(this.__eventListeners[t],e)},fire:function(t,e){this.__eventListeners||(this.__eventListeners={});var i=this.__eventListeners[t];if(i)for(var n=0,s=i.length;s>n;n++)i[n](e||{})}},fabric.Observable.on=fabric.Observable.observe,fabric.Observable.off=fabric.Observable.stopObserving,function(){function t(t,e){var i=t.indexOf(e);return-1!==i&&t.splice(i,1),t}function e(t,e){return Math.floor(Math.random()*(e-t+1))+t}function i(t){return t*c}function n(t,e){return parseFloat(Number(t).toFixed(e))}function s(){return!1}function a(t){t||(t={});var e,i=+new Date,n=t.duration||500,s=i+n,a=t.onChange||function(){},r=t.abort||function(){return!1},o=t.easing||function(t,e,i,n){return-i*Math.cos(t/n*(Math.PI/2))+i+e},l="startValue"in t?t.startValue:0,c="endValue"in t?t.endValue:100;byValue=t.byValue||c-l,t.onStart&&t.onStart(),function h(){return e=+new Date,currentTime=e>s?n:e-i,a(o(currentTime,l,byValue,n)),e>s||r()?(t.onComplete&&t.onComplete(),void 0):(u(h),void 0)}()}function r(t,e,i){if(t){var n=new Image;n.onload=function(){e&&e.call(i,n),n=n.onload=null},n.src=t}else e&&e.call(i,t)}function o(t,e){function i(t){return fabric[fabric.util.string.camelize(fabric.util.string.capitalize(t))]}var n=[],s=0,a=t.filter(function(t){return i(t.type).async}).length;t.forEach(function(t,r){if(t.type){var o=i(t.type);o.async?o.fromObject(t,function(t){n[r]=t,++s===a&&e&&e(n)}):n[r]=o.fromObject(t)}}),0===a&&e&&e(n)}function l(t,e,i){var n=t.length>1?new fabric.PathGroup(t,e):t[0];return"undefined"!=typeof i&&n.setSourcePath(i),n}fabric.util={};var c=Math.PI/180,h=fabric.window.requestAnimationFrame||fabric.window.webkitRequestAnimationFrame||fabric.window.mozRequestAnimationFrame||fabric.window.oRequestAnimationFrame||fabric.window.msRequestAnimationFrame||function(t){fabric.window.setTimeout(t,1e3/60)},u=function(){return h.apply(fabric.window,arguments)};fabric.util.removeFromArray=t,fabric.util.degreesToRadians=i,fabric.util.toFixed=n,fabric.util.getRandomInt=e,fabric.util.falseFunction=s,fabric.util.animate=a,fabric.util.requestAnimFrame=u,fabric.util.loadImage=r,fabric.util.enlivenObjects=o,fabric.util.groupSVGElements=l}(),function(){function t(t,e){for(var i=n.call(arguments,2),s=[],a=0,r=t.length;r>a;a++)s[a]=i.length?t[a][e].apply(t[a],i):t[a][e].call(t[a]);return s}function e(t,e){if(!t||0===t.length)return void 0;var i=t.length-1,n=e?t[i][e]:t[i];if(e)for(;i--;)t[i][e]>=n&&(n=t[i][e]);else for(;i--;)t[i]>=n&&(n=t[i]);return n}function i(t,e){if(!t||0===t.length)return void 0;var i=t.length-1,n=e?t[i][e]:t[i];if(e)for(;i--;)t[i][e]<n&&(n=t[i][e]);else for(;i--;)t[i]<n&&(n=t[i]);return n}var n=Array.prototype.slice;Array.prototype.indexOf||(Array.prototype.indexOf=function(t){if(void 0===this||null===this)throw new TypeError;var e=Object(this),i=e.length>>>0;if(0===i)return-1;var n=0;if(arguments.length>0&&(n=Number(arguments[1]),n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=i)return-1;for(var s=n>=0?n:Math.max(i-Math.abs(n),0);i>s;s++)if(s in e&&e[s]===t)return s;return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){for(var i=0,n=this.length>>>0;n>i;i++)i in this&&t.call(e,this[i],i,this)}),Array.prototype.map||(Array.prototype.map=function(t,e){for(var i=[],n=0,s=this.length>>>0;s>n;n++)n in this&&(i[n]=t.call(e,this[n],n,this));return i}),Array.prototype.every||(Array.prototype.every=function(t,e){for(var i=0,n=this.length>>>0;n>i;i++)if(i in this&&!t.call(e,this[i],i,this))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(t,e){for(var i=0,n=this.length>>>0;n>i;i++)if(i in this&&t.call(e,this[i],i,this))return!0;return!1}),Array.prototype.filter||(Array.prototype.filter=function(t,e){for(var i,n=[],s=0,a=this.length>>>0;a>s;s++)s in this&&(i=this[s],t.call(e,i,s,this)&&n.push(i));return n}),Array.prototype.reduce||(Array.prototype.reduce=function(t){var e,i=this.length>>>0,n=0;if(arguments.length>1)e=arguments[1];else for(;;){if(n in this){e=this[n++];break}if(++n>=i)throw new TypeError}for(;i>n;n++)n in this&&(e=t.call(null,e,this[n],n,this));return e}),fabric.util.array={invoke:t,min:i,max:e}}(),function(){function t(t,e){for(var i in e)t[i]=e[i];return t}function e(e){return t({},e)}fabric.util.object={extend:t,clone:e}}(),function(){function t(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})}function e(t){return t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()}function i(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\xA0]+/,"").replace(/[\s\xA0]+$/,"")}),fabric.util.string={camelize:t,capitalize:e,escapeXml:i}}(),function(){var t=Array.prototype.slice,e=Function.prototype.apply,i=function(){};Function.prototype.bind||(Function.prototype.bind=function(n){var s,a=this,r=t.call(arguments,1);return s=r.length?function(){return e.call(a,this instanceof i?this:n,r.concat(t.call(arguments)))}:function(){return e.call(a,this instanceof i?this:n,arguments)},i.prototype=this.prototype,s.prototype=new i,s})}(),function(){function t(){}function e(){function e(){this.initialize.apply(this,arguments)}var s=null,r=i.call(arguments,0);"function"==typeof r[0]&&(s=r.shift()),e.superclass=s,e.subclasses=[],s&&(t.prototype=s.prototype,e.prototype=new t,s.subclasses.push(e));for(var o=0,l=r.length;l>o;o++)a(e,r[o],s);return e.prototype.initialize||(e.prototype.initialize=n),e.prototype.constructor=e,e}var i=Array.prototype.slice,n=function(){},s=function(){for(var t in{toString:1})if("toString"===t)return!1;return!0}(),a=function(t,e,i){for(var n in e)t.prototype[n]=n in t.prototype&&"function"==typeof t.prototype[n]?function(t){return function(){var n=this.constructor.superclass;this.constructor.superclass=i;var s=e[t].apply(this,arguments);return this.constructor.superclass=n,"initialize"!==t?s:void 0}}(n):e[n],s&&(e.toString!==Object.prototype.toString&&(t.prototype.toString=e.toString),e.valueOf!==Object.prototype.valueOf&&(t.prototype.valueOf=e.valueOf))};fabric.util.createClass=e}(),function(){function t(t){var e,i,n=Array.prototype.slice.call(arguments,1),s=n.length;for(i=0;s>i;i++)if(e=typeof t[n[i]],!/^(?:function|object|unknown)$/.test(e))return!1;return!0}function e(t,e){return{handler:e,wrappedHandler:i(t,e)}}function i(t,e){return function(i){e.call(o(t),i||fabric.window.event)}}function n(t,e){return function(i){if(g[t]&&g[t][e])for(var n=g[t][e],s=0,a=n.length;a>s;s++)n[s].call(this,i||fabric.window.event)}}function s(t){return{x:a(t)+document.getElementById("canvasZoomWrapper").scrollLeft,y:r(t)+document.getElementById("canvasZoomWrapper").scrollTop}}function a(t){var e=fabric.document.documentElement,i=fabric.document.body||{scrollLeft:0};return t.pageX||("unknown"!=typeof t.clientX?t.clientX:0)+(e.scrollLeft||i.scrollLeft)-(e.clientLeft||0)}function r(t){var e=fabric.document.documentElement,i=fabric.document.body||{scrollTop:0};return t.pageY||("unknown"!=typeof t.clientY?t.clientY:0)+(e.scrollTop||i.scrollTop)-(e.clientTop||0)}var o,l,c=function(){if("undefined"!=typeof fabric.document.documentElement.uniqueID)return function(t){return t.uniqueID};var t=0;return function(e){return e.__uniqueID||(e.__uniqueID="uniqueID__"+t++)}}();!function(){var t={};o=function(e){return t[e]},l=function(e,i){t[e]=i}}();var h,u,d=t(fabric.document.documentElement,"addEventListener","removeEventListener")&&t(fabric.window,"addEventListener","removeEventListener"),f=t(fabric.document.documentElement,"attachEvent","detachEvent")&&t(fabric.window,"attachEvent","detachEvent"),p={},g={};d?(h=function(t,e,i){t.addEventListener(e,i,!1)},u=function(t,e,i){t.removeEventListener(e,i,!1)}):f?(h=function(t,i,n){var s=c(t);l(s,t),p[s]||(p[s]={}),p[s][i]||(p[s][i]=[]);var a=e(s,n);p[s][i].push(a),t.attachEvent("on"+i,a.wrappedHandler)},u=function(t,e,i){var n,s=c(t);if(p[s]&&p[s][e])for(var a=0,r=p[s][e].length;r>a;a++)n=p[s][e][a],n&&n.handler===i&&(t.detachEvent("on"+e,n.wrappedHandler),p[s][e][a]=null)}):(h=function(t,e,i){var s=c(t);if(g[s]||(g[s]={}),!g[s][e]){g[s][e]=[];var a=t["on"+e];a&&g[s][e].push(a),t["on"+e]=n(s,e)}g[s][e].push(i)},u=function(t,e,i){var n=c(t);if(g[n]&&g[n][e])for(var s=g[n][e],a=0,r=s.length;r>a;a++)s[a]===i&&s.splice(a,1)}),fabric.util.addListener=h,fabric.util.removeListener=u,fabric.isTouchSupported&&(a=function(t){return t.touches&&t.touches[0]&&t.touches[0].pageX||t.clientX},r=function(t){return t.touches&&t.touches[0]&&t.touches[0].pageY||t.clientY}),fabric.util.getPointer=s,fabric.util.object.extend(fabric.util,fabric.Observable)}(this),function(){function t(t,e){var i=t.style;if("string"==typeof e)return t.style.cssText+=";"+e,e.indexOf("opacity")>-1?r(t,e.match(/opacity:\s*(\d?\.?\d*)/)[1]):t;for(var n in e)if("opacity"===n)r(t,e[n]);else{var s="float"===n||"cssFloat"===n?"undefined"==typeof i.styleFloat?"cssFloat":"styleFloat":n;i[s]=e[n]}return t}var e=fabric.document.createElement("div"),i="string"==typeof e.style.opacity,n="string"==typeof e.style.filter,s=fabric.document.defaultView,a=(s&&"undefined"!=typeof s.getComputedStyle,/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/),r=function(t){return t};i?r=function(t,e){return t.style.opacity=e,t}:n&&(r=function(t,e){var i=t.style;return t.currentStyle&&!t.currentStyle.hasLayout&&(i.zoom=1),a.test(i.filter)?(e=e>=.9999?"":"alpha(opacity="+100*e+")",i.filter=i.filter.replace(a,e)):i.filter+=" alpha(opacity="+100*e+")",t}),fabric.util.setStyle=t}(),function(){function t(t){return"string"==typeof t?fabric.document.getElementById(t):t}function e(t){return r.call(t,0)}function i(t,e){var i=fabric.document.createElement(t);for(var n in e)"class"===n?i.className=e[n]:"for"===n?i.htmlFor=e[n]:i.setAttribute(n,e[n]);return i}function n(t,e){-1===(" "+t.className+" ").indexOf(" "+e+" ")&&(t.className+=(t.className?" ":"")+e)}function s(t,e,n){return"string"==typeof e&&(e=i(e,n)),t.parentNode&&t.parentNode.replaceChild(e,t),e.appendChild(t),e}function a(t){var e=0,i=0;do e+=t.offsetTop||0,i+=t.offsetLeft||0,t=t.offsetParent;while(t);return{left:i,top:e}}var r=Array.prototype.slice;try{var o=e(fabric.document.childNodes)instanceof Array}catch(l){}o||(e=function(t){for(var e=new Array(t.length),i=t.length;i--;)e[i]=t[i];return e}),function(){function t(t){return"undefined"!=typeof t.onselectstart&&(t.onselectstart=fabric.util.falseFunction),n?t.style[n]="none":"string"==typeof t.unselectable&&(t.unselectable="on"),t}function e(t){return"undefined"!=typeof t.onselectstart&&(t.onselectstart=null),n?t.style[n]="":"string"==typeof t.unselectable&&(t.unselectable=""),t}var i=fabric.document.documentElement.style,n="userSelect"in i?"userSelect":"MozUserSelect"in i?"MozUserSelect":"WebkitUserSelect"in i?"WebkitUserSelect":"KhtmlUserSelect"in i?"KhtmlUserSelect":"";fabric.util.makeElementUnselectable=t,fabric.util.makeElementSelectable=e}(),function(){function t(t,e){var i=fabric.document.getElementsByTagName("head")[0],n=fabric.document.createElement("script"),s=!0;n.type="text/javascript",n.setAttribute("runat","server"),n.onload=n.onreadystatechange=function(t){if(s){if("string"==typeof this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState)return;s=!1,e(t||fabric.window.event),n=n.onload=n.onreadystatechange=null}},n.src=t,i.appendChild(n)}fabric.util.getScript=t}(),fabric.util.getById=t,fabric.util.toArray=e,fabric.util.makeElement=i,fabric.util.addClass=n,fabric.util.wrapElement=s,fabric.util.getElementOffset=a}(),function(){function t(t,e){return t+(/\?/.test(t)?"&":"?")+e}function e(){}function i(i,s){s||(s={});var a,r=s.method?s.method.toUpperCase():"GET",o=s.onComplete||function(){},l=n();return l.onreadystatechange=function(){4===l.readyState&&(o(l),l.onreadystatechange=e)},"GET"===r&&(a=null,"string"==typeof s.parameters&&(i=t(i,s.parameters))),l.open(r,i,!0),("POST"===r||"PUT"===r)&&l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),l.send(a),l}var n=function(){for(var t=[function(){return new ActiveXObject("Microsoft.XMLHTTP")},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml2.XMLHTTP.3.0")},function(){return new XMLHttpRequest}],e=t.length;e--;)try{var i=t[e]();if(i)return t[e]}catch(n){}}();fabric.util.request=i}(),function(){function t(t,e,i,n){return i*(t/=n)*t+e}function e(t,e,i,n){return-i*(t/=n)*(t-2)+e}function i(t,e,i,n){return(t/=n/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e}function n(t,e,i,n){return i*(t/=n)*t*t+e}function s(t,e,i,n){return i*((t=t/n-1)*t*t+1)+e}function a(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e
}function r(t,e,i,n){return i*(t/=n)*t*t*t+e}function o(t,e,i,n){return-i*((t=t/n-1)*t*t*t-1)+e}function l(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t*t+e:-i/2*((t-=2)*t*t*t-2)+e}function c(t,e,i,n){return i*(t/=n)*t*t*t*t+e}function h(t,e,i,n){return i*((t=t/n-1)*t*t*t*t+1)+e}function u(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e}function d(t,e,i,n){return-i*Math.cos(t/n*(Math.PI/2))+i+e}function f(t,e,i,n){return i*Math.sin(t/n*(Math.PI/2))+e}function p(t,e,i,n){return-i/2*(Math.cos(Math.PI*t/n)-1)+e}function g(t,e,i,n){return 0==t?e:i*Math.pow(2,10*(t/n-1))+e}function m(t,e,i,n){return t==n?e+i:i*(-Math.pow(2,-10*t/n)+1)+e}function v(t,e,i,n){return 0==t?e:t==n?e+i:(t/=n/2)<1?i/2*Math.pow(2,10*(t-1))+e:i/2*(-Math.pow(2,-10*--t)+2)+e}function b(t,e,i,n){return-i*(Math.sqrt(1-(t/=n)*t)-1)+e}function y(t,e,i,n){return i*Math.sqrt(1-(t=t/n-1)*t)+e}function _(t,e,i,n){return(t/=n/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+e:i/2*(Math.sqrt(1-(t-=2)*t)+1)+e}function x(t,e,i,n){var s=1.70158,a=0,r=i;if(0==t)return e;if(1==(t/=n))return e+i;if(a||(a=.3*n),r<Math.abs(i)){r=i;var s=a/4}else var s=a/(2*Math.PI)*Math.asin(i/r);return-(r*Math.pow(2,10*(t-=1))*Math.sin((t*n-s)*2*Math.PI/a))+e}function w(t,e,i,n){var s=1.70158,a=0,r=i;if(0==t)return e;if(1==(t/=n))return e+i;if(a||(a=.3*n),r<Math.abs(i)){r=i;var s=a/4}else var s=a/(2*Math.PI)*Math.asin(i/r);return r*Math.pow(2,-10*t)*Math.sin((t*n-s)*2*Math.PI/a)+i+e}function k(t,e,i,n){var s=1.70158,a=0,r=i;if(0==t)return e;if(2==(t/=n/2))return e+i;if(a||(a=n*.3*1.5),r<Math.abs(i)){r=i;var s=a/4}else var s=a/(2*Math.PI)*Math.asin(i/r);return 1>t?-.5*r*Math.pow(2,10*(t-=1))*Math.sin((t*n-s)*2*Math.PI/a)+e:.5*r*Math.pow(2,-10*(t-=1))*Math.sin((t*n-s)*2*Math.PI/a)+i+e}function C(t,e,i,n,s){return void 0==s&&(s=1.70158),i*(t/=n)*t*((s+1)*t-s)+e}function S(t,e,i,n,s){return void 0==s&&(s=1.70158),i*((t=t/n-1)*t*((s+1)*t+s)+1)+e}function j(t,e,i,n,s){return void 0==s&&(s=1.70158),(t/=n/2)<1?i/2*t*t*(((s*=1.525)+1)*t-s)+e:i/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+e}function T(t,e,i,n){return i-I(n-t,0,i,n)+e}function I(t,e,i,n){return(t/=n)<1/2.75?i*7.5625*t*t+e:2/2.75>t?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:2.5/2.75>t?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e}function A(t,e,i,n){return n/2>t?.5*T(2*t,0,i,n)+e:.5*I(2*t-n,0,i,n)+.5*i+e}fabric.util.ease={easeInQuad:t,easeOutQuad:e,easeInOutQuad:i,easeInCubic:n,easeOutCubic:s,easeInOutCubic:a,easeInQuart:r,easeOutQuart:o,easeInOutQuart:l,easeInQuint:c,easeOutQuint:h,easeInOutQuint:u,easeInSine:d,easeOutSine:f,easeInOutSine:p,easeInExpo:g,easeOutExpo:m,easeInOutExpo:v,easeInCirc:b,easeOutCirc:y,easeInOutCirc:_,easeInElastic:x,easeOutElastic:w,easeInOutElastic:k,easeInBack:C,easeOutBack:S,easeInOutBack:j,easeInBounce:T,easeOutBounce:I,easeInOutBounce:A}}(),function(t){"use strict";function e(t){return t in v?v[t]:t}function i(t,i){if(t){var n,s,a={};t.parentNode&&/^g$/i.test(t.parentNode.nodeName)&&(a=f.parseAttributes(t.parentNode,i));var r=i.reduce(function(i,a){return n=t.getAttribute(a),s=parseFloat(n),n&&("fill"!==a&&"stroke"!==a||"none"!==n||(n=""),"fill-rule"===a&&(n="evenodd"===n?"destination-over":n),"transform"===a&&(n=f.parseTransformAttribute(n)),a=e(a),i[a]=isNaN(s)?n:s),i},{});return r=p(r,p(l(t),f.parseStyleAttribute(t))),p(a,r)}}function n(t){if(!t)return null;t=t.trim();var e=t.indexOf(",")>-1;t=t.split(/\s+/);var i=[];if(e)for(var n=0,s=t.length;s>n;n++){var a=t[n].split(",");i.push({x:parseFloat(a[0]),y:parseFloat(a[1])})}else for(var n=0,s=t.length;s>n;n+=2)i.push({x:parseFloat(t[n]),y:parseFloat(t[n+1])});return 0!==i.length%2,i}function s(t){var i={},n=t.getAttribute("style");if(n)if("string"==typeof n)n=n.replace(/;$/,"").split(";").forEach(function(t){var n=t.split(":");i[e(n[0].trim().toLowerCase())]=n[1].trim()});else for(var s in n)"undefined"!=typeof n[s]&&(i[e(s.toLowerCase())]=n[s]);return i}function a(t){var e=f.Canvas.activeInstance,i=e?e.getContext():null;if(i)for(var n=t.length;n--;){var s=t[n].get("fill");if(/^url\(/.test(s)){var a=s.slice(5,s.length-1);f.gradientDefs[a]&&t[n].set("fill",f.Gradient.fromElement(f.gradientDefs[a],i,t[n]))}}}function r(t,e,i){function n(){0===--o&&(r=r.filter(function(t){return null!=t}),a(r),e(r))}for(var s,r=Array(t.length),o=t.length,l=0,c=t.length;c>l;l++){s=t[l];var h=f[g(s.tagName)];if(h&&h.fromElement)try{h.async?h.fromElement(s,function(t){return function(e){r.splice(t,0,e),n()}}(l),i):(r.splice(l,0,h.fromElement(s,i)),n())}catch(u){f.log(u.message||u)}else n()}}function o(t){for(var e,i=t.getElementsByTagName("style"),n={},s=0,a=i.length;a>s;s++){var r=i[0].textContent;r=r.replace(/\/\*[\s\S]*?\*\//g,""),e=r.match(/[^{]*\{[\s\S]*?\}/g),e=e.map(function(t){return t.trim()}),e.forEach(function(t){var e=t.match(/([\s\S]*?)\s*\{([^}]*)\}/),t=e[1],i=e[2].trim(),s=i.replace(/;$/,"").split(/\s*;\s*/);n[t]||(n[t]={});for(var a=0,r=s.length;r>a;a++){var o=s[a].split(/\s*:\s*/),l=o[0],c=o[1];n[t][l]=c}})}return n}function l(t){var e=t.nodeName,i=t.getAttribute("class"),n=t.getAttribute("id"),s={};for(var a in f.cssRules){var r=i&&new RegExp("^\\."+i).test(a)||n&&new RegExp("^#"+n).test(a)||new RegExp("^"+e).test(a);if(r)for(var o in f.cssRules[a])s[o]=f.cssRules[a][o]}return s}function c(t,e){function i(i){var n=i.responseXML;!n.documentElement&&f.window.ActiveXObject&&i.responseText&&(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(i.responseText.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,""))),n.documentElement&&f.parseSVGDocument(n.documentElement,function(i,n){b.set(t,{objects:f.util.array.invoke(i,"toObject"),options:n}),e(i,n)})}t=t.replace(/^\n\s*/,"").trim(),b.has(t,function(n){n?b.get(t,function(t){var i=h(t);e(i.objects,i.options)}):new f.util.request(t,{method:"get",onComplete:i})})}function h(t){var e=t.objects,i=t.options;return e=e.map(function(t){return f[g(t.type)].fromObject(t)}),{objects:e,options:i}}function u(t,e){t=t.trim();var i;if("undefined"!=typeof DOMParser){var n=new DOMParser;n&&n.parseFromString&&(i=n.parseFromString(t,"text/xml"))}else if(f.window.ActiveXObject){var i=new ActiveXObject("Microsoft.XMLDOM");i.async="false",i.loadXML(t.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,""))}f.parseSVGDocument(i.documentElement,function(t,i){e(t,i)})}function d(t){for(var e="",i=0,n=t.length;n>i;i++)"text"===t[i].type&&t[i].path&&(e+=["@font-face {","font-family: ",t[i].fontFamily,"; ","src: url('",t[i].path,"')","}"].join(""));return e&&(e=["<defs>",'<style type="text/css">',"<![CDATA[",e,"]]>","</style>","</defs>"].join("")),e}var f=t.fabric||(t.fabric={}),p=f.util.object.extend,g=f.util.string.capitalize,m=f.util.object.clone,v={cx:"left",x:"left",cy:"top",y:"top",r:"radius","fill-opacity":"opacity","fill-rule":"fillRule","stroke-width":"strokeWidth",transform:"transformMatrix"};f.parseTransformAttribute=function(){function t(t,e){var i=e[0];t[0]=Math.cos(i),t[1]=Math.sin(i),t[2]=-Math.sin(i),t[3]=Math.cos(i)}function e(t,e){var i=e[0],n=2===e.length?e[1]:e[0];t[0]=i,t[3]=n}function i(t,e){t[2]=e[0]}function n(t,e){t[1]=e[0]}function s(t,e){t[4]=e[0],2===e.length&&(t[5]=e[1])}var a=[1,0,0,1,0,0],r="(?:[-+]?\\d+(?:\\.\\d+)?(?:e[-+]?\\d+)?)",o="(?:\\s+,?\\s*|,\\s*)",l="(?:(skewX)\\s*\\(\\s*("+r+")\\s*\\))",c="(?:(skewY)\\s*\\(\\s*("+r+")\\s*\\))",h="(?:(rotate)\\s*\\(\\s*("+r+")(?:"+o+"("+r+")"+o+"("+r+"))?\\s*\\))",u="(?:(scale)\\s*\\(\\s*("+r+")(?:"+o+"("+r+"))?\\s*\\))",d="(?:(translate)\\s*\\(\\s*("+r+")(?:"+o+"("+r+"))?\\s*\\))",f="(?:(matrix)\\s*\\(\\s*("+r+")"+o+"("+r+")"+o+"("+r+")"+o+"("+r+")"+o+"("+r+")"+o+"("+r+")"+"\\s*\\))",p="(?:"+f+"|"+d+"|"+u+"|"+h+"|"+l+"|"+c+")",g="(?:"+p+"(?:"+o+p+")*"+")",m="^\\s*(?:"+g+"?)\\s*$",v=new RegExp(m),b=new RegExp(p);return function(r){var o=a.concat();return!r||r&&!v.test(r)?o:(r.replace(b,function(a){var r=new RegExp(p).exec(a).filter(function(t){return""!==t&&null!=t}),l=r[1],c=r.slice(2).map(parseFloat);switch(l){case"translate":s(o,c);break;case"rotate":t(o,c);break;case"scale":e(o,c);break;case"skewX":i(o,c);break;case"skewY":n(o,c);break;case"matrix":o=c}}),o)}}(),f.parseSVGDocument=function(){function t(t,e){for(;t&&(t=t.parentNode);)if(e.test(t.nodeName))return!0;return!1}var e=/^(path|circle|polygon|polyline|ellipse|rect|line|image)$/,i="(?:[-+]?\\d+(?:\\.\\d+)?(?:e[-+]?\\d+)?)",n=new RegExp("^\\s*("+i+"+)\\s*,?"+"\\s*("+i+"+)\\s*,?"+"\\s*("+i+"+)\\s*,?"+"\\s*("+i+"+)\\s*"+"$");return function(i,s){if(i){var a=new Date,r=f.util.toArray(i.getElementsByTagName("*"));if(0===r.length){r=i.selectNodes("//*[name(.)!='svg']");for(var l=[],c=0,h=r.length;h>c;c++)l[c]=r[c];r=l}var u=r.filter(function(i){return e.test(i.tagName)&&!t(i,/^(?:pattern|defs)$/)});if(u&&(!u||u.length)){var d,p,g=i.getAttribute("viewBox"),v=i.getAttribute("width"),b=i.getAttribute("height"),y=null,_=null;g&&(g=g.match(n))&&(d=parseInt(g[1],10),p=parseInt(g[2],10),y=parseInt(g[3],10),_=parseInt(g[4],10)),y=v?parseFloat(v):y,_=b?parseFloat(b):_;var x={width:y,height:_};f.gradientDefs=f.getGradientDefs(i),f.cssRules=o(i),f.parseElements(u,function(t){f.documentParsingTime=new Date-a,s&&s(t,x)},m(x))}}}}();var b={has:function(t,e){e(!1)},get:function(){},set:function(){}};p(f,{parseAttributes:i,parseElements:r,parseStyleAttribute:s,parsePointsAttribute:n,getCSSRules:o,loadSVGFromURL:c,loadSVGFromString:u,createSVGFontFacesMarkup:d})}("undefined"!=typeof exports?exports:this),function(){function t(t){var e=t.getAttribute("style");if(e){var i=e.split(/\s*;\s*/);""===i[i.length-1]&&i.pop();for(var n=i.length;n--;){var s=i[n].split(/\s*:\s*/),a=s[0].trim(),r=s[1].trim();if("stop-color"===a)return r}}}function e(t,e){for(var i in e){if("string"==typeof e[i]&&/^\d+%$/.test(e[i])){var n=parseFloat(e[i],10);"x1"===i||"x2"===i?e[i]=t.width*n/100:("y1"===i||"y2"===i)&&(e[i]=t.height*n/100)}"x1"===i||"x2"===i?e[i]-=t.width/2:("y1"===i||"y2"===i)&&(e[i]-=t.height/2)}}function i(t){for(var e,i=t.getElementsByTagName("linearGradient"),n=t.getElementsByTagName("radialGradient"),s={},a=i.length;a--;)e=i[a],s[e.id]=e;for(var a=n.length;a--;)e=n[a],s[e.id]=e;return s}fabric.Gradient={create:function(t,e){e||(e={});var i=e.x1||0,n=e.y1||0,s=e.x2||t.canvas.width,a=e.y2||0,r=e.colorStops,o=t.createLinearGradient(i,n,s,a);for(var l in r){var c=r[l];o.addColorStop(parseFloat(l),c)}return o},fromElement:function(i,n,s){for(var i,a,r=i.getElementsByTagName("stop"),o={},l={x1:i.getAttribute("x1")||0,y1:i.getAttribute("y1")||0,x2:i.getAttribute("x2")||"100%",y2:i.getAttribute("y2")||0},c=r.length;c--;)i=r[c],a=i.getAttribute("offset"),a=parseFloat(a)/(/%$/.test(a)?100:1),o[a]=t(i)||i.getAttribute("stop-color");return e(s,l),fabric.Gradient.create(n,{x1:l.x1,y1:l.y1,x2:l.x2,y2:l.y2,colorStops:o})},forObject:function(t,i,n){n||(n={}),e(t,n);var s=fabric.Gradient.create(i,{x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2,colorStops:n.colorStops});return s}},fabric.getGradientDefs=i}(),function(t){"use strict";function e(t,e){arguments.length>0&&this.init(t,e)}var i=t.fabric||(t.fabric={});return i.Point?(i.warn("fabric.Point is already defined"),void 0):(i.Point=e,e.prototype={constructor:e,init:function(t,e){this.x=t,this.y=e},add:function(t){return new e(this.x+t.x,this.y+t.y)},addEquals:function(t){return this.x+=t.x,this.y+=t.y,this},scalarAdd:function(t){return new e(this.x+t,this.y+t)},scalarAddEquals:function(t){return this.x+=t,this.y+=t,this},subtract:function(t){return new e(this.x-t.x,this.y-t.y)},subtractEquals:function(t){return this.x-=t.x,this.y-=t.y,this},scalarSubtract:function(t){return new e(this.x-t,this.y-t)},scalarSubtractEquals:function(t){return this.x-=t,this.y-=t,this},multiply:function(t){return new e(this.x*t,this.y*t)},multiplyEquals:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return new e(this.x/t,this.y/t)},divideEquals:function(t){return this.x/=t,this.y/=t,this},eq:function(t){return this.x==t.x&&this.y==t.y},lt:function(t){return this.x<t.x&&this.y<t.y},lte:function(t){return this.x<=t.x&&this.y<=t.y},gt:function(t){return this.x>t.x&&this.y>t.y},gte:function(t){return this.x>=t.x&&this.y>=t.y},lerp:function(t,i){return new e(this.x+(t.x-this.x)*i,this.y+(t.y-this.y)*i)},distanceFrom:function(t){var e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)},min:function(t){return new e(Math.min(this.x,t.x),Math.min(this.y,t.y))},max:function(t){return new e(Math.max(this.x,t.x),Math.max(this.y,t.y))},toString:function(){return this.x+","+this.y},setXY:function(t,e){this.x=t,this.y=e},setFromPoint:function(t){this.x=t.x,this.y=t.y},swap:function(t){var e=this.x,i=this.y;this.x=t.x,this.y=t.y,t.x=e,t.y=i}},void 0)}("undefined"!=typeof exports?exports:this),function(t){"use strict";function e(t){arguments.length>0&&this.init(t)}var i=t.fabric||(t.fabric={});return i.Intersection?(i.warn("fabric.Intersection is already defined"),void 0):(i.Intersection=e,i.Intersection.prototype={init:function(t){this.status=t,this.points=[]},appendPoint:function(t){this.points.push(t)},appendPoints:function(t){this.points=this.points.concat(t)}},i.Intersection.intersectLineLine=function(t,n,s,a){var r,o=(a.x-s.x)*(t.y-s.y)-(a.y-s.y)*(t.x-s.x),l=(n.x-t.x)*(t.y-s.y)-(n.y-t.y)*(t.x-s.x),c=(a.y-s.y)*(n.x-t.x)-(a.x-s.x)*(n.y-t.y);if(0!=c){var h=o/c,u=l/c;h>=0&&1>=h&&u>=0&&1>=u?(r=new e("Intersection"),r.points.push(new i.Point(t.x+h*(n.x-t.x),t.y+h*(n.y-t.y)))):r=new e("No Intersection")}else r=0==o||0==l?new e("Coincident"):new e("Parallel");return r},i.Intersection.intersectLinePolygon=function(t,i,n){for(var s=new e("No Intersection"),a=n.length,r=0;a>r;r++){var o=n[r],l=n[(r+1)%a],c=e.intersectLineLine(t,i,o,l);s.appendPoints(c.points)}return s.points.length>0&&(s.status="Intersection"),s},i.Intersection.intersectPolygonPolygon=function(t,i){for(var n=new e("No Intersection"),s=t.length,a=0;s>a;a++){var r=t[a],o=t[(a+1)%s],l=e.intersectLinePolygon(r,o,i);n.appendPoints(l.points)}return n.points.length>0&&(n.status="Intersection"),n},i.Intersection.intersectPolygonRectangle=function(t,n,s){var a=n.min(s),r=n.max(s),o=new i.Point(r.x,a.y),l=new i.Point(a.x,r.y),c=e.intersectLinePolygon(a,o,t),h=e.intersectLinePolygon(o,r,t),u=e.intersectLinePolygon(r,l,t),d=e.intersectLinePolygon(l,a,t),f=new e("No Intersection");return f.appendPoints(c.points),f.appendPoints(h.points),f.appendPoints(u.points),f.appendPoints(d.points),f.points.length>0&&(f.status="Intersection"),f},void 0)}("undefined"!=typeof exports?exports:this),function(t){"use strict";function e(t){t?this._tryParsingColor(t):this.setSource([0,0,0,1])}var i=t.fabric||(t.fabric={});return i.Color?(i.warn("fabric.Color is already defined."),void 0):(i.Color=e,i.Color.prototype={_tryParsingColor:function(t){var i=e.sourceFromHex(t);i||(i=e.sourceFromRgb(t)),i&&this.setSource(i)},getSource:function(){return this._source},setSource:function(t){this._source=t},toRgb:function(){var t=this.getSource();return"rgb("+t[0]+","+t[1]+","+t[2]+")"},toRgba:function(){var t=this.getSource();return"rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]+")"},toHex:function(){var t=this.getSource(),e=t[0].toString(16);e=1==e.length?"0"+e:e;var i=t[1].toString(16);i=1==i.length?"0"+i:i;var n=t[2].toString(16);return n=1==n.length?"0"+n:n,e.toUpperCase()+i.toUpperCase()+n.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(t){var e=this.getSource();return e[3]=t,this.setSource(e),this},toGrayscale:function(){var t=this.getSource(),e=parseInt((.3*t[0]+.59*t[1]+.11*t[2]).toFixed(0),10),i=t[3];return this.setSource([e,e,e,i]),this},toBlackWhite:function(t){var e=this.getSource(),i=(.3*e[0]+.59*e[1]+.11*e[2]).toFixed(0),n=e[3],t=t||127;return i=Number(i)<Number(t)?0:255,this.setSource([i,i,i,n]),this},overlayWith:function(t){t instanceof e||(t=new e(t));for(var i=[],n=this.getAlpha(),s=.5,a=this.getSource(),r=t.getSource(),o=0;3>o;o++)i.push(Math.round(a[o]*(1-s)+r[o]*s));return i[3]=n,this.setSource(i),this}},i.Color.reRGBa=/^rgba?\((\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})(?:\s*,\s*(\d+(?:\.\d+)?))?\)$/,i.Color.reHex=/^#?([0-9a-f]{6}|[0-9a-f]{3})$/i,i.Color.fromRgb=function(t){return e.fromSource(e.sourceFromRgb(t))},i.Color.sourceFromRgb=function(t){var i=t.match(e.reRGBa);return i?[parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10),i[4]?parseFloat(i[4]):1]:void 0},i.Color.fromRgba=e.fromRgb,i.Color.fromHex=function(t){return e.fromSource(e.sourceFromHex(t))},i.Color.sourceFromHex=function(t){if(t.match(e.reHex)){var i=t.slice(t.indexOf("#")+1),n=3===i.length,s=n?i.charAt(0)+i.charAt(0):i.substring(0,2),a=n?i.charAt(1)+i.charAt(1):i.substring(2,4),r=n?i.charAt(2)+i.charAt(2):i.substring(4,6);return[parseInt(s,16),parseInt(a,16),parseInt(r,16),1]}},i.Color.fromSource=function(t){var i=new e;return i.setSource(t),i},void 0)}("undefined"!=typeof exports?exports:this),function(){"use strict";if(fabric.StaticCanvas)return fabric.warn("fabric.StaticCanvas is already defined."),void 0;var t=fabric.util.object.extend,e=fabric.util.getElementOffset,i=fabric.util.removeFromArray,n=fabric.util.removeListener,s=new Error("Could not initialize `canvas` element");fabric.StaticCanvas=function(t,e){e||(e={}),this._initStatic(t,e),fabric.StaticCanvas.activeInstance=this},t(fabric.StaticCanvas.prototype,fabric.Observable),t(fabric.StaticCanvas.prototype,{backgroundColor:"rgba(0, 0, 0, 0)",backgroundImage:"",backgroundImageOpacity:1,backgroundImageStretch:!0,includeDefaultValues:!0,stateful:!0,renderOnAddition:!0,clipTo:null,onBeforeScaleRotate:function(){},onFpsUpdate:null,_initStatic:function(t,e){this._objects=[],this._createLowerCanvas(t),this._initOptions(e),e.overlayImage&&this.setOverlayImage(e.overlayImage,this.renderAll.bind(this)),e.backgroundImage&&this.setBackgroundImage(e.backgroundImage,this.renderAll.bind(this)),this.calcOffset()},calcOffset:function(){return this._offset=e(this.lowerCanvasEl),this},setOverlayImage:function(t,e){return fabric.util.loadImage(t,function(t){this.overlayImage=t,e&&e()},this),this},setBackgroundImage:function(t,e,i){return fabric.util.loadImage(t,function(t){this.backgroundImage=t,i&&"backgroundImageOpacity"in i&&(this.backgroundImageOpacity=i.backgroundImageOpacity),i&&"backgroundImageStretch"in i&&(this.backgroundImageStretch=i.backgroundImageStretch),e&&e()},this)},_createCanvasElement:function(){var t=fabric.document.createElement("canvas");if(t.style||(t.style={}),!t)throw s;return this._initCanvasElement(t),t},_initCanvasElement:function(t){if("undefined"==typeof t.getContext&&"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement&&G_vmlCanvasManager.initElement(t),"undefined"==typeof t.getContext)throw s},_initOptions:function(t){for(var e in t)this[e]=t[e];this.width=parseInt(this.lowerCanvasEl.width,10)||0,this.height=parseInt(this.lowerCanvasEl.height,10)||0,this.lowerCanvasEl.style.width=this.width+"px",this.lowerCanvasEl.style.height=this.height+"px"},_createLowerCanvas:function(t){this.lowerCanvasEl=fabric.util.getById(t)||this._createCanvasElement(),this._initCanvasElement(this.lowerCanvasEl),fabric.util.addClass(this.lowerCanvasEl,"lower-canvas"),this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(t){return this._setDimension("width",t)},setHeight:function(t){return this._setDimension("height",t)},setDimensions:function(t){for(var e in t)this._setDimension(e,t[e]);return this},_setDimension:function(t,e){return this.lowerCanvasEl[t]=e,this.lowerCanvasEl.style[t]=e+"px",this.upperCanvasEl&&(this.upperCanvasEl[t]=e,this.upperCanvasEl.style[t]=e+"px"),this.wrapperEl&&(this.wrapperEl.style[t]=e+"px"),this[t]=e,this.calcOffset(),this.renderAll(),this},getElement:function(){return this.lowerCanvasEl},getActiveObject:function(){return null},getActiveGroup:function(){return null},_draw:function(t,e){e&&e.render(t)},add:function(){this._objects.push.apply(this._objects,arguments);for(var t=arguments.length;t--;)this.stateful&&arguments[t].setupState(),arguments[t].setCoords(),this.fire("object:added",{target:arguments[t]}),arguments[t].fire("added");return this.renderOnAddition&&this.renderAll(),this},insertAt:function(t,e,i){return i?this._objects[e]=t:this._objects.splice(e,0,t),this.stateful&&t.setupState(),t.setCoords(),this.renderAll(),this.fire("object:added",{target:t}),t.fire("added"),this},getObjects:function(){return this._objects},clearContext:function(t){return t.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this._objects.length=0,this.clearContext(this.contextContainer),this.contextTop&&this.clearContext(this.contextTop),this.renderAll(),this},renderAll:function(t){var e=this[t===!0&&this.interactive?"contextTop":"contextContainer"];this.contextTop&&this.clearContext(this.contextTop),(t===!1||"undefined"==typeof t)&&this.clearContext(e);var i=this._objects.length,n=this.getActiveGroup(),s=new Date;if(this.clipTo&&(e.save(),e.beginPath(),this.clipTo(e),e.clip()),e.fillStyle=this.backgroundColor,e.fillRect(0,0,this.width,this.height),"object"==typeof this.backgroundImage&&(e.save(),e.globalAlpha=this.backgroundImageOpacity,this.backgroundImageStretch?e.drawImage(this.backgroundImage,0,0,this.width,this.height):e.drawImage(this.backgroundImage,0,0),e.restore()),i)for(var a=0;i>a;++a)(!n||n&&this._objects[a]&&!n.contains(this._objects[a]))&&this._draw(e,this._objects[a]);if(this.clipTo&&e.restore(),n&&this._draw(this.contextTop,n),this.overlayImage&&(this.contextTop||this.contextContainer).drawImage(this.overlayImage,0,0),this.onFpsUpdate){var r=new Date-s;this.onFpsUpdate(~~(1e3/r))}return this.fire("after:render"),this},renderTop:function(){this.clearContext(this.contextTop||this.contextContainer),this.overlayImage&&(this.contextTop||this.contextContainer).drawImage(this.overlayImage,0,0),this.selection&&this._groupSelector&&this._drawSelection();var t=this.getActiveGroup();return t&&t.render(this.contextTop),this.fire("after:render"),this},toDataURL:function(t){this.renderAll(!0);var e=(this.upperCanvasEl||this.lowerCanvasEl).toDataURL("image/"+t);return this.renderAll(),e},toDataURLWithMultiplier:function(t,e){var i=this.getWidth(),n=this.getHeight(),s=i*e,a=n*e,r=this.getActiveObject(),o=this.getActiveGroup();this.setWidth(s).setHeight(a),this.contextTop.scale(e,e),o?this._tempRemoveBordersCornersFromGroup(o):r&&this.deactivateAll(),this.width=i,this.height=n,this.renderAll(!0);var l=this.toDataURL(t);return this.contextTop.scale(1/e,1/e),this.setWidth(i).setHeight(n),o?this._restoreBordersCornersOnGroup(o):r&&this.setActiveObject(r),this.renderAll(),l},_tempRemoveBordersCornersFromGroup:function(t){t.origHideCorners=t.hideCorners,t.origBorderColor=t.borderColor,t.hideCorners=!0,t.borderColor="rgba(0,0,0,0)",t.forEachObject(function(t){t.origBorderColor=t.borderColor,t.borderColor="rgba(0,0,0,0)"})},_restoreBordersCornersOnGroup:function(t){t.hideCorners=t.origHideCorners,t.borderColor=t.origBorderColor,t.forEachObject(function(t){t.borderColor=t.origBorderColor,delete t.origBorderColor})},getCenter:function(){return{top:this.getHeight()/2,left:this.getWidth()/2}},centerObjectH:function(t){return t.set("left",this.getCenter().left),this.renderAll(),this},centerObjectV:function(t){return t.set("top",this.getCenter().top),this.renderAll(),this},centerObject:function(t){return this.centerObjectH(t).centerObjectV(t)},toDatalessJSON:function(){return this.toDatalessObject()},toObject:function(){return this._toObjectMethod("toObject")},toDatalessObject:function(){return this._toObjectMethod("toDatalessObject")},_toObjectMethod:function(t){var e={objects:this._objects.map(function(e){if(!this.includeDefaultValues){var i=e.includeDefaultValues;e.includeDefaultValues=!1}var n=e[t]();return this.includeDefaultValues||(e.includeDefaultValues=i),n},this),background:this.backgroundColor};return this.backgroundImage&&(e.backgroundImage=this.backgroundImage.src,e.backgroundImageOpacity=this.backgroundImageOpacity,e.backgroundImageStretch=this.backgroundImageStretch),e},toSVG:function(){var t=['<?xml version="1.0" standalone="no" ?>','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN" ','"http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">',"<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',this.width,'" ','height="',this.height,'" ','xml:space="preserve">',"<desc>Created with Fabric.js ",fabric.version,"</desc>",fabric.createSVGFontFacesMarkup(this.getObjects())];this.backgroundImage&&t.push('<image x="0" y="0" ','width="',this.width,'" height="',this.height,'" preserveAspectRatio="',this.backgroundImageStretch?"none":"defer",'" xlink:href="',this.backgroundImage.src,'" style="opacity:',this.backgroundImageOpacity,'"></image>');for(var e=0,i=this.getObjects(),n=i.length;n>e;e++)t.push(i[e].toSVG());return t.push("</svg>"),t.join("")},isEmpty:function(){return 0===this._objects.length},remove:function(t){return i(this._objects,t),this.getActiveObject()===t&&(this.fire("before:selection:cleared",{target:t}),this.discardActiveObject(),this.fire("selection:cleared")),this.renderAll(),t},sendToBack:function(t){return i(this._objects,t),this._objects.unshift(t),this.renderAll()},bringToFront:function(t){return i(this._objects,t),this._objects.push(t),this.renderAll()},sendBackwards:function(t){var e=this._objects.indexOf(t),n=e;if(0!==e){for(var s=e-1;s>=0;--s)if(t.intersectsWithObject(this._objects[s])||t.isContainedWithinObject(this._objects[s])){n=s;break}i(this._objects,t),this._objects.splice(n,0,t)}return this.renderAll()},bringForward:function(t){var e=this.getObjects(),n=e.indexOf(t),s=n;if(n!==e.length-1){for(var a=n+1,r=this._objects.length;r>a;++a)if(t.intersectsWithObject(e[a])||t.isContainedWithinObject(this._objects[a])){s=a;break}i(e,t),e.splice(s,0,t)}this.renderAll()},item:function(t){return this.getObjects()[t]},complexity:function(){return this.getObjects().reduce(function(t,e){return t+=e.complexity?e.complexity():0},0)},forEachObject:function(t,e){for(var i=this.getObjects(),n=i.length;n--;)t.call(e,i[n],n,i);return this},dispose:function(){return this.clear(),this.interactive&&(n(this.upperCanvasEl,"mousedown",this._onMouseDown),n(this.upperCanvasEl,"mousemove",this._onMouseMove),n(fabric.window,"resize",this._onResize)),this},_resizeImageToFit:function(t){var e=t.width||t.offsetWidth,i=this.getWidth()/e;e&&(t.width=e*i)}}),fabric.StaticCanvas.prototype.toString=function(){return"#<fabric.Canvas ("+this.complexity()+"): "+"{ objects: "+this.getObjects().length+" }>"},t(fabric.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',toGrayscale:function(t){var e,i,n,s,a=t.getContext("2d"),r=a.getImageData(0,0,t.width,t.height),o=r.data,l=r.width,c=r.height;for(n=0;l>n;n++)for(s=0;c>s;s++)e=4*n*c+4*s,i=(o[e]+o[e+1]+o[e+2])/3,o[e]=i,o[e+1]=i,o[e+2]=i;a.putImageData(r,0,0)},supports:function(t){var e=fabric.document.createElement("canvas");if("undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(e),!e||!e.getContext)return null;var i=e.getContext("2d");if(!i)return null;switch(t){case"getImageData":return"undefined"!=typeof i.getImageData;case"toDataURL":return"undefined"!=typeof e.toDataURL;default:return null}}}),fabric.StaticCanvas.prototype.toJSON=fabric.StaticCanvas.prototype.toObject}("undefined"!=typeof exports?exports:this),function(){function t(){}var e=fabric.util.object.extend,i=fabric.util.getPointer,n=fabric.util.addListener,s=fabric.util.removeListener,a={tr:"ne-resize",br:"se-resize",bl:"sw-resize",tl:"nw-resize",ml:"w-resize",mt:"n-resize",mr:"e-resize",mb:"s-resize"},r=fabric.util.array.min,o=fabric.util.array.max,l=Math.sqrt,c=Math.pow,h=Math.atan2,u=Math.abs,d=Math.min,f=Math.max,p=.5;fabric.Canvas=function(t,e){e||(e={}),this._initStatic(t,e),this._initInteractive(),fabric.Canvas.activeInstance=this},t.prototype=fabric.StaticCanvas.prototype,fabric.Canvas.prototype=new t;var g={interactive:!0,selection:!0,selectionColor:"rgba(100, 100, 255, 0.3)",selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,freeDrawingColor:"rgb(0, 0, 0)",freeDrawingLineWidth:1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",rotationCursor:"crosshair",containerClass:"canvas-container",_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._freeDrawingXPoints=[],this._freeDrawingYPoints=[],this._initWrapperElement(),this._createUpperCanvas(),this._initEvents(),this.calcOffset()},_initEvents:function(){var t=this;this._onMouseDown=function(e){t.__onMouseDown(e),n(fabric.document,"mouseup",t._onMouseUp),fabric.isTouchSupported&&n(fabric.document,"touchend",t._onMouseUp),n(fabric.document,"mousemove",t._onMouseMove),fabric.isTouchSupported&&n(fabric.document,"touchmove",t._onMouseMove),s(t.upperCanvasEl,"mousemove",t._onMouseMove),fabric.isTouchSupported&&s(t.upperCanvasEl,"touchmove",t._onMouseMove)},this._onMouseUp=function(e){t.__onMouseUp(e),s(fabric.document,"mouseup",t._onMouseUp),fabric.isTouchSupported&&s(fabric.document,"touchend",t._onMouseUp),s(fabric.document,"mousemove",t._onMouseMove),fabric.isTouchSupported&&s(fabric.document,"touchmove",t._onMouseMove),n(t.upperCanvasEl,"mousemove",t._onMouseMove),fabric.isTouchSupported&&n(t.upperCanvasEl,"touchmove",t._onMouseMove)},this._onMouseMove=function(e){e.preventDefault&&e.preventDefault(),t.__onMouseMove(e)},this._onResize=function(){t.calcOffset()},n(fabric.window,"resize",this._onResize),fabric.isTouchSupported?(n(this.upperCanvasEl,"touchstart",this._onMouseDown),n(this.upperCanvasEl,"touchmove",this._onMouseMove)):(n(this.upperCanvasEl,"mousedown",this._onMouseDown),n(this.upperCanvasEl,"mousemove",this._onMouseMove))},__onMouseUp:function(t){if(this.isDrawingMode&&this._isCurrentlyDrawing)return this._finalizeDrawingPath(),this.fire("mouse:up",{e:t}),void 0;if(this._currentTransform){var e=this._currentTransform,i=e.target;i._scaling&&(i._scaling=!1);for(var n=this._objects.length;n--;)this._objects[n].setCoords();this.stateful&&i.hasStateChanged()&&(i.isMoving=!1,this.fire("object:modified",{target:i}),i.fire("modified"))}this._currentTransform=null,this._groupSelector&&this._findSelectedObjects(t);var s=this.getActiveGroup();s&&(s.setObjectsCoords(),s.set("isMoving",!1),this._setCursor(this.defaultCursor)),this._groupSelector=null,this.renderAll(),this._setCursorFromEvent(t,i),this._setCursor("");var a=this;setTimeout(function(){a._setCursorFromEvent(t,i)},50),this.fire("mouse:up",{target:i,e:t}),i&&i.fire("mouseup",{e:t})},__onMouseDown:function(t){var e="which"in t?1==t.which:1==t.button;if(e||fabric.isTouchSupported){if(this.isDrawingMode)return this._prepareForDrawing(t),this._captureDrawingPath(t),this.fire("mouse:down",{e:t}),void 0;if(!this._currentTransform){var i,n=this.findTarget(t),s=this.getPointer(t),a=this.getActiveGroup();if(this._shouldClearSelection(t))this._groupSelector={ex:s.x,ey:s.y,top:0,left:0},this.deactivateAllWithDispatch();else{this.stateful&&n.saveState(),(i=n._findTargetCorner(t,this._offset))&&this.onBeforeScaleRotate(n),this._setupCurrentTransform(t,n);var r=t.shiftKey&&(a||this.getActiveObject())&&this.selection;r?this._handleGroupLogic(t,n):(n!==this.getActiveGroup()&&this.deactivateAll(),this.setActiveObject(n,t))}this.renderAll(),this.fire("mouse:down",{target:n,e:t}),n&&n.fire("mousedown",{e:t})}}},__onMouseMove:function(t){if(this.isDrawingMode)return this._isCurrentlyDrawing&&this._captureDrawingPath(t),this.fire("mouse:move",{e:t}),void 0;var e=this._groupSelector;if(null!==e){var n=i(t);e.left=n.x-this._offset.left-e.ex,e.top=n.y-this._offset.top-e.ey,this.renderTop()}else if(this._currentTransform){var n=i(t),s=n.x,a=n.y;this._currentTransform.target.isMoving=!0,"rotate"===this._currentTransform.action?(t.shiftKey||(this._rotateObject(s,a),this.fire("object:rotating",{target:this._currentTransform.target}),this._currentTransform.target.fire("rotating")),this._currentTransform.target.hasRotatingPoint||(this._scaleObject(s,a),this.fire("object:scaling",{target:this._currentTransform.target}),this._currentTransform.target.fire("scaling"))):"scale"===this._currentTransform.action?(this._scaleObject(s,a),this.fire("object:scaling",{target:this._currentTransform.target}),this._currentTransform.target.fire("scaling")):"scaleX"===this._currentTransform.action?(this._scaleObject(s,a,"x"),this.fire("object:scaling",{target:this._currentTransform.target}),this._currentTransform.target.fire("scaling")):"scaleY"===this._currentTransform.action?(this._scaleObject(s,a,"y"),this.fire("object:scaling",{target:this._currentTransform.target}),this._currentTransform.target.fire("scaling")):(this._translateObject(s,a),this.fire("object:moving",{target:this._currentTransform.target}),this._setCursor(this.moveCursor),this._currentTransform.target.fire("moving")),this.renderAll()
}else{var r=this.upperCanvasEl.style,o=this.findTarget(t);if(o)this._setCursorFromEvent(t,o),o.isActive()&&o.setCornersVisibility&&o.setCornersVisibility(!0);else{for(var l=this._objects.length;l--;)this._objects[l]&&!this._objects[l].active&&this._objects[l].setActive(!1);r.cursor=this.defaultCursor}}this.fire("mouse:move",{target:o,e:t}),o&&o.fire("mousemove",{e:t})},containsPoint:function(t,e){var i=this.getPointer(t),n=this._normalizePointer(e,i),s=n.x,a=n.y,r=e._getImageLines(e.oCoords),o=e._findCrossPoints(s,a,r);return o&&1===o%2||e._findTargetCorner(t,this._offset)?!0:!1},_normalizePointer:function(t,e){var i=this.getActiveGroup(),n=e.x,s=e.y,a=i&&"group"!==t.type&&i.contains(t);return a&&(n-=i.left,s-=i.top),{x:n,y:s}},_shouldClearSelection:function(t){var e=this.findTarget(t),i=this.getActiveGroup();return!e||e&&i&&!i.contains(e)&&i!==e&&!t.shiftKey},_setupCurrentTransform:function(t,e){var n,s="drag",a=i(t);(n=e._findTargetCorner(t,this._offset))&&(s="ml"===n||"mr"===n?"scaleX":"mt"===n||"mb"===n?"scaleY":"mtr"===n?"rotate":e.hasRotatingPoint?"scale":"rotate"),this._currentTransform={target:e,action:s,scaleX:e.scaleX,scaleY:e.scaleY,offsetX:a.x-e.left,offsetY:a.y-e.top,ex:a.x,ey:a.y,left:e.left,top:e.top,theta:e.theta,width:e.width*e.scaleX},this._currentTransform.original={left:e.left,top:e.top}},_handleGroupLogic:function(t,e){if(e!==this.getActiveGroup()||(e=this.findTarget(t,!0),e&&!e.isType("group"))){var i=this.getActiveGroup();if(i)i.contains(e)?(i.removeWithUpdate(e),e.setActive(!1),1===i.size()&&this.discardActiveGroup()):i.addWithUpdate(e),this.fire("selection:created",{target:i,e:t}),i.setActive(!0);else{if(this._activeObject&&e!==this._activeObject){var n=new fabric.Group([this._activeObject,e]);this.setActiveGroup(n),i=this.getActiveGroup()}e.setActive(!0)}i&&i.saveCoords()}},_prepareForDrawing:function(t){this._isCurrentlyDrawing=!0,this.discardActiveObject().renderAll();var e=this.getPointer(t);this._freeDrawingXPoints.length=this._freeDrawingYPoints.length=0,this._freeDrawingXPoints.push(e.x),this._freeDrawingYPoints.push(e.y),this.contextTop.beginPath(),this.contextTop.moveTo(e.x,e.y),this.contextTop.strokeStyle=this.freeDrawingColor,this.contextTop.lineWidth=this.freeDrawingLineWidth,this.contextTop.lineCap=this.contextTop.lineJoin="round"},_captureDrawingPath:function(t){var e=this.getPointer(t);this._freeDrawingXPoints.push(e.x),this._freeDrawingYPoints.push(e.y),this.contextTop.lineTo(e.x,e.y),this.contextTop.stroke()},_finalizeDrawingPath:function(){this.contextTop.closePath(),this._isCurrentlyDrawing=!1;var t,e,i=r(this._freeDrawingXPoints),n=r(this._freeDrawingYPoints),s=o(this._freeDrawingXPoints),a=o(this._freeDrawingYPoints),l=(this.contextTop,[]),c=this._freeDrawingXPoints,h=this._freeDrawingYPoints;l.push("M ",c[0]-i," ",h[0]-n," ");for(var u=1;t=c[u],e=h[u];u++)l.push("L ",t-i," ",e-n," ");if(l=l.join(""),"M 0 0 L 0 0 "!==l){var d=new fabric.Path(l);d.fill=null,d.stroke=this.freeDrawingColor,d.strokeWidth=this.freeDrawingLineWidth,this.add(d),d.set("left",i+(s-i)/2).set("top",n+(a-n)/2).setCoords(),this.renderAll(),this.fire("path:created",{path:d})}},_translateObject:function(t,e){var i=this._currentTransform.target;i.lockMovementX||i.set("left",t-this._currentTransform.offsetX),i.lockMovementY||i.set("top",e-this._currentTransform.offsetY)},_scaleObject:function(t,e,i){var n=this._currentTransform,s=this._offset,a=n.target;if(!a.lockScalingX||!a.lockScalingY){var r=l(c(n.ey-n.top-s.top,2)+c(n.ex-n.left-s.left,2)),o=l(c(e-n.top-s.top,2)+c(t-n.left-s.left,2));a._scaling=!0,i?"x"!==i||a.lockUniScaling?"y"!==i||a.lockUniScaling||a.lockScalingY||a.set("scaleY",n.scaleY*o/r):a.lockScalingX||a.set("scaleX",n.scaleX*o/r):(a.lockScalingX||a.set("scaleX",n.scaleX*o/r),a.lockScalingY||a.set("scaleY",n.scaleY*o/r))}},_rotateObject:function(t,e){var i=this._currentTransform,n=this._offset;if(!i.target.lockRotation){var s=h(i.ey-i.top-n.top,i.ex-i.left-n.left),a=h(e-i.top-n.top,t-i.left-n.left);i.target.set("theta",a-s+i.theta)}},_setCursor:function(t){this.upperCanvasEl.style.cursor=t},_setCursorFromEvent:function(t,e){var i=this.upperCanvasEl.style;if(!e)return i.cursor=this.defaultCursor,!1;var n=this.getActiveGroup(),s=!(!e._findTargetCorner||n&&n.contains(e)||!e._findTargetCorner(t,this._offset));if(s)if(s in a)i.cursor=a[s];else{if("mtr"!==s||!e.hasRotatingPoint)return i.cursor=this.defaultCursor,!1;i.cursor=this.rotationCursor}else i.cursor=this.hoverCursor;return!0},_drawSelection:function(){var t=this._groupSelector,e=t.left,i=t.top,n=u(e),s=u(i);this.contextTop.fillStyle=this.selectionColor,this.contextTop.fillRect(t.ex-(e>0?0:-e),t.ey-(i>0?0:-i),n,s),this.contextTop.lineWidth=this.selectionLineWidth,this.contextTop.strokeStyle=this.selectionBorderColor,this.contextTop.strokeRect(t.ex+p-(e>0?0:n),t.ey+p-(i>0?0:s),n,s)},_findSelectedObjects:function(t){for(var e,i=[],n=this._groupSelector.ex,s=this._groupSelector.ey,a=n+this._groupSelector.left,r=s+this._groupSelector.top,o=new fabric.Point(d(n,a),d(s,r)),l=new fabric.Point(f(n,a),f(s,r)),c=0,h=this._objects.length;h>c;++c)e=this._objects[c],e&&(e.intersectsWithRect(o,l)||e.isContainedWithinRect(o,l))&&this.selection&&e.selectable&&(e.setActive(!0),i.push(e));if(1===i.length)this.setActiveObject(i[0],t);else if(i.length>1){var i=new fabric.Group(i);this.setActiveGroup(i),i.saveCoords(),this.fire("selection:created",{target:i})}this.renderAll()},findTarget:function(t,e){var i;this.getPointer(t);var n=this.getActiveGroup();if(n&&!e&&this.containsPoint(t,n))return i=n;for(var s=this._objects.length;s--;)if(this._objects[s]&&this.containsPoint(t,this._objects[s])){i=this._objects[s],this.relatedTarget=i;break}return i&&i.selectable?i:void 0},getPointer:function(t){var e=i(t);return{x:e.x-this._offset.left,y:e.y-this._offset.top}},_createUpperCanvas:function(){this.upperCanvasEl=this._createCanvasElement(),this.upperCanvasEl.className="upper-canvas",this.wrapperEl.appendChild(this.upperCanvasEl),this._applyCanvasStyle(this.upperCanvasEl),this.contextTop=this.upperCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=fabric.util.wrapElement(this.lowerCanvasEl,"div",{"class":this.containerClass}),fabric.util.setStyle(this.wrapperEl,{width:this.getWidth()+"px",height:this.getHeight()+"px",position:"relative"}),fabric.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(t){var e=this.getWidth()||t.width,i=this.getHeight()||t.height;fabric.util.setStyle(t,{position:"absolute",width:e+"px",height:i+"px",left:0,top:0}),t.width=e,t.height=i,fabric.util.makeElementUnselectable(t)},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},setActiveObject:function(t,e){return this._activeObject&&this._activeObject.setActive(!1),this._activeObject=t,t.setActive(!0),this.renderAll(),this.fire("object:selected",{target:t,e:e}),t.fire("selected",{e:e}),this},getActiveObject:function(){return this._activeObject},discardActiveObject:function(){return this._activeObject&&this._activeObject.setActive(!1),this._activeObject=null,this},setActiveGroup:function(t){return this._activeGroup=t,t&&t.setActive(!0),this},getActiveGroup:function(){return this._activeGroup},discardActiveGroup:function(){var t=this.getActiveGroup();return t&&t.destroy(),this.setActiveGroup(null)},deactivateAll:function(){for(var t=this.getObjects(),e=0,i=t.length;i>e;e++)t[e].setActive(!1);return this.discardActiveGroup(),this.discardActiveObject(),this},deactivateAllWithDispatch:function(){var t=this.getActiveGroup()||this.getActiveObject();return t&&this.fire("before:selection:cleared",{target:t}),this.deactivateAll(),t&&this.fire("selection:cleared"),this}};fabric.Canvas.prototype.toString=fabric.StaticCanvas.prototype.toString,e(fabric.Canvas.prototype,g);for(var m in fabric.StaticCanvas)"prototype"!==m&&(fabric.Canvas[m]=fabric.StaticCanvas[m]);fabric.isTouchSupported&&(fabric.Canvas.prototype._setCursorFromEvent=function(){}),fabric.Element=fabric.Canvas}(),fabric.util.object.extend(fabric.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(t,e){e=e||{};var i=function(){},n=e.onComplete||i,s=e.onChange||i,a=this;return fabric.util.animate({startValue:t.get("left"),endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(e){t.set("left",e),a.renderAll(),s()},onComplete:function(){t.setCoords(),n()}}),this},fxCenterObjectV:function(t,e){e=e||{};var i=function(){},n=e.onComplete||i,s=e.onChange||i,a=this;return fabric.util.animate({startValue:t.get("top"),endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(e){t.set("top",e),a.renderAll(),s()},onComplete:function(){t.setCoords(),n()}}),this},fxRemove:function(t,e){e=e||{};var i=function(){},n=e.onComplete||i,s=e.onChange||i,a=this;return fabric.util.animate({startValue:t.get("opacity"),endValue:0,duration:this.FX_DURATION,onStart:function(){t.setActive(!1)},onChange:function(e){t.set("opacity",e),a.renderAll(),s()},onComplete:function(){a.remove(t),n()}}),this}}),fabric.util.object.extend(fabric.StaticCanvas.prototype,{loadFromDatalessJSON:function(t,e){if(t){var i="string"==typeof t?JSON.parse(t):t;!i||i&&!i.objects||(this.clear(),this.backgroundColor=i.background,this._enlivenDatalessObjects(i.objects,e))}},_enlivenDatalessObjects:function(t,e){function i(t,i){n.insertAt(t,i,!0),t.setCoords(),++s===a&&e&&e()}var n=this,s=0,a=t.length;0===a&&e&&e();try{t.forEach(function(t,e){var n=t.paths?"paths":"path",s=t[n];if(delete t[n],"string"!=typeof s)switch(t.type){case"image":fabric[fabric.util.string.capitalize(t.type)].fromObject(t,function(t){i(t,e)});break;default:var a=fabric[fabric.util.string.camelize(fabric.util.string.capitalize(t.type))];a&&a.fromObject&&(s&&(t[n]=s),i(a.fromObject(t),e))}else if("image"===t.type)fabric.util.loadImage(s,function(n){var a=new fabric.Image(n);a.setSourcePath(s),fabric.util.object.extend(a,t),a.setAngle(t.angle),i(a,e)});else if("text"===t.type){t.path=s;var r=fabric.Text.fromObject(t),o=function(){"[object Opera]"===Object.prototype.toString.call(fabric.window.opera)?setTimeout(function(){i(r,e)},500):i(r,e)};fabric.util.getScript(s,o)}else fabric.loadSVGFromURL(s,function(n){var a=fabric.util.groupSVGElements(n,t,s);a instanceof fabric.PathGroup||(fabric.util.object.extend(a,t),"undefined"!=typeof t.angle&&a.setAngle(t.angle)),i(a,e)})},this)}catch(r){fabric.log(r.message)}},loadFromJSON:function(t,e){if(t){var i=JSON.parse(t);if(i&&(!i||i.objects)){this.clear();var n=this;return this._enlivenObjects(i.objects,function(){n.backgroundColor=i.background,i.backgroundImage?n.setBackgroundImage(i.backgroundImage,function(){n.backgroundImageOpacity=i.backgroundImageOpacity,n.backgroundImageStretch=i.backgroundImageStretch,n.renderAll(),e&&e()}):e&&e()}),this}}},_enlivenObjects:function(t,e){var i=this;fabric.util.enlivenObjects(t,function(t){t.forEach(function(t,e){i.insertAt(t,e,!0)}),e&&e()})},_toDataURL:function(t,e){this.clone(function(i){e(i.toDataURL(t))})},_toDataURLWithMultiplier:function(t,e,i){this.clone(function(n){i(n.toDataURLWithMultiplier(t,e))})},clone:function(t){var e=JSON.stringify(this);this.cloneWithoutData(function(i){i.loadFromJSON(e,function(){t&&t(i)})})},cloneWithoutData:function(t){var e=fabric.document.createElement("canvas");e.width=this.getWidth(),e.height=this.getHeight();var i=new fabric.Canvas(e);i.clipTo=this.clipTo,this.backgroundImage?(i.setBackgroundImage(this.backgroundImage.src,function(){i.renderAll(),t&&t(i)}),i.backgroundImageOpacity=this.backgroundImageOpacity,i.backgroundImageStretch=this.backgroundImageStretch):t&&t(i)}}),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=(e.util.object.clone,e.util.toFixed),s=e.util.string.capitalize,a=e.util.getPointer,r=e.util.degreesToRadians,o=Array.prototype.slice;if(!e.Object){e.Object=e.util.createClass({type:"object",includeDefaultValues:!0,NUM_FRACTION_DIGITS:2,MIN_SCALE_LIMIT:.1,stateProperties:"top left width height scaleX scaleY flipX flipY theta angle opacity cornersize fill overlayFill stroke strokeWidth fillRule borderScaleFactor transformMatrix selectable".split(" "),top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,theta:0,opacity:1,angle:0,cornersize:12,padding:0,borderColor:"rgba(102,153,255,0.75)",cornerColor:"rgba(102,153,255,0.5)",fill:"rgb(0,0,0)",fillRule:"source-over",overlayFill:null,stroke:null,strokeWidth:1,borderOpacityWhenMoving:.4,borderScaleFactor:1,transformMatrix:null,selectable:!0,hasControls:!0,hasBorders:!0,hasRotatingPoint:!1,rotatingPointOffset:40,callSuper:function(t){var e=this.constructor.superclass.prototype[t];return arguments.length>1?e.apply(this,o.call(arguments,1)):e.call(this)},initialize:function(t){t&&this.setOptions(t)},setOptions:function(t){for(var e,i=this.stateProperties.length;i--;)e=this.stateProperties[i],e in t&&this.set(e,t[e])},transform:function(t){t.globalAlpha=this.opacity,t.translate(this.left,this.top),t.rotate(this.theta),t.scale(this.scaleX*(this.flipX?-1:1),this.scaleY*(this.flipY?-1:1))},toObject:function(){var t={type:this.type,left:n(this.left,this.NUM_FRACTION_DIGITS),top:n(this.top,this.NUM_FRACTION_DIGITS),width:n(this.width,this.NUM_FRACTION_DIGITS),height:n(this.height,this.NUM_FRACTION_DIGITS),fill:this.fill,overlayFill:this.overlayFill,stroke:this.stroke,strokeWidth:this.strokeWidth,scaleX:n(this.scaleX,this.NUM_FRACTION_DIGITS),scaleY:n(this.scaleY,this.NUM_FRACTION_DIGITS),angle:n(this.getAngle(),this.NUM_FRACTION_DIGITS),flipX:this.flipX,flipY:this.flipY,opacity:n(this.opacity,this.NUM_FRACTION_DIGITS),selectable:this.selectable,hasControls:this.hasControls,hasBorders:this.hasBorders,hasRotatingPoint:this.hasRotatingPoint};return this.includeDefaultValues||(t=this._removeDefaultValues(t)),t},toDatalessObject:function(){return this.toObject()},getSvgStyles:function(){return["stroke: ",this.stroke?this.stroke:"none","; ","stroke-width: ",this.strokeWidth?this.strokeWidth:"0","; ","fill: ",this.fill?this.fill:"none","; ","opacity: ",this.opacity?this.opacity:"1",";"].join("")},getSvgTransform:function(){var t=this.getAngle();return["translate(",n(this.left,2)," ",n(this.top,2),")",0!==t?" rotate("+n(t,2)+")":"",1===this.scaleX&&1===this.scaleY?"":" scale("+n(this.scaleX,2)+" "+n(this.scaleY,2)+")"].join("")},_removeDefaultValues:function(t){var i=e.Object.prototype.options;return i&&this.stateProperties.forEach(function(e){t[e]===i[e]&&delete t[e]}),t},isActive:function(){return!!this.active},setActive:function(t){return this.active=!!t,this},toString:function(){return"#<fabric."+s(this.type)+">"},set:function(t,e){var i=("scaleX"===t||"scaleY"===t)&&e<this.MIN_SCALE_LIMIT;if(i&&(e=this.MIN_SCALE_LIMIT),"object"==typeof t)for(var n in t)this.set(n,t[n]);else"angle"===t?this.setAngle(e):this[t]=e;return this},toggle:function(t){var e=this.get(t);return"boolean"==typeof e&&this.set(t,!e),this},setSourcePath:function(t){return this.sourcePath=t,this},get:function(t){return"angle"===t?this.getAngle():this[t]},render:function(t,e){if(0!==this.width&&0!==this.height){t.save();var i=this.transformMatrix;i&&t.setTransform(i[0],i[1],i[2],i[3],i[4],i[5]),e||this.transform(t),this.stroke&&(t.lineWidth=this.strokeWidth,t.strokeStyle=this.stroke),this.overlayFill?t.fillStyle=this.overlayFill:this.fill&&(t.fillStyle=this.fill),this._render(t,e),this.active&&!e&&(this.drawBorders(t),this.hideCorners||this.drawCorners(t)),t.restore()}},getWidth:function(){return this.width*this.scaleX},getHeight:function(){return this.height*this.scaleY},scale:function(t){return this.scaleX=t,this.scaleY=t,this},scaleToWidth:function(t){return this.scale(t/this.width)},scaleToHeight:function(t){return this.scale(t/this.height)},setOpacity:function(t){return this.set("opacity",t),this},getAngle:function(){return 180*this.theta/Math.PI},setAngle:function(t){return this.theta=t/180*Math.PI,this.angle=t,this},setCoords:function(){this.currentWidth=this.width*this.scaleX,this.currentHeight=this.height*this.scaleY,this._hypotenuse=Math.sqrt(Math.pow(this.currentWidth/2,2)+Math.pow(this.currentHeight/2,2)),this._angle=Math.atan(this.currentHeight/this.currentWidth);var t=Math.cos(this._angle+this.theta)*this._hypotenuse,e=Math.sin(this._angle+this.theta)*this._hypotenuse,i=this.theta,n=Math.sin(i),s=Math.cos(i),a={x:this.left-t,y:this.top-e},r={x:a.x+this.currentWidth*s,y:a.y+this.currentWidth*n},o={x:r.x-this.currentHeight*n,y:r.y+this.currentHeight*s},l={x:a.x-this.currentHeight*n,y:a.y+this.currentHeight*s},c={x:a.x-this.currentHeight/2*n,y:a.y+this.currentHeight/2*s},h={x:a.x+this.currentWidth/2*s,y:a.y+this.currentWidth/2*n},u={x:r.x-this.currentHeight/2*n,y:r.y+this.currentHeight/2*s},d={x:l.x+this.currentWidth/2*s,y:l.y+this.currentWidth/2*n},f={x:a.x+this.currentWidth/2*s,y:a.y+this.currentWidth/2*n};return this.oCoords={tl:a,tr:r,br:o,bl:l,ml:c,mt:h,mr:u,mb:d,mtr:f},this._setCornerCoords(),this},getBoundingRectWidth:function(){var t=[this.oCoords.tl.x,this.oCoords.tr.x,this.oCoords.br.x,this.oCoords.bl.x],i=e.util.array.min(t),n=e.util.array.max(t);return Math.abs(i-n)},getBoundingRectHeight:function(){var t=[this.oCoords.tl.y,this.oCoords.tr.y,this.oCoords.br.y,this.oCoords.bl.y],i=e.util.array.min(t),n=e.util.array.max(t);return Math.abs(i-n)},drawBorders:function(t){if(this.hasBorders){var e=this.padding,i=2*e;t.save(),t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,t.strokeStyle=this.borderColor;var n=1/(this.scaleX<this.MIN_SCALE_LIMIT?this.MIN_SCALE_LIMIT:this.scaleX),s=1/(this.scaleY<this.MIN_SCALE_LIMIT?this.MIN_SCALE_LIMIT:this.scaleY);t.lineWidth=1/this.borderScaleFactor,t.scale(n,s);var a=this.getWidth(),r=this.getHeight();if(t.strokeRect(~~(-(a/2)-e)+.5,~~(-(r/2)-e)+.5,~~(a+i),~~(r+i)),this.hasRotatingPoint&&!this.hideCorners&&!this.lockRotation){var o=(this.flipY?r:-r)/2;t.beginPath(),t.moveTo(0,o),t.lineTo(0,o+(this.flipY?this.rotatingPointOffset:-this.rotatingPointOffset)),t.closePath(),t.stroke()}return t.restore(),this}},drawCorners:function(t){if(this.hasControls){var e,i,n=this.cornersize,s=n/2,a=this.padding,r=-(this.width/2),o=-(this.height/2),l=n/this.scaleX,c=n/this.scaleY,h=(a+s)/this.scaleY,u=(a+s)/this.scaleX,d=(a+s-n)/this.scaleX,f=(a+s-n)/this.scaleY,p=this.height;return t.save(),t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,t.fillStyle=this.cornerColor,e=r-u,i=o-h,t.fillRect(e,i,l,c),e=r+this.width-u,i=o-h,t.fillRect(e,i,l,c),e=r-u,i=o+p+f,t.fillRect(e,i,l,c),e=r+this.width+d,i=o+p+f,t.fillRect(e,i,l,c),e=r+this.width/2-u,i=o-h,t.fillRect(e,i,l,c),e=r+this.width/2-u,i=o+p+f,t.fillRect(e,i,l,c),e=r+this.width+d,i=o+p/2-h,t.fillRect(e,i,l,c),e=r-u,i=o+p/2-h,t.fillRect(e,i,l,c),this.hasRotatingPoint&&(e=r+this.width/2-u,i=this.flipY?o+p+this.rotatingPointOffset/this.scaleY-c/2:o-this.rotatingPointOffset/this.scaleY-c/2,t.fillRect(e,i,l,c)),t.restore(),this}},clone:function(t){return this.constructor.fromObject?this.constructor.fromObject(this.toObject(),t):new e.Object(this.toObject())},cloneAsImage:function(t){if(e.Image){var i=new Image;i.onload=function(){t&&t(new e.Image(i),n),i=i.onload=null};var n={angle:this.get("angle"),flipX:this.get("flipX"),flipY:this.get("flipY")};this.set("angle",0).set("flipX",!1).set("flipY",!1),this.toDataURL(function(t){i.src=t})}return this},toDataURL:function(t){function i(e){e.left=n.width/2,e.top=n.height/2,e.setActive(!1),s.add(e);var i=s.toDataURL("png");s.dispose(),s=e=null,t&&t(i)}var n=e.document.createElement("canvas");n.getContext||"undefined"==typeof G_vmlCanvasManager||G_vmlCanvasManager.initElement(n),this.setCoords(),n.width=this.getBoundingRectWidth(),n.height=this.getBoundingRectHeight(),e.util.wrapElement(n,"div");var s=new e.Canvas(n);s.backgroundColor="transparent",s.renderAll(),this.constructor.async?this.clone(i):i(this.clone())},hasStateChanged:function(){return this.stateProperties.some(function(t){return this[t]!==this.originalState[t]},this)},saveState:function(){return this.stateProperties.forEach(function(t){this.originalState[t]=this.get(t)},this),this},setupState:function(){this.originalState={},this.saveState()},intersectsWithRect:function(t,i){var n=this.oCoords,s=new e.Point(n.tl.x,n.tl.y),a=new e.Point(n.tr.x,n.tr.y),r=new e.Point(n.bl.x,n.bl.y),o=new e.Point(n.br.x,n.br.y),l=e.Intersection.intersectPolygonRectangle([s,a,o,r],t,i);return"Intersection"===l.status},intersectsWithObject:function(t){function i(t){return{tl:new e.Point(t.tl.x,t.tl.y),tr:new e.Point(t.tr.x,t.tr.y),bl:new e.Point(t.bl.x,t.bl.y),br:new e.Point(t.br.x,t.br.y)}}var n=i(this.oCoords),s=i(t.oCoords),a=e.Intersection.intersectPolygonPolygon([n.tl,n.tr,n.br,n.bl],[s.tl,s.tr,s.br,s.bl]);return"Intersection"===a.status},isContainedWithinObject:function(t){return this.isContainedWithinRect(t.oCoords.tl,t.oCoords.br)},isContainedWithinRect:function(t,i){var n=this.oCoords,s=new e.Point(n.tl.x,n.tl.y),a=new e.Point(n.tr.x,n.tr.y),r=new e.Point(n.bl.x,n.bl.y);return new e.Point(n.br.x,n.br.y),s.x>t.x&&a.x<i.x&&s.y>t.y&&r.y<i.y},isType:function(t){return this.type===t},_findTargetCorner:function(t,e){if(!this.hasControls)return!1;var i,n,s=a(t),r=s.x-e.left,o=s.y-e.top;for(var l in this.oCoords){if("mtr"===l&&!this.hasRotatingPoint)return!1;if(n=this._getImageLines(this.oCoords[l].corner,l),i=this._findCrossPoints(r,o,n),1==i%2&&0!=i)return this.__corner=l,l}return!1},_findCrossPoints:function(t,e,i){var n,s,a,r,o,l,c,h=0;for(var u in i)if(c=i[u],!(c.o.y<e&&c.d.y<e||c.o.y>=e&&c.d.y>=e||(c.o.x==c.d.x&&c.o.x>=t?(o=c.o.x,l=e):(n=0,s=(c.d.y-c.o.y)/(c.d.x-c.o.x),a=e-n*t,r=c.o.y-s*c.o.x,o=-(a-r)/(n-s),l=a+n*o),o>=t&&(h+=1),2!=h)))break;return h},_getImageLines:function(t){return{topline:{o:t.tl,d:t.tr},rightline:{o:t.tr,d:t.br},bottomline:{o:t.br,d:t.bl},leftline:{o:t.bl,d:t.tl}}},_setCornerCoords:function(){var t=this.oCoords,e=r(45-this.getAngle()),i=Math.sqrt(2*Math.pow(this.cornersize,2))/2,n=i*Math.cos(e),s=i*Math.sin(e),a=Math.sin(this.theta),o=Math.cos(this.theta);t.tl.corner={tl:{x:t.tl.x-s,y:t.tl.y-n},tr:{x:t.tl.x+n,y:t.tl.y-s},bl:{x:t.tl.x-n,y:t.tl.y+s},br:{x:t.tl.x+s,y:t.tl.y+n}},t.tr.corner={tl:{x:t.tr.x-s,y:t.tr.y-n},tr:{x:t.tr.x+n,y:t.tr.y-s},br:{x:t.tr.x+s,y:t.tr.y+n},bl:{x:t.tr.x-n,y:t.tr.y+s}},t.bl.corner={tl:{x:t.bl.x-s,y:t.bl.y-n},bl:{x:t.bl.x-n,y:t.bl.y+s},br:{x:t.bl.x+s,y:t.bl.y+n},tr:{x:t.bl.x+n,y:t.bl.y-s}},t.br.corner={tr:{x:t.br.x+n,y:t.br.y-s},bl:{x:t.br.x-n,y:t.br.y+s},br:{x:t.br.x+s,y:t.br.y+n},tl:{x:t.br.x-s,y:t.br.y-n}},t.ml.corner={tl:{x:t.ml.x-s,y:t.ml.y-n},tr:{x:t.ml.x+n,y:t.ml.y-s},bl:{x:t.ml.x-n,y:t.ml.y+s},br:{x:t.ml.x+s,y:t.ml.y+n}},t.mt.corner={tl:{x:t.mt.x-s,y:t.mt.y-n},tr:{x:t.mt.x+n,y:t.mt.y-s},bl:{x:t.mt.x-n,y:t.mt.y+s},br:{x:t.mt.x+s,y:t.mt.y+n}},t.mr.corner={tl:{x:t.mr.x-s,y:t.mr.y-n},tr:{x:t.mr.x+n,y:t.mr.y-s},bl:{x:t.mr.x-n,y:t.mr.y+s},br:{x:t.mr.x+s,y:t.mr.y+n}},t.mb.corner={tl:{x:t.mb.x-s,y:t.mb.y-n},tr:{x:t.mb.x+n,y:t.mb.y-s},bl:{x:t.mb.x-n,y:t.mb.y+s},br:{x:t.mb.x+s,y:t.mb.y+n}},t.mtr.corner={tl:{x:t.mtr.x-s+a*this.rotatingPointOffset,y:t.mtr.y-n-o*this.rotatingPointOffset},tr:{x:t.mtr.x+n+a*this.rotatingPointOffset,y:t.mtr.y-s-o*this.rotatingPointOffset},bl:{x:t.mtr.x-n+a*this.rotatingPointOffset,y:t.mtr.y+s-o*this.rotatingPointOffset},br:{x:t.mtr.x+s+a*this.rotatingPointOffset,y:t.mtr.y+n-o*this.rotatingPointOffset}}},toGrayscale:function(){var t=this.get("fill");return t&&this.set("overlayFill",new e.Color(t).toGrayscale().toRgb()),this},complexity:function(){return 0},toJSON:function(){return this.toObject()},setGradientFill:function(t,i){this.set("fill",e.Gradient.forObject(this,t,i))},animate:function(t,i,n){var s=this;n||(n={}),"from"in n||(n.from=this.get(t)),/[+-]/.test((i+"").charAt(0))&&(i=this.get(t)+parseFloat(i)),e.util.animate({startValue:n.from,endValue:i,byValue:n.by,easing:n.easing,duration:n.duration,onChange:function(e){s.set(t,e),n.onChange&&n.onChange()},onComplete:function(){s.setCoords(),n.onComplete&&n.onComplete()}})}}),e.Object.prototype.rotate=e.Object.prototype.setAngle;for(var l=e.Object.prototype,c=l.stateProperties.length;c--;){var h=l.stateProperties[c],u=h.charAt(0).toUpperCase()+h.slice(1),d="set"+u,f="get"+u;l[f]||(l[f]=function(t){return new Function('return this.get("'+t+'")')}(h)),l[d]||(l[d]=function(t){return new Function("value",'return this.set("'+t+'", value)')}(h))}i(e.Object.prototype,e.Observable)}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.Object.prototype.set,s={x1:1,x2:1,y1:1,y2:1};return e.Line?(e.warn("fabric.Line is already defined"),void 0):(e.Line=e.util.createClass(e.Object,{type:"line",initialize:function(t,e){t||(t=[0,0,0,0]),this.callSuper("initialize",e),this.set("x1",t[0]),this.set("y1",t[1]),this.set("x2",t[2]),this.set("y2",t[3]),this._setWidthHeight(e)},_setWidthHeight:function(t){t||(t={}),this.set("width",this.x2-this.x1||1),this.set("height",this.y2-this.y1||1),this.set("left","left"in t?t.left:this.x1+this.width/2),this.set("top","top"in t?t.top:this.y1+this.height/2)},set:function(t,e){return n.call(this,t,e),t in s&&this._setWidthHeight(),this},_render:function(t){t.beginPath(),t.moveTo(1===this.width?0:-this.width/2,1===this.height?0:-this.height/2),t.lineTo(1===this.width?0:this.width/2,1===this.height?0:this.height/2),t.lineWidth=this.strokeWidth;var e=t.strokeStyle;t.strokeStyle=t.fillStyle,t.stroke(),t.strokeStyle=e},complexity:function(){return 1},toObject:function(){return i(this.callSuper("toObject"),{x1:this.get("x1"),y1:this.get("y1"),x2:this.get("x2"),y2:this.get("y2")})},toSVG:function(){return["<line ",'x1="',this.get("x1"),'" ','y1="',this.get("y1"),'" ','x2="',this.get("x2"),'" ','y2="',this.get("y2"),'" ','style="',this.getSvgStyles(),'" ',"/>"].join("")}}),e.Line.ATTRIBUTE_NAMES="x1 y1 x2 y2 stroke stroke-width transform".split(" "),e.Line.fromElement=function(t,n){var s=e.parseAttributes(t,e.Line.ATTRIBUTE_NAMES),a=[s.x1||0,s.y1||0,s.x2||0,s.y2||0];return new e.Line(a,i(s,n))},e.Line.fromObject=function(t){var i=[t.x1,t.y1,t.x2,t.y2];return new e.Line(i,t)},void 0)}("undefined"!=typeof exports?exports:this),function(t){"use strict";function e(t){return"radius"in t&&t.radius>0}var i=t.fabric||(t.fabric={}),n=2*Math.PI,s=i.util.object.extend;return i.Circle?(i.warn("fabric.Circle is already defined."),void 0):(i.Circle=i.util.createClass(i.Object,{type:"circle",initialize:function(t){t=t||{},this.set("radius",t.radius||0),this.callSuper("initialize",t);var e=2*this.get("radius");this.set("width",e).set("height",e)},toObject:function(){return s(this.callSuper("toObject"),{radius:this.get("radius")})},toSVG:function(){return'<circle cx="0" cy="0" r="'+this.radius+'" '+'style="'+this.getSvgStyles()+'" '+'transform="'+this.getSvgTransform()+'" '+"/>"},_render:function(t,e){t.beginPath(),t.globalAlpha*=this.opacity,t.arc(e?this.left:0,e?this.top:0,this.radius,0,n,!1),t.closePath(),this.fill&&t.fill(),this.stroke&&t.stroke()},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(t){this.radius=t,this.set("width",2*t).set("height",2*t)},complexity:function(){return 1}}),i.Circle.ATTRIBUTE_NAMES="cx cy r fill fill-opacity opacity stroke stroke-width transform".split(" "),i.Circle.fromElement=function(t,n){n||(n={});var a=i.parseAttributes(t,i.Circle.ATTRIBUTE_NAMES);if(!e(a))throw Error("value of `r` attribute is required and can not be negative");return"left"in a&&(a.left-=n.width/2||0),"top"in a&&(a.top-=n.height/2||0),new i.Circle(s(a,n))},i.Circle.fromObject=function(t){return new i.Circle(t)},void 0)}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={});return e.Triangle?(e.warn("fabric.Triangle is already defined"),void 0):(e.Triangle=e.util.createClass(e.Object,{type:"triangle",initialize:function(t){t=t||{},this.callSuper("initialize",t),this.set("width",t.width||100).set("height",t.height||100)},_render:function(t){var e=this.width/2,i=this.height/2;t.beginPath(),t.moveTo(-e,i),t.lineTo(0,-i),t.lineTo(e,i),t.closePath(),this.fill&&t.fill(),this.stroke&&t.stroke()},complexity:function(){return 1},toSVG:function(){var t=this.width/2,e=this.height/2,i=[-t+" "+e,"0 "+-e,t+" "+e].join(",");return'<polygon points="'+i+'" '+'style="'+this.getSvgStyles()+'" '+'transform="'+this.getSvgTransform()+'" '+"/>"}}),e.Triangle.fromObject=function(t){return new e.Triangle(t)},void 0)}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=2*Math.PI,n=e.util.object.extend;return e.Ellipse?(e.warn("fabric.Ellipse is already defined."),void 0):(e.Ellipse=e.util.createClass(e.Object,{type:"ellipse",initialize:function(t){t=t||{},this.callSuper("initialize",t),this.set("rx",t.rx||0),this.set("ry",t.ry||0),this.set("width",2*this.get("rx")),this.set("height",2*this.get("ry"))},toObject:function(){return n(this.callSuper("toObject"),{rx:this.get("rx"),ry:this.get("ry")})},toSVG:function(){return["<ellipse ",'rx="',this.get("rx"),'" ','ry="',this.get("ry"),'" ','style="',this.getSvgStyles(),'" ','transform="',this.getSvgTransform(),'" ',"/>"].join("")},render:function(t,e){return 0!==this.rx&&0!==this.ry?this.callSuper("render",t,e):void 0},_render:function(t,e){t.beginPath(),t.save(),t.globalAlpha*=this.opacity,t.transform(1,0,0,this.ry/this.rx,0,0),t.arc(e?this.left:0,e?this.top:0,this.rx,0,i,!1),this.stroke&&t.stroke(),this.fill&&t.fill(),t.restore()},complexity:function(){return 1}}),e.Ellipse.ATTRIBUTE_NAMES="cx cy rx ry fill fill-opacity opacity stroke stroke-width transform".split(" "),e.Ellipse.fromElement=function(t,i){i||(i={});var s=e.parseAttributes(t,e.Ellipse.ATTRIBUTE_NAMES);return"left"in s&&(s.left-=i.width/2||0),"top"in s&&(s.top-=i.height/2||0),new e.Ellipse(n(s,i))},e.Ellipse.fromObject=function(t){return new e.Ellipse(t)},void 0)}("undefined"!=typeof exports?exports:this),function(t){"use strict";function e(t){return t.left=t.left||0,t.top=t.top||0,t}var i=t.fabric||(t.fabric={});return i.Rect?(console.warn("fabric.Rect is already defined"),void 0):(i.Rect=i.util.createClass(i.Object,{type:"rect",options:{rx:0,ry:0},initialize:function(t){this._initStateProperties(),this.callSuper("initialize",t),this._initRxRy()},_initStateProperties:function(){this.stateProperties=this.stateProperties.concat(["rx","ry"])},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(t){var e=this.rx||0,i=this.ry||0,n=-this.width/2,s=-this.height/2,a=this.width,r=this.height;t.beginPath(),t.globalAlpha*=this.opacity,this.group&&t.translate(this.x||0,this.y||0),t.moveTo(n+e,s),t.lineTo(n+a-e,s),t.quadraticCurveTo(n+a,s,n+a,s+i,n+a,s+i),t.lineTo(n+a,s+r-i),t.quadraticCurveTo(n+a,s+r,n+a-e,s+r,n+a-e,s+r),t.lineTo(n+e,s+r),t.quadraticCurveTo(n,s+r,n,s+r-i,n,s+r-i),t.lineTo(n,s+i),t.quadraticCurveTo(n,s,n+e,s,n+e,s),t.closePath(),this.fill&&t.fill(),this.stroke&&t.stroke()},_normalizeLeftTopProperties:function(t){return t.left&&this.set("left",t.left+this.getWidth()/2),this.set("x",t.left||0),t.top&&this.set("top",t.top+this.getHeight()/2),this.set("y",t.top||0),this},complexity:function(){return 1},toObject:function(){return i.util.object.extend(this.callSuper("toObject"),{rx:this.get("rx")||0,ry:this.get("ry")||0})},toSVG:function(){return'<rect x="'+-1*this.width/2+'" y="'+-1*this.height/2+'" '+'rx="'+this.get("rx")+'" ry="'+this.get("ry")+'" '+'width="'+this.width+'" height="'+this.height+'" '+'style="'+this.getSvgStyles()+'" '+'transform="'+this.getSvgTransform()+'" '+"/>"}}),i.Rect.ATTRIBUTE_NAMES="x y width height rx ry fill fill-opacity opacity stroke stroke-width transform".split(" "),i.Rect.fromElement=function(t,n){if(!t)return null;var s=i.parseAttributes(t,i.Rect.ATTRIBUTE_NAMES);s=e(s);var a=new i.Rect(i.util.object.extend(n?i.util.object.clone(n):{},s));return a._normalizeLeftTopProperties(s),a},i.Rect.fromObject=function(t){return new i.Rect(t)},void 0)}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.toFixed;return e.Polyline?(e.warn("fabric.Polyline is already defined"),void 0):(e.Polyline=e.util.createClass(e.Object,{type:"polyline",initialize:function(t,e){e=e||{},this.set("points",t),this.callSuper("initialize",e),this._calcDimensions()},_calcDimensions:function(){return e.Polygon.prototype._calcDimensions.call(this)},toObject:function(){return e.Polygon.prototype.toObject.call(this)},toSVG:function(){for(var t=[],e=0,n=this.points.length;n>e;e++)t.push(i(this.points[e].x,2),",",i(this.points[e].y,2)," ");return["<polyline ",'points="',t.join(""),'" ','style="',this.getSvgStyles(),'" ','transform="',this.getSvgTransform(),'" ',"/>"].join("")
},_render:function(t){var e;t.beginPath(),t.moveTo(this.points[0].x,this.points[0].y);for(var i=0,n=this.points.length;n>i;i++)e=this.points[i],t.lineTo(e.x,e.y);this.fill&&t.fill(),this.stroke&&t.stroke()},complexity:function(){return this.get("points").length}}),e.Polyline.ATTRIBUTE_NAMES="fill fill-opacity opacity stroke stroke-width transform".split(" "),e.Polyline.fromElement=function(t,i){if(!t)return null;i||(i={});for(var n=e.parsePointsAttribute(t.getAttribute("points")),s=e.parseAttributes(t,e.Polyline.ATTRIBUTE_NAMES),a=0,r=n.length;r>a;a++)n[a].x-=i.width/2||0,n[a].y-=i.height/2||0;return new e.Polyline(n,e.util.object.extend(s,i))},e.Polyline.fromObject=function(t){var i=t.points;return new e.Polyline(i,t)},void 0)}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.util.array.min,s=e.util.array.max,a=e.util.toFixed;return e.Polygon?(e.warn("fabric.Polygon is already defined"),void 0):(e.Polygon=e.util.createClass(e.Object,{type:"polygon",initialize:function(t,e){e=e||{},this.points=t,this.callSuper("initialize",e),this._calcDimensions()},_calcDimensions:function(){var t=this.points,e=n(t,"x"),i=n(t,"y"),a=s(t,"x"),r=s(t,"y");this.width=a-e,this.height=r-i,this.minX=e,this.minY=i},toObject:function(){return i(this.callSuper("toObject"),{points:this.points.concat()})},toSVG:function(){for(var t=[],e=0,i=this.points.length;i>e;e++)t.push(a(this.points[e].x,2),",",a(this.points[e].y,2)," ");return["<polygon ",'points="',t.join(""),'" ','style="',this.getSvgStyles(),'" ','transform="',this.getSvgTransform(),'" ',"/>"].join("")},_render:function(t){var e;t.beginPath(),t.moveTo(this.points[0].x,this.points[0].y);for(var i=0,n=this.points.length;n>i;i++)e=this.points[i],t.lineTo(e.x,e.y);this.fill&&t.fill(),this.stroke&&(t.closePath(),t.stroke())},complexity:function(){return this.points.length}}),e.Polygon.ATTRIBUTE_NAMES="fill fill-opacity opacity stroke stroke-width transform".split(" "),e.Polygon.fromElement=function(t,n){if(!t)return null;n||(n={});for(var s=e.parsePointsAttribute(t.getAttribute("points")),a=e.parseAttributes(t,e.Polygon.ATTRIBUTE_NAMES),r=0,o=s.length;o>r;r++)s[r].x-=n.width/2||0,s[r].y-=n.height/2||0;return new e.Polygon(s,i(a,n))},e.Polygon.fromObject=function(t){return new e.Polygon(t.points,t)},void 0)}("undefined"!=typeof exports?exports:this),function(t){function e(t,e,s,a){for(var r=a[0],o=a[1],l=a[2],c=a[3],h=a[4],u=a[5],d=a[6],f=i(u,d,r,o,c,h,l,e,s),p=0;p<f.length;p++){var g=n.apply(this,f[p]);t.bezierCurveTo.apply(t,g)}}function i(t,e,i,n,s,a,o,c,u){if(r=h.call(arguments),l[r])return l[r];var d=o*(Math.PI/180),f=Math.sin(d),p=Math.cos(d);i=Math.abs(i),n=Math.abs(n);var g=.5*p*(c-t)+.5*f*(u-e),m=.5*p*(u-e)-.5*f*(c-t),v=g*g/(i*i)+m*m/(n*n);v>1&&(v=Math.sqrt(v),i*=v,n*=v);var b=p/i,y=f/i,_=-f/n,x=p/n,w=b*c+y*u,k=_*c+x*u,C=b*t+y*e,S=_*t+x*e,j=(C-w)*(C-w)+(S-k)*(S-k),T=1/j-.25;0>T&&(T=0);var I=Math.sqrt(T);a==s&&(I=-I);var A=.5*(w+C)-I*(S-k),P=.5*(k+S)+I*(C-w),D=Math.atan2(k-P,w-A),O=Math.atan2(S-P,C-A),F=O-D;0>F&&1==a?F+=2*Math.PI:F>0&&0==a&&(F-=2*Math.PI);for(var M=Math.ceil(Math.abs(F/(.5*Math.PI+.001))),E=[],N=0;M>N;N++){var $=D+N*F/M,H=D+(N+1)*F/M;E[N]=[A,P,$,H,i,n,f,p]}return l[r]=E}function n(t,e,i,n,s,a,o,l){if(r=h.call(arguments),c[r])return c[r];var u=l*s,d=-o*a,f=o*s,p=l*a,g=.5*(n-i),m=8/3*Math.sin(.5*g)*Math.sin(.5*g)/Math.sin(g),v=t+Math.cos(i)-m*Math.sin(i),b=e+Math.sin(i)+m*Math.cos(i),y=t+Math.cos(n),_=e+Math.sin(n),x=y+m*Math.sin(n),w=_-m*Math.cos(n);return c[r]=[u*v+d*b,f*v+p*b,u*x+d*w,f*x+p*w,u*y+d*_,f*y+p*_]}function s(t){return"H"===t[0]?t[1]:t[t.length-2]}function a(t){return"V"===t[0]?t[1]:t[t.length-1]}var r,o={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},l={},c={},h=Array.prototype.join,u=t.fabric||(t.fabric={}),d=u.util.array.min,f=u.util.array.max,p=u.util.object.extend,g=Object.prototype.toString;return u.Path?(u.warn("fabric.Path is already defined"),void 0):u.Object?(u.Path=u.util.createClass(u.Object,{type:"path",initialize:function(t,e){if(e=e||{},this.setOptions(e),!t)throw Error("`path` argument is required");var i="[object Array]"===g.call(t);this.path=i?t:t.match&&t.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi),this.path&&(i||this._initializeFromString(e),e.sourcePath&&this.setSourcePath(e.sourcePath))},_initializeFromString:function(t){var e="width"in t,i="height"in t;this.path=this._parsePath(),e&&i||(p(this,this._parseDimensions()),e&&(this.width=t.width),i&&(this.height=t.height))},_render:function(t){for(var i,n,s,a=0,r=0,o=0,l=0,c=-(this.width/2),h=-(this.height/2),u=0,d=this.path.length;d>u;++u)switch(i=this.path[u],i[0]){case"l":a+=i[1],r+=i[2],t.lineTo(a+c,r+h);break;case"L":a=i[1],r=i[2],t.lineTo(a+c,r+h);break;case"h":a+=i[1],t.lineTo(a+c,r+h);break;case"H":a=i[1],t.lineTo(a+c,r+h);break;case"v":r+=i[1],t.lineTo(a+c,r+h);break;case"V":r=i[1],t.lineTo(a+c,r+h);break;case"m":a+=i[1],r+=i[2],t.moveTo(a+c,r+h);break;case"M":a=i[1],r=i[2],t.moveTo(a+c,r+h);break;case"c":n=a+i[5],s=r+i[6],o=a+i[3],l=r+i[4],t.bezierCurveTo(a+i[1]+c,r+i[2]+h,o+c,l+h,n+c,s+h),a=n,r=s;break;case"C":a=i[5],r=i[6],o=i[3],l=i[4],t.bezierCurveTo(i[1]+c,i[2]+h,o+c,l+h,a+c,r+h);break;case"s":n=a+i[3],s=r+i[4],o=2*a-o,l=2*r-l,t.bezierCurveTo(o+c,l+h,a+i[1]+c,r+i[2]+h,n+c,s+h),o=a+i[1],l=r+i[2],a=n,r=s;break;case"S":n=i[3],s=i[4],o=2*a-o,l=2*r-l,t.bezierCurveTo(o+c,l+h,i[1]+c,i[2]+h,n+c,s+h),a=n,r=s,o=i[1],l=i[2];break;case"q":a+=i[3],r+=i[4],t.quadraticCurveTo(i[1]+c,i[2]+h,a+c,r+h);break;case"Q":a=i[3],r=i[4],o=i[1],l=i[2],t.quadraticCurveTo(o+c,l+h,a+c,r+h);break;case"T":n=a,s=r,a=i[1],r=i[2],o=-o+2*n,l=-l+2*s,t.quadraticCurveTo(o+c,l+h,a+c,r+h);break;case"a":e(t,a+c,r+h,[i[1],i[2],i[3],i[4],i[5],i[6]+a+c,i[7]+r+h]),a+=i[6],r+=i[7];break;case"A":e(t,a+c,r+h,[i[1],i[2],i[3],i[4],i[5],i[6]+c,i[7]+h]),a=i[6],r=i[7];break;case"z":case"Z":t.closePath()}},render:function(t,e){t.save();var i=this.transformMatrix;i&&t.transform(i[0],i[1],i[2],i[3],i[4],i[5]),e||this.transform(t),this.overlayFill?t.fillStyle=this.overlayFill:this.fill&&(t.fillStyle=this.fill),this.stroke&&(t.strokeStyle=this.stroke),t.beginPath(),this._render(t),this.fill&&t.fill(),this.stroke&&(t.strokeStyle=this.stroke,t.lineWidth=this.strokeWidth,t.lineCap=t.lineJoin="round",t.stroke()),!e&&this.active&&(this.drawBorders(t),this.hideCorners||this.drawCorners(t)),t.restore()},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(){var t=p(this.callSuper("toObject"),{path:this.path});return this.sourcePath&&(t.sourcePath=this.sourcePath),this.transformMatrix&&(t.transformMatrix=this.transformMatrix),t},toDatalessObject:function(){var t=this.toObject();return this.sourcePath&&(t.path=this.sourcePath),delete t.sourcePath,t},toSVG:function(){for(var t=[],e=0,i=this.path.length;i>e;e++)t.push(this.path[e].join(" "));var n=t.join(" ");return['<g transform="',this.getSvgTransform(),'">',"<path ",'width="',this.width,'" height="',this.height,'" ','d="',n,'" ','style="',this.getSvgStyles(),'" ','transform="translate(',-this.width/2," ",-this.height/2,')" />',"</g>"].join("")},complexity:function(){return this.path.length},_parsePath:function(){for(var t,e,i,n,s,a=[],r=0,l=this.path.length;l>r;r++){t=this.path[r],e=t.slice(1).trim().replace(/(\d)-/g,"$1###-").split(/\s|,|###/),s=[t.charAt(0)];for(var n=0,c=e.length;c>n;n++)i=parseFloat(e[n]),isNaN(i)||s.push(i);var h=s[0].toLowerCase(),u=o[h];if(s.length-1>u)for(var d=1,f=s.length;f>d;d+=u)a.push([s[0]].concat(s.slice(d,d+u)));else a.push(s)}return a},_parseDimensions:function(){var t,e,i,n,r=[],o=[],l=!1;this.path.forEach(function(c,h){"H"!==c[0]&&(t=0===h?s(c):s(this.path[h-1])),"V"!==c[0]&&(e=0===h?a(c):a(this.path[h-1])),c[0]===c[0].toLowerCase()&&(l=!0),i=l?t+s(c):"V"===c[0]?t:s(c),n=l?e+a(c):"H"===c[0]?e:a(c);var u=parseInt(i,10);isNaN(u)||r.push(u),u=parseInt(n,10),isNaN(u)||o.push(u)},this);var c=d(r),h=d(o),u=0,p=0,g={top:h-p,left:c-u,bottom:f(o)-p,right:f(r)-u};return g.width=g.right-g.left,g.height=g.bottom-g.top,g}}),u.Path.fromObject=function(t){return new u.Path(t.path,t)},u.Path.ATTRIBUTE_NAMES="d fill fill-opacity opacity fill-rule stroke stroke-width transform".split(" "),u.Path.fromElement=function(t,e){var i=u.parseAttributes(t,u.Path.ATTRIBUTE_NAMES);return new u.Path(i.d,p(i,e))},void 0):(u.warn("fabric.Path requires fabric.Object"),void 0)}("undefined"!=typeof exports?exports:this),function(t){"use strict";function e(t){for(var e=0,n=t.length;n>e;e++)if(!(t[e]instanceof i.Object)){var s=o(l(t[e].type));t[e]=i[s].fromObject(t[e])}return t}var i=t.fabric||(t.fabric={}),n=i.util.object.extend,s=i.util.array.invoke,a=i.Object.prototype.set,r=i.Object.prototype.toObject,o=i.util.string.camelize,l=i.util.string.capitalize;return i.PathGroup?(i.warn("fabric.PathGroup is already defined"),void 0):(i.PathGroup=i.util.createClass(i.Path,{type:"path-group",forceFillOverwrite:!1,initialize:function(t,e){e=e||{},this.paths=t||[];for(var i=this.paths.length;i--;)this.paths[i].group=this;this.setOptions(e),this.setCoords(),e.sourcePath&&this.setSourcePath(e.sourcePath)},render:function(t){if(this.stub)t.save(),this.transform(t),this.stub.render(t,!1),this.active&&(this.drawBorders(t),this.drawCorners(t)),t.restore();else{t.save();var e=this.transformMatrix;e&&t.transform(e[0],e[1],e[2],e[3],e[4],e[5]),this.transform(t);for(var i=0,n=this.paths.length;n>i;++i)this.paths[i].render(t,!0);this.active&&(this.drawBorders(t),this.hideCorners||this.drawCorners(t)),t.restore()}},set:function(t,e){if("fill"!==t&&"overlayFill"!==t||!this.isSameColor())a.call(this,t,e);else{this[t]=e;for(var i=this.paths.length;i--;)this.paths[i].set(t,e)}return this},toObject:function(){return n(r.call(this),{paths:s(this.getObjects(),"clone"),sourcePath:this.sourcePath})},toDatalessObject:function(){var t=this.toObject();return this.sourcePath&&(t.paths=this.sourcePath),t},toSVG:function(){for(var t=this.getObjects(),e=["<g ",'width="',this.width,'" ','height="',this.height,'" ','style="',this.getSvgStyles(),'" ','transform="',this.getSvgTransform(),'" ',">"],i=0,n=t.length;n>i;i++)e.push(t[i].toSVG());return e.push("</g>"),e.join("")},toString:function(){return"#<fabric.PathGroup ("+this.complexity()+"): { top: "+this.top+", left: "+this.left+" }>"},isSameColor:function(){var t=this.getObjects()[0].get("fill");return this.getObjects().every(function(e){return e.get("fill")===t})},complexity:function(){return this.paths.reduce(function(t,e){return t+(e&&e.complexity?e.complexity():0)},0)},toGrayscale:function(){for(var t=this.paths.length;t--;)this.paths[t].toGrayscale();return this},getObjects:function(){return this.paths}}),i.PathGroup.fromObject=function(t){var n=e(t.paths);return new i.PathGroup(n,t)},void 0)}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.util.array.min,s=e.util.array.max,a=e.util.array.invoke,r=e.util.removeFromArray;e.Group||(e.Group=e.util.createClass(e.Object,{type:"group",initialize:function(t,e){this.objects=t||[],this.originalState={},this.callSuper("initialize"),this._calcBounds(),this._updateObjectsCoords(),e&&i(this,e),this._setOpacityIfSame(),this.setCoords(!0),this.saveCoords()},_updateObjectsCoords:function(){var t=this.left,e=this.top;this.forEachObject(function(i){var n=i.get("left"),s=i.get("top");i.set("originalLeft",n),i.set("originalTop",s),i.set("left",n-t),i.set("top",s-e),i.setCoords(),i.hideCorners=!0},this)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},getObjects:function(){return this.objects},addWithUpdate:function(t){return this._restoreObjectsState(),this.objects.push(t),this._calcBounds(),this._updateObjectsCoords(),this},removeWithUpdate:function(t){return this._restoreObjectsState(),r(this.objects,t),t.setActive(!1),this._calcBounds(),this._updateObjectsCoords(),this},add:function(t){return this.objects.push(t),this},remove:function(t){return r(this.objects,t),this},size:function(){return this.getObjects().length},set:function(t,e){if("function"==typeof e)this.set(t,e(this[t]));else if("fill"===t||"opacity"===t){var i=this.objects.length;for(this[t]=e;i--;)this.objects[i].set(t,e)}else this[t]=e;return this},contains:function(t){return this.objects.indexOf(t)>-1},toObject:function(){return i(this.callSuper("toObject"),{objects:a(this.objects,"clone")})},render:function(t,e){t.save(),this.transform(t);var i=Math.max(this.scaleX,this.scaleY);var n,s=0;for(this.objects.length;n=this.objects[s];s++){var a=n.borderScaleFactor;n.borderScaleFactor=i,n.render(t),n.borderScaleFactor=a}!e&&this.active&&(this.drawBorders(t),this.hideCorners||this.drawCorners(t)),t.restore(),this.setCoords()},item:function(t){return this.getObjects()[t]},complexity:function(){return this.getObjects().reduce(function(t,e){return t+="function"==typeof e.complexity?e.complexity():0},0)},_restoreObjectsState:function(){return this.objects.forEach(this._restoreObjectState,this),this},_restoreObjectState:function(t){var e=this.get("left"),i=this.get("top"),n=this.getAngle()*(Math.PI/180),s=(t.get("originalLeft"),t.get("originalTop"),Math.cos(n)*t.get("top")+Math.sin(n)*t.get("left")),a=-Math.sin(n)*t.get("top")+Math.cos(n)*t.get("left");return t.setAngle(t.getAngle()+this.getAngle()),t.set("left",e+a*this.get("scaleX")),t.set("top",i+s*this.get("scaleY")),t.set("scaleX",t.get("scaleX")*this.get("scaleX")),t.set("scaleY",t.get("scaleY")*this.get("scaleY")),t.setCoords(),t.hideCorners=!1,t.setActive(!1),t.setCoords(),this},destroy:function(){return this._restoreObjectsState()},saveCoords:function(){return this._originalLeft=this.get("left"),this._originalTop=this.get("top"),this},hasMoved:function(){return this._originalLeft!==this.get("left")||this._originalTop!==this.get("top")},setObjectsCoords:function(){return this.forEachObject(function(t){t.setCoords()}),this},activateAllObjects:function(){return this.forEachObject(function(t){t.setActive()}),this},forEachObject:e.StaticCanvas.prototype.forEachObject,_setOpacityIfSame:function(){var t=this.getObjects(),e=t[0]?t[0].get("opacity"):1,i=t.every(function(t){return t.get("opacity")===e});i&&(this.opacity=e)},_calcBounds:function(){for(var t,e,i,a,r,o,l,c=[],h=[],u=0,d=this.objects.length;d>u;++u){r=this.objects[u],r.setCoords();for(var f in r.oCoords)c.push(r.oCoords[f].x),h.push(r.oCoords[f].y)}t=n(c),i=s(c),e=n(h),a=s(h),o=i-t||0,l=a-e||0,this.width=o,this.height=l,this.left=t+o/2||0,this.top=e+l/2||0},containsPoint:function(t){var e=this.get("width")/2,i=this.get("height")/2,n=this.get("left"),s=this.get("top");return n-e<t.x&&n+e>t.x&&s-i<t.y&&s+i>t.y},toGrayscale:function(){for(var t=this.objects.length;t--;)this.objects[t].toGrayscale()}}),e.Group.fromObject=function(t,i){e.util.enlivenObjects(t.objects,function(n){delete t.objects,i&&i(new e.Group(n,t))})},e.Group.async=!0)}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=fabric.util.object.extend;return t.fabric||(t.fabric={}),t.fabric.Image?(fabric.warn("fabric.Image is already defined."),void 0):fabric.Object?(fabric.Image=fabric.util.createClass(fabric.Object,{active:!1,bordervisibility:!1,cornervisibility:!1,type:"image",initialize:function(t,e){e||(e={}),this.callSuper("initialize",e),this._initElement(t),this._originalImage=this.getElement(),this._initConfig(e),this.filters=[],e.filters&&(this.filters=e.filters,this.applyFilters())},getElement:function(){return this._element},setElement:function(t){return this._element=t,this._initConfig(),this},getOriginalSize:function(){var t=this.getElement();return{width:t.width,height:t.height}},setBorderVisibility:function(){this._resetWidthHeight(),this._adjustWidthHeightToBorders(showBorder),this.setCoords()},setCornersVisibility:function(t){this.cornervisibility=!!t},render:function(t,e){t.save(),e||this.transform(t),this._render(t),this.active&&!e&&(this.drawBorders(t),this.hideCorners||this.drawCorners(t)),t.restore()},toObject:function(){return e(this.callSuper("toObject"),{src:this._originalImage.src||this._originalImage._src,filters:this.filters.concat()})},toSVG:function(){return'<g transform="'+this.getSvgTransform()+'">'+'<image xlink:href="'+this.getSvgSrc()+'" '+'style="'+this.getSvgStyles()+'" '+'transform="translate('+-this.width/2+" "+-this.height/2+')" '+'width="'+this.width+'" '+'height="'+this.height+'"'+"/>"+"</g>"},getSrc:function(){return this.getElement().src||this.getElement()._src},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},clone:function(t){this.constructor.fromObject(this.toObject(),t)},applyFilters:function(t){if(0===this.filters.length)return this.setElement(this._originalImage),t&&t(),void 0;var e="undefined"!=typeof Buffer&&"undefined"==typeof window,i=this._originalImage,n=fabric.document.createElement("canvas"),s=e?new(require("canvas").Image):fabric.document.createElement("img"),a=this;if(n.getContext||"undefined"==typeof G_vmlCanvasManager||G_vmlCanvasManager.initElement(n),n.width=i.width,n.height=i.height,n.getContext("2d").drawImage(i,0,0),this.filters.forEach(function(t){t&&t.applyTo(n)}),s.onload=function(){a._element=s,t&&t(),s.onload=n=i=null},s.width=i.width,s.height=i.height,e){var r=n.toDataURL("image/png").replace(/data:image\/png;base64,/,"");s.src=new Buffer(r,"base64"),a._element=s,t&&t()}else s.src=n.toDataURL("image/png");return this},_render:function(t){t.drawImage(this.getElement(),-this.width/2,-this.height/2,this.width,this.height)},_adjustWidthHeightToBorders:function(t){t?(this.currentBorder=this.borderwidth,this.width+=2*this.currentBorder,this.height+=2*this.currentBorder):this.currentBorder=0},_resetWidthHeight:function(){var t=this.getElement();this.set("width",t.width),this.set("height",t.height)},_initElement:function(t){this.setElement(fabric.util.getById(t)),fabric.util.addClass(this.getElement(),fabric.Image.CSS_CANVAS)},_initConfig:function(t){t||(t={}),this.setOptions(t),this._setBorder(),this._setWidthHeight(t)},_initFilters:function(t){t.filters&&t.filters.length&&(this.filters=t.filters.map(function(t){return t&&fabric.Image.filters[t.type].fromObject(t)}))},_setBorder:function(){this.currentBorder=this.bordervisibility?this.borderwidth:0},_setWidthHeight:function(t){var e=2*this.currentBorder;this.width="width"in t?t.width:(this.getElement().width||0)+e,this.height="height"in t?t.height:(this.getElement().height||0)+e},complexity:function(){return 1}}),fabric.Image.CSS_CANVAS="canvas-img",fabric.Image.prototype.getSvgSrc=fabric.Image.prototype.getSrc,fabric.Image.fromObject=function(t,e){var i=fabric.document.createElement("img"),n=t.src;t.width&&(i.width=t.width),t.height&&(i.height=t.height),i.onload=function(){fabric.Image.prototype._initFilters.call(t,t);var n=new fabric.Image(i,t);e&&e(n),i=i.onload=null},i.src=n},fabric.Image.fromURL=function(t,e,i){var n=fabric.document.createElement("img");n.onload=function(){e&&e(new fabric.Image(n,i)),n=n.onload=null},n.src=t},fabric.Image.ATTRIBUTE_NAMES="x y width height fill fill-opacity opacity stroke stroke-width transform xlink:href".split(" "),fabric.Image.fromElement=function(t,i,n){n||(n={});var s=fabric.parseAttributes(t,fabric.Image.ATTRIBUTE_NAMES);fabric.Image.fromURL(s["xlink:href"],i,e(s,n))},fabric.Image.async=!0,void 0):(fabric.warn("fabric.Object is required for fabric.Image initialization"),void 0)}("undefined"!=typeof exports?exports:this),fabric.util.object.extend(fabric.Object.prototype,{_getAngleValueForStraighten:function(){var t=this.get("angle");return t>-225&&-135>=t?-180:t>-135&&-45>=t?-90:t>-45&&45>=t?0:t>45&&135>=t?90:t>135&&225>=t?180:t>225&&315>=t?270:t>315?360:0},straighten:function(){var t=this._getAngleValueForStraighten();return this.setAngle(t),this},fxStraighten:function(t){t=t||{};var e=function(){},i=t.onComplete||e,n=t.onChange||e,s=this;return fabric.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(t){s.setAngle(t),n()},onComplete:function(){s.setCoords(),i()},onStart:function(){s.setActive(!1)}}),this}}),fabric.util.object.extend(fabric.StaticCanvas.prototype,{straightenObject:function(t){return t.straighten(),this.renderAll(),this},fxStraightenObject:function(t){return t.fxStraighten({onChange:this.renderAll.bind(this)}),this}}),fabric.Image.filters={},fabric.Image.filters.Grayscale=fabric.util.createClass({type:"Grayscale",applyTo:function(t){var e,i,n,s,a=t.getContext("2d"),r=a.getImageData(0,0,t.width,t.height),o=r.data,l=r.width,c=r.height;for(n=0;l>n;n++)for(s=0;c>s;s++)e=4*n*c+4*s,i=(o[e]+o[e+1]+o[e+2])/3,o[e]=i,o[e+1]=i,o[e+2]=i;a.putImageData(r,0,0)},toJSON:function(){return{type:this.type}}}),fabric.Image.filters.Grayscale.fromObject=function(){return new fabric.Image.filters.Grayscale},fabric.Image.filters.RemoveWhite=fabric.util.createClass({type:"RemoveWhite",initialize:function(t){t||(t={}),this.threshold=t.threshold||30,this.distance=t.distance||20},applyTo:function(t){for(var e,i,n,s=t.getContext("2d"),a=s.getImageData(0,0,t.width,t.height),r=a.data,o=this.threshold,l=this.distance,c=255-o,h=Math.abs,u=0,d=r.length;d>u;u+=4)e=r[u],i=r[u+1],n=r[u+2],e>c&&i>c&&n>c&&h(e-i)<l&&h(e-n)<l&&h(i-n)<l&&(r[u+3]=1);s.putImageData(a,0,0)},toJSON:function(){return{type:this.type,threshold:this.threshold,distance:this.distance}}}),fabric.Image.filters.RemoveWhite.fromObject=function(t){return new fabric.Image.filters.RemoveWhite(t)},fabric.Image.filters.Invert=fabric.util.createClass({type:"Invert",applyTo:function(t){var e,i=t.getContext("2d"),n=i.getImageData(0,0,t.width,t.height),s=n.data,a=s.length;for(e=0;a>e;e+=4)s[e]=255-s[e],s[e+1]=255-s[e+1],s[e+2]=255-s[e+2];i.putImageData(n,0,0)},toJSON:function(){return{type:this.type}}}),fabric.Image.filters.Invert.fromObject=function(){return new fabric.Image.filters.Invert},fabric.Image.filters.Sepia=fabric.util.createClass({type:"Sepia",applyTo:function(t){var e,i,n=t.getContext("2d"),s=n.getImageData(0,0,t.width,t.height),a=s.data,r=a.length;for(e=0;r>e;e+=4)i=.3*a[e]+.59*a[e+1]+.11*a[e+2],a[e]=i+100,a[e+1]=i+50,a[e+2]=i+255;n.putImageData(s,0,0)},toJSON:function(){return{type:this.type}}}),fabric.Image.filters.Sepia.fromObject=function(){return new fabric.Image.filters.Sepia},fabric.Image.filters.Sepia2=fabric.util.createClass({type:"Sepia2",applyTo:function(t){var e,i,n,s,a=t.getContext("2d"),r=a.getImageData(0,0,t.width,t.height),o=r.data,l=o.length;for(e=0;l>e;e+=4)i=o[e],n=o[e+1],s=o[e+2],o[e]=(.393*i+.769*n+.189*s)/1.351,o[e+1]=(.349*i+.686*n+.168*s)/1.203,o[e+2]=(.272*i+.534*n+.131*s)/2.14;a.putImageData(r,0,0)},toJSON:function(){return{type:this.type}}}),fabric.Image.filters.Sepia2.fromObject=function(){return new fabric.Image.filters.Sepia2},fabric.Image.filters.Brightness=fabric.util.createClass({type:"Brightness",initialize:function(t){t||(t={}),this.brightness=t.brightness||100},applyTo:function(t){for(var e=t.getContext("2d"),i=e.getImageData(0,0,t.width,t.height),n=i.data,s=this.brightness,a=0,r=n.length;r>a;a+=4)n[a]+=s,n[a+1]+=s,n[a+2]+=s;e.putImageData(i,0,0)},toJSON:function(){return{type:this.type,brightness:this.brightness}}}),fabric.Image.filters.Brightness.fromObject=function(t){return new fabric.Image.filters.Brightness(t)},fabric.Image.filters.Noise=fabric.util.createClass({type:"Noise",initialize:function(t){t||(t={}),this.noise=t.noise||100},applyTo:function(t){for(var e,i=t.getContext("2d"),n=i.getImageData(0,0,t.width,t.height),s=n.data,a=this.noise,r=0,o=s.length;o>r;r+=4)e=(.5-Math.random())*a,s[r]+=e,s[r+1]+=e,s[r+2]+=e;i.putImageData(n,0,0)},toJSON:function(){return{type:this.type,noise:this.noise}}}),fabric.Image.filters.Noise.fromObject=function(t){return new fabric.Image.filters.Noise(t)},fabric.Image.filters.GradientTransparency=fabric.util.createClass({type:"GradientTransparency",initialize:function(t){t||(t={}),this.threshold=t.threshold||100},applyTo:function(t){for(var e=t.getContext("2d"),i=e.getImageData(0,0,t.width,t.height),n=i.data,s=this.threshold,a=n.length,r=0,o=n.length;o>r;r+=4)n[r+3]=s+255*(a-r)/a;e.putImageData(i,0,0)},toJSON:function(){return{type:this.type,threshold:this.threshold}}}),fabric.Image.filters.GradientTransparency.fromObject=function(t){return new fabric.Image.filters.GradientTransparency(t)},function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.util.object.clone,s=e.util.toFixed;return e.Text?(e.warn("fabric.Text is already defined"),void 0):e.Object?(e.Text=e.util.createClass(e.Object,{fontSize:40,fontWeight:100,fontFamily:"Times New Roman",textDecoration:"",textShadow:"",textAlign:"left",fontStyle:"",lineHeight:1.3,strokeStyle:"",strokeWidth:1,backgroundColor:"",path:null,type:"text",useNative:!0,initialize:function(t,e){this._initStateProperties(),this.text=t,this.setOptions(e),this.theta=this.angle*Math.PI/180,this._initDimensions(),this.setCoords()},_initDimensions:function(){var t=e.document.createElement("canvas");t.getContext||"undefined"==typeof G_vmlCanvasManager||G_vmlCanvasManager.initElement(t),this._render(t.getContext("2d"))},_initStateProperties:function(){this.stateProperties=this.stateProperties.concat(),this.stateProperties.push("fontFamily","fontWeight","fontSize","path","text","textDecoration","textShadow","textAlign","fontStyle","lineHeight","strokeStyle","strokeWidth","backgroundColor"),e.util.removeFromArray(this.stateProperties,"width")},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_render:function(t){"undefined"==typeof Cufon||this.useNative===!0?this._renderViaNative(t):this._renderViaCufon(t)},_renderViaCufon:function(t){var e=Cufon.textOptions||(Cufon.textOptions={});e.left=this.left,e.top=this.top,e.context=t,e.color=this.fill;var i=this._initDummyElementForCufon();this.transform(t),Cufon.replaceElement(i,{engine:"canvas",separate:"none",fontFamily:this.fontFamily,fontWeight:this.fontWeight,textDecoration:this.textDecoration,textShadow:this.textShadow,textAlign:this.textAlign,fontStyle:this.fontStyle,lineHeight:this.lineHeight,strokeStyle:this.strokeStyle,strokeWidth:this.strokeWidth,backgroundColor:this.backgroundColor}),this.width=e.width,this.height=e.height,this._totalLineHeight=e.totalLineHeight,this._fontAscent=e.fontAscent,this._boundaries=e.boundaries,this._shadowOffsets=e.shadowOffsets,this._shadows=e.shadows||[],this.setCoords()},_renderViaNative:function(t){this.transform(t),this._setTextStyles(t);var e=this.text.split(/\r?\n/);this.width=this._getTextWidth(t,e),this.height=this._getTextHeight(t,e),this._renderTextBackground(t,e),"left"!==this.textAlign&&(t.save(),t.translate("center"===this.textAlign?this.width/2:this.width,0)),this._setTextShadow(t),this._renderTextFill(t,e),this.textShadow&&t.restore(),this._renderTextStroke(t,e),"left"!==this.textAlign&&t.restore(),this._renderTextDecoration(t,e),this._setBoundaries(t,e),this._totalLineHeight=0,this.setCoords()},_setBoundaries:function(t,e){this._boundaries=[];for(var i=0,n=e.length;n>i;i++){var s=t.measureText(e[i]).width,a=this._getLineLeftOffset(s);this._boundaries.push({height:this.fontSize,width:s,left:a})}},_setTextStyles:function(t){t.fillStyle=this.fill,t.strokeStyle=this.strokeStyle,t.lineWidth=this.strokeWidth,t.textBaseline="top",t.textAlign=this.textAlign,t.font=this._getFontDeclaration()},_getTextHeight:function(t,e){return this.fontSize*e.length*this.lineHeight},_getTextWidth:function(t,e){for(var i=t.measureText(e[0]).width,n=1,s=e.length;s>n;n++){var a=t.measureText(e[n]).width;a>i&&(i=a)}return i},_setTextShadow:function(t){if(this.textShadow){var e=/\s+(-?\d+)(?:px)?\s+(-?\d+)(?:px)?\s+(\d+)(?:px)?\s*/,i=this.textShadow,n=e.exec(this.textShadow),s=i.replace(e,"");t.save(),t.shadowColor=s,t.shadowOffsetX=parseInt(n[1],10),t.shadowOffsetY=parseInt(n[2],10),t.shadowBlur=parseInt(n[3],10),this._shadows=[{blur:t.shadowBlur,color:t.shadowColor,offX:t.shadowOffsetX,offY:t.shadowOffsetY}],this._shadowOffsets=[[parseInt(t.shadowOffsetX,10),parseInt(t.shadowOffsetY,10)]]}},_renderTextFill:function(t,e){this._boundaries=[];for(var i=0,n=e.length;n>i;i++)t.fillText(e[i],-this.width/2,-this.height/2+i*this.fontSize*this.lineHeight)},_renderTextStroke:function(t,e){if(this.strokeStyle)for(var i=0,n=e.length;n>i;i++)t.strokeText(e[i],-this.width/2,-this.height/2+i*this.fontSize*this.lineHeight)},_renderTextBackground:function(t,e){if(this.backgroundColor){t.save(),t.fillStyle=this.backgroundColor;for(var i=0,n=e.length;n>i;i++){var s=t.measureText(e[i]).width,a=this._getLineLeftOffset(s);t.fillRect(-this.width/2+a,-this.height/2+i*this.fontSize*this.lineHeight,s,this.fontSize)}t.restore()}},_getLineLeftOffset:function(t){return"center"===this.textAlign?(this.width-t)/2:"right"===this.textAlign?this.width-t:0},_renderTextDecoration:function(t,e){function i(i){for(var s=0,a=e.length;a>s;s++){var r=t.measureText(e[s]).width,o=this._getLineLeftOffset(r);t.fillRect(-this.width/2+o,i+s*this.fontSize*this.lineHeight-n,r,1)}}var n=this._getTextHeight(t,e)/2;this.textDecoration.indexOf("underline")>-1&&i.call(this,this.fontSize),this.textDecoration.indexOf("line-through")>-1&&i.call(this,this.fontSize/2),this.textDecoration.indexOf("overline")>-1&&i.call(this,0)},_getFontDeclaration:function(){return[this.fontStyle,this.fontWeight,this.fontSize+"px",this.fontFamily].join(" ")},_initDummyElementForCufon:function(){var t=e.document.createElement("pre"),i=e.document.createElement("div");return i.appendChild(t),"undefined"==typeof G_vmlCanvasManager?t.innerHTML=this.text:t.innerText=this.text.replace(/\r?\n/gi,"\r"),t.style.fontSize=this.fontSize+"px",t.style.letterSpacing="normal",t},render:function(t,e){t.save(),this._render(t),!e&&this.active&&(this.drawBorders(t),this.hideCorners||this.drawCorners(t)),t.restore()},toObject:function(){return i(this.callSuper("toObject"),{text:this.text,fontSize:this.fontSize,fontWeight:this.fontWeight,fontFamily:this.fontFamily,fontStyle:this.fontStyle,lineHeight:this.lineHeight,textDecoration:this.textDecoration,textShadow:this.textShadow,textAlign:this.textAlign,path:this.path,strokeStyle:this.strokeStyle,strokeWidth:this.strokeWidth,backgroundColor:this.backgroundColor})},toSVG:function(){var t=this.text.split(/\r?\n/),e=this.useNative?this.fontSize*this.lineHeight:-this._fontAscent-this._fontAscent/5*this.lineHeight,i=-(this.width/2),n=this.useNative?this.fontSize-1:this.height/2-t.length*this.fontSize-this._totalLineHeight,a=this._getSVGTextAndBg(e,i,t),r=this._getSVGShadows(e,t);return n+=this._fontAscent?this._fontAscent/5*this.lineHeight:0,['<g transform="',this.getSvgTransform(),'">',a.textBgRects.join(""),"<text ",this.fontFamily?"font-family=\"'"+this.fontFamily+"'\" ":"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",this.textDecoration?'text-decoration="'+this.textDecoration+'" ':"",'style="',this.getSvgStyles(),'" ','transform="translate(',s(i,2)," ",s(n,2),')">',r.join(""),a.textSpans.join(""),"</text>","</g>"].join("")},_getSVGShadows:function(t,i){var n,a,r,o,l=[],c=1;if(!this._shadows||!this._boundaries)return l;for(n=0,r=this._shadows.length;r>n;n++)for(a=0,o=i.length;o>a;a++)if(""!==i[a]){var h=this._boundaries&&this._boundaries[a]?this._boundaries[a].left:0;l.push('<tspan x="',s(h+c+this._shadowOffsets[n][0],2),0===a||this.useNative?'" y':'" dy','="',s(this.useNative?t*a-this.height/2+this._shadowOffsets[n][1]:t+(0===a?this._shadowOffsets[n][1]:0),2),'" ',this._getFillAttributes(this._shadows[n].color),">",e.util.string.escapeXml(i[a]),"</tspan>"),c=1}else c++;return l},_getSVGTextAndBg:function(t,i,n){var a,r,o,l=[],c=[],h=1;for(a=0,o=n.length;o>a;a++)""!==n[a]?(r=this._boundaries&&this._boundaries[a]?s(this._boundaries[a].left,2):0,l.push('<tspan x="',r,'" ',0===a||this.useNative?"y":"dy",'="',s(this.useNative?t*a-this.height/2:t*h,2),'" ',this._getFillAttributes(this.fill),">",e.util.string.escapeXml(n[a]),"</tspan>"),h=1):h++,this.backgroundColor&&this._boundaries&&c.push("<rect ",this._getFillAttributes(this.backgroundColor),' x="',s(i+this._boundaries[a].left,2),'" y="',s(t*a-this.height/2,2),'" width="',s(this._boundaries[a].width,2),'" height="',s(this._boundaries[a].height,2),'"></rect>');return{textSpans:l,textBgRects:c}},_getFillAttributes:function(t){var i=t?new e.Color(t):"";return i&&i.getSource()&&1!==i.getAlpha()?'opacity="'+i.getAlpha()+'" fill="'+i.setAlpha(1).toRgb()+'"':'fill="'+t+'"'},setColor:function(t){return this.set("fill",t),this},setFontsize:function(t){return this.set("fontSize",t),this.setCoords(),this},getText:function(){return this.text},setText:function(t){return this.set("text",t),this.setCoords(),this
},set:function(t,e){if("object"==typeof t)for(var i in t)this.set(i,t[i]);else this[t]=e,"fontFamily"===t&&this.path&&(this.path=this.path.replace(/(.*?)([^\/]*)(\.font\.js)/,"$1"+e+"$3"));return this}}),e.Text.fromObject=function(t){return new e.Text(t.text,n(t))},e.Text.fromElement=function(){},void 0):(e.warn("fabric.Text requires fabric.Object"),void 0)}("undefined"!=typeof exports?exports:this),function(){function request(t,e,i){var n=URL.parse(t),s=HTTP.createClient(n.port,n.hostname),a=s.request("GET",n.pathname,{host:n.hostname});s.addListener("error",function(t){t.errno===process.ECONNREFUSED?fabric.log("ECONNREFUSED: connection refused to "+s.host+":"+s.port):fabric.log(t.message)}),a.end(),a.on("response",function(t){var n="";e&&t.setEncoding(e),t.on("end",function(){i(n)}),t.on("data",function(e){200==t.statusCode&&(n+=e)})})}if("undefined"==typeof document||"undefined"==typeof window){var DOMParser=new require("xmldom").DOMParser,URL=require("url"),HTTP=require("http"),Canvas=require("canvas"),Image=require("canvas").Image;fabric.util.loadImage=function(t,e){request(t,"binary",function(i){var n=new Image;n.src=new Buffer(i,"binary"),n._src=t,e(n)})},fabric.loadSVGFromURL=function(t,e){t=t.replace(/^\n\s*/,"").replace(/\?.*$/,"").trim(),request(t,"",function(t){var i=(new DOMParser).parseFromString(t);fabric.parseSVGDocument(i.documentElement,function(t,i){e(t,i)})})},fabric.util.getScript=function(url,callback){request(url,"",function(body){eval(body),callback&&callback()})},fabric.Image.fromObject=function(t,e){fabric.util.loadImage(t.src,function(i){var n=new fabric.Image(i);n._initConfig(t),n._initFilters(t),e(n)})},fabric.createCanvasForNode=function(t,e){var i=fabric.document.createElement("canvas"),n=new Canvas(t||600,e||600);i.style={},i.width=n.width,i.height=n.height;var s=fabric.Canvas||fabric.StaticCanvas,a=new s(i);return a.contextContainer=n.getContext("2d"),a.nodeCanvas=n,a},fabric.StaticCanvas.prototype.createPNGStream=function(){return this.nodeCanvas.createPNGStream()},fabric.Canvas&&fabric.Canvas.prototype.createPNGStream;var origSetWidth=fabric.StaticCanvas.prototype.setWidth;fabric.StaticCanvas.prototype.setWidth=function(t){return origSetWidth.call(this),this.nodeCanvas.width=t,this},fabric.Canvas&&(fabric.Canvas.prototype.setWidth=fabric.StaticCanvas.prototype.setWidth);var origSetHeight=fabric.StaticCanvas.prototype.setHeight;fabric.StaticCanvas.prototype.setHeight=function(t){return origSetHeight.call(this),this.nodeCanvas.height=t,this},fabric.Canvas&&(fabric.Canvas.prototype.setHeight=fabric.StaticCanvas.prototype.setHeight)}}(),$(function(){function t(){$(".megaMenu",this).show(),$(this).addClass("open")}function e(){$(".megaMenu",this).hide(),$(this).removeClass("open")}function i(){var t=$(".megaMenu ul").outerWidth(),e=$(".megaMenu .blueColumn").outerWidth(!0);$(".megaMenu").each(function(){var i=$("ul",this).length;$(".blueColumn",this).length>0?$(this).css({display:"none",visibility:"visible",width:t*i+e}):$(this).css({display:"none",visibility:"visible",width:t*i})})}var n={over:t,timeout:0,out:e};$("nav ul li.topLevel").hoverIntent(n),$(".megaMenu").each(function(){var t=$(this).children();equalHeight(t)}),i();var s=$("#basketDropDown").outerHeight();$("#basketTab").toggle(function(){$("#basketDropDown").show(),$("#basketContainer").css({"z-index":30}).animate({bottom:-s+8})},function(){$("#basketContainer").animate({bottom:8},function(){$("#basketDropDown").hide(),$(this).css({"z-index":10})})}),$("form#update-minicart a.delete").live("click",function(t){$(this).parent().siblings('div[data-hook="minicart_item_quantity"]').find("input.line_item_quantity").val(0),$(this).parents("form").first().submit(),t.preventDefault()})}),$(window).load(function(){function t(){$("h1, h2",this).fadeIn()}function e(){$("#heroSlider h1, #heroSlider h2").hide()}$("#heroSlider .heroSlide:first").fadeIn(function(){$("#heroSlider").cycle({after:t,before:e,next:"#heroControls .next",prev:"#heroControls .prev",slideResize:!1})}),$("#heroContainer").removeClass("loading"),$("#signCarousel .tileRow").fadeIn(),$("#signCarousel").removeClass("loading");var i=$(".signCarousel .imageTile"),n=$(i).length;1===n%2&&$(".signCarousel .tileRow .imageTile:last").remove()}),$(function(){function t(){$(this).parent(".bottomRow").length>0?$(this).css({borderWidth:2,opacity:1,zIndex:30}).stop(!0,!0).animate({bottom:-41,height:o+50,marginLeft:-s/2-2,opacity:1,width:l},300,"easeOutBack"):$(this).css({borderWidth:2,opacity:1,zIndex:30}).stop(!0,!0).animate({height:o+50,marginLeft:-s/2-2,opacity:1,top:-26,width:l},300,"easeOutBack"),$("img",this).stop(!0,!0).animate({height:o,width:l},300,"easeOutBack"),$(".infoPanel",this).stop(!0,!0).delay(300).fadeIn(300),$(i).find(n).not(this).stop(!0,!0).animate({opacity:.7})}function e(){$(this).parent(".bottomRow").length>0?$(this).stop(!0,!0).animate({bottom:0,height:a,marginLeft:0,width:r},100,"easeInBack",function(){$(this).css({borderWidth:1,zIndex:1})}):$(this).stop(!0,!0).animate({height:a,marginLeft:0,top:0,width:r},100,"easeInBack",function(){$(this).css({borderWidth:1,zIndex:1})}),$("img",this).stop(!0,!0).animate({height:a,width:r},100,"easeInBack"),$(".infoPanel",this).stop(!0,!0).hide(),$(i).find(n).not(this).stop(!0,!0).delay(200).animate({opacity:1})}$("#heroContainer").hover(function(){$("#heroControls .arrowControl",this).stop(!0,!0).fadeIn()},function(){$("#heroControls .arrowControl",this).stop(!0,!0).fadeOut()}),$(".arrowControl").hover(function(){$(".arrow",this).stop(!0,!0).animate({opacity:1})},function(){$(".arrow",this).stop(!0,!0).animate({opacity:.5})}),$("#createYourSignNow").hover(function(){$(this).stop(!0,!0).animate({bottom:"0"},100)},function(){$(this).stop(!0,!0).animate({bottom:"-3px"},100)}),$(".threeSteps .grid_4").hover(function(){$(".radialGradient",this).stop(!0,!0).fadeIn()},function(){$(".radialGradient",this).stop(!0,!0).fadeOut()}),$(".howArePeopleUsingSignApp").hover(function(){$(".arrowControl",this).stop(!0,!0).fadeIn()},function(){$(".arrowControl",this).stop(!0,!0).fadeOut()});var i=$(".signCarousel"),n=$(".signCarousel .imageTile"),s=n.outerWidth(),a=$(".signCarousel .imageTile img").height(),r=$(".signCarousel .imageTile img").width(),o=417,l=500,c=$(n).length,h=c/2;$(i).css({marginLeft:-s,width:s*h}),$(n).slice(0,h).wrapAll('<div class="tileRow topRow"></div>'),$(n).slice(h).wrapAll('<div class="tileRow bottomRow"></div>'),$(".tileRow").each(function(){$(this).find(".imageTile").each(function(t){var e=t*s;$(this).css("left",e+"px")})});var u={over:t,timeout:0,out:e};$(".imageTile").hoverIntent(u),$(".howArePeopleUsingSignApp .next").click(function(){var t=$(".signCarousel .tileRow .imageTile:last").position(),e=s*h;$(".signCarousel .tileRow").animate({left:"-="+s},"easeInOutExpo"),$(".signCarousel .tileRow.topRow .imageTile:last").after($(".signCarousel .tileRow.topRow .imageTile:first").css("left",t.left+s)),$(".signCarousel .tileRow.topRow .imageTile:last").css({left:t+e}),$(".signCarousel .tileRow.bottomRow .imageTile:last").after($(".signCarousel .tileRow.bottomRow .imageTile:first").css("left",t.left+s)),$(".signCarousel .tileRow.bottomRow .imageTile:last").css({left:t+e})}),$(".howArePeopleUsingSignApp .prev").click(function(){var t=$(".signCarousel .tileRow .imageTile:first").position(),e=s*h;$(".signCarousel .tileRow").animate({left:"+="+s}),$(".signCarousel .tileRow.topRow .imageTile:first").before($(".signCarousel .tileRow.topRow .imageTile:last").css("left",t.left-s)),$(".signCarousel .tileRow.topRow .imageTile:first").css({left:t+e}),$(".signCarousel .tileRow.bottomRow .imageTile:first").before($(".signCarousel .tileRow.bottomRow .imageTile:last").css("left",t.left-s)),$(".signCarousel .tileRow.bottomRow .imageTile:first").css({left:t+e})}),$(".featurePanels .grid_4").hover(function(){$(".icon",this).stop(!0,!0).animate({opacity:0}),$(".icon.hover",this).stop(!0,!0).animate({opacity:1}),$(".radialGradient",this).stop(!0,!0).fadeIn()},function(){$(".icon",this).stop(!0,!0).animate({opacity:1}),$(".icon.hover",this).stop(!0,!0).animate({opacity:0}),$(".radialGradient",this).stop(!0,!0).fadeOut()})}),function(t){t.fn.hoverIntent=function(e,i){var n={sensitivity:7,interval:100,timeout:0};n=t.extend(n,i?{over:e,out:i}:e);var s,a,r,o,l=function(t){s=t.pageX,a=t.pageY},c=function(e,i){return i.hoverIntent_t=clearTimeout(i.hoverIntent_t),Math.abs(r-s)+Math.abs(o-a)<n.sensitivity?(t(i).unbind("mousemove",l),i.hoverIntent_s=1,n.over.apply(i,[e])):(r=s,o=a,i.hoverIntent_t=setTimeout(function(){c(e,i)},n.interval),void 0)},h=function(t,e){return e.hoverIntent_t=clearTimeout(e.hoverIntent_t),e.hoverIntent_s=0,n.out.apply(e,[t])},u=function(e){var i=jQuery.extend({},e),s=this;s.hoverIntent_t&&(s.hoverIntent_t=clearTimeout(s.hoverIntent_t)),"mouseenter"==e.type?(r=i.pageX,o=i.pageY,t(s).bind("mousemove",l),1!=s.hoverIntent_s&&(s.hoverIntent_t=setTimeout(function(){c(i,s)},n.interval))):(t(s).unbind("mousemove",l),1==s.hoverIntent_s&&(s.hoverIntent_t=setTimeout(function(){h(i,s)},n.timeout)))};return this.bind("mouseenter",u).bind("mouseleave",u)}}(jQuery),function(t){function e(t){var e=t.data("_ARS_data");return e||(e={rotateUnits:"deg",scale:1,rotate:0},t.data("_ARS_data",e)),e}function i(t,e){t.css("transform","rotate("+e.rotate+e.rotateUnits+") scale("+e.scale+","+e.scale+")")}t.fn.rotate=function(n){var s,a=t(this),r=e(a);return"undefined"==typeof n?r.rotate+r.rotateUnits:(s=n.toString().match(/^(-?\d+(\.\d+)?)(.+)?$/),s&&(s[3]&&(r.rotateUnits=s[3]),r.rotate=s[1],i(a,r)),this)},t.fn.scale=function(n){var s=t(this),a=e(s);return"undefined"==typeof n?a.scale:(a.scale=n,i(s,a),this)};var n=t.fx.prototype.cur;t.fx.prototype.cur=function(){return"rotate"==this.prop?parseFloat(t(this.elem).rotate()):"scale"==this.prop?parseFloat(t(this.elem).scale()):n.apply(this,arguments)},t.fx.step.rotate=function(i){var n=e(t(i.elem));t(i.elem).rotate(i.now+n.rotateUnits)},t.fx.step.scale=function(e){t(e.elem).scale(e.now)};var s=t.fn.animate;t.fn.animate=function(i){if("undefined"!=typeof i.rotate){var n,a,r=i.rotate.toString().match(/^(([+-]=)?(-?\d+(\.\d+)?))(.+)?$/);r&&r[5]&&(n=t(this),a=e(n),a.rotateUnits=r[5]),i.rotate=r[1]}return s.apply(this,arguments)}}(jQuery),jQuery.base64=function(){function t(t,e){var i=a.indexOf(t.charAt(e));if(-1===i)throw"Cannot decode base64";return i}function e(e){var i,n,a=0,r=e.length,o=[];if(e=String(e),0===r)return e;if(0!==r%4)throw"Cannot decode base64";for(e.charAt(r-1)===s&&(a=1,e.charAt(r-2)===s&&(a=2),r-=4),i=0;r>i;i+=4)n=t(e,i)<<18|t(e,i+1)<<12|t(e,i+2)<<6|t(e,i+3),o.push(String.fromCharCode(n>>16,255&n>>8,255&n));switch(a){case 1:n=t(e,i)<<18|t(e,i+1)<<12|t(e,i+2)<<6,o.push(String.fromCharCode(n>>16,255&n>>8));break;case 2:n=t(e,i)<<18|t(e,i+1)<<12,o.push(String.fromCharCode(n>>16))}return o.join("")}function i(t,e){var i=t.charCodeAt(e);if(i>255)throw"INVALID_CHARACTER_ERR: DOM Exception 5";return i}function n(t){if(1!==arguments.length)throw"SyntaxError: exactly one argument required";t=String(t);var e,n,r=[],o=t.length-t.length%3;if(0===t.length)return t;for(e=0;o>e;e+=3)n=i(t,e)<<16|i(t,e+1)<<8|i(t,e+2),r.push(a.charAt(n>>18)),r.push(a.charAt(63&n>>12)),r.push(a.charAt(63&n>>6)),r.push(a.charAt(63&n));switch(t.length-o){case 1:n=i(t,e)<<16,r.push(a.charAt(n>>18)+a.charAt(63&n>>12)+s+s);break;case 2:n=i(t,e)<<16|i(t,e+1)<<8,r.push(a.charAt(n>>18)+a.charAt(63&n>>12)+a.charAt(63&n>>6)+s)}return r.join("")}var s="=",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r="1.0";return{decode:e,encode:n,VERSION:r}}(jQuery),function(t){function e(t){for(var e,i=["transform","WebkitTransform","msTransform","MozTransform","OTransform"];e=i.shift();)if("undefined"!=typeof t.style[e])return e;return"transform"}var i=null,n=t.fn.css;t.fn.css=function(s,a){if(null===i&&(i="undefined"!=typeof t.cssProps?t.cssProps:"undefined"!=typeof t.props?t.props:{}),"undefined"==typeof i.transform&&("transform"==s||"object"==typeof s&&"undefined"!=typeof s.transform)&&(i.transform=e(this.get(0))),"transform"!=i.transform)if("transform"==s){if(s=i.transform,"undefined"==typeof a&&jQuery.style)return jQuery.style(this.get(0),s)}else"object"==typeof s&&"undefined"!=typeof s.transform&&(s[i.transform]=s.transform,delete s.transform);return n.apply(this,arguments)}}(jQuery),function(t,e,i,n){var s=i(t),a=i(e),r=i.fancybox=function(){r.open.apply(this,arguments)},o=!1,l=e.createTouch!==n,c=function(t){return"string"===i.type(t)},h=function(t,e){return e&&c(t)&&0<t.indexOf("%")&&(t=r.getViewport()[e]/100*parseInt(t,10)),Math.round(t)+"px"};i.extend(r,{version:"2.0.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,autoSize:!0,autoResize:!l,autoCenter:!l,fitToView:!0,aspectRatio:!1,topRatio:.5,fixed:!1,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},keys:{next:[13,32,34,39,40],prev:[8,33,37,38],close:[27]},tpl:{wrap:'<div class="fancybox-wrap"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe class="fancybox-iframe" name="fancybox-frame{rnd}" frameborder="0" hspace="0"'+(i.browser.msie?' allowtransparency="true"':"")+"></iframe>",swf:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="wmode" value="transparent" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{href}" /><embed src="{href}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="100%" height="100%" wmode="transparent"></embed></object>',error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<div title="Close" class="fancybox-item fancybox-close"></div>',next:'<a title="Next" class="fancybox-nav fancybox-next"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev"><span></span></a>'},openEffect:"fade",openSpeed:300,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:300,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:300,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:300,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:{speedIn:0,speedOut:300,opacity:.8,css:{cursor:"pointer"},closeClick:!0},title:{type:"float"}}},group:{},opts:{},coming:null,current:null,isOpen:!1,isOpened:!1,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(t,e){r.close(!0),t&&!i.isArray(t)&&(t=t instanceof i?i(t).get():[t]),r.isActive=!0,r.opts=i.extend(!0,{},r.defaults,e),i.isPlainObject(e)&&e.keys!==n&&(r.opts.keys=e.keys?i.extend({},r.defaults.keys,e.keys):!1),r.group=t,r._start(r.opts.index||0)},cancel:function(){r.coming&&!1===r.trigger("onCancel")||(r.coming=null,r.hideLoading(),r.ajaxLoad&&r.ajaxLoad.abort(),r.ajaxLoad=null,r.imgPreload&&(r.imgPreload.onload=r.imgPreload.onabort=r.imgPreload.onerror=null))},close:function(t){r.cancel(),r.current&&!1!==r.trigger("beforeClose")&&(r.unbindEvents(),!r.isOpen||t&&!0===t[0]?(i(".fancybox-wrap").stop().trigger("onReset").remove(),r._afterZoomOut()):(r.isOpen=r.isOpened=!1,i(".fancybox-item, .fancybox-nav").remove(),r.wrap.stop(!0).removeClass("fancybox-opened"),r.inner.css("overflow","hidden"),r.transitions[r.current.closeMethod]()))},play:function(t){var e=function(){clearTimeout(r.player.timer)},n=function(){e(),r.current&&r.player.isActive&&(r.player.timer=setTimeout(r.next,r.current.playSpeed))},s=function(){e(),i("body").unbind(".player"),r.player.isActive=!1,r.trigger("onPlayEnd")};r.player.isActive||t&&!1===t[0]?s():r.current&&(r.current.loop||r.current.index<r.group.length-1)&&(r.player.isActive=!0,i("body").bind({"afterShow.player onUpdate.player":n,"onCancel.player beforeClose.player":s,"beforeLoad.player":e}),n(),r.trigger("onPlayStart"))},next:function(){r.current&&r.jumpto(r.current.index+1)},prev:function(){r.current&&r.jumpto(r.current.index-1)},jumpto:function(t){r.current&&(t=parseInt(t,10),1<r.group.length&&r.current.loop&&(t>=r.group.length?t=0:0>t&&(t=r.group.length-1)),r.group[t]!==n&&(r.cancel(),r._start(t)))},reposition:function(t,e){var i;r.isOpen&&(i=r._getPosition(e),t&&"scroll"===t.type?(delete i.position,r.wrap.stop(!0,!0).animate(i,200)):r.wrap.css(i))},update:function(t){r.isOpen&&(o||setTimeout(function(){var e=r.current,i=!t||t&&"orientationchange"===t.type;o&&(o=!1,e)&&((!t||"scroll"!==t.type||i)&&(e.autoSize&&"iframe"!==e.type&&(r.inner.height("auto"),e.height=r.inner.height()),(e.autoResize||i)&&r._setDimension(),e.canGrow&&"iframe"!==e.type&&r.inner.height("auto")),(e.autoCenter||i)&&r.reposition(t),r.trigger("onUpdate"))},200),o=!0)},toggle:function(){r.isOpen&&(r.current.fitToView=!r.current.fitToView,r.update())},hideLoading:function(){a.unbind("keypress.fb"),i("#fancybox-loading").remove()},showLoading:function(){r.hideLoading(),a.bind("keypress.fb",function(t){27===t.keyCode&&(t.preventDefault(),r.cancel())}),i('<div id="fancybox-loading"><div></div></div>').click(r.cancel).appendTo("body")},getViewport:function(){return{x:s.scrollLeft(),y:s.scrollTop(),w:l&&t.innerWidth?t.innerWidth:s.width(),h:l&&t.innerHeight?t.innerHeight:s.height()}},unbindEvents:function(){r.wrap&&r.wrap.unbind(".fb"),a.unbind(".fb"),s.unbind(".fb")},bindEvents:function(){var t=r.current,e=t.keys;t&&(s.bind("resize.fb orientationchange.fb"+(t.autoCenter&&!t.fixed?" scroll.fb":""),r.update),e&&a.bind("keydown.fb",function(t){var n;n=t.target||t.srcElement,t.ctrlKey||t.altKey||t.shiftKey||t.metaKey||n&&(n.type||i(n).is("[contenteditable]"))||(n=t.keyCode,-1<i.inArray(n,e.close)?(r.close(),t.preventDefault()):-1<i.inArray(n,e.next)?(r.next(),t.preventDefault()):-1<i.inArray(n,e.prev)&&(r.prev(),t.preventDefault()))}),i.fn.mousewheel&&t.mouseWheel&&1<r.group.length&&r.wrap.bind("mousewheel.fb",function(t,e){var i=t.target||null;0===e||i&&0!==i.clientHeight&&(i.scrollHeight!==i.clientHeight||i.scrollWidth!==i.clientWidth)||(t.preventDefault(),r[e>0?"prev":"next"]())}))},trigger:function(t,e){var n,s=e||r[-1<i.inArray(t,["onCancel","beforeLoad","afterLoad"])?"coming":"current"];if(s){if(i.isFunction(s[t])&&(n=s[t].apply(s,Array.prototype.slice.call(arguments,1))),!1===n)return!1;s.helpers&&i.each(s.helpers,function(e,n){n&&i.isPlainObject(r.helpers[e])&&i.isFunction(r.helpers[e][t])&&r.helpers[e][t](n,s)}),i.event.trigger(t+".fb")}},isImage:function(t){return c(t)&&t.match(/\.(jpe?g|gif|png|bmp)((\?|#).*)?$/i)},isSWF:function(t){return c(t)&&t.match(/\.(swf)((\?|#).*)?$/i)},_start:function(t){var e,n,s,a={},o=r.group[t]||null;if(o&&(o.nodeType||o instanceof i)&&(e=!0,i.metadata&&(a=i(o).metadata())),a=i.extend(!0,{},r.opts,{index:t,element:o},i.isPlainObject(o)?o:a),i.each(["href","title","content","type"],function(t,n){a[n]=r.opts[n]||e&&i(o).attr(n)||a[n]||null}),"number"==typeof a.margin&&(a.margin=[a.margin,a.margin,a.margin,a.margin]),a.modal&&i.extend(!0,a,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{css:{cursor:"auto"},closeClick:!1}}}),r.coming=a,!1===r.trigger("beforeLoad"))r.coming=null;else switch(n=a.type,t=a.href||o,n||(e&&(n=i(o).data("fancybox-type"),n||(n=(n=o.className.match(/fancybox\.(\w+)/))?n[1]:null)),!n&&c(t)&&(r.isImage(t)?n="image":r.isSWF(t)?n="swf":t.match(/^#/)&&(n="inline")),n||(n=e?"inline":"html"),a.type=n),"inline"===n||"html"===n?(a.content||(a.content="inline"===n?i(c(t)?t.replace(/.*(?=#[^\s]+$)/,""):t):o),a.content&&a.content.length||(n=null)):t||(n=null),"ajax"===n&&c(t)&&(s=t.split(/\s+/,2),t=s.shift(),a.selector=s.shift()),a.href=t,a.group=r.group,a.isDom=e,n){case"image":r._loadImage();break;case"ajax":r._loadAjax();break;case"inline":case"iframe":case"swf":case"html":r._afterLoad();break;default:r._error("type")}},_error:function(t){r.hideLoading(),i.extend(r.coming,{type:"html",autoSize:!0,minWidth:0,minHeight:0,padding:15,hasError:t,content:r.coming.tpl.error}),r._afterLoad()},_loadImage:function(){var t=r.imgPreload=new Image;t.onload=function(){this.onload=this.onerror=null,r.coming.width=this.width,r.coming.height=this.height,r._afterLoad()},t.onerror=function(){this.onload=this.onerror=null,r._error("image")},t.src=r.coming.href,(t.complete===n||!t.complete)&&r.showLoading()},_loadAjax:function(){r.showLoading(),r.ajaxLoad=i.ajax(i.extend({},r.coming.ajax,{url:r.coming.href,error:function(t,e){r.coming&&"abort"!==e?r._error("ajax",t):r.hideLoading()},success:function(t,e){"success"===e&&(r.coming.content=t,r._afterLoad())}}))},_preloadImages:function(){var t,e,n,s=r.group,a=r.current,o=s.length,l=Math.min(a.preload,o-1);if(a.preload&&!(2>s.length))for(n=1;l>=n;n+=1)t=s[(a.index+n)%o],e=t.href||i(t).attr("href")||t,("image"===t.type||r.isImage(e))&&((new Image).src=e)},_afterLoad:function(){r.hideLoading(),r.coming&&!1!==r.trigger("afterLoad",r.current)?(r.isOpened?(i(".fancybox-item, .fancybox-nav").remove(),r.wrap.stop(!0).removeClass("fancybox-opened"),r.inner.css("overflow","hidden"),r.transitions[r.current.prevMethod]()):(i(".fancybox-wrap").stop().trigger("onReset").remove(),r.trigger("afterClose")),r.unbindEvents(),r.isOpen=!1,r.current=r.coming,r.wrap=i(r.current.tpl.wrap).addClass("fancybox-"+(l?"mobile":"desktop")+" fancybox-type-"+r.current.type+" fancybox-tmp "+r.current.wrapCSS).appendTo("body"),r.skin=i(".fancybox-skin",r.wrap).css("padding",h(r.current.padding)),r.outer=i(".fancybox-outer",r.wrap),r.inner=i(".fancybox-inner",r.wrap),r._setContent()):r.coming=!1},_setContent:function(){var t=r.current,e=t.content,n=t.type,s=t.minWidth,a=t.minHeight,o=t.maxWidth,c=t.maxHeight;switch(n){case"inline":case"ajax":case"html":t.selector?e=i("<div>").html(e).find(t.selector):e instanceof i&&(e.parent().hasClass("fancybox-inner")&&e.parents(".fancybox-wrap").unbind("onReset"),e=e.show().detach(),i(r.wrap).bind("onReset",function(){e.appendTo("body").hide()})),t.autoSize&&(s=i('<div class="fancybox-wrap '+r.current.wrapCSS+' fancybox-tmp"></div>').appendTo("body").css({minWidth:h(s,"w"),minHeight:h(a,"h"),maxWidth:h(o,"w"),maxHeight:h(c,"h")}).append(e),t.width=s.width(),t.height=s.height(),s.width(r.current.width),s.height()>t.height&&(s.width(t.width+1),t.width=s.width(),t.height=s.height()),e=s.contents().detach(),s.remove());break;case"image":e=t.tpl.image.replace("{href}",t.href),t.aspectRatio=!0;break;case"swf":e=t.tpl.swf.replace(/\{width\}/g,t.width).replace(/\{height\}/g,t.height).replace(/\{href\}/g,t.href);break;case"iframe":e=i(t.tpl.iframe.replace("{rnd}",(new Date).getTime())).attr("scrolling",t.scrolling).attr("src",t.href),t.scrolling=l?"scroll":"auto"}("image"===n||"swf"===n)&&(t.autoSize=!1,t.scrolling="visible"),"iframe"===n&&t.autoSize?(r.showLoading(),r._setDimension(),r.inner.css("overflow",t.scrolling),e.bind({onCancel:function(){i(this).unbind(),r._afterZoomOut()},load:function(){r.hideLoading();try{this.contentWindow.document.location&&(r.current.height=i(this).contents().find("body").height())}catch(t){r.current.autoSize=!1}r[r.isOpen?"_afterZoomIn":"_beforeShow"]()}}).appendTo(r.inner)):(r.inner.append(e),r._beforeShow())},_beforeShow:function(){r.coming=null,r.trigger("beforeShow"),r._setDimension(),r.wrap.hide().removeClass("fancybox-tmp"),r.bindEvents(),r._preloadImages(),r.transitions[r.isOpened?r.current.nextMethod:r.current.openMethod]()},_setDimension:function(){var t,e=r.wrap,n=r.inner,s=r.current,a=r.getViewport(),o=s.margin,l=2*s.padding,u=s.width,d=s.height,f=s.maxWidth+l,p=s.maxHeight+l,g=s.minWidth+l,m=s.minHeight+l;if(a.w-=o[1]+o[3],a.h-=o[0]+o[2],c(u)&&0<u.indexOf("%")&&(u=(a.w-l)*parseFloat(u)/100),c(d)&&0<d.indexOf("%")&&(d=(a.h-l)*parseFloat(d)/100),o=u/d,u+=l,d+=l,s.fitToView&&(f=Math.min(a.w,f),p=Math.min(a.h,p)),s.aspectRatio?(u>f&&(u=f,d=(u-l)/o+l),d>p&&(d=p,u=(d-l)*o+l),g>u&&(u=g,d=(u-l)/o+l),m>d&&(d=m,u=(d-l)*o+l)):(u=Math.max(g,Math.min(u,f)),d=Math.max(m,Math.min(d,p))),u=Math.round(u),d=Math.round(d),i(e.add(n)).width("auto").height("auto"),n.width(u-l).height(d-l),e.width(u),t=e.height(),u>f||t>p)for(;(u>f||t>p)&&u>g&&t>m;)d-=10,s.aspectRatio?(u=Math.round((d-l)*o+l),g>u&&(u=g,d=(u-l)/o+l)):u-=10,n.width(u-l).height(d-l),e.width(u),t=e.height();s.dim={width:h(u),height:h(t)},s.canGrow=s.autoSize&&d>m&&p>d,s.canShrink=!1,s.canExpand=!1,u-l<s.width||d-l<s.height?s.canExpand=!0:(u>a.w||t>a.h)&&u>g&&d>m&&(s.canShrink=!0),r.innerSpace=t-l-n.height()},_getPosition:function(t){var e=r.current,i=r.getViewport(),n=e.margin,s=r.wrap.width()+n[1]+n[3],a=r.wrap.height()+n[0]+n[2],o={position:"absolute",top:n[0]+i.y,left:n[3]+i.x};return e.autoCenter&&e.fixed&&!t&&a<=i.h&&s<=i.w&&(o={position:"fixed",top:n[0],left:n[3]}),o.top=h(Math.max(o.top,o.top+(i.h-a)*e.topRatio)),o.left=h(Math.max(o.left,o.left+.5*(i.w-s))),o},_afterZoomIn:function(){var t=r.current,e=t?t.scrolling:"no";t&&(r.isOpen=r.isOpened=!0,r.wrap.addClass("fancybox-opened"),r.inner.css("overflow","yes"===e?"scroll":"no"===e?"hidden":e),r.trigger("afterShow"),r.update(),(t.closeClick||t.nextClick)&&r.inner.css("cursor","pointer").bind("click.fb",function(e){i(e.target).is("a")||i(e.target).parent().is("a")||r[t.closeClick?"close":"next"]()}),t.closeBtn&&i(t.tpl.closeBtn).appendTo(r.skin).bind("click.fb",r.close),t.arrows&&1<r.group.length&&((t.loop||0<t.index)&&i(t.tpl.prev).appendTo(r.outer).bind("click.fb",r.prev),(t.loop||t.index<r.group.length-1)&&i(t.tpl.next).appendTo(r.outer).bind("click.fb",r.next)),r.opts.autoPlay&&!r.player.isActive)&&(r.opts.autoPlay=!1,r.play())},_afterZoomOut:function(){var t=r.current;r.wrap.trigger("onReset").remove(),i.extend(r,{group:{},opts:{},current:null,isActive:!1,isOpened:!1,isOpen:!1,wrap:null,skin:null,outer:null,inner:null}),r.trigger("afterClose",t)}}),r.transitions={getOrigPosition:function(){var t=r.current,e=t.element,n=t.padding,s=i(t.orig),a={},o=50,l=50;return!s.length&&t.isDom&&i(e).is(":visible")&&(s=i(e).find("img:first"),s.length||(s=i(e))),s.length?(a=s.offset(),s.is("img")&&(o=s.outerWidth(),l=s.outerHeight())):(t=r.getViewport(),a.top=t.y+.5*(t.h-l),a.left=t.x+.5*(t.w-o)),a={top:h(a.top-n),left:h(a.left-n),width:h(o+2*n),height:h(l+2*n)}},step:function(t,e){var i,n,s=e.prop;("width"===s||"height"===s)&&(i=Math.ceil(t-2*r.current.padding),"height"===s&&(n=(t-e.start)/(e.end-e.start),e.start>e.end&&(n=1-n),i-=r.innerSpace*n),r.inner[s](i))},zoomIn:function(){var t=r.wrap,e=r.current,n=e.openEffect,s="elastic"===n,a=i.extend({},e.dim,r._getPosition(s)),o=i.extend({opacity:1},a);delete o.position,s?(a=this.getOrigPosition(),e.openOpacity&&(a.opacity=0),r.outer.add(r.inner).width("auto").height("auto")):"fade"===n&&(a.opacity=0),t.css(a).show().animate(o,{duration:"none"===n?0:e.openSpeed,easing:e.openEasing,step:s?this.step:null,complete:r._afterZoomIn})},zoomOut:function(){var t=r.wrap,e=r.current,i=e.openEffect,n="elastic"===i,s={opacity:0};n&&("fixed"===t.css("position")&&t.css(r._getPosition(!0)),s=this.getOrigPosition(),e.closeOpacity&&(s.opacity=0)),t.animate(s,{duration:"none"===i?0:e.closeSpeed,easing:e.closeEasing,step:n?this.step:null,complete:r._afterZoomOut})},changeIn:function(){var t=r.wrap,e=r.current,i=e.nextEffect,n="elastic"===i,s=r._getPosition(n),a={opacity:1};s.opacity=0,n&&(s.top=h(parseInt(s.top,10)-200),a.top="+=200px"),t.css(s).show().animate(a,{duration:"none"===i?0:e.nextSpeed,easing:e.nextEasing,complete:r._afterZoomIn})},changeOut:function(){var t=r.wrap,e=r.current,n=e.prevEffect,s={opacity:0};t.removeClass("fancybox-opened"),"elastic"===n&&(s.top="+=200px"),t.animate(s,{duration:"none"===n?0:e.prevSpeed,easing:e.prevEasing,complete:function(){i(this).trigger("onReset").remove()}})}},r.helpers.overlay={overlay:null,update:function(){var t,n;this.overlay.width("100%").height("100%"),i.browser.msie||l?(t=Math.max(e.documentElement.scrollWidth,e.body.scrollWidth),n=Math.max(e.documentElement.offsetWidth,e.body.offsetWidth),t=n>t?s.width():t):t=a.width(),this.overlay.width(t).height(a.height())},beforeShow:function(t){this.overlay||(t=i.extend(!0,{},r.defaults.helpers.overlay,t),this.overlay=i('<div id="fancybox-overlay"></div>').css(t.css).appendTo("body"),t.closeClick&&this.overlay.bind("click.fb",r.close),r.current.fixed&&!l?this.overlay.addClass("overlay-fixed"):(this.update(),this.onUpdate=function(){this.update()}),this.overlay.fadeTo(t.speedIn,t.opacity))},afterClose:function(t){this.overlay&&this.overlay.fadeOut(t.speedOut||0,function(){i(this).remove()}),this.overlay=null}},r.helpers.title={beforeShow:function(t){var e;(e=r.current.title)&&(e=i('<div class="fancybox-title fancybox-title-'+t.type+'-wrap">'+e+"</div>").appendTo("body"),"float"===t.type&&(e.width(e.width()),e.wrapInner('<span class="child"></span>'),r.current.margin[2]+=Math.abs(parseInt(e.css("margin-bottom"),10))),e.appendTo("over"===t.type?r.inner:"outside"===t.type?r.wrap:r.skin))}},i.fn.fancybox=function(t){var e,n=i(this),s=this.selector||"",o=function(a){var o,l=this,c=e;!(a.ctrlKey||a.altKey||a.shiftKey||a.metaKey||i(l).is(".fancybox-wrap")||(a.preventDefault(),a=t.groupAttr||"data-fancybox-group",o=i(l).attr(a),o||(a="rel",o=l[a]),o&&""!==o&&"nofollow"!==o&&(l=s.length?i(s):n,l=l.filter("["+a+'="'+o+'"]'),c=l.index(this)),t.index=c,!r.open(l,t)))},t=t||{};return e=t.index||0,s?a.undelegate(s,"click.fb-start").delegate(s,"click.fb-start",o):n.unbind("click.fb-start").bind("click.fb-start",o),this},i(e).ready(function(){r.defaults.fixed=i.support.fixedPosition||!(i.browser.msie&&6>=i.browser.version)&&!l})}(window,document,jQuery),/*! jQuery UI - v1.8.23 - 2012-08-15
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.core.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
function(t,e){function i(e,i){var s=e.nodeName.toLowerCase();if("area"===s){var a,r=e.parentNode,o=r.name;return e.href&&o&&"map"===r.nodeName.toLowerCase()?(a=t("img[usemap=#"+o+"]")[0],!!a&&n(a)):!1}return(/input|select|textarea|button|object/.test(s)?!e.disabled:"a"==s?e.href||i:i)&&n(e)}function n(e){return!t(e).parents().andSelf().filter(function(){return"hidden"===t.curCSS(this,"visibility")||t.expr.filters.hidden(this)}).length}t.ui=t.ui||{},t.ui.version||(t.extend(t.ui,{version:"1.8.23",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),t.fn.extend({propAttr:t.fn.prop||t.fn.attr,_focus:t.fn.focus,focus:function(e,i){return"number"==typeof e?this.each(function(){var n=this;setTimeout(function(){t(n).focus(),i&&i.call(n)},e)}):this._focus.apply(this,arguments)},scrollParent:function(){var e;return e=t.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.curCSS(this,"position",1))&&/(auto|scroll)/.test(t.curCSS(this,"overflow",1)+t.curCSS(this,"overflow-y",1)+t.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.curCSS(this,"overflow",1)+t.curCSS(this,"overflow-y",1)+t.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(i){if(i!==e)return this.css("zIndex",i);if(this.length)for(var n,s,a=t(this[0]);a.length&&a[0]!==document;){if(n=a.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(s=parseInt(a.css("zIndex"),10),!isNaN(s)&&0!==s))return s;a=a.parent()}return 0},disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(i,n){function s(e,i,n,s){return t.each(a,function(){i-=parseFloat(t.curCSS(e,"padding"+this,!0))||0,n&&(i-=parseFloat(t.curCSS(e,"border"+this+"Width",!0))||0),s&&(i-=parseFloat(t.curCSS(e,"margin"+this,!0))||0)}),i}var a="Width"===n?["Left","Right"]:["Top","Bottom"],r=n.toLowerCase(),o={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+n]=function(i){return i===e?o["inner"+n].call(this):this.each(function(){t(this).css(r,s(this,i)+"px")})},t.fn["outer"+n]=function(e,i){return"number"!=typeof e?o["outer"+n].call(this,e):this.each(function(){t(this).css(r,s(this,e,!0,i)+"px")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])},focusable:function(e){return i(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var n=t.attr(e,"tabindex"),s=isNaN(n);return(s||n>=0)&&i(e,!s)}}),t(function(){var e=document.body,i=e.appendChild(i=document.createElement("div"));i.offsetHeight,t.extend(i.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),t.support.minHeight=100===i.offsetHeight,t.support.selectstart="onselectstart"in i,e.removeChild(i).style.display="none"}),t.curCSS||(t.curCSS=t.css),t.extend(t.ui,{plugin:{add:function(e,i,n){var s=t.ui[e].prototype;for(var a in n)s.plugins[a]=s.plugins[a]||[],s.plugins[a].push([i,n[a]])},call:function(t,e,i){var n=t.plugins[e];if(n&&t.element[0].parentNode)for(var s=0;s<n.length;s++)t.options[n[s][0]]&&n[s][1].apply(t.element,i)}},contains:function(t,e){return document.compareDocumentPosition?16&t.compareDocumentPosition(e):t!==e&&t.contains(e)},hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",s=!1;return e[n]>0?!0:(e[n]=1,s=e[n]>0,e[n]=0,s)},isOverAxis:function(t,e,i){return t>e&&e+i>t},isOver:function(e,i,n,s,a,r){return t.ui.isOverAxis(e,n,a)&&t.ui.isOverAxis(i,s,r)}}))}(jQuery),/*! jQuery UI - v1.8.23 - 2012-08-15
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.widget.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
function(t,e){if(t.cleanData){var i=t.cleanData;t.cleanData=function(e){for(var n,s=0;null!=(n=e[s]);s++)try{t(n).triggerHandler("remove")}catch(a){}i(e)}}else{var n=t.fn.remove;t.fn.remove=function(e,i){return this.each(function(){return i||(!e||t.filter(e,[this]).length)&&t("*",this).add([this]).each(function(){try{t(this).triggerHandler("remove")}catch(e){}}),n.call(t(this),e,i)})}}t.widget=function(e,i,n){var s,a=e.split(".")[0];e=e.split(".")[1],s=a+"-"+e,n||(n=i,i=t.Widget),t.expr[":"][s]=function(i){return!!t.data(i,e)},t[a]=t[a]||{},t[a][e]=function(t,e){arguments.length&&this._createWidget(t,e)};var r=new i;r.options=t.extend(!0,{},r.options),t[a][e].prototype=t.extend(!0,r,{namespace:a,widgetName:e,widgetEventPrefix:t[a][e].prototype.widgetEventPrefix||e,widgetBaseClass:s},n),t.widget.bridge(e,t[a][e])},t.widget.bridge=function(i,n){t.fn[i]=function(s){var a="string"==typeof s,r=Array.prototype.slice.call(arguments,1),o=this;return s=!a&&r.length?t.extend.apply(null,[!0,s].concat(r)):s,a&&"_"===s.charAt(0)?o:(a?this.each(function(){var n=t.data(this,i),a=n&&t.isFunction(n[s])?n[s].apply(n,r):n;return a!==n&&a!==e?(o=a,!1):void 0}):this.each(function(){var e=t.data(this,i);e?e.option(s||{})._init():t.data(this,i,new n(s,this))}),o)}},t.Widget=function(t,e){arguments.length&&this._createWidget(t,e)},t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(e,i){t.data(i,this.widgetName,this),this.element=t(i),this.options=t.extend(!0,{},this.options,this._getCreateOptions(),e);var n=this;this.element.bind("remove."+this.widgetName,function(){n.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return t.metadata&&t.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled "+"ui-state-disabled")},widget:function(){return this.element},option:function(i,n){var s=i;if(0===arguments.length)return t.extend({},this.options);if("string"==typeof i){if(n===e)return this.options[i];s={},s[i]=n}return this._setOptions(s),this},_setOptions:function(e){var i=this;return t.each(e,function(t,e){i._setOption(t,e)}),this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&this.widget()[e?"addClass":"removeClass"](this.widgetBaseClass+"-disabled"+" "+"ui-state-disabled").attr("aria-disabled",e),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(e,i,n){var s,a,r=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],a=i.originalEvent,a)for(s in a)s in i||(i[s]=a[s]);return this.element.trigger(i,n),!(t.isFunction(r)&&r.call(this.element[0],i,n)===!1||i.isDefaultPrevented())}}}(jQuery),/*! jQuery UI - v1.8.23 - 2012-08-15
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.mouse.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
function(t){var e=!1;t(document).mouseup(function(){e=!1}),t.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!e){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,s=1==i.which,a="string"==typeof this.options.cancel&&i.target.nodeName?t(i.target).closest(this.options.cancel).length:!1;return s&&!a&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===t.data(i.target,this.widgetName+".preventClickEvent")&&t.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),e=!0,!0)):!0}},_mouseMove:function(e){return!t.browser.msie||document.documentMode>=9||e.button?this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted):this._mouseUp(e)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target==this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),/*! jQuery UI - v1.8.23 - 2012-08-15
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.draggable.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
function(t){t.widget("ui.draggable",t.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"==this.options.helper&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},destroy:function(){return this.element.data("draggable")?(this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this):void 0},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(e),this.handle?(i.iframeFix&&t(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){t('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),i.containment&&this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,i){if(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",e,n)===!1)return this._mouseUp({}),!1;this.position=n.position}return this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=!1;t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1);for(var n=this.element[0],s=!1;n&&(n=n.parentNode);)n==document&&(s=!0);if(!s&&"original"===this.options.helper)return!1;if("invalid"==this.options.revert&&!i||"valid"==this.options.revert&&i||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)){var a=this;t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){a._trigger("stop",e)!==!1&&a._clear()})}else this._trigger("stop",e)!==!1&&this._clear();return!1},_mouseUp:function(e){return this.options.iframeFix===!0&&t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){var i=this.options.handle&&t(this.options.handle,this.element).length?!1:!0;return t(this.options.handle,this.element).find("*").andSelf().each(function(){this==e.target&&(i=!0)}),i},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e])):"clone"==i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"==i.appendTo?this.element[0].parentNode:i.appendTo),n[0]!=this.element[0]&&!/(fixed|absolute)/.test(n.css("position"))&&n.css("position","absolute"),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&t.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&t.browser.msie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e=this.options;if("parent"==e.containment&&(e.containment=this.helper[0].parentNode),("document"==e.containment||"window"==e.containment)&&(this.containment=["document"==e.containment?0:t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==e.containment?0:t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==e.containment?0:t(window).scrollLeft())+t("document"==e.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==e.containment?0:t(window).scrollTop())+(t("document"==e.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(e.containment)||e.containment.constructor==Array)e.containment.constructor==Array&&(this.containment=e.containment);else{var i=t(e.containment),n=i[0];if(!n)return;var s=(i.offset(),"hidden"!=t(n).css("overflow"));this.containment=[(parseInt(t(n).css("borderLeftWidth"),10)||0)+(parseInt(t(n).css("paddingLeft"),10)||0),(parseInt(t(n).css("borderTopWidth"),10)||0)+(parseInt(t(n).css("paddingTop"),10)||0),(s?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(t(n).css("borderLeftWidth"),10)||0)-(parseInt(t(n).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(s?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(t(n).css("borderTopWidth"),10)||0)-(parseInt(t(n).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i}},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"==e?1:-1,s=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&t.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),a=/(html|body)/i.test(s[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-(t.browser.safari&&t.browser.version<526&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():a?0:s.scrollTop())*n),left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-(t.browser.safari&&t.browser.version<526&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():a?0:s.scrollLeft())*n)}},_generatePosition:function(e){var i=this.options,n="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&t.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(n[0].tagName),a=e.pageX,r=e.pageY;if(this.originalPosition){var o;if(this.containment){if(this.relative_container){var l=this.relative_container.offset();o=[this.containment[0]+l.left,this.containment[1]+l.top,this.containment[2]+l.left,this.containment[3]+l.top]}else o=this.containment;e.pageX-this.offset.click.left<o[0]&&(a=o[0]+this.offset.click.left),e.pageY-this.offset.click.top<o[1]&&(r=o[1]+this.offset.click.top),e.pageX-this.offset.click.left>o[2]&&(a=o[2]+this.offset.click.left),e.pageY-this.offset.click.top>o[3]&&(r=o[3]+this.offset.click.top)}if(i.grid){var c=i.grid[1]?this.originalPageY+Math.round((r-this.originalPageY)/i.grid[1])*i.grid[1]:this.originalPageY;r=o?c-this.offset.click.top<o[1]||c-this.offset.click.top>o[3]?c-this.offset.click.top<o[1]?c+i.grid[1]:c-i.grid[1]:c:c;var h=i.grid[0]?this.originalPageX+Math.round((a-this.originalPageX)/i.grid[0])*i.grid[0]:this.originalPageX;a=o?h-this.offset.click.left<o[0]||h-this.offset.click.left>o[2]?h-this.offset.click.left<o[0]?h+i.grid[0]:h-i.grid[0]:h:h}}return{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(t.browser.safari&&t.browser.version<526&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():s?0:n.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(t.browser.safari&&t.browser.version<526&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():s?0:n.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,i,n){return n=n||this._uiHash(),t.ui.plugin.call(this,e,[i,n]),"drag"==e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.extend(t.ui.draggable,{version:"1.8.23"}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i){var n=t(this).data("draggable"),s=n.options,a=t.extend({},i,{item:n.element});n.sortables=[],t(s.connectToSortable).each(function(){var i=t.data(this,"sortable");i&&!i.options.disabled&&(n.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",e,a))})},stop:function(e,i){var n=t(this).data("draggable"),s=t.extend({},i,{item:n.element});t.each(n.sortables,function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"==n.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,s))})},drag:function(e,i){var n=t(this).data("draggable"),s=this;t.each(n.sortables,function(){this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(s).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=n.offset.click.top,this.instance.offset.click.left=n.offset.click.left,this.instance.offset.parent.left-=n.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=n.offset.parent.top-this.instance.offset.parent.top,n._trigger("toSortable",e),n.dropped=this.instance.element,n.currentItem=n.element,this.instance.fromOutside=n),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),n._trigger("fromSortable",e),n.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(){var e=t("body"),i=t(this).data("draggable").options;e.css("cursor")&&(i._cursor=e.css("cursor")),e.css("cursor",i.cursor)},stop:function(){var e=t(this).data("draggable").options;e._cursor&&t("body").css("cursor",e._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i){var n=t(i.helper),s=t(this).data("draggable").options;n.css("opacity")&&(s._opacity=n.css("opacity")),n.css("opacity",s.opacity)},stop:function(e,i){var n=t(this).data("draggable").options;n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(){var e=t(this).data("draggable");e.scrollParent[0]!=document&&"HTML"!=e.scrollParent[0].tagName&&(e.overflowOffset=e.scrollParent.offset())},drag:function(e){var i=t(this).data("draggable"),n=i.options,s=!1;i.scrollParent[0]!=document&&"HTML"!=i.scrollParent[0].tagName?(n.axis&&"x"==n.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-e.pageY<n.scrollSensitivity?i.scrollParent[0].scrollTop=s=i.scrollParent[0].scrollTop+n.scrollSpeed:e.pageY-i.overflowOffset.top<n.scrollSensitivity&&(i.scrollParent[0].scrollTop=s=i.scrollParent[0].scrollTop-n.scrollSpeed)),n.axis&&"y"==n.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-e.pageX<n.scrollSensitivity?i.scrollParent[0].scrollLeft=s=i.scrollParent[0].scrollLeft+n.scrollSpeed:e.pageX-i.overflowOffset.left<n.scrollSensitivity&&(i.scrollParent[0].scrollLeft=s=i.scrollParent[0].scrollLeft-n.scrollSpeed))):(n.axis&&"x"==n.axis||(e.pageY-t(document).scrollTop()<n.scrollSensitivity?s=t(document).scrollTop(t(document).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<n.scrollSensitivity&&(s=t(document).scrollTop(t(document).scrollTop()+n.scrollSpeed))),n.axis&&"y"==n.axis||(e.pageX-t(document).scrollLeft()<n.scrollSensitivity?s=t(document).scrollLeft(t(document).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<n.scrollSensitivity&&(s=t(document).scrollLeft(t(document).scrollLeft()+n.scrollSpeed)))),s!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(){var e=t(this).data("draggable"),i=e.options;e.snapElements=[],t(i.snap.constructor!=String?i.snap.items||":data(draggable)":i.snap).each(function(){var i=t(this),n=i.offset();this!=e.element[0]&&e.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:n.top,left:n.left})})},drag:function(e,i){for(var n=t(this).data("draggable"),s=n.options,a=s.snapTolerance,r=i.offset.left,o=r+n.helperProportions.width,l=i.offset.top,c=l+n.helperProportions.height,h=n.snapElements.length-1;h>=0;h--){var u=n.snapElements[h].left,d=u+n.snapElements[h].width,f=n.snapElements[h].top,p=f+n.snapElements[h].height;if(r>u-a&&d+a>r&&l>f-a&&p+a>l||r>u-a&&d+a>r&&c>f-a&&p+a>c||o>u-a&&d+a>o&&l>f-a&&p+a>l||o>u-a&&d+a>o&&c>f-a&&p+a>c){if("inner"!=s.snapMode){var g=Math.abs(f-c)<=a,m=Math.abs(p-l)<=a,v=Math.abs(u-o)<=a,b=Math.abs(d-r)<=a;g&&(i.position.top=n._convertPositionTo("relative",{top:f-n.helperProportions.height,left:0}).top-n.margins.top),m&&(i.position.top=n._convertPositionTo("relative",{top:p,left:0}).top-n.margins.top),v&&(i.position.left=n._convertPositionTo("relative",{top:0,left:u-n.helperProportions.width}).left-n.margins.left),b&&(i.position.left=n._convertPositionTo("relative",{top:0,left:d}).left-n.margins.left)}var y=g||m||v||b;if("outer"!=s.snapMode){var g=Math.abs(f-l)<=a,m=Math.abs(p-c)<=a,v=Math.abs(u-r)<=a,b=Math.abs(d-o)<=a;g&&(i.position.top=n._convertPositionTo("relative",{top:f,left:0}).top-n.margins.top),m&&(i.position.top=n._convertPositionTo("relative",{top:p-n.helperProportions.height,left:0}).top-n.margins.top),v&&(i.position.left=n._convertPositionTo("relative",{top:0,left:u}).left-n.margins.left),b&&(i.position.left=n._convertPositionTo("relative",{top:0,left:d-n.helperProportions.width}).left-n.margins.left)}!n.snapElements[h].snapping&&(g||m||v||b||y)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[h].item})),n.snapElements[h].snapping=g||m||v||b||y}else n.snapElements[h].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[h].item})),n.snapElements[h].snapping=!1}}}),t.ui.plugin.add("draggable","stack",{start:function(){var e=t(this).data("draggable").options,i=t.makeArray(t(e.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});if(i.length){var n=parseInt(i[0].style.zIndex)||0;t(i).each(function(t){this.style.zIndex=n+t}),this[0].style.zIndex=n+i.length}}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i){var n=t(i.helper),s=t(this).data("draggable").options;n.css("zIndex")&&(s._zIndex=n.css("zIndex")),n.css("zIndex",s.zIndex)},stop:function(e,i){var n=t(this).data("draggable").options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}})}(jQuery),/*! jQuery UI - v1.8.23 - 2012-08-15
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.slider.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
function(t){var e=5;t.widget("ui.slider",t.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var i=this,n=this.options,s=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),a="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",r=n.values&&n.values.length||1,o=[];this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"+(n.disabled?" ui-slider-disabled ui-disabled":"")),this.range=t([]),n.range&&(n.range===!0&&(n.values||(n.values=[this._valueMin(),this._valueMin()]),n.values.length&&2!==n.values.length&&(n.values=[n.values[0],n.values[0]])),this.range=t("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+("min"===n.range||"max"===n.range?" ui-slider-range-"+n.range:"")));for(var l=s.length;r>l;l+=1)o.push(a);this.handles=s.add(t(o.join("")).appendTo(i.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(t){t.preventDefault()}).hover(function(){n.disabled||t(this).addClass("ui-state-hover")},function(){t(this).removeClass("ui-state-hover")}).focus(function(){n.disabled?t(this).blur():(t(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),t(this).addClass("ui-state-focus"))}).blur(function(){t(this).removeClass("ui-state-focus")}),this.handles.each(function(e){t(this).data("index.ui-slider-handle",e)}),this.handles.keydown(function(n){var s,a,r,o,l=t(this).data("index.ui-slider-handle");if(!i.options.disabled){switch(n.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n.preventDefault(),!i._keySliding&&(i._keySliding=!0,t(this).addClass("ui-state-active"),s=i._start(n,l),s===!1))return}switch(o=i.options.step,a=r=i.options.values&&i.options.values.length?i.values(l):i.value(),n.keyCode){case t.ui.keyCode.HOME:r=i._valueMin();break;case t.ui.keyCode.END:r=i._valueMax();break;case t.ui.keyCode.PAGE_UP:r=i._trimAlignValue(a+(i._valueMax()-i._valueMin())/e);break;case t.ui.keyCode.PAGE_DOWN:r=i._trimAlignValue(a-(i._valueMax()-i._valueMin())/e);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(a===i._valueMax())return;r=i._trimAlignValue(a+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(a===i._valueMin())return;r=i._trimAlignValue(a-o)}i._slide(n,l,r)}}).keyup(function(e){var n=t(this).data("index.ui-slider-handle");i._keySliding&&(i._keySliding=!1,i._stop(e,n),i._change(e,n),t(this).removeClass("ui-state-active"))}),this._refreshValue(),this._animateOff=!1},destroy:function(){return this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy(),this},_mouseCapture:function(e){var i,n,s,a,r,o,l,c,h,u=this.options;return u.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(i),s=this._valueMax()-this._valueMin()+1,r=this,this.handles.each(function(e){var i=Math.abs(n-r.values(e));s>i&&(s=i,a=t(this),o=e)}),u.range===!0&&this.values(1)===u.min&&(o+=1,a=t(this.handles[o])),l=this._start(e,o),l===!1?!1:(this._mouseSliding=!0,r._handleIndex=o,a.addClass("ui-state-active").focus(),c=a.offset(),h=!t(e.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=h?{left:0,top:0}:{left:e.pageX-c.left-a.width()/2,top:e.pageY-c.top-a.height()/2-(parseInt(a.css("borderTopWidth"),10)||0)-(parseInt(a.css("borderBottomWidth"),10)||0)+(parseInt(a.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,o,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,n,s,a;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/e,n>1&&(n=1),0>n&&(n=0),"vertical"===this.orientation&&(n=1-n),s=this._valueMax()-this._valueMin(),a=this._valueMin()+n*s,this._trimAlignValue(a)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("start",t,i)},_slide:function(t,e,i){var n,s,a;this.options.values&&this.options.values.length?(n=this.values(e?0:1),2===this.options.values.length&&this.options.range===!0&&(0===e&&i>n||1===e&&n>i)&&(i=n),i!==this.values(e)&&(s=this.values(),s[e]=i,a=this._trigger("slide",t,{handle:this.handles[e],value:i,values:s}),n=this.values(e?0:1),a!==!1&&this.values(e,i,!0))):i!==this.value()&&(a=this._trigger("slide",t,{handle:this.handles[e],value:i}),a!==!1&&this.value(i))},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("stop",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("change",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(e,i){var n,s,a;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),this._change(null,e),void 0;if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(n=this.options.values,s=arguments[0],a=0;a<n.length;a+=1)n[a]=this._trimAlignValue(s[a]),this._change(null,a);this._refreshValue()},_setOption:function(e,i){var n,s=0;switch(t.isArray(this.options.values)&&(s=this.options.values.length),t.Widget.prototype._setOption.apply(this,arguments),e){case"disabled":i?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.propAttr("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;s>n;n+=1)this._change(null,n);this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,n;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,n=t-i;return 2*Math.abs(i)>=e&&(n+=i>0?e:-e),parseFloat(n.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,i,n,s,a,r=this.options.range,o=this.options,l=this,c=this._animateOff?!1:o.animate,h={};this.options.values&&this.options.values.length?this.handles.each(function(n){e=100*((l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())),h["horizontal"===l.orientation?"left":"bottom"]=e+"%",t(this).stop(1,1)[c?"animate":"css"](h,o.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[c?"animate":"css"]({left:e+"%"},o.animate),1===n&&l.range[c?"animate":"css"]({width:e-i+"%"},{queue:!1,duration:o.animate})):(0===n&&l.range.stop(1,1)[c?"animate":"css"]({bottom:e+"%"},o.animate),1===n&&l.range[c?"animate":"css"]({height:e-i+"%"},{queue:!1,duration:o.animate}))),i=e}):(n=this.value(),s=this._valueMin(),a=this._valueMax(),e=a!==s?100*((n-s)/(a-s)):0,h["horizontal"===l.orientation?"left":"bottom"]=e+"%",this.handle.stop(1,1)[c?"animate":"css"](h,o.animate),"min"===r&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:e+"%"},o.animate),"max"===r&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-e+"%"},{queue:!1,duration:o.animate}),"min"===r&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:e+"%"},o.animate),"max"===r&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-e+"%"},{queue:!1,duration:o.animate}))}}),t.extend(t.ui.slider,{version:"1.8.23"})}(jQuery),/*
 
	Awkward Showcase - jQuery plugin 
	http://www.jquery.com
	http://www.awkwardgroup.com/sandbox/awkward-showcase-a-jquery-plugin
	http://demo.awkwardgroup.com/showcase
	Version: 1.1.1

	Copyright (C) 2011 Awkward Group (http://www.awkwardgroup.com)
	Licensed under Attribution-ShareAlike 3.0 Unported
	http://creativecommons.org/licenses/by-sa/3.0/

	Markup example for jQuery("#showcase").awShowcase();
 
	<div id="showcase" class="showcase">
		<!-- Each child div in #showcase represents a slide -->
		<div class="showcase-slide">
			<!-- Put the slide content in a div with the class .showcase-content -->
			<div class="showcase-content">
				<!-- If the slide contains multiple elements you should wrap them in a div with the class .showcase-content-wrapper. 
				We usually wrap even if there is only one element, because it looks better. :-) -->
				<div class="showcase-content-wrapper">
					<img src="images/01.jpg" alt="01" />
				</div>
			</div>
			<!-- Put the caption content in a div with the class .showcase-caption -->
			<div class="showcase-caption">
				The Caption
			</div>
			<!-- Put the tooltips in a div with the class .showcase-tooltips. -->
			<div class="showcase-tooltips">
				<!-- Each anchor in .showcase-tooltips represents a tooltip. The coords attribute represents the position of the tooltip. -->
				<a href="http://www.awkward.se" coords="634,130">
					<!-- The content of the anchor-tag is displayed in the tooltip. -->
					This is a tooltip that displays the anchor html in a nice way.
				</a>
				<a href="http://www.awkward.se" coords="356, 172">
					<!-- You can add multiple elements to the anchor-tag which are display in the tooltip. -->
					<img src="images/glasses.png" />
					<span style="display: block; font-weight: bold; padding: 3px 0 3px 0; text-align: center;">
						White Glasses: 500$
					</span>
				</a>
			</div>
		</div>
		<div class="showcase-slide">
			<div class="showcase-content">
				<div class="showcase-content-wrapper">
					Content...
				</div>
			</div>
		</div>
	</div>

*/
function(t){t.fn.awShowcase=function(e){function n(i){var n=t(document.createElement("div")).attr("id","showcase-content-"+i).css("overflow","hidden").css("position","absolute").addClass("showcase-content").html(I[i]);return e.viewline||n.css("width",e.content_width),e.fit_to_parent&&!e.viewline&&n.css("left",x/2-e.content_width/2),n}function s(){var t=parseInt(g)+1;t===P&&e.continuous?t=0:t!==P||e.continuous||(v=!0,clearInterval(y)),v||a(t,"next")}function a(i,s){if(g!==i&&!w){var h,u,d,p=0,v=e.fit_to_parent?x/2-e.content_width/2:0;if(i>g&&"previous"!==s||"next"===s)if(e.viewline){if(P-1>g){for(e.speed_change||(w=!0),f(),e.pauseonover&&window.clearInterval(y),j=0,d=g+1,len=P;len>d;++d)h=B[d],j+=h.find(".showcase-content").children().width();j>x?(S=C,C-=B[g].find(".showcase-content").children().width()):$(".showcase-arrow-next").is(":visible")&&(S=C,C=-(k-(j+(x-j))),$(".showcase-arrow-next").fadeOut(300)),T.animate({left:C+"px"},e.transition_speed,function(){w=!1}),$(".showcase-arrow-next").is(":visible")&&g++,$(".showcase-arrow-previous").fadeIn(300)}}else e.speed_change||(w=!0),h=t(_).find("#showcase-content-"+parseInt(g)),u=n(i),T.append(u),e.dynamic_height?u.css("height",u.find(".showcase-content").children().height()):u.css("height",e.content_height),h.find(".showcase-content").children().height()>u.find(".showcase-content").children().height()&&e.dynamic_height&&(T.stop(!0,!0).animate({height:u.find(".showcase-content").children().height()},200),p=100),"hslide"===e.transition?t(h).delay(p).animate({left:-e.content_width},e.transition_speed+e.transition_delay,function(){h.remove()}):"vslide"===e.transition?t(h).delay(p).animate({top:-e.content_height},e.transition_speed+e.transition_delay,function(){h.remove()}):t(h).delay(p).fadeOut(e.transition_speed,function(){h.remove()}),c(h,!0),l(h,!0),"hslide"===e.transition?(u.css("left",x),t(u).delay(p).animate({left:v},e.transition_speed,function(){c(u),l(u),r(u)})):"vslide"===e.transition?(u.css("top",_.height()),t(u).delay(p).animate({top:"0px"},e.transition_speed,function(){c(u),l(u),r(u)})):(u.css("left",v),u.css("display","none"),t(u).delay(p).fadeIn(e.transition_speed,function(){c(u),l(u),r(u)}));else(g>i||"previous"===s)&&(e.viewline?(0!==g&&(e.speed_change||(w=!0),f(),e.pauseonover&&window.clearInterval(y),T.animate({left:S+"px"},e.transition_speed,function(){w=!1}),C=S,g--,0===g&&$(".showcase-arrow-previous").fadeOut(300),old_id=g-1,sub_width=t(B[old_id]).width(),S+=sub_width),$(".showcase-arrow-next").fadeIn(300)):(e.speed_change||(w=!0),h=t(_).find("#showcase-content-"+parseInt(g)),u=n(i),T.append(u),e.dynamic_height?u.css("height",u.find(".showcase-content").children().height()):u.css("height",e.content_height),h.find(".showcase-content").children().height()>u.find(".showcase-content").children().height()&&e.dynamic_height&&(T.stop(!0,!0).animate({height:u.find(".showcase-content").children().height()},200),p=100),"hslide"===e.transition?t(h).delay(p).animate({left:x+"px"},e.transition_speed+e.transition_delay,function(){c(h,!0),l(h,!0),h.remove()}):"vslide"===e.transition?t(h).delay(p).animate({top:e.content_height+"px"},e.transition_speed+e.transition_delay,function(){c(h,!0),l(h,!0),h.remove()}):t(h).delay(p).fadeOut(e.transition_speed,function(){c(h,!0),l(h,!0),h.remove()}),"hslide"===e.transition?(u.css("left","-"+e.content_width+"px"),t(u).delay(p).animate({left:v},e.transition_speed,function(){c(u),l(u),r(u)})):"vslide"===e.transition?(u.css("top","-"+_.height()+"px"),t(u).delay(p).animate({top:"0px"},e.transition_speed,function(){c(u),l(u),r(u)})):(u.css("left",v),u.css("display","none"),t(u).delay(p).fadeIn(e.transition_speed,function(){c(u),l(u),r(u)})),T.append(u)));e.viewline||(m=g,g=i,e.thumbnails&&(g>m&&"previous"!==s||"next"===s?o("forward",!0):(m>g||"previous"===s)&&o("backward",!0)),e.arrows&&(t(_).find(".showcase-arrow-previous").unbind("click").click(function(){y&&(e.stoponclick&&(b=!0),clearInterval(y)),a(0===g?P-1:parseInt(g)-1,"previous")}),t(_).find(".showcase-arrow-next").unbind("click").click(function(){y&&(e.stoponclick&&(b=!0),clearInterval(y)),a(g===P-1?0:parseInt(g)+1,"next")})),e.thumbnails&&(d=0,_.find(".showcase-thumbnail").each(function(){var e=t(this);e.removeClass("active"),d===g&&e.addClass("active"),d++})),"show"===e.show_caption&&t(u).find(".showcase-caption").show()),e.buttons&&(d=0,_.find(".showcase-button-wrapper span").each(function(){var e=t(this);e.removeClass("active"),d===g&&e.addClass("active"),d++})),"function"==typeof e.custom_function&&e.custom_function()}}function r(t){e.dynamic_height&&T.stop(!0,!0).animate({height:t.find(".showcase-content").children().height()},200),w=!1}function o(i,n,s){var a=!0,r=u(t(D).find(".showcase-thumbnail"));"horizontal"===e.thumbnails_direction&&(r=d(t(D).find(".showcase-thumbnail")));var o=1;if(0===e.thumbnails_slidex&&(e.thumbnails_slidex=F),n){for(var l=R,c=0;0>l;)l+="horizontal"===e.thumbnails_direction?d(t(A[0])):u(t(A[0])),c++;var h=c,f=F+c-1;g>=h&&f>=g&&(a=!1);var p;if(g-f>e.thumbnails_slidex)for(p=g-f;p>e.thumbnails_slidex;)p-=e.thumbnails_slidex,o++;else if(h-g>e.thumbnails_slidex)for(p=h-g;p>e.thumbnails_slidex;)p-=e.thumbnails_slidex,o++;else o=1}"forward"===i&&a?("vertical"===e.thumbnails_direction&&e.content_height<O+R?R-=r*e.thumbnails_slidex*o:"horizontal"===e.thumbnails_direction&&e.content_width<O+R?R-=r*e.thumbnails_slidex*o:0===g&&(s||(R=0)),"horizontal"===e.thumbnails_direction?D.animate({left:R},300):D.animate({top:R},300)):a&&(0>R?R+=r*e.thumbnails_slidex*o:g===P-1?s||(R-=r*e.thumbnails_slidex*o):R=0,"horizontal"===e.thumbnails_direction?D.animate({left:R},300):D.animate({top:R},300))}function l(i,n){var s=i.find(".showcase-caption");n?s.stop(!0,!0).fadeOut(300):"onload"===e.show_caption?s.fadeIn(300):"onhover"===e.show_caption&&(t(i).mouseenter(function(){s.fadeIn(300)}),t(i).mouseleave(function(){s.stop(!0,!0).fadeOut(100)}))}function c(i,n){i.find(".showcase-tooltips a").each(function(){if(n)t(this).stop(!0,!0).fadeOut(300);else{var s=t(this).attr("coords");s=s.split(","),t(this).addClass("showcase-plus-anchor"),t(this).css("position","absolute"),t(this).css("display","none"),t(this).css("width",e.tooltip_icon_width),t(this).css("height",e.tooltip_icon_height),t(this).css("left",parseInt(s[0])-parseInt(e.tooltip_icon_width)/2),t(this).css("top",parseInt(s[1])-parseInt(e.tooltip_icon_height)/2);var a=t(this).html();t(this).mouseenter(function(){h(i,s[0],s[1],a)}),t(this).mouseleave(function(){h(i,s[0],s[1],a)}),t(this).html(""),t(this).fadeIn(300)}})}function h(i,n,s,a){if(null===z){z=t(document.createElement("div")).addClass("showcase-tooltip").css("display","none").css("position","absolute").css("max-width",e.tooltip_width).html(a),i.append(z);var r=2*parseInt(z.css("padding-right"))+2*parseInt(z.css("border-right-width")),o=2*parseInt(z.css("padding-bottom"))+2*parseInt(z.css("border-bottom-width"));lastx=parseInt(n)+z.width()+r,lasty=parseInt(s)+z.height()+o,lastx<e.content_width?z.css("left",parseInt(n)+parseInt(e.tooltip_offsetx)):z.css("left",parseInt(n)-parseInt(e.tooltip_offsetx)-(parseInt(z.width())+parseInt(e.tooltip_offsetx))),lasty<e.content_height?z.css("top",parseInt(s)+parseInt(e.tooltip_offsety)):z.css("top",parseInt(s)-parseInt(e.tooltip_offsety)-(parseInt(z.height())+parseInt(o))),z.fadeIn(400)}else z.fadeOut(400),z.remove(),z=null}function u(e,i,n,s,a){i="undefined"!=typeof i?i:!0,n="undefined"!=typeof n?n:!0,s="undefined"!=typeof s?s:!0,a="undefined"!=typeof a?a:!0;var r=i?t(e).height():0,o=n?parseFloat(t(e).css("margin-top"))+parseFloat(t(e).css("margin-bottom")):0,l=s?parseFloat(t(e).css("padding-top"))+parseFloat(t(e).css("padding-bottom")):0,c=a?parseFloat(t(e).css("border-top-width"))+parseFloat(t(e).css("border-bottom-width")):0;return r+=o+l+c}function d(e,i,n,s,a){i="undefined"!=typeof i?i:!0,n="undefined"!=typeof n?n:!0,s="undefined"!=typeof s?s:!0,a="undefined"!=typeof a?a:!0;var r=i?t(e).width():0,o=n?parseFloat(t(e).css("margin-left"))+parseFloat(t(e).css("margin-right")):0,l=s?parseFloat(t(e).css("padding-left"))+parseFloat(t(e).css("padding-right")):0,c=a?parseFloat(t(e).css("border-left-width"))+parseFloat(t(e).css("border-right-width")):0;return r+=o+l+c}function f(){k=0,T.children("div").each(function(){k+=$(this).find(".showcase-content").children().width(),B.push($(this))})}var p={content_width:700,content_height:470,fit_to_parent:!1,auto:!1,interval:3e3,continuous:!1,loading:!0,tooltip_width:200,tooltip_icon_width:32,tooltip_icon_height:32,tooltip_offsetx:18,tooltip_offsety:0,arrows:!0,buttons:!0,btn_numbers:!1,keybord_keys:!1,mousetrace:!1,pauseonover:!0,stoponclick:!0,transition:"hslide",transition_delay:300,transition_speed:500,show_caption:"onload",thumbnails:!1,thumbnails_position:"outside-last",thumbnails_direction:"vertical",thumbnails_slidex:0,dynamic_height:!1,speed_change:!1,viewline:!1,fullscreen_width_x:15,custom_function:null};e=t.extend(p,e);var g=0,m=0,v=!1,b=!1,y=null,_=t(this),x=e.content_width,w=!1,k=1e4,C=0,S=0,j=0,T=t(document.createElement("div")).css("overflow","hidden").css("position","relative").addClass("showcase-content-container").prependTo(_);e.fit_to_parent&&(x=t(_).width()+e.fullscreen_width_x),e.viewline&&(e.thumbnails=!1,e.dynamic_height=!1,T.css("width",k),_.css("overflow","hidden"),$(".showcase-arrow-previous").hide());var I=[],A=[],P=0;_.children(".showcase-slide").each(function(){var i=t(this);if(P++,e.thumbnails){var s=i.find(".showcase-thumbnail");A.push(s),s.remove()}var a=i.find(".showcase-content").children().width(),r=i.find(".showcase-content").children().height();I.push(i.html()),i.remove();var o=n(P-1);(e.viewline||1===P)&&T.append(o),e.viewline&&(o.css("position","relative"),o.css("float","left"),o.css("width",a)),e.dynamic_height?(o.css("height",r),1===P&&T.css("height",r)):(o.css("height",e.content_height),1===P&&T.css("height",e.content_height)),(e.viewline||1===P)&&(c(o),l(o),"show"===e.show_caption&&t(o).find(".showcase-caption").show())});var D,O=0,F=0;if(e.thumbnails){for(thumb_container=t("<div />"),thumb_restriction=t("<div />"),D=t("<div />"),i=A.length-1;i>=0;--i){var M=t(A[i]).css({overflow:"hidden"});M.attr("id","showcase-thumbnail-"+i),M.addClass(0===i?"active":""),M.click(function(t,e){return function(){y&&(b=!0,clearInterval(y)),a(t,e)}}(i,"")),D.prepend(M)}"outside-first"===e.thumbnails_position||"outside-last"===e.thumbnails_position?("horizontal"!==e.thumbnails_direction?(T.css("float","left"),T.css("width",e.content_width),thumb_container.css("float","left"),thumb_container.css("height",e.content_height)):t(D).find(".showcase-thumbnail").css("float","left"),"outside-last"===e.thumbnails_position?(_.append(thumb_container),"horizontal"!==e.thumbnails_direction&&_.append(t("<div />").addClass("clear"))):(_.prepend(thumb_container),"horizontal"!==e.thumbnails_direction&&_.append(t("<div />").addClass("clear")))):(thumb_container.css({position:"absolute","z-index":20}),"horizontal"===e.thumbnails_direction?(thumb_container.css({left:0,right:0}),t(D).find(".showcase-thumbnail").css("float","left"),t(D).append(t("<div />").addClass("clear")),"inside-first"===e.thumbnails_position?thumb_container.css("top",0):thumb_container.css("bottom",0)):(thumb_container.css({top:0,bottom:0}),"inside-first"===e.thumbnails_position?thumb_container.css("left",0):thumb_container.css("right",0)),T.prepend(thumb_container)),thumb_container.addClass("showcase-thumbnail-container"),thumb_container.css("overflow","hidden"),thumb_restriction.addClass("showcase-thumbnail-restriction"),thumb_restriction.css({overflow:"hidden",position:"relative"}),D.addClass("showcase-thumbnail-wrapper"),"horizontal"===e.thumbnails_direction?D.addClass("showcase-thumbnail-wrapper-horizontal"):D.addClass("showcase-thumbnail-wrapper-vertical"),D.css("position","relative"),thumb_restriction.append(D),thumb_container.append(thumb_restriction);var E=t('<div class="showcase-thumbnail-button-backward" />');"horizontal"!==e.thumbnails_direction?E.html('<span class="showcase-thumbnail-vertical"><span>Up</span></span>'):(E.css({"float":"left"}),E.html('<span class="showcase-thumbnail-horizontal"><span>Left</span></span>')),E.click(function(){o("backward",!1,!0)}),thumb_container.prepend(E);var N=t('<div class="showcase-thumbnail-button-forward" />');"horizontal"!==e.thumbnails_direction?N.html('<span class="showcase-thumbnail-vertical"><span>Down</span></span>'):(N.css({"float":"left"}),N.html('<span class="showcase-thumbnail-horizontal"><span>Right</span></span>')),N.click(function(){o("forward",!1,!0)}),thumb_container.append(N);var H=0;if("horizontal"!==e.thumbnails_direction)for(H=u(D,!1),H+=u(E)+u(N);H<e.content_height;)H+=u(t(A[0])),F++;else for(H=d(D,!1),H+=d(E)+d(N);x>H;)H+=d(t(A[0])),F++;if(F+1>A.length&&("horizontal"!==e.thumbnails_direction&&thumb_restriction.css("margin-top",u(E)),E.hide(),N.hide()),"horizontal"!==e.thumbnails_direction){var L=u(E)+u(N);thumb_restriction.css("height",e.content_height-L)}"horizontal"===e.thumbnails_direction?(t(".showcase-thumbnail").each(function(){O+=d(t(this))}),D.css("width",O)):t(".showcase-thumbnail").each(function(){O+=u(t(this))})}if(e.thumbnails&&-1!==e.thumbnails_position.indexOf("outside")&&"horizontal"!==e.thumbnails_direction&&!e.viewline?_.css("width",x+d(D,!0,!1)):e.fit_to_parent||_.css("width",x),P>1&&e.auto&&(y=window.setInterval(s,e.interval)),e.auto&&e.pauseonover&&(_.mouseenter(function(){v=!0,clearInterval(y)}),_.mouseleave(function(){b||(v=!1,y=window.setInterval(s,e.interval))})),e.arrows&&P>1&&(t(document.createElement("div")).addClass("showcase-arrow-previous").prependTo(_).click(function(){y&&(e.stoponclick&&(b=!0),clearInterval(y)),a(0===g?P-1:parseInt(g)-1,"previous")}),t(document.createElement("div")).addClass("showcase-arrow-next").prependTo(_).click(function(){y&&(e.stoponclick&&(b=!0),clearInterval(y)),a(g+1,"next")}),e.viewline&&$(".showcase-arrow-previous").hide()),e.buttons&&P>1)for(t(document.createElement("div")).css("clear","both").addClass("showcase-button-wrapper").appendTo(_),i=0;P>i;)t(document.createElement("span")).attr("id","showcase-navigation-button-"+i).addClass(0===i?"active":"").html(e.btn_numbers?parseInt(i)+1:"&nbsp;").click(function(t,i){return function(){y&&(e.stoponclick&&(b=!0),clearInterval(y)),a(t,i)}}(i,"")).appendTo(t(_).find(".showcase-button-wrapper")),i++;e.keybord_keys&&t(document).keydown(function(t){e.stoponclick&&(b=!0),y&&clearInterval(y),37===t.keyCode&&a(0===g?P-1:parseInt(g)-1,"previous"),39===t.keyCode&&a(g===P-1?0:parseInt(g)+1,"next")});var R=0,z=null;if(e.mousetrace){var W=t(document.createElement("div")).css("position","absolute").css("top","0").css("background-color","#fff").css("color","#000").css("padding","3px 5px").css("x-index","30").html("X: 0 Y: 0");_.append(W);var q=_.offset();T.mousemove(function(t){W.html("X: "+(t.pageX-q.left)+" Y: "+(t.pageY-q.top))})}$("#awOnePageButton").click(function(){if($(".view-page").is(":visible")){var i=t(document.createElement("div"));i.addClass("showcase-onepage"),_.before(i),y&&(b=!0,clearInterval(y)),$(this).find(".view-page").hide(),$(this).find(".view-slide").show(),_.hide(),$.each(I,function(t){obj=n(t),obj.css("position","relative"),i.append(obj),c(obj),l(obj),e.dynamic_height?obj.css("height",obj.find(".showcase-content").children().height()):obj.css("height",e.content_height)});var s=t(document.createElement("div"));s.addClass("clear"),i.append(s)}else $(".showcase-onepage").remove(),$(this).find(".view-page").show(),$(this).find(".view-slide").hide(),_.show();return!1});var B=[];_.removeClass("showcase-load")}}(jQuery),/*	
 *	jQuery carouFredSel 5.6.4
 *	Demo's and documentation:
 *	caroufredsel.frebsite.nl
 *	
 *	Copyright (c) 2012 Fred Heusschen
 *	www.frebsite.nl
 *
 *	Dual licensed under the MIT and GPL licenses.
 *	http://en.wikipedia.org/wiki/MIT_License
 *	http://en.wikipedia.org/wiki/GNU_General_Public_License
 */
eval(function(t,e,i,n,s,a){if(s=function(t){return(e>t?"":s(parseInt(t/e)))+((t%=e)>35?String.fromCharCode(t+29):t.toString(36))},!"".replace(/^/,String)){for(;i--;)a[s(i)]=n[i]||s(i);n=[function(t){return a[t]}],s=function(){return"\\w+"},i=1}for(;i--;)n[i]&&(t=t.replace(new RegExp("\\b"+s(i)+"\\b","g"),n[i]));return t}("(H($){8($.1P.1J)J;$.1P.1J=H(y,z){8(1g.V==0){1e(N,'5s 4q 6u 1m \"'+1g.3U+'\".');J 1g}8(1g.V>1){J 1g.1K(H(){$(1g).1J(y,z)})}F A=1g,$19=1g[0];8(A.1r('4r')){F B=A.1D('34','3w');A.X('34',['5t',[N]])}Q{F B=O}A.3V=H(o,b,c){o=3W($19,o);F e=['G','1n','T','17','1a','1b'];1m(F a=0,l=e.V;a<l;a++){o[e[a]]=3W($19,o[e[a]])}8(K o.1n=='13'){8(o.1n<=50)o.1n={'G':o.1n};Q o.1n={'1j':o.1n}}Q{8(K o.1n=='1k')o.1n={'1G':o.1n}}8(K o.G=='13')o.G={'P':o.G};Q 8(o.G=='1d')o.G={'P':o.G,'S':o.G,'1l':o.G};8(K o.G!='1o')o.G={};8(b)2u=$.25(N,{},$.1P.1J.4s,o);7=$.25(N,{},$.1P.1J.4s,o);8(K 7.G.12!='1o')7.G.12={};8(7.G.2J==0&&K c=='13'){7.G.2J=c}C.4t=(7.2K);C.2k=(7.2k=='4u'||7.2k=='1t')?'1a':'17';F f=[['S','35','26','1l','5u','2L','1t','2M','1E',0,1,2,3],['1l','5u','2L','S','35','26','2M','1t','3X',3,2,1,0]];F g=f[0].V,5v=(7.2k=='2N'||7.2k=='1t')?0:1;7.d={};1m(F d=0;d<g;d++){7.d[f[0][d]]=f[5v][d]}F h=A.11();1x(K 7.G.P){W'1o':7.G.12.2O=7.G.P.2O;7.G.12.27=7.G.P.27;7.G.P=O;18;W'1k':8(7.G.P=='1d'){7.G.12.1d=N}Q{7.G.12.2l=7.G.P}7.G.P=O;18;W'H':7.G.12.2l=7.G.P;7.G.P=O;18}8(K 7.G.1v=='1y'){7.G.1v=(h.1v(':2P').V>0)?':P':'*'}8(7[7.d['S']]=='T'){7[7.d['S']]=3x(h,7,'26')}8(3Y(7[7.d['S']])&&!7.2K){7[7.d['S']]=3Z(36($1A.3a(),7,'35'),7[7.d['S']]);C.4t=N}8(7[7.d['1l']]=='T'){7[7.d['1l']]=3x(h,7,'2L')}8(!7.G[7.d['S']]){8(7.2K){1e(N,'5w a '+7.d['S']+' 1m 6v G!');7.G[7.d['S']]=3x(h,7,'26')}Q{7.G[7.d['S']]=(4v(h,7,'26'))?'1d':h[7.d['26']](N)}}8(!7.G[7.d['1l']]){7.G[7.d['1l']]=(4v(h,7,'2L'))?'1d':h[7.d['2L']](N)}8(!7[7.d['1l']]){7[7.d['1l']]=7.G[7.d['1l']]}8(!7.G.P&&!7.2K){8(7.G[7.d['S']]=='1d'){7.G.12.1d=N}8(!7.G.12.1d){8(K 7[7.d['S']]=='13'){7.G.P=1L.3y(7[7.d['S']]/7.G[7.d['S']])}Q{F i=36($1A.3a(),7,'35');7.G.P=1L.3y(i/7.G[7.d['S']]);7[7.d['S']]=7.G.P*7.G[7.d['S']];8(!7.G.12.2l)7.1B=O}8(7.G.P=='6w'||7.G.P<1){1e(N,'28 a 4w 13 3z P G: 5w 41 \"1d\".');7.G.12.1d=N}}}8(!7[7.d['S']]){7[7.d['S']]='1d';8(!7.2K&&7.G.1v=='*'&&!7.G.12.1d&&7.G[7.d['S']]!='1d'){7[7.d['S']]=7.G.P*7.G[7.d['S']];7.1B=O}}8(7.G.12.1d){7.3A=(7[7.d['S']]=='1d')?36($1A.3a(),7,'35'):7[7.d['S']];8(7.1B===O){7[7.d['S']]='1d'}7.G.P=2Q(h,7,0)}Q 8(7.G.1v!='*'){7.G.12.42=7.G.P;7.G.P=3B(h,7,0)}8(K 7.1B=='1y'){7.1B=(7[7.d['S']]=='1d')?O:'4x'}7.G.P=2R(7.G.P,7,7.G.12.2l,$19);7.G.12.2m=7.G.P;7.1u=O;8(7.2K){8(!7.G.12.2O)7.G.12.2O=7.G.P;8(!7.G.12.27)7.G.12.27=7.G.P;7.1B=O;7.1i=[0,0,0,0];F j=$1A.1W(':P');8(j)$1A.3b();F k=3Z(36($1A.3a(),7,'35'),7[7.d['S']]);8(K 7[7.d['S']]=='13'&&k<7[7.d['S']]){k=7[7.d['S']]}8(j)$1A.3c();F m=4y(1L.2v(k/7.G[7.d['S']]),7.G.12);8(m>h.V){m=h.V}F n=1L.3y(k/m),4z=7[7.d['1l']],5x=3Y(4z);h.1K(H(){F a=$(1g),4A=n-5y(a,7,'6x');a[7.d['S']](4A);8(5x){a[7.d['1l']](3Z(4A,4z))}});7.G.P=m;7.G[7.d['S']]=n;7[7.d['S']]=m*n}Q{7.1i=5z(7.1i);8(7.1B=='2M')7.1B='1t';8(7.1B=='4B')7.1B='2N';1x(7.1B){W'4x':W'1t':W'2N':8(7[7.d['S']]!='1d'){F p=43(3d(h,7),7);7.1u=N;7.1i[7.d[1]]=p[1];7.1i[7.d[3]]=p[0]}18;2w:7.1B=O;7.1u=(7.1i[0]==0&&7.1i[1]==0&&7.1i[2]==0&&7.1i[3]==0)?O:N;18}}8(K 7.2n=='1s'&&7.2n)7.2n='6y'+A.6z('6A');8(K 7.G.3e!='13')7.G.3e=7.G.P;8(K 7.1n.1j!='13')7.1n.1j=5A;8(K 7.1n.G=='1y')7.1n.G=(7.G.12.1d||7.G.1v!='*')?'P':7.G.P;7.T=3C($19,7.T,'T');7.17=3C($19,7.17);7.1a=3C($19,7.1a);7.1b=3C($19,7.1b,'1b');7.T=$.25(N,{},7.1n,7.T);7.17=$.25(N,{},7.1n,7.17);7.1a=$.25(N,{},7.1n,7.1a);7.1b=$.25(N,{},7.1n,7.1b);8(K 7.1b.44!='1s')7.1b.44=O;8(K 7.1b.3f!='H'&&7.1b.3f!==O)7.1b.3f=$.1P.1J.5B;8(K 7.T.1H!='1s')7.T.1H=N;8(K 7.T.4C!='13')7.T.4C=0;8(K 7.T.45=='1y')7.T.45=N;8(K 7.T.4D!='1s')7.T.4D=N;8(K 7.T.3g!='13')7.T.3g=(7.T.1j<10)?6B:7.T.1j*5;8(7.29){7.29=4E(7.29)}8(I.1e){1e(I,'3h S: '+7.S);1e(I,'3h 1l: '+7.1l);8(7.3A)1e(I,'6C '+7.d['S']+': '+7.3A);1e(I,'5C 6D: '+7.G.S);1e(I,'5C 6E: '+7.G.1l);1e(I,'46 3z G P: '+7.G.P);8(7.T.1H)1e(I,'46 3z G 4F 6F: '+7.T.G);8(7.17.Y)1e(I,'46 3z G 4F 4G: '+7.17.G);8(7.1a.Y)1e(I,'46 3z G 4F 5D: '+7.1a.G)}};A.5E=H(){A.1r('4r',N);F a={'4H':A.16('4H'),'4I':A.16('4I'),'3D':A.16('3D'),'2M':A.16('2M'),'2N':A.16('2N'),'4B':A.16('4B'),'1t':A.16('1t'),'S':A.16('S'),'1l':A.16('1l'),'4J':A.16('4J'),'1E':A.16('1E'),'3X':A.16('3X'),'4K':A.16('4K')};1x(a.3D){W'4L':F b='4L';18;W'5F':F b='5F';18;2w:F b='6G'}$1A.16(a).16({'6H':'2P','3D':b});A.1r('5G',a).16({'4H':'1t','4I':'47','3D':'4L','2M':0,'1t':0,'4J':0,'1E':0,'3X':0,'4K':0});8(7.1u){A.11().1K(H(){F m=2o($(1g).16(7.d['1E']));8(2p(m))m=0;$(1g).1r('1R',m)})}};A.5H=H(){A.4M();A.14(L('4N',I),H(e,a){e.1h();8(!C.20){8(7.T.Y){7.T.Y.2S(2q('48',I))}}C.20=N;8(7.T.1H){7.T.1H=O;A.X(L('2T',I),a)}J N});A.14(L('4O',I),H(e){e.1h();8(C.1S){3E(R)}J N});A.14(L('2T',I),H(e,a,b){e.1h();1F=3i(1F);8(a&&C.1S){R.20=N;F c=2x()-R.2U;R.1j-=c;8(R.1p)R.1p.1j-=c;8(R.1Q)R.1Q.1j-=c;3E(R,O)}8(!C.1X&&!C.1S){8(b)1F.3F+=2x()-1F.2U}8(!C.1X){8(7.T.Y){7.T.Y.2S(2q('5I',I))}}C.1X=N;8(7.T.5J){F d=7.T.3g-1F.3F,3G=3H-1L.2v(d*3H/7.T.3g);7.T.5J.1z($19,3G,d)}J N});A.14(L('1H',I),H(e,b,c,d){e.1h();1F=3i(1F);F v=[b,c,d],t=['1k','13','1s'],a=2V(v,t);F b=a[0],c=a[1],d=a[2];8(b!='17'&&b!='1a')b=C.2k;8(K c!='13')c=0;8(K d!='1s')d=O;8(d){C.20=O;7.T.1H=N}8(!7.T.1H){e.21();J 1e(I,'3h 48: 28 2W.')}8(C.1X){8(7.T.Y){7.T.Y.2y(2q('48',I));7.T.Y.2y(2q('5I',I))}}C.1X=O;1F.2U=2x();F f=7.T.3g+c;3I=f-1F.3F;3G=3H-1L.2v(3I*3H/f);1F.T=6I(H(){8(7.T.5K){7.T.5K.1z($19,3G,3I)}8(C.1S){A.X(L('1H',I),b)}Q{A.X(L(b,I),7.T)}},3I);8(7.T.5L){7.T.5L.1z($19,3G,3I)}J N});A.14(L('2X',I),H(e){e.1h();8(R.20){R.20=O;C.1X=O;C.1S=N;R.2U=2x();2a(R)}Q{A.X(L('1H',I))}J N});A.14(L('17',I)+' '+L('1a',I),H(e,b,f,g){e.1h();8(C.20||A.1W(':2P')){e.21();J 1e(I,'3h 48 6J 2P: 28 2W.')}8(7.G.3e>=M.U){e.21();J 1e(I,'28 5M G ('+M.U+', '+7.G.3e+' 5N): 28 2W.')}F v=[b,f,g],t=['1o','13/1k','H'],a=2V(v,t);F b=a[0],f=a[1],g=a[2];F h=e.4P.1c(I.3j.3J.V);8(K b!='1o'||b==2b)b=7[h];8(K g=='H')b.22=g;8(K f!='13'){8(7.G.1v!='*'){f='P'}Q{F i=[f,b.G,7[h].G];1m(F a=0,l=i.V;a<l;a++){8(K i[a]=='13'||i[a]=='5O'||i[a]=='P'){f=i[a];18}}}1x(f){W'5O':e.21();J A.1D(h+'6K',[b,g]);18;W'P':8(!7.G.12.1d&&7.G.1v=='*'){f=7.G.P}18}}8(R.20){A.X(L('2X',I));A.X(L('3k',I),[h,[b,f,g]]);e.21();J 1e(I,'3h 6L 2W.')}8(b.1j>0){8(C.1S){8(b.3k)A.X(L('3k',I),[h,[b,f,g]]);e.21();J 1e(I,'3h 6M 2W.')}}8(b.4Q&&!b.4Q.1z($19)){e.21();J 1e(I,'6N \"4Q\" 6O O.')}1F.3F=0;A.X(L('5P'+h,I),[b,f]);8(7.29){F s=7.29,c=[b,f];1m(F j=0,l=s.V;j<l;j++){F d=h;8(!s[j][2])d=(d=='17')?'1a':'17';8(!s[j][1])c[0]=s[j][0].1D('34',['5Q',d]);c[1]=f+s[j][3];s[j][0].X('34',['5P'+d,c])}}J N});A.14(L('6P',I),H(e,f,g){e.1h();F h=A.11();8(!7.1M){8(M.Z==0){8(7.3l){A.X(L('1a',I),M.U-1)}J e.21()}}8(7.1u)1N(h,7);8(K g!='13'){8(7.G.12.1d){g=4a(h,7,M.U-1)}Q 8(7.G.1v!='*'){F i=(K f.G=='13')?f.G:4R(A,7);g=5R(h,7,M.U-1,i)}Q{g=7.G.P}g=4b(g,7,f.G,$19)}8(!7.1M){8(M.U-g<M.Z){g=M.U-M.Z}}7.G.12.2m=7.G.P;8(7.G.12.1d){F j=2Q(h,7,M.U-g);8(7.G.P+g<=j&&g<M.U){g++;j=2Q(h,7,M.U-g)}7.G.P=2R(j,7,7.G.12.2l,$19)}Q 8(7.G.1v!='*'){F j=3B(h,7,M.U-g);7.G.P=2R(j,7,7.G.12.2l,$19)}8(7.1u)1N(h,7,N);8(g==0){e.21();J 1e(I,'0 G 41 1n: 28 2W.')}1e(I,'5S '+g+' G 4G.');M.Z+=g;23(M.Z>=M.U){M.Z-=M.U}8(!7.1M){8(M.Z==0&&f.4c)f.4c.1z($19);8(!7.3l)2z(7,M.Z,I)}A.11().1c(M.U-g,M.U).6Q(A);8(M.U<7.G.P+g){A.11().1c(0,(7.G.P+g)-M.U).4d(N).3K(A)}F h=A.11(),2r=5T(h,7,g),1T=5U(h,7),2c=h.1O(g-1),2d=2r.2Y(),2A=1T.2Y();8(7.1u)1N(h,7);8(7.1B){F p=43(1T,7),k=p[0],2s=p[1]}Q{F k=0,2s=0}F l=(k<0)?7.1i[7.d[3]]:0;8(f.1I=='5V'&&7.G.P<g){F m=h.1c(7.G.12.2m,g),4e=7.G[7.d['S']];m.1K(H(){F a=$(1g);a.1r('4f',a.1W(':2P')).3b()});7.G[7.d['S']]='1d'}Q{F m=O}F n=3m(h.1c(0,g),7,'S'),2e=4g(2B(1T,7,N),7,!7.1u);8(m)7.G[7.d['S']]=4e;8(7.1u){1N(h,7,N);8(2s>=0){1N(2d,7,7.1i[7.d[1]])}1N(2c,7,7.1i[7.d[3]])}8(7.1B){7.1i[7.d[1]]=2s;7.1i[7.d[3]]=k}F o={},1w=f.1j;8(f.1I=='47')1w=0;Q 8(1w=='T')1w=7.1n.1j/7.1n.G*g;Q 8(1w<=0)1w=0;Q 8(1w<10)1w=n/1w;R=24(1w,f.1G);8(7[7.d['S']]=='1d'||7[7.d['1l']]=='1d'){R.1f.1q([$1A,2e])}8(7.1u){F q=7.1i[7.d[3]];8(2A.4S(2c).V){F r={};r[7.d['1E']]=2c.1r('1R');8(k<0)2c.16(r);Q R.1f.1q([2c,r])}8(2A.4S(2d).V){F s={};s[7.d['1E']]=2d.1r('1R');R.1f.1q([2d,s])}8(2s>=0){F t={};t[7.d['1E']]=2A.1r('1R')+7.1i[7.d[1]];R.1f.1q([2A,t])}}Q{F q=0}o[7.d['1t']]=q;F u=[2r,1T,2e,1w];8(f.2f)f.2f.3L($19,u);1Y.2f=3M(1Y.2f,$19,u);1x(f.1I){W'2C':W'2g':W'2D':W'2h':R.1p=24(R.1j,R.1G);R.1Q=24(R.1j,R.1G);R.1j=0;18}1x(f.1I){W'2g':W'2D':W'2h':F v=A.4d().3K($1A);18}1x(f.1I){W'2h':v.11().1c(0,g).1U();W'2g':W'2D':v.11().1c(7.G.P).1U();18}1x(f.1I){W'2C':R.1p.1f.1q([A,{'2i':0}]);18;W'2g':v.16({'2i':0});R.1p.1f.1q([A,{'S':'+=0'},H(){v.1U()}]);R.1Q.1f.1q([v,{'2i':1}]);18;W'2D':R=4T(R,A,v,7,N);18;W'2h':R=4U(R,A,v,7,N,g);18}F w=H(){F b=7.G.P+g-M.U;8(b>0){A.11().1c(M.U).1U();2r=$(A.11().1c(M.U-(7.G.P-b)).4h().5W(A.11().1c(0,b).4h()))}8(m){m.1K(H(){F a=$(1g);8(!a.1r('4f'))a.3c()})}8(7.1u){F c=A.11().1O(7.G.P+g-1);c.16(7.d['1E'],c.1r('1R'))}R.1f=[];8(R.1p)R.1p=24(R.4V,R.1G);F d=H(){1x(f.1I){W'2C':W'2g':A.16('1v','');18}R.1Q=24(0,2b);C.1S=O;F a=[2r,1T,2e];8(f.22)f.22.3L($19,a);1Y.22=3M(1Y.22,$19,a);8(1V.V){A.X(L(1V[0][0],I),1V[0][1]);1V.5X()}8(!C.1X)A.X(L('1H',I))};1x(f.1I){W'2C':R.1p.1f.1q([A,{'2i':1},d]);2a(R.1p);18;W'2h':R.1p.1f.1q([A,{'S':'+=0'},d]);2a(R.1p);18;2w:d();18}};R.1f.1q([A,o,w]);C.1S=N;A.16(7.d['1t'],-(n-l));1F=3i(1F);2a(R);4W(7.2n,A.1D(L('3w',I)));A.X(L('2E',I),[O,2e]);J N});A.14(L('6R',I),H(e,f,g){e.1h();F h=A.11();8(!7.1M){8(M.Z==7.G.P){8(7.3l){A.X(L('17',I),M.U-1)}J e.21()}}8(7.1u)1N(h,7);8(K g!='13'){8(7.G.1v!='*'){F i=(K f.G=='13')?f.G:4R(A,7);g=5Y(h,7,0,i)}Q{g=7.G.P}g=4b(g,7,f.G,$19)}F j=(M.Z==0)?M.U:M.Z;8(!7.1M){8(7.G.12.1d){F k=2Q(h,7,g),i=4a(h,7,j-1)}Q{F k=7.G.P,i=7.G.P}8(g+k>j){g=j-i}}7.G.12.2m=7.G.P;8(7.G.12.1d){F k=4X(h,7,g,j);23(7.G.P-g>=k&&g<M.U){g++;k=4X(h,7,g,j)}7.G.P=2R(k,7,7.G.12.2l,$19)}Q 8(7.G.1v!='*'){F k=3B(h,7,g);7.G.P=2R(k,7,7.G.12.2l,$19)}8(7.1u)1N(h,7,N);8(g==0){e.21();J 1e(I,'0 G 41 1n: 28 2W.')}1e(I,'5S '+g+' G 5D.');M.Z-=g;23(M.Z<0){M.Z+=M.U}8(!7.1M){8(M.Z==7.G.P&&f.4c)f.4c.1z($19);8(!7.3l)2z(7,M.Z,I)}8(M.U<7.G.P+g){A.11().1c(0,(7.G.P+g)-M.U).4d(N).3K(A)}F h=A.11(),2r=4Y(h,7),1T=4Z(h,7,g),2c=h.1O(g-1),2d=2r.2Y(),2A=1T.2Y();8(7.1u)1N(h,7);8(7.1B){F p=43(1T,7),l=p[0],2s=p[1]}Q{F l=0,2s=0}8(f.1I=='5V'&&7.G.12.2m<g){F m=h.1c(7.G.12.2m,g),4e=7.G[7.d['S']];m.1K(H(){F a=$(1g);a.1r('4f',a.1W(':2P')).3b()});7.G[7.d['S']]='1d'}Q{F m=O}F n=3m(h.1c(0,g),7,'S'),2e=4g(2B(1T,7,N),7,!7.1u);8(m)7.G[7.d['S']]=4e;8(7.1B){8(7.1i[7.d[1]]<0){7.1i[7.d[1]]=0}}8(7.1u){1N(h,7,N);1N(2d,7,7.1i[7.d[1]])}8(7.1B){7.1i[7.d[1]]=2s;7.1i[7.d[3]]=l}F o={},1w=f.1j;8(f.1I=='47')1w=0;Q 8(1w=='T')1w=7.1n.1j/7.1n.G*g;Q 8(1w<=0)1w=0;Q 8(1w<10)1w=n/1w;R=24(1w,f.1G);8(7[7.d['S']]=='1d'||7[7.d['1l']]=='1d'){R.1f.1q([$1A,2e])}8(7.1u){F q=2A.1r('1R');8(2s>=0){q+=7.1i[7.d[1]]}2A.16(7.d['1E'],q);8(2c.4S(2d).V){F r={};r[7.d['1E']]=2d.1r('1R');R.1f.1q([2d,r])}F s=2c.1r('1R');8(l>=0){s+=7.1i[7.d[3]]}F t={};t[7.d['1E']]=s;R.1f.1q([2c,t])}o[7.d['1t']]=-n;8(l<0){o[7.d['1t']]+=l}F u=[2r,1T,2e,1w];8(f.2f)f.2f.3L($19,u);1Y.2f=3M(1Y.2f,$19,u);1x(f.1I){W'2C':W'2g':W'2D':W'2h':R.1p=24(R.1j,R.1G);R.1Q=24(R.1j,R.1G);R.1j=0;18}1x(f.1I){W'2g':W'2D':W'2h':F v=A.4d().3K($1A);18}1x(f.1I){W'2h':v.11().1c(7.G.12.2m).1U();18;W'2g':W'2D':v.11().1c(0,g).1U();v.11().1c(7.G.P).1U();18}1x(f.1I){W'2C':R.1p.1f.1q([A,{'2i':0}]);18;W'2g':v.16({'2i':0});R.1p.1f.1q([A,{'S':'+=0'},H(){v.1U()}]);R.1Q.1f.1q([v,{'2i':1}]);18;W'2D':R=4T(R,A,v,7,O);18;W'2h':R=4U(R,A,v,7,O,g);18}F w=H(){F b=7.G.P+g-M.U,5Z=(7.1u)?7.1i[7.d[3]]:0;A.16(7.d['1t'],5Z);8(b>0){A.11().1c(M.U).1U()}F c=A.11().1c(0,g).3K(A).2Y();8(b>0){1T=3d(h,7)}8(m){m.1K(H(){F a=$(1g);8(!a.1r('4f'))a.3c()})}8(7.1u){8(M.U<7.G.P+g){F d=A.11().1O(7.G.P-1);d.16(7.d['1E'],d.1r('1R')+7.1i[7.d[3]])}c.16(7.d['1E'],c.1r('1R'))}R.1f=[];8(R.1p)R.1p=24(R.4V,R.1G);F e=H(){1x(f.1I){W'2C':W'2g':A.16('1v','');18}R.1Q=24(0,2b);C.1S=O;F a=[2r,1T,2e];8(f.22)f.22.3L($19,a);1Y.22=3M(1Y.22,$19,a);8(1V.V){A.X(L(1V[0][0],I),1V[0][1]);1V.5X()}8(!C.1X)A.X(L('1H',I))};1x(f.1I){W'2C':R.1p.1f.1q([A,{'2i':1},e]);2a(R.1p);18;W'2h':R.1p.1f.1q([A,{'S':'+=0'},e]);2a(R.1p);18;2w:e();18}};R.1f.1q([A,o,w]);C.1S=N;1F=3i(1F);2a(R);4W(7.2n,A.1D(L('3w',I)));A.X(L('2E',I),[O,2e]);J N});A.14(L('2Z',I),H(e,b,c,d,f,g,h){e.1h();F v=[b,c,d,f,g,h],t=['1k/13/1o','13','1s','1o','1k','H'],a=2V(v,t);F f=a[3],g=a[4],h=a[5];b=3n(a[0],a[1],a[2],M,A);8(b==0)J;8(K f!='1o')f=O;8(C.1S){8(K f!='1o'||f.1j>0)J O}8(g!='17'&&g!='1a'){8(7.1M){8(b<=M.U/2)g='1a';Q g='17'}Q{8(M.Z==0||M.Z>b)g='1a';Q g='17'}}8(g=='17')b=M.U-b;A.X(L(g,I),[f,b,h]);J N});A.14(L('6S',I),H(e,a,b){e.1h();F c=A.1D(L('3N',I));J A.1D(L('51',I),[c-1,a,'17',b])});A.14(L('6T',I),H(e,a,b){e.1h();F c=A.1D(L('3N',I));J A.1D(L('51',I),[c+1,a,'1a',b])});A.14(L('51',I),H(e,a,b,c,d){e.1h();8(K a!='13')a=A.1D(L('3N',I));F f=7.1b.G||7.G.P,27=1L.2v(M.U/f)-1;8(a<0)a=27;8(a>27)a=0;J A.1D(L('2Z',I),[a*f,0,N,b,c,d])});A.14(L('60',I),H(e,s){e.1h();8(s)s=3n(s,0,N,M,A);Q s=0;s+=M.Z;8(s!=0){23(s>M.U)s-=M.U;A.6U(A.11().1c(s,M.U))}J N});A.14(L('29',I),H(e,s){e.1h();8(s)s=4E(s);Q 8(7.29)s=7.29;Q J 1e(I,'5s 6V 41 29.');F n=A.1D(L('3w',I)),x=N;1m(F j=0,l=s.V;j<l;j++){8(!s[j][0].1D(L('2Z',I),[n,s[j][3],N])){x=O}}J x});A.14(L('3k',I),H(e,a,b){e.1h();8(K a=='H'){a.1z($19,1V)}Q 8(31(a)){1V=a}Q 8(K a!='1y'){1V.1q([a,b])}J 1V});A.14(L('6W',I),H(e,b,c,d,f){e.1h();F v=[b,c,d,f],t=['1k/1o','1k/13/1o','1s','13'],a=2V(v,t);F b=a[0],c=a[1],d=a[2],f=a[3];8(K b=='1o'&&K b.3o=='1y')b=$(b);8(K b=='1k')b=$(b);8(K b!='1o'||K b.3o=='1y'||b.V==0)J 1e(I,'28 a 4w 1o.');8(K c=='1y')c='4i';8(7.1u){b.1K(H(){F m=2o($(1g).16(7.d['1E']));8(2p(m))m=0;$(1g).1r('1R',m)})}F g=c,3O='3O';8(c=='4i'){8(d){8(M.Z==0){c=M.U-1;3O='61'}Q{c=M.Z;M.Z+=b.V}8(c<0)c=0}Q{c=M.U-1;3O='61'}}Q{c=3n(c,f,d,M,A)}8(g!='4i'&&!d){8(c<M.Z)M.Z+=b.V}8(M.Z>=M.U)M.Z-=M.U;F h=A.11().1O(c);8(h.V){h[3O](b)}Q{A.62(b)}M.U=A.11().V;F i=A.1D('52');3p(7,M.U,I);2z(7,M.Z,I);A.X(L('53',I));A.X(L('2E',I),[N,i]);J N});A.14(L('63',I),H(e,c,d,f){e.1h();F v=[c,d,f],t=['1k/13/1o','1s','13'],a=2V(v,t);c=a[0];d=a[1];f=a[2];F g=O;8(c 64 $&&c.V>1){h=$();c.1K(H(i,a){F b=A.X(L('63',I),[$(1g),d,f]);8(b)h=h.6X(b)});J h}8(K c=='1y'||c=='4i'){h=A.11().2Y()}Q{c=3n(c,f,d,M,A);F h=A.11().1O(c);8(h.V){8(c<M.Z)M.Z-=h.V}}8(h&&h.V){h.6Y();M.U=A.11().V;F j=A.1D('52');3p(7,M.U,I);2z(7,M.Z,I);A.X(L('2E',I),[N,j])}J h});A.14(L('2f',I)+' '+L('22',I),H(e,a){e.1h();F b=e.4P.1c(I.3j.3J.V);8(31(a))1Y[b]=a;8(K a=='H')1Y[b].1q(a);J 1Y[b]});A.14(L('3w',I),H(e,a){e.1h();8(M.Z==0)F b=0;Q F b=M.U-M.Z;8(K a=='H')a.1z($19,b);J b});A.14(L('3N',I),H(e,a){e.1h();F b=7.1b.G||7.G.P;F c=1L.2v(M.U/b-1);8(M.Z==0)F d=0;Q 8(M.Z<M.U%b)F d=0;Q 8(M.Z==b&&!7.1M)F d=c;Q F d=1L.6Z((M.U-M.Z)/b);8(d<0)d=0;8(d>c)d=c;8(K a=='H')a.1z($19,d);J d});A.14(L('70',I),H(e,a){e.1h();$i=3d(A.11(),7);8(K a=='H')a.1z($19,$i);J $i});A.14(L('1c',I),H(e,f,l,b){e.1h();8(M.U==0)J O;F v=[f,l,b],t=['13','13','H'],a=2V(v,t);f=(K a[0]=='13')?a[0]:0;l=(K a[1]=='13')?a[1]:M.U;b=a[2];f+=M.Z;l+=M.Z;23(f>M.U){f-=M.U}23(l>M.U){l-=M.U}23(f<0){f+=M.U}23(l<0){l+=M.U}F c=A.11();8(l>f){F d=c.1c(f,l)}Q{F d=$(c.1c(f,M.U).4h().5W(c.1c(0,l).4h()))}8(K b=='H')b.1z($19,d);J d});A.14(L('1X',I)+' '+L('20',I)+' '+L('1S',I),H(e,a){e.1h();F b=e.4P.1c(I.3j.3J.V);8(K a=='H')a.1z($19,C[b]);J C[b]});A.14(L('5Q',I),H(e,a,b,c){e.1h();F d=O;8(K a=='H'){a.1z($19,7)}Q 8(K a=='1o'){2u=$.25(N,{},2u,a);8(b!==O)d=N;Q 7=$.25(N,{},7,a)}Q 8(K a!='1y'){8(K b=='H'){F f=4j('7.'+a);8(K f=='1y')f='';b.1z($19,f)}Q 8(K b!='1y'){8(K c!=='1s')c=N;4j('2u.'+a+' = b');8(c!==O)d=N;Q 4j('7.'+a+' = b')}Q{J 4j('7.'+a)}}8(d){1N(A.11(),7);A.3V(2u);A.54();F g=3P(A,7,O);A.X(L('2E',I),[N,g])}J 7});A.14(L('53',I),H(e,a,b){e.1h();8(K a=='1y'||a.V==0)a=$('71');Q 8(K a=='1k')a=$(a);8(K a!='1o')J 1e(I,'28 a 4w 1o.');8(K b!='1k'||b.V==0)b='a.65';a.72(b).1K(H(){F h=1g.66||'';8(h.V>0&&A.11().68($(h))!=-1){$(1g).1Z('55').55(H(e){e.2j();A.X(L('2Z',I),h)})}});J N});A.14(L('2E',I),H(e,b,c){e.1h();8(!7.1b.1C)J;8(b){F d=7.1b.G||7.G.P,l=1L.2v(M.U/d);8(7.1b.3f){7.1b.1C.11().1U();7.1b.1C.1K(H(){1m(F a=0;a<l;a++){F i=A.11().1O(3n(a*d,0,N,M,A));$(1g).62(7.1b.3f(a+1,i))}})}7.1b.1C.1K(H(){$(1g).11().1Z(7.1b.3q).1K(H(a){$(1g).14(7.1b.3q,H(e){e.2j();A.X(L('2Z',I),[a*d,0,N,7.1b])})})})}7.1b.1C.1K(H(){$(1g).11().2y(2q('69',I)).1O(A.1D(L('3N',I))).2S(2q('69',I))});J N});A.14(L('52',I),H(e){F a=A.11(),3Q=7.G.P;8(7.G.12.1d)3Q=2Q(a,7,0);Q 8(7.G.1v!='*')3Q=3B(a,7,0);8(!7.1M&&M.Z!=0&&3Q>M.Z){8(7.G.12.1d){F b=4a(a,7,M.Z)-M.Z}Q 8(7.G.1v!='*'){F b=6a(a,7,M.Z)-M.Z}Q{b=7.G.P-M.Z}1e(I,'73 74-1M: 75 '+b+' G 4G.');A.X('17',b)}7.G.P=2R(3Q,7,7.G.12.2l,$19);J 3P(A,7)});A.14(L('5t',I),H(e,a){e.1h();1F=3i(1F);A.1r('4r',O);A.X(L('4O',I));8(a){A.X(L('60',I))}8(7.1u){1N(A.11(),7)}A.16(A.1r('5G'));A.4M();A.56();$1A.76(A);J N});A.14('34',H(e,n,o){e.1h();J A.1D(L(n,I),o)})};A.4M=H(){A.1Z(L('',I));A.1Z(L('',I,O));A.1Z('34')};A.54=H(){A.56();3p(7,M.U,I);2z(7,M.Z,I);8(7.T.2t){F c=3r(7.T.2t);$1A.14(L('4k',I,O),H(){A.X(L('2T',I),c)}).14(L('4l',I,O),H(){A.X(L('2X',I))})}8(7.T.Y){7.T.Y.14(L(7.T.3q,I,O),H(e){e.2j();F a=O,c=2b;8(C.1X){a='1H'}Q 8(7.T.45){a='2T';c=3r(7.T.45)}8(a){A.X(L(a,I),c)}})}8(7.17.Y){7.17.Y.14(L(7.17.3q,I,O),H(e){e.2j();A.X(L('17',I))});8(7.17.2t){F c=3r(7.17.2t);7.17.Y.14(L('4k',I,O),H(){A.X(L('2T',I),c)}).14(L('4l',I,O),H(){A.X(L('2X',I))})}}8(7.1a.Y){7.1a.Y.14(L(7.1a.3q,I,O),H(e){e.2j();A.X(L('1a',I))});8(7.1a.2t){F c=3r(7.1a.2t);7.1a.Y.14(L('4k',I,O),H(){A.X(L('2T',I),c)}).14(L('4l',I,O),H(){A.X(L('2X',I))})}}8($.1P.2F){8(7.17.2F){8(!C.57){C.57=N;$1A.2F(H(e,a){8(a>0){e.2j();F b=59(7.17.2F);A.X(L('17',I),b)}})}}8(7.1a.2F){8(!C.5a){C.5a=N;$1A.2F(H(e,a){8(a<0){e.2j();F b=59(7.1a.2F);A.X(L('1a',I),b)}})}}}8($.1P.3R){F d=(7.17.5b)?H(){A.X(L('17',I))}:2b,3S=(7.1a.5b)?H(){A.X(L('1a',I))}:2b;8(3S||3S){8(!C.3R){C.3R=N;F f={'77':30,'78':30,'79':N};1x(7.2k){W'4u':W'6b':f.7a=d;f.7b=3S;18;2w:f.7c=3S;f.7d=d}$1A.3R(f)}}}8(7.1b.1C){8(7.1b.2t){F c=3r(7.1b.2t);7.1b.1C.14(L('4k',I,O),H(){A.X(L('2T',I),c)}).14(L('4l',I,O),H(){A.X(L('2X',I))})}}8(7.17.2G||7.1a.2G){$(3T).14(L('6c',I,O,N,N),H(e){F k=e.6d;8(k==7.1a.2G){e.2j();A.X(L('1a',I))}8(k==7.17.2G){e.2j();A.X(L('17',I))}})}8(7.1b.44){$(3T).14(L('6c',I,O,N,N),H(e){F k=e.6d;8(k>=49&&k<58){k=(k-49)*7.G.P;8(k<=M.U){e.2j();A.X(L('2Z',I),[k,0,N,7.1b])}}})}8(7.T.1H){A.X(L('1H',I),7.T.4C)}8(C.4t){F g=$(3s),5c=g.S(),5d=g.1l();g.14(L('7e',I,O,N,N),H(e){8(g.S()!=5c||g.1l()!=5d){A.X(L('4O',I));8(7.T.4D&&!C.1X){A.X(L('1H',I))}1N(A.11(),7);A.3V(2u);F a=3P(A,7,O);3p(7,M.U,I);2z(7,M.Z,I);A.X(L('2E',I),[N,a]);5c=g.S();5d=g.1l()}})}};A.56=H(){F a=L('',I),3t=L('',I,O);5e=L('',I,O,N,N);$(3T).1Z(5e);$(3s).1Z(5e);$1A.1Z(3t);8(7.T.Y)7.T.Y.1Z(3t);8(7.17.Y)7.17.Y.1Z(3t);8(7.1a.Y)7.1a.Y.1Z(3t);8(7.1b.1C){7.1b.1C.1Z(3t);8(7.1b.3f){7.1b.1C.11().1U()}}3p(7,'3b',I);2z(7,'2y',I)};F C={'2k':'1a','1X':N,'1S':O,'20':O,'5a':O,'57':O,'3R':O},M={'U':A.11().V,'Z':0},1F={'7f':2b,'T':2b,'3k':2b,'2U':2x(),'3F':0},R={'20':O,'1j':0,'2U':0,'1G':'','1f':[]},1Y={'2f':[],'22':[]},1V=[],I=$.25(N,{},$.1P.1J.6e,z),7={},2u=y,$1A=A.7g('<'+I.5f.4q+' 7h=\"'+I.5f.6f+'\" />').3a();I.3U=A.3U;I.4m=$.1P.1J.4m++;A.3V(2u,N,B);A.5E();A.5H();A.54();8(31(7.G.2J)){F D=7.G.2J}Q{F D=[];8(7.G.2J!=0){D.1q(7.G.2J)}}8(7.2n){D.7i(6g(7.2n))}8(D.V>0){1m(F a=0,l=D.V;a<l;a++){F s=D[a];8(s==0){5g}8(s===N){s=3s.7j.66;8(s.V<1){5g}}Q 8(s==='6h'){s=1L.3y(1L.6h()*M.U)}8(A.1D(L('2Z',I),[s,0,N,{1I:'47'}])){18}}}F E=3P(A,7,O),6i=3d(A.11(),7);8(7.6j){7.6j.1z($19,6i,E)}A.X(L('2E',I),[N,E]);A.X(L('53',I));J A};$.1P.1J.4m=1;$.1P.1J.4s={'29':O,'3l':N,'1M':N,'2K':O,'2k':'1t','G':{'2J':0},'1n':{'1G':'7k','1j':5A,'2t':O,'2F':O,'5b':O,'3q':'55','3k':O}};$.1P.1J.6e={'1e':O,'3j':{'3J':'','6k':'7l'},'5f':{'4q':'7m','6f':'7n'},'5h':{}};$.1P.1J.5B=H(a,b){J'<a 7o=\"#\"><6l>'+a+'</6l></a>'};H 24(d,e){J{1f:[],1j:d,4V:d,1G:e,2U:2x()}}H 2a(s){8(K s.1p=='1o'){2a(s.1p)}1m(F a=0,l=s.1f.V;a<l;a++){F b=s.1f[a];8(!b)5g;8(b[3])b[0].4N();b[0].6m(b[1],{6n:b[2],1j:s.1j,1G:s.1G})}8(K s.1Q=='1o'){2a(s.1Q)}}H 3E(s,c){8(K c!='1s')c=N;8(K s.1p=='1o'){3E(s.1p,c)}1m(F a=0,l=s.1f.V;a<l;a++){F b=s.1f[a];b[0].4N(N);8(c){b[0].16(b[1]);8(K b[2]=='H')b[2]()}}8(K s.1Q=='1o'){3E(s.1Q,c)}}H 3i(t){8(t.T)7p(t.T);J t}H 3M(b,t,c){8(b.V){1m(F a=0,l=b.V;a<l;a++){b[a].3L(t,c)}}J[]}H 7q(a,c,x,d,f){F o={'1j':d,'1G':a.1G};8(K f=='H')o.6n=f;c.6m({2i:x},o)}H 4T(a,b,c,o,d){F e=2B(4Y(b.11(),o),o,N)[0],5i=2B(c.11(),o,N)[0],4n=(d)?-5i:e,2H={},3u={};2H[o.d['S']]=5i;2H[o.d['1t']]=4n;3u[o.d['1t']]=0;a.1p.1f.1q([b,{'2i':1}]);a.1Q.1f.1q([c,3u,H(){$(1g).1U()}]);c.16(2H);J a}H 4U(a,b,c,o,d,n){F e=2B(4Z(b.11(),o,n),o,N)[0],5j=2B(c.11(),o,N)[0],4n=(d)?-5j:e,2H={},3u={};2H[o.d['S']]=5j;2H[o.d['1t']]=0;3u[o.d['1t']]=4n;a.1Q.1f.1q([c,3u,H(){$(1g).1U()}]);c.16(2H);J a}H 3p(o,t,c){8(t=='3c'||t=='3b'){F f=t}Q 8(o.G.3e>=t){1e(c,'28 5M G: 7r 7s ('+t+' G, '+o.G.3e+' 5N).');F f='3b'}Q{F f='3c'}F s=(f=='3c')?'2y':'2S',h=2q('2P',c);8(o.T.Y)o.T.Y[f]()[s](h);8(o.17.Y)o.17.Y[f]()[s](h);8(o.1a.Y)o.1a.Y[f]()[s](h);8(o.1b.1C)o.1b.1C[f]()[s](h)}H 2z(o,f,c){8(o.1M||o.3l)J;F a=(f=='2y'||f=='2S')?f:O,4o=2q('7t',c);8(o.T.Y&&a){o.T.Y[a](4o)}8(o.17.Y){F b=a||(f==0)?'2S':'2y';o.17.Y[b](4o)}8(o.1a.Y){F b=a||(f==o.G.P)?'2S':'2y';o.1a.Y[b](4o)}}H 3W(a,b){8(K b=='H')b=b.1z(a);8(K b=='1y')b={};J b}H 3C(a,b,c){8(K c!='1k')c='';b=3W(a,b);8(K b=='1k'){F d=5k(b);8(d==-1)b=$(b);Q b=d}8(c=='1b'){8(K b=='1s')b={'44':b};8(K b.3o!='1y')b={'1C':b};8(K b.1C=='H')b.1C=b.1C.1z(a);8(K b.1C=='1k')b.1C=$(b.1C);8(K b.G!='13')b.G=O}Q 8(c=='T'){8(K b.3o!='1y')b={'Y':b};8(K b=='1s')b={'1H':b};8(K b=='13')b={'3g':b};8(K b.Y=='H')b.Y=b.Y.1z(a);8(K b.Y=='1k')b.Y=$(b.Y)}Q{8(K b.3o!='1y')b={'Y':b};8(K b=='13')b={'2G':b};8(K b.Y=='H')b.Y=b.Y.1z(a);8(K b.Y=='1k')b.Y=$(b.Y);8(K b.2G=='1k')b.2G=5k(b.2G)}J b}H 3n(a,b,c,d,e){8(K a=='1k'){8(2p(a))a=$(a);Q a=2o(a)}8(K a=='1o'){8(K a.3o=='1y')a=$(a);a=e.11().68(a);8(a==-1)a=0;8(K c!='1s')c=O}Q{8(K c!='1s')c=N}8(2p(a))a=0;Q a=2o(a);8(2p(b))b=0;Q b=2o(b);8(c){a+=d.Z}a+=b;8(d.U>0){23(a>=d.U){a-=d.U}23(a<0){a+=d.U}}J a}H 4a(i,o,s){F t=0,x=0;1m(F a=s;a>=0;a--){F j=i.1O(a);t+=(j.1W(':P'))?j[o.d['26']](N):0;8(t>o.3A)J x;8(a==0)a=i.V;x++}}H 6a(i,o,s){J 5l(i,o.G.1v,o.G.12.42,s)}H 5R(i,o,s,m){J 5l(i,o.G.1v,m,s)}H 5l(i,f,m,s){F t=0,x=0;1m(F a=s,l=i.V;a>=0;a--){x++;8(x==l)J x;F j=i.1O(a);8(j.1W(f)){t++;8(t==m)J x}8(a==0)a=l}}H 4R(a,o){J o.G.12.42||a.11().1c(0,o.G.P).1v(o.G.1v).V}H 2Q(i,o,s){F t=0,x=0;1m(F a=s,l=i.V-1;a<=l;a++){F j=i.1O(a);t+=(j.1W(':P'))?j[o.d['26']](N):0;8(t>o.3A)J x;x++;8(x==l+1)J x;8(a==l)a=-1}}H 4X(i,o,s,l){F v=2Q(i,o,s);8(!o.1M){8(s+v>l)v=l-s}J v}H 3B(i,o,s){J 5m(i,o.G.1v,o.G.12.42,s,o.1M)}H 5Y(i,o,s,m){J 5m(i,o.G.1v,m+1,s,o.1M)-1}H 5m(i,f,m,s,c){F t=0,x=0;1m(F a=s,l=i.V-1;a<=l;a++){x++;8(x==l)J x;F j=i.1O(a);8(j.1W(f)){t++;8(t==m)J x}8(a==l)a=-1}}H 3d(i,o){J i.1c(0,o.G.P)}H 5T(i,o,n){J i.1c(n,o.G.12.2m+n)}H 5U(i,o){J i.1c(0,o.G.P)}H 4Y(i,o){J i.1c(0,o.G.12.2m)}H 4Z(i,o,n){J i.1c(n,o.G.P+n)}H 1N(i,o,m){F x=(K m=='1s')?m:O;8(K m!='13')m=0;i.1K(H(){F j=$(1g);F t=2o(j.16(o.d['1E']));8(2p(t))t=0;j.1r('6o',t);j.16(o.d['1E'],((x)?j.1r('6o'):m+j.1r('1R')))})}H 3P(a,o,p){F b=a.3a(),$i=a.11(),$v=3d($i,o),4p=4g(2B($v,o,N),o,p);b.16(4p);8(o.1u){F p=o.1i,r=p[o.d[1]];8(o.1B){8(r<0)r=0}F c=$v.2Y();c.16(o.d['1E'],c.1r('1R')+r);a.16(o.d['2M'],p[o.d[0]]);a.16(o.d['1t'],p[o.d[3]])}a.16(o.d['S'],4p[o.d['S']]+(3m($i,o,'S')*2));a.16(o.d['1l'],5n($i,o,'1l'));J 4p}H 2B(i,o,a){F b=3m(i,o,'S',a),6p=5n(i,o,'1l',a);J[b,6p]}H 5n(i,o,a,b){8(K b!='1s')b=O;8(K o[o.d[a]]=='13'&&b)J o[o.d[a]];8(K o.G[o.d[a]]=='13')J o.G[o.d[a]];F c=(a.5o().32('S')>-1)?'26':'2L';J 3x(i,o,c)}H 3x(i,o,b){F s=0;1m(F a=0,l=i.V;a<l;a++){F j=i.1O(a);F m=(j.1W(':P'))?j[o.d[b]](N):0;8(s<m)s=m}J s}H 36(b,o,c){8(!b.1W(':P'))J 0;F d=b[o.d[c]](),5p=(o.d[c].5o().32('S')>-1)?['7u','7v']:['7w','7x'];1m(F a=0,l=5p.V;a<l;a++){F m=2o(b.16(5p[a]));d-=(2p(m))?0:m}J d}H 3m(i,o,b,c){8(K c!='1s')c=O;8(K o[o.d[b]]=='13'&&c)J o[o.d[b]];8(K o.G[o.d[b]]=='13')J o.G[o.d[b]]*i.V;F d=(b.5o().32('S')>-1)?'26':'2L',s=0;1m(F a=0,l=i.V;a<l;a++){F j=i.1O(a);s+=(j.1W(':P'))?j[o.d[d]](N):0}J s}H 4v(i,o,b){F s=O,v=O;1m(F a=0,l=i.V;a<l;a++){F j=i.1O(a);F c=(j.1W(':P'))?j[o.d[b]](N):0;8(s===O)s=c;Q 8(s!=c)v=N;8(s==0)v=N}J v}H 5y(i,o,d){J i[o.d['7y'+d]](N)-36(i,o,'7z'+d)}H 3Y(x){J(K x=='1k'&&x.1c(-1)=='%')}H 3Z(s,o){8(3Y(o)){o=o.1c(0,-1);8(2p(o))J s;s*=o/3H}J s}H L(n,c,a,b,d){8(K a!='1s')a=N;8(K b!='1s')b=N;8(K d!='1s')d=O;8(a)n=c.3j.3J+n;8(b)n=n+'.'+c.3j.6k;8(b&&d)n+=c.4m;J n}H 2q(n,c){J(K c.5h[n]=='1k')?c.5h[n]:n}H 4g(a,o,p){8(K p!='1s')p=N;F b=(o.1u&&p)?o.1i:[0,0,0,0];F c={};c[o.d['S']]=a[0]+b[1]+b[3];c[o.d['1l']]=a[1]+b[0]+b[2];J c}H 2V(c,d){F e=[];1m(F a=0,6q=c.V;a<6q;a++){1m(F b=0,6r=d.V;b<6r;b++){8(d[b].32(K c[a])>-1&&K e[b]=='1y'){e[b]=c[a];18}}}J e}H 5z(p){8(K p=='1y')J[0,0,0,0];8(K p=='13')J[p,p,p,p];Q 8(K p=='1k')p=p.3v('7A').6s('').3v('7B').6s('').3v(' ');8(!31(p)){J[0,0,0,0]}1m(F i=0;i<4;i++){p[i]=2o(p[i])}1x(p.V){W 0:J[0,0,0,0];W 1:J[p[0],p[0],p[0],p[0]];W 2:J[p[0],p[1],p[0],p[1]];W 3:J[p[0],p[1],p[2],p[1]];2w:J[p[0],p[1],p[2],p[3]]}}H 43(a,o){F x=(K o[o.d['S']]=='13')?1L.2v(o[o.d['S']]-3m(a,o,'S')):0;1x(o.1B){W'1t':J[0,x];W'2N':J[x,0];W'4x':2w:J[1L.2v(x/2),1L.3y(x/2)]}}H 4b(x,o,a,b){F v=x;8(K a=='H'){v=a.1z(b,v)}Q 8(K a=='1k'){F p=a.3v('+'),m=a.3v('-');8(m.V>p.V){F c=N,5q=m[0],2I=m[1]}Q{F c=O,5q=p[0],2I=p[1]}1x(5q){W'7C':v=(x%2==1)?x-1:x;18;W'7D':v=(x%2==0)?x-1:x;18;2w:v=x;18}2I=2o(2I);8(!2p(2I)){8(c)2I=-2I;v+=2I}}8(K v!='13')v=1;8(v<1)v=1;J v}H 2R(x,o,a,b){J 4y(4b(x,o,a,b),o.G.12)}H 4y(v,i){8(K i.2O=='13'&&v<i.2O)v=i.2O;8(K i.27=='13'&&v>i.27)v=i.27;8(v<1)v=1;J v}H 4E(s){8(!31(s))s=[[s]];8(!31(s[0]))s=[s];1m(F j=0,l=s.V;j<l;j++){8(K s[j][0]=='1k')s[j][0]=$(s[j][0]);8(K s[j][1]!='1s')s[j][1]=N;8(K s[j][2]!='1s')s[j][2]=N;8(K s[j][3]!='13')s[j][3]=0}J s}H 5k(k){8(k=='2N')J 39;8(k=='1t')J 37;8(k=='4u')J 38;8(k=='6b')J 40;J-1}H 4W(n,v){8(n)3T.2n=n+'='+v+'; 7E=/'}H 6g(n){n+='=';F b=3T.2n.3v(';');1m(F a=0,l=b.V;a<l;a++){F c=b[a];23(c.7F(0)==' '){c=c.1c(1)}8(c.32(n)==0){J c.1c(n.V)}}J 0}H 3r(p){8(p&&K p=='1k'){F i=(p.32('7G')>-1)?N:O,r=(p.32('2X')>-1)?N:O}Q{F i=r=O}J[i,r]}H 59(a){J(K a=='13')?a:2b}H 31(a){J K(a)=='1o'&&(a 64 7H)}H 2x(){J 7I 7J().2x()}H 1e(d,m){8(K d=='1o'){F s=' ('+d.3U+')';d=d.1e}Q{F s=''}8(!d)J O;8(K m=='1k')m='1J'+s+': '+m;Q m=['1J'+s+':',m];8(3s.5r&&3s.5r.6t)3s.5r.6t(m);J O}$.1P.65=H(o,c){J 1g.1J(o,c)};$.25($.1G,{'7K':H(t){F a=t*t;J t*(-a*t+4*a-6*t+4)},'7L':H(t){J t*(4*t*t-9*t+6)},'7M':H(t){F a=t*t;J t*(33*a*a-7N*a*t+7O*a-67*t+15)}})})(7P);",62,486,"|||||||opts|if|||||||||||||||||||||||||||||||||var|items|function|conf|return|typeof|cf_e|itms|true|false|visible|else|scrl|width|auto|total|length|case|trigger|button|first||children|visibleConf|number|bind||css|prev|break|tt0|next|pagination|slice|variable|debug|anims|this|stopPropagation|padding|duration|string|height|for|scroll|object|pre|push|data|boolean|left|usePadding|filter|a_dur|switch|undefined|call|wrp|align|container|triggerHandler|marginRight|tmrs|easing|play|fx|carouFredSel|each|Math|circular|sz_resetMargin|eq|fn|post|cfs_origCssMargin|isScrolling|c_new|remove|queu|is|isPaused|clbk|unbind|isStopped|stopImmediatePropagation|onAfter|while|sc_setScroll|extend|outerWidth|max|Not|synchronise|sc_startScroll|null|l_cur|l_old|w_siz|onBefore|crossfade|uncover|opacity|preventDefault|direction|adjust|old-js|cookie|parseInt|isNaN|cf_c|c_old|pR|pauseOnHover|opts_orig|ceil|default|getTime|removeClass|nv_enableNavi|l_new|ms_getSizes|fade|cover|updatePageStatus|mousewheel|key|css_o|adj|start|responsive|outerHeight|top|right|min|hidden|gn_getVisibleItemsNext|cf_getItemsAdjust|addClass|pause|startTime|cf_sortParams|scrolling|resume|last|slideTo||is_array|indexOf||_cfs_triggerEvent|innerWidth|ms_getTrueInnerSize||||parent|hide|show|gi_getCurrentItems|minimum|anchorBuilder|pauseDuration|Carousel|sc_clearTimers|events|queue|infinite|ms_getTotalSize|gn_getItemIndex|jquery|nv_showNavi|event|bt_pauseOnHoverConfig|window|ns2|ani_o|split|currentPosition|ms_getTrueLargestSize|floor|of|maxDimention|gn_getVisibleItemsNextFilter|go_getNaviObject|position|sc_stopScroll|timePassed|perc|100|dur2|prefix|appendTo|apply|sc_callCallbacks|currentPage|before|sz_setSizes|vI|touchwipe|wN|document|selector|_cfs_init|go_getObject|marginBottom|ms_isPercentage|ms_getPercentage||to|org|cf_getAlignPadding|keys|pauseOnEvent|Number|none|stopped||gn_getVisibleItemsPrev|cf_getAdjust|onEnd|clone|orgW|isHidden|cf_mapWrapperSizes|get|end|eval|mouseenter|mouseleave|serialNumber|cur_l|di|sz|element|cfs_isCarousel|defaults|upDateOnWindowResize|up|ms_hasVariableSizes|valid|center|cf_getItemAdjustMinMax|seco|nw|bottom|delay|pauseOnResize|cf_getSynchArr|scrolled|backward|textAlign|float|marginTop|marginLeft|absolute|_cfs_unbind_events|stop|finish|type|conditions|gn_getVisibleOrg|not|fx_cover|fx_uncover|orgDuration|cf_setCookie|gn_getVisibleItemsNextTestCircular|gi_getOldItemsNext|gi_getNewItemsNext||slideToPage|updateSizes|linkAnchors|_cfs_bind_buttons|click|_cfs_unbind_buttons|mousewheelPrev||bt_mousesheelNumber|mousewheelNext|wipe|_windowWidth|_windowHeight|ns3|wrapper|continue|classnames|new_w|old_w|cf_getKeyCode|gn_getItemsPrevFilter|gn_getItemsNextFilter|ms_getLargestSize|toLowerCase|arr|sta|console|No|destroy|innerHeight|dx|Set|secp|ms_getPaddingBorderMargin|cf_getPadding|500|pageAnchorBuilder|Item|forward|_cfs_build|fixed|cfs_origCss|_cfs_bind_events|paused|onPausePause|onPauseEnd|onPauseStart|enough|needed|page|slide_|configuration|gn_getScrollItemsPrevFilter|Scrolling|gi_getOldItemsPrev|gi_getNewItemsPrev|directscroll|concat|shift|gn_getScrollItemsNextFilter|new_m|jumpToStart|after|append|removeItem|instanceof|caroufredsel|hash||index|selected|gn_getVisibleItemsPrevFilter|down|keyup|keyCode|configs|classname|cf_readCookie|random|itm|onCreate|namespace|span|animate|complete|cfs_tempCssMargin|s2|l1|l2|join|log|found|the|Infinity|Width|caroufredsel_cookie_|attr|id|2500|Available|widths|heights|automatically|relative|overflow|setTimeout|or|Page|resumed|currently|Callback|returned|slide_prev|prependTo|slide_next|prevPage|nextPage|prepend|carousel|insertItem|add|detach|round|currentVisible|body|find|Preventing|non|sliding|replaceWith|min_move_x|min_move_y|preventDefaultEvents|wipeUp|wipeDown|wipeLeft|wipeRight|resize|timer|wrap|class|unshift|location|swing|cfs|div|caroufredsel_wrapper|href|clearTimeout|fx_fade|hiding|navigation|disabled|paddingLeft|paddingRight|paddingTop|paddingBottom|outer|inner|px|em|even|odd|path|charAt|immediate|Array|new|Date|quadratic|cubic|elastic|106|126|jQuery".split("|"),0,{})),function(t,e){"use strict";function i(e){t.fn.cycle.debug&&n(e)}function n(){window.console&&console.log&&console.log("[cycle] "+Array.prototype.join.call(arguments," "))}function s(e,i,n){var s=t(e).data("cycle.opts"),a=!!e.cyclePause;a&&s.paused?s.paused(e,s,i,n):!a&&s.resumed&&s.resumed(e,s,i,n)}function a(i,a,r){function l(e,i,s){if(!e&&i===!0){var a=t(s).data("cycle.opts");if(!a)return n("options not found, can not resume"),!1;s.cycleTimeout&&(clearTimeout(s.cycleTimeout),s.cycleTimeout=0),d(a.elements,a,1,!a.backwards)}}if(i.cycleStop===e&&(i.cycleStop=0),(a===e||null===a)&&(a={}),a.constructor==String){switch(a){case"destroy":case"stop":var c=t(i).data("cycle.opts");return c?(i.cycleStop++,i.cycleTimeout&&clearTimeout(i.cycleTimeout),i.cycleTimeout=0,c.elements&&t(c.elements).stop(),t(i).removeData("cycle.opts"),"destroy"==a&&o(i,c),!1):!1;case"toggle":return i.cyclePause=1===i.cyclePause?0:1,l(i.cyclePause,r,i),s(i),!1;case"pause":return i.cyclePause=1,s(i),!1;case"resume":return i.cyclePause=0,l(!1,r,i),s(i),!1;case"prev":case"next":return(c=t(i).data("cycle.opts"))?(t.fn.cycle[a](c),!1):(n('options not found, "prev/next" ignored'),!1);default:a={fx:a}}return a}if(a.constructor==Number){var h=a;return(a=t(i).data("cycle.opts"))?0>h||h>=a.elements.length?(n("invalid slide index: "+h),!1):(a.nextSlide=h,i.cycleTimeout&&(clearTimeout(i.cycleTimeout),i.cycleTimeout=0),"string"==typeof r&&(a.oneTimeFx=r),d(a.elements,a,1,h>=a.currSlide),!1):(n("options not found, can not advance slide"),!1)}return a}function r(e,i){if(!t.support.opacity&&i.cleartype&&e.style.filter)try{e.style.removeAttribute("filter")}catch(n){}}function o(e,i){i.next&&t(i.next).unbind(i.prevNextEvent),i.prev&&t(i.prev).unbind(i.prevNextEvent),(i.pager||i.pagerAnchorBuilder)&&t.each(i.pagerAnchors||[],function(){this.unbind().remove()}),i.pagerAnchors=null,t(e).unbind("mouseenter.cycle mouseleave.cycle"),i.destroy&&i.destroy(i)}function l(i,a,o,l,f){var v,b=t.extend({},t.fn.cycle.defaults,l||{},t.metadata?i.metadata():t.meta?i.data():{}),y=t.isFunction(i.data)?i.data(b.metaAttr):null;y&&(b=t.extend(b,y)),b.autostop&&(b.countdown=b.autostopCount||o.length);var _=i[0];if(i.data("cycle.opts",b),b.$cont=i,b.stopCount=_.cycleStop,b.elements=o,b.before=b.before?[b.before]:[],b.after=b.after?[b.after]:[],!t.support.opacity&&b.cleartype&&b.after.push(function(){r(this,b)}),b.continuous&&b.after.push(function(){d(o,b,0,!b.backwards)
}),c(b),t.support.opacity||!b.cleartype||b.cleartypeNoBg||m(a),"static"==i.css("position")&&i.css("position","relative"),b.width&&i.width(b.width),b.height&&"auto"!=b.height&&i.height(b.height),b.startingSlide!==e?(b.startingSlide=parseInt(b.startingSlide,10),b.startingSlide>=o.length||b.startSlide<0?b.startingSlide=0:v=!0):b.startingSlide=b.backwards?o.length-1:0,b.random){b.randomMap=[];for(var x=0;x<o.length;x++)b.randomMap.push(x);if(b.randomMap.sort(function(){return Math.random()-.5}),v)for(var w=0;w<o.length;w++)b.startingSlide==b.randomMap[w]&&(b.randomIndex=w);else b.randomIndex=1,b.startingSlide=b.randomMap[1]}else b.startingSlide>=o.length&&(b.startingSlide=0);b.currSlide=b.startingSlide||0;var k=b.startingSlide;a.css({position:"absolute",top:0,left:0}).hide().each(function(e){var i;i=b.backwards?k?k>=e?o.length+(e-k):k-e:o.length-e:k?e>=k?o.length-(e-k):k-e:o.length-e,t(this).css("z-index",i)}),t(o[k]).css("opacity",1).show(),r(o[k],b),b.fit&&(b.aspect?a.each(function(){var e=t(this),i=b.aspect===!0?e.width()/e.height():b.aspect;b.width&&e.width()!=b.width&&(e.width(b.width),e.height(b.width/i)),b.height&&e.height()<b.height&&(e.height(b.height),e.width(b.height*i))}):(b.width&&a.width(b.width),b.height&&"auto"!=b.height&&a.height(b.height))),!b.center||b.fit&&!b.aspect||a.each(function(){var e=t(this);e.css({"margin-left":b.width?(b.width-e.width())/2+"px":0,"margin-top":b.height?(b.height-e.height())/2+"px":0})}),!b.center||b.fit||b.slideResize||a.each(function(){var e=t(this);e.css({"margin-left":b.width?(b.width-e.width())/2+"px":0,"margin-top":b.height?(b.height-e.height())/2+"px":0})});var C=b.containerResize&&!i.innerHeight();if(C){for(var S=0,j=0,T=0;T<o.length;T++){var I=t(o[T]),A=I[0],P=I.outerWidth(),D=I.outerHeight();P||(P=A.offsetWidth||A.width||I.attr("width")),D||(D=A.offsetHeight||A.height||I.attr("height")),S=P>S?P:S,j=D>j?D:j}S>0&&j>0&&i.css({width:S+"px",height:j+"px"})}var O=!1;if(b.pause&&i.bind("mouseenter.cycle",function(){O=!0,this.cyclePause++,s(_,!0)}).bind("mouseleave.cycle",function(){O&&this.cyclePause--,s(_,!0)}),h(b)===!1)return!1;var F=!1;if(l.requeueAttempts=l.requeueAttempts||0,a.each(function(){var e=t(this);if(this.cycleH=b.fit&&b.height?b.height:e.height()||this.offsetHeight||this.height||e.attr("height")||0,this.cycleW=b.fit&&b.width?b.width:e.width()||this.offsetWidth||this.width||e.attr("width")||0,e.is("img")){var i=t.browser.msie&&28==this.cycleW&&30==this.cycleH&&!this.complete,s=t.browser.mozilla&&34==this.cycleW&&19==this.cycleH&&!this.complete,a=t.browser.opera&&(42==this.cycleW&&19==this.cycleH||37==this.cycleW&&17==this.cycleH)&&!this.complete,r=0===this.cycleH&&0===this.cycleW&&!this.complete;if(i||s||a||r){if(f.s&&b.requeueOnImageNotLoaded&&++l.requeueAttempts<100)return n(l.requeueAttempts," - img slide not loaded, requeuing slideshow: ",this.src,this.cycleW,this.cycleH),setTimeout(function(){t(f.s,f.c).cycle(l)},b.requeueTimeout),F=!0,!1;n("could not determine size of image: "+this.src,this.cycleW,this.cycleH)}}return!0}),F)return!1;if(b.cssBefore=b.cssBefore||{},b.cssAfter=b.cssAfter||{},b.cssFirst=b.cssFirst||{},b.animIn=b.animIn||{},b.animOut=b.animOut||{},a.not(":eq("+k+")").css(b.cssBefore),t(a[k]).css(b.cssFirst),b.timeout){b.timeout=parseInt(b.timeout,10),b.speed.constructor==String&&(b.speed=t.fx.speeds[b.speed]||parseInt(b.speed,10)),b.sync||(b.speed=b.speed/2);for(var M="none"==b.fx?0:"shuffle"==b.fx?500:250;b.timeout-b.speed<M;)b.timeout+=b.speed}if(b.easing&&(b.easeIn=b.easeOut=b.easing),b.speedIn||(b.speedIn=b.speed),b.speedOut||(b.speedOut=b.speed),b.slideCount=o.length,b.currSlide=b.lastSlide=k,b.random?(++b.randomIndex==o.length&&(b.randomIndex=0),b.nextSlide=b.randomMap[b.randomIndex]):b.nextSlide=b.backwards?0===b.startingSlide?o.length-1:b.startingSlide-1:b.startingSlide>=o.length-1?0:b.startingSlide+1,!b.multiFx){var E=t.fn.cycle.transitions[b.fx];if(t.isFunction(E))E(i,a,b);else if("custom"!=b.fx&&!b.multiFx)return n("unknown transition: "+b.fx,"; slideshow terminating"),!1}var N=a[k];return b.skipInitializationCallbacks||(b.before.length&&b.before[0].apply(N,[N,N,b,!0]),b.after.length&&b.after[0].apply(N,[N,N,b,!0])),b.next&&t(b.next).bind(b.prevNextEvent,function(){return p(b,1)}),b.prev&&t(b.prev).bind(b.prevNextEvent,function(){return p(b,0)}),(b.pager||b.pagerAnchorBuilder)&&g(o,b),u(b,o),b}function c(e){e.original={before:[],after:[]},e.original.cssBefore=t.extend({},e.cssBefore),e.original.cssAfter=t.extend({},e.cssAfter),e.original.animIn=t.extend({},e.animIn),e.original.animOut=t.extend({},e.animOut),t.each(e.before,function(){e.original.before.push(this)}),t.each(e.after,function(){e.original.after.push(this)})}function h(e){var s,a,r=t.fn.cycle.transitions;if(e.fx.indexOf(",")>0){for(e.multiFx=!0,e.fxs=e.fx.replace(/\s*/g,"").split(","),s=0;s<e.fxs.length;s++){var o=e.fxs[s];a=r[o],a&&r.hasOwnProperty(o)&&t.isFunction(a)||(n("discarding unknown transition: ",o),e.fxs.splice(s,1),s--)}if(!e.fxs.length)return n("No valid transitions named; slideshow terminating."),!1}else if("all"==e.fx){e.multiFx=!0,e.fxs=[];for(var l in r)r.hasOwnProperty(l)&&(a=r[l],r.hasOwnProperty(l)&&t.isFunction(a)&&e.fxs.push(l))}if(e.multiFx&&e.randomizeEffects){var c=Math.floor(20*Math.random())+30;for(s=0;c>s;s++){var h=Math.floor(Math.random()*e.fxs.length);e.fxs.push(e.fxs.splice(h,1)[0])}i("randomized fx sequence: ",e.fxs)}return!0}function u(e,i){e.addSlide=function(n,s){var a=t(n),r=a[0];e.autostopCount||e.countdown++,i[s?"unshift":"push"](r),e.els&&e.els[s?"unshift":"push"](r),e.slideCount=i.length,e.random&&(e.randomMap.push(e.slideCount-1),e.randomMap.sort(function(){return Math.random()-.5})),a.css("position","absolute"),a[s?"prependTo":"appendTo"](e.$cont),s&&(e.currSlide++,e.nextSlide++),t.support.opacity||!e.cleartype||e.cleartypeNoBg||m(a),e.fit&&e.width&&a.width(e.width),e.fit&&e.height&&"auto"!=e.height&&a.height(e.height),r.cycleH=e.fit&&e.height?e.height:a.height(),r.cycleW=e.fit&&e.width?e.width:a.width(),a.css(e.cssBefore),(e.pager||e.pagerAnchorBuilder)&&t.fn.cycle.createPagerAnchor(i.length-1,r,t(e.pager),i,e),t.isFunction(e.onAddSlide)?e.onAddSlide(a):a.hide()}}function d(n,s,a,r){function o(){var t=0;s.timeout,s.timeout&&!s.continuous?(t=f(n[s.currSlide],n[s.nextSlide],s,r),"shuffle"==s.fx&&(t-=s.speedOut)):s.continuous&&l.cyclePause&&(t=10),t>0&&(l.cycleTimeout=setTimeout(function(){d(n,s,0,!s.backwards)},t))}var l=s.$cont[0],c=n[s.currSlide],h=n[s.nextSlide];if(a&&s.busy&&s.manualTrump&&(i("manualTrump in go(), stopping active transition"),t(n).stop(!0,!0),s.busy=0,clearTimeout(l.cycleTimeout)),s.busy)return i("transition active, ignoring new tx request"),void 0;if(l.cycleStop==s.stopCount&&(0!==l.cycleTimeout||a)){if(!a&&!l.cyclePause&&!s.bounce&&(s.autostop&&--s.countdown<=0||s.nowrap&&!s.random&&s.nextSlide<s.currSlide))return s.end&&s.end(s),void 0;var u=!1;if(!a&&l.cyclePause||s.nextSlide==s.currSlide)o();else{u=!0;var p=s.fx;c.cycleH=c.cycleH||t(c).height(),c.cycleW=c.cycleW||t(c).width(),h.cycleH=h.cycleH||t(h).height(),h.cycleW=h.cycleW||t(h).width(),s.multiFx&&(r&&(s.lastFx===e||++s.lastFx>=s.fxs.length)?s.lastFx=0:!r&&(s.lastFx===e||--s.lastFx<0)&&(s.lastFx=s.fxs.length-1),p=s.fxs[s.lastFx]),s.oneTimeFx&&(p=s.oneTimeFx,s.oneTimeFx=null),t.fn.cycle.resetState(s,p),s.before.length&&t.each(s.before,function(t,e){l.cycleStop==s.stopCount&&e.apply(h,[c,h,s,r])});var g=function(){s.busy=0,t.each(s.after,function(t,e){l.cycleStop==s.stopCount&&e.apply(h,[c,h,s,r])}),l.cycleStop||o()};i("tx firing("+p+"); currSlide: "+s.currSlide+"; nextSlide: "+s.nextSlide),s.busy=1,s.fxFn?s.fxFn(c,h,s,g,r,a&&s.fastOnEvent):t.isFunction(t.fn.cycle[s.fx])?t.fn.cycle[s.fx](c,h,s,g,r,a&&s.fastOnEvent):t.fn.cycle.custom(c,h,s,g,r,a&&s.fastOnEvent)}if(u||s.nextSlide==s.currSlide){var m;s.lastSlide=s.currSlide,s.random?(s.currSlide=s.nextSlide,++s.randomIndex==n.length&&(s.randomIndex=0,s.randomMap.sort(function(){return Math.random()-.5})),s.nextSlide=s.randomMap[s.randomIndex],s.nextSlide==s.currSlide&&(s.nextSlide=s.currSlide==s.slideCount-1?0:s.currSlide+1)):s.backwards?(m=s.nextSlide-1<0,m&&s.bounce?(s.backwards=!s.backwards,s.nextSlide=1,s.currSlide=0):(s.nextSlide=m?n.length-1:s.nextSlide-1,s.currSlide=m?0:s.nextSlide+1)):(m=s.nextSlide+1==n.length,m&&s.bounce?(s.backwards=!s.backwards,s.nextSlide=n.length-2,s.currSlide=n.length-1):(s.nextSlide=m?0:s.nextSlide+1,s.currSlide=m?n.length-1:s.nextSlide-1))}u&&s.pager&&s.updateActivePagerLink(s.pager,s.currSlide,s.activePagerClass)}}function f(t,e,n,s){if(n.timeoutFn){for(var a=n.timeoutFn.call(t,t,e,n,s);"none"!=n.fx&&a-n.speed<250;)a+=n.speed;if(i("calculated timeout: "+a+"; speed: "+n.speed),a!==!1)return a}return n.timeout}function p(e,i){var n=i?1:-1,s=e.elements,a=e.$cont[0],r=a.cycleTimeout;if(r&&(clearTimeout(r),a.cycleTimeout=0),e.random&&0>n)e.randomIndex--,-2==--e.randomIndex?e.randomIndex=s.length-2:-1==e.randomIndex&&(e.randomIndex=s.length-1),e.nextSlide=e.randomMap[e.randomIndex];else if(e.random)e.nextSlide=e.randomMap[e.randomIndex];else if(e.nextSlide=e.currSlide+n,e.nextSlide<0){if(e.nowrap)return!1;e.nextSlide=s.length-1}else if(e.nextSlide>=s.length){if(e.nowrap)return!1;e.nextSlide=0}var o=e.onPrevNextEvent||e.prevNextClick;return t.isFunction(o)&&o(n>0,e.nextSlide,s[e.nextSlide]),d(s,e,1,i),!1}function g(e,i){var n=t(i.pager);t.each(e,function(s,a){t.fn.cycle.createPagerAnchor(s,a,n,e,i)}),i.updateActivePagerLink(i.pager,i.startingSlide,i.activePagerClass)}function m(e){function n(t){return t=parseInt(t,10).toString(16),t.length<2?"0"+t:t}function s(e){for(;e&&"html"!=e.nodeName.toLowerCase();e=e.parentNode){var i=t.css(e,"background-color");if(i&&i.indexOf("rgb")>=0){var s=i.match(/\d+/g);return"#"+n(s[0])+n(s[1])+n(s[2])}if(i&&"transparent"!=i)return i}return"#ffffff"}i("applying clearType background-color hack"),e.each(function(){t(this).css("background-color",s(this))})}var v="2.9999.5";t.support===e&&(t.support={opacity:!t.browser.msie}),t.expr[":"].paused=function(t){return t.cyclePause},t.fn.cycle=function(e,s){var r={s:this.selector,c:this.context};return 0===this.length&&"stop"!=e?!t.isReady&&r.s?(n("DOM not ready, queuing slideshow"),t(function(){t(r.s,r.c).cycle(e,s)}),this):(n("terminating; zero elements found by selector"+(t.isReady?"":" (DOM not ready)")),this):this.each(function(){var o=a(this,e,s);if(o!==!1){o.updateActivePagerLink=o.updateActivePagerLink||t.fn.cycle.updateActivePagerLink,this.cycleTimeout&&clearTimeout(this.cycleTimeout),this.cycleTimeout=this.cyclePause=0,this.cycleStop=0;var c=t(this),h=o.slideExpr?t(o.slideExpr,this):c.children(),u=h.get();if(u.length<2)return n("terminating; too few slides: "+u.length),void 0;var p=l(c,h,u,o,r);if(p!==!1){var g=p.continuous?10:f(u[p.currSlide],u[p.nextSlide],p,!p.backwards);g&&(g+=p.delay||0,10>g&&(g=10),i("first timeout: "+g),this.cycleTimeout=setTimeout(function(){d(u,p,0,!o.backwards)},g))}}})},t.fn.cycle.resetState=function(e,i){i=i||e.fx,e.before=[],e.after=[],e.cssBefore=t.extend({},e.original.cssBefore),e.cssAfter=t.extend({},e.original.cssAfter),e.animIn=t.extend({},e.original.animIn),e.animOut=t.extend({},e.original.animOut),e.fxFn=null,t.each(e.original.before,function(){e.before.push(this)}),t.each(e.original.after,function(){e.after.push(this)});var n=t.fn.cycle.transitions[i];t.isFunction(n)&&n(e.$cont,t(e.elements),e)},t.fn.cycle.updateActivePagerLink=function(e,i,n){t(e).each(function(){t(this).children().removeClass(n).eq(i).addClass(n)})},t.fn.cycle.next=function(t){p(t,1)},t.fn.cycle.prev=function(t){p(t,0)},t.fn.cycle.createPagerAnchor=function(e,n,a,r,o){var l;if(t.isFunction(o.pagerAnchorBuilder)?(l=o.pagerAnchorBuilder(e,n),i("pagerAnchorBuilder("+e+", el) returned: "+l)):l='<a href="#">'+(e+1)+"</a>",l){var c=t(l);if(0===c.parents("body").length){var h=[];a.length>1?(a.each(function(){var e=c.clone(!0);t(this).append(e),h.push(e[0])}),c=t(h)):c.appendTo(a)}o.pagerAnchors=o.pagerAnchors||[],o.pagerAnchors.push(c);var u=function(i){i.preventDefault(),o.nextSlide=e;var n=o.$cont[0],s=n.cycleTimeout;s&&(clearTimeout(s),n.cycleTimeout=0);var a=o.onPagerEvent||o.pagerClick;t.isFunction(a)&&a(o.nextSlide,r[o.nextSlide]),d(r,o,1,o.currSlide<e)};/mouseenter|mouseover/i.test(o.pagerEvent)?c.hover(u,function(){}):c.bind(o.pagerEvent,u),/^click/.test(o.pagerEvent)||o.allowPagerClickBubble||c.bind("click.cycle",function(){return!1});var f=o.$cont[0],p=!1;o.pauseOnPagerHover&&c.hover(function(){p=!0,f.cyclePause++,s(f,!0,!0)},function(){p&&f.cyclePause--,s(f,!0,!0)})}},t.fn.cycle.hopsFromLast=function(t,e){var i,n=t.lastSlide,s=t.currSlide;return i=e?s>n?s-n:t.slideCount-n:n>s?n-s:n+t.slideCount-s},t.fn.cycle.commonReset=function(e,i,n,s,a,r){t(n.elements).not(e).hide(),"undefined"==typeof n.cssBefore.opacity&&(n.cssBefore.opacity=1),n.cssBefore.display="block",n.slideResize&&s!==!1&&i.cycleW>0&&(n.cssBefore.width=i.cycleW),n.slideResize&&a!==!1&&i.cycleH>0&&(n.cssBefore.height=i.cycleH),n.cssAfter=n.cssAfter||{},n.cssAfter.display="none",t(e).css("zIndex",n.slideCount+(r===!0?1:0)),t(i).css("zIndex",n.slideCount+(r===!0?0:1))},t.fn.cycle.custom=function(e,i,n,s,a,r){var o=t(e),l=t(i),c=n.speedIn,h=n.speedOut,u=n.easeIn,d=n.easeOut;l.css(n.cssBefore),r&&(c=h="number"==typeof r?r:1,u=d=null);var f=function(){l.animate(n.animIn,c,u,function(){s()})};o.animate(n.animOut,h,d,function(){o.css(n.cssAfter),n.sync||f()}),n.sync&&f()},t.fn.cycle.transitions={fade:function(e,i,n){i.not(":eq("+n.currSlide+")").css("opacity",0),n.before.push(function(e,i,n){t.fn.cycle.commonReset(e,i,n),n.cssBefore.opacity=0}),n.animIn={opacity:1},n.animOut={opacity:0},n.cssBefore={top:0,left:0}}},t.fn.cycle.ver=function(){return v},t.fn.cycle.defaults={activePagerClass:"activeSlide",after:null,allowPagerClickBubble:!1,animIn:null,animOut:null,aspect:!1,autostop:0,autostopCount:0,backwards:!1,before:null,center:null,cleartype:!t.support.opacity,cleartypeNoBg:!1,containerResize:1,continuous:0,cssAfter:null,cssBefore:null,delay:0,easeIn:null,easeOut:null,easing:null,end:null,fastOnEvent:0,fit:0,fx:"fade",fxFn:null,height:"auto",manualTrump:!0,metaAttr:"cycle",next:null,nowrap:0,onPagerEvent:null,onPrevNextEvent:null,pager:null,pagerAnchorBuilder:null,pagerEvent:"click.cycle",pause:0,pauseOnPagerHover:0,prev:null,prevNextEvent:"click.cycle",random:0,randomizeEffects:1,requeueOnImageNotLoaded:!0,requeueTimeout:250,rev:0,shuffle:null,skipInitializationCallbacks:!1,slideExpr:null,slideResize:1,speed:1e3,speedIn:null,speedOut:null,startingSlide:e,sync:1,timeout:4e3,timeoutFn:null,updateActivePagerLink:null,width:null}}(jQuery),/*!
 * jQuery Cycle Plugin Transition Definitions
 * This script is a plugin for the jQuery Cycle Plugin
 * Examples and documentation at: http://malsup.com/jquery/cycle/
 * Copyright (c) 2007-2010 M. Alsup
 * Version:	 2.73
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 */
function(t){"use strict";t.fn.cycle.transitions.none=function(e,i,n){n.fxFn=function(e,i,n,s){t(i).show(),t(e).hide(),s()}},t.fn.cycle.transitions.fadeout=function(e,i,n){i.not(":eq("+n.currSlide+")").css({display:"block",opacity:1}),n.before.push(function(e,i,n,s,a,r){t(e).css("zIndex",n.slideCount+(r!==!0?1:0)),t(i).css("zIndex",n.slideCount+(r!==!0?0:1))}),n.animIn.opacity=1,n.animOut.opacity=0,n.cssBefore.opacity=1,n.cssBefore.display="block",n.cssAfter.zIndex=0},t.fn.cycle.transitions.scrollUp=function(e,i,n){e.css("overflow","hidden"),n.before.push(t.fn.cycle.commonReset);var s=e.height();n.cssBefore.top=s,n.cssBefore.left=0,n.cssFirst.top=0,n.animIn.top=0,n.animOut.top=-s},t.fn.cycle.transitions.scrollDown=function(e,i,n){e.css("overflow","hidden"),n.before.push(t.fn.cycle.commonReset);var s=e.height();n.cssFirst.top=0,n.cssBefore.top=-s,n.cssBefore.left=0,n.animIn.top=0,n.animOut.top=s},t.fn.cycle.transitions.scrollLeft=function(e,i,n){e.css("overflow","hidden"),n.before.push(t.fn.cycle.commonReset);var s=e.width();n.cssFirst.left=0,n.cssBefore.left=s,n.cssBefore.top=0,n.animIn.left=0,n.animOut.left=0-s},t.fn.cycle.transitions.scrollRight=function(e,i,n){e.css("overflow","hidden"),n.before.push(t.fn.cycle.commonReset);var s=e.width();n.cssFirst.left=0,n.cssBefore.left=-s,n.cssBefore.top=0,n.animIn.left=0,n.animOut.left=s},t.fn.cycle.transitions.scrollHorz=function(e,i,n){e.css("overflow","hidden").width(),n.before.push(function(e,i,n,s){n.rev&&(s=!s),t.fn.cycle.commonReset(e,i,n),n.cssBefore.left=s?i.cycleW-1:1-i.cycleW,n.animOut.left=s?-e.cycleW:e.cycleW}),n.cssFirst.left=0,n.cssBefore.top=0,n.animIn.left=0,n.animOut.top=0},t.fn.cycle.transitions.scrollVert=function(e,i,n){e.css("overflow","hidden"),n.before.push(function(e,i,n,s){n.rev&&(s=!s),t.fn.cycle.commonReset(e,i,n),n.cssBefore.top=s?1-i.cycleH:i.cycleH-1,n.animOut.top=s?e.cycleH:-e.cycleH}),n.cssFirst.top=0,n.cssBefore.left=0,n.animIn.top=0,n.animOut.left=0},t.fn.cycle.transitions.slideX=function(e,i,n){n.before.push(function(e,i,n){t(n.elements).not(e).hide(),t.fn.cycle.commonReset(e,i,n,!1,!0),n.animIn.width=i.cycleW}),n.cssBefore.left=0,n.cssBefore.top=0,n.cssBefore.width=0,n.animIn.width="show",n.animOut.width=0},t.fn.cycle.transitions.slideY=function(e,i,n){n.before.push(function(e,i,n){t(n.elements).not(e).hide(),t.fn.cycle.commonReset(e,i,n,!0,!1),n.animIn.height=i.cycleH}),n.cssBefore.left=0,n.cssBefore.top=0,n.cssBefore.height=0,n.animIn.height="show",n.animOut.height=0},t.fn.cycle.transitions.shuffle=function(e,i,n){var s,a=e.css("overflow","visible").width();for(i.css({left:0,top:0}),n.before.push(function(e,i,n){t.fn.cycle.commonReset(e,i,n,!0,!0,!0)}),n.speedAdjusted||(n.speed=n.speed/2,n.speedAdjusted=!0),n.random=0,n.shuffle=n.shuffle||{left:-a,top:15},n.els=[],s=0;s<i.length;s++)n.els.push(i[s]);for(s=0;s<n.currSlide;s++)n.els.push(n.els.shift());n.fxFn=function(e,i,n,s,a){n.rev&&(a=!a);var r=a?t(e):t(i);t(i).css(n.cssBefore);var o=n.slideCount;r.animate(n.shuffle,n.speedIn,n.easeIn,function(){for(var i=t.fn.cycle.hopsFromLast(n,a),l=0;i>l;l++)a?n.els.push(n.els.shift()):n.els.unshift(n.els.pop());if(a)for(var c=0,h=n.els.length;h>c;c++)t(n.els[c]).css("z-index",h-c+o);else{var u=t(e).css("z-index");r.css("z-index",parseInt(u,10)+1+o)}r.animate({left:0,top:0},n.speedOut,n.easeOut,function(){t(a?this:e).hide(),s&&s()})})},t.extend(n.cssBefore,{display:"block",opacity:1,top:0,left:0})},t.fn.cycle.transitions.turnUp=function(e,i,n){n.before.push(function(e,i,n){t.fn.cycle.commonReset(e,i,n,!0,!1),n.cssBefore.top=i.cycleH,n.animIn.height=i.cycleH,n.animOut.width=i.cycleW}),n.cssFirst.top=0,n.cssBefore.left=0,n.cssBefore.height=0,n.animIn.top=0,n.animOut.height=0},t.fn.cycle.transitions.turnDown=function(e,i,n){n.before.push(function(e,i,n){t.fn.cycle.commonReset(e,i,n,!0,!1),n.animIn.height=i.cycleH,n.animOut.top=e.cycleH}),n.cssFirst.top=0,n.cssBefore.left=0,n.cssBefore.top=0,n.cssBefore.height=0,n.animOut.height=0},t.fn.cycle.transitions.turnLeft=function(e,i,n){n.before.push(function(e,i,n){t.fn.cycle.commonReset(e,i,n,!1,!0),n.cssBefore.left=i.cycleW,n.animIn.width=i.cycleW}),n.cssBefore.top=0,n.cssBefore.width=0,n.animIn.left=0,n.animOut.width=0},t.fn.cycle.transitions.turnRight=function(e,i,n){n.before.push(function(e,i,n){t.fn.cycle.commonReset(e,i,n,!1,!0),n.animIn.width=i.cycleW,n.animOut.left=e.cycleW}),t.extend(n.cssBefore,{top:0,left:0,width:0}),n.animIn.left=0,n.animOut.width=0},t.fn.cycle.transitions.zoom=function(e,i,n){n.before.push(function(e,i,n){t.fn.cycle.commonReset(e,i,n,!1,!1,!0),n.cssBefore.top=i.cycleH/2,n.cssBefore.left=i.cycleW/2,t.extend(n.animIn,{top:0,left:0,width:i.cycleW,height:i.cycleH}),t.extend(n.animOut,{width:0,height:0,top:e.cycleH/2,left:e.cycleW/2})}),n.cssFirst.top=0,n.cssFirst.left=0,n.cssBefore.width=0,n.cssBefore.height=0},t.fn.cycle.transitions.fadeZoom=function(e,i,n){n.before.push(function(e,i,n){t.fn.cycle.commonReset(e,i,n,!1,!1),n.cssBefore.left=i.cycleW/2,n.cssBefore.top=i.cycleH/2,t.extend(n.animIn,{top:0,left:0,width:i.cycleW,height:i.cycleH})}),n.cssBefore.width=0,n.cssBefore.height=0,n.animOut.opacity=0},t.fn.cycle.transitions.blindX=function(e,i,n){var s=e.css("overflow","hidden").width();n.before.push(function(e,i,n){t.fn.cycle.commonReset(e,i,n),n.animIn.width=i.cycleW,n.animOut.left=e.cycleW}),n.cssBefore.left=s,n.cssBefore.top=0,n.animIn.left=0,n.animOut.left=s},t.fn.cycle.transitions.blindY=function(e,i,n){var s=e.css("overflow","hidden").height();n.before.push(function(e,i,n){t.fn.cycle.commonReset(e,i,n),n.animIn.height=i.cycleH,n.animOut.top=e.cycleH}),n.cssBefore.top=s,n.cssBefore.left=0,n.animIn.top=0,n.animOut.top=s},t.fn.cycle.transitions.blindZ=function(e,i,n){var s=e.css("overflow","hidden").height(),a=e.width();n.before.push(function(e,i,n){t.fn.cycle.commonReset(e,i,n),n.animIn.height=i.cycleH,n.animOut.top=e.cycleH}),n.cssBefore.top=s,n.cssBefore.left=a,n.animIn.top=0,n.animIn.left=0,n.animOut.top=s,n.animOut.left=a},t.fn.cycle.transitions.growX=function(e,i,n){n.before.push(function(e,i,n){t.fn.cycle.commonReset(e,i,n,!1,!0),n.cssBefore.left=this.cycleW/2,n.animIn.left=0,n.animIn.width=this.cycleW,n.animOut.left=0}),n.cssBefore.top=0,n.cssBefore.width=0},t.fn.cycle.transitions.growY=function(e,i,n){n.before.push(function(e,i,n){t.fn.cycle.commonReset(e,i,n,!0,!1),n.cssBefore.top=this.cycleH/2,n.animIn.top=0,n.animIn.height=this.cycleH,n.animOut.top=0}),n.cssBefore.height=0,n.cssBefore.left=0},t.fn.cycle.transitions.curtainX=function(e,i,n){n.before.push(function(e,i,n){t.fn.cycle.commonReset(e,i,n,!1,!0,!0),n.cssBefore.left=i.cycleW/2,n.animIn.left=0,n.animIn.width=this.cycleW,n.animOut.left=e.cycleW/2,n.animOut.width=0}),n.cssBefore.top=0,n.cssBefore.width=0},t.fn.cycle.transitions.curtainY=function(e,i,n){n.before.push(function(e,i,n){t.fn.cycle.commonReset(e,i,n,!0,!1,!0),n.cssBefore.top=i.cycleH/2,n.animIn.top=0,n.animIn.height=i.cycleH,n.animOut.top=e.cycleH/2,n.animOut.height=0}),n.cssBefore.height=0,n.cssBefore.left=0},t.fn.cycle.transitions.cover=function(e,i,n){var s=n.direction||"left",a=e.css("overflow","hidden").width(),r=e.height();n.before.push(function(e,i,n){t.fn.cycle.commonReset(e,i,n),"right"==s?n.cssBefore.left=-a:"up"==s?n.cssBefore.top=r:"down"==s?n.cssBefore.top=-r:n.cssBefore.left=a}),n.animIn.left=0,n.animIn.top=0,n.cssBefore.top=0,n.cssBefore.left=0},t.fn.cycle.transitions.uncover=function(e,i,n){var s=n.direction||"left",a=e.css("overflow","hidden").width(),r=e.height();n.before.push(function(e,i,n){t.fn.cycle.commonReset(e,i,n,!0,!0,!0),"right"==s?n.animOut.left=a:"up"==s?n.animOut.top=-r:"down"==s?n.animOut.top=r:n.animOut.left=-a}),n.animIn.left=0,n.animIn.top=0,n.cssBefore.top=0,n.cssBefore.left=0},t.fn.cycle.transitions.toss=function(e,i,n){var s=e.css("overflow","visible").width(),a=e.height();n.before.push(function(e,i,n){t.fn.cycle.commonReset(e,i,n,!0,!0,!0),n.animOut.left||n.animOut.top?n.animOut.opacity=0:t.extend(n.animOut,{left:2*s,top:-a/2,opacity:0})}),n.cssBefore.left=0,n.cssBefore.top=0,n.animIn.left=0},t.fn.cycle.transitions.wipe=function(e,i,n){var s=e.css("overflow","hidden").width(),a=e.height();n.cssBefore=n.cssBefore||{};var r;if(n.clip)if(/l2r/.test(n.clip))r="rect(0px 0px "+a+"px 0px)";else if(/r2l/.test(n.clip))r="rect(0px "+s+"px "+a+"px "+s+"px)";else if(/t2b/.test(n.clip))r="rect(0px "+s+"px 0px 0px)";else if(/b2t/.test(n.clip))r="rect("+a+"px "+s+"px "+a+"px 0px)";else if(/zoom/.test(n.clip)){var o=parseInt(a/2,10),l=parseInt(s/2,10);r="rect("+o+"px "+l+"px "+o+"px "+l+"px)"}n.cssBefore.clip=n.cssBefore.clip||r||"rect(0px 0px 0px 0px)";var c=n.cssBefore.clip.match(/(\d+)/g),h=parseInt(c[0],10),u=parseInt(c[1],10),d=parseInt(c[2],10),f=parseInt(c[3],10);n.before.push(function(e,i,n){if(e!=i){var r=t(e),o=t(i);t.fn.cycle.commonReset(e,i,n,!0,!0,!1),n.cssAfter.display="block";var l=1,c=parseInt(n.speedIn/13,10)-1;!function p(){var t=h?h-parseInt(l*(h/c),10):0,e=f?f-parseInt(l*(f/c),10):0,i=a>d?d+parseInt(l*((a-d)/c||1),10):a,n=s>u?u+parseInt(l*((s-u)/c||1),10):s;o.css({clip:"rect("+t+"px "+n+"px "+i+"px "+e+"px)"}),l++<=c?setTimeout(p,13):r.css("display","none")}()}}),t.extend(n.cssBefore,{display:"block",opacity:1,top:0,left:0}),n.animIn={left:0},n.animOut={left:0}}}(jQuery),/*
 * jQuery Easing v1.3 - http://gsgd.co.uk/sandbox/jquery/easing/
 *
 * Uses the built in easing capabilities added In jQuery 1.1
 * to offer multiple easing options
 *
 * TERMS OF USE - jQuery Easing
 * 
 * Open source under the BSD License. 
 * 
 * Copyright © 2008 George McGinley Smith
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification, 
 * are permitted provided that the following conditions are met:
 * 
 * Redistributions of source code must retain the above copyright notice, this list of 
 * conditions and the following disclaimer.
 * Redistributions in binary form must reproduce the above copyright notice, this list 
 * of conditions and the following disclaimer in the documentation and/or other materials 
 * provided with the distribution.
 * 
 * Neither the name of the author nor the names of contributors may be used to endorse 
 * or promote products derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY 
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
 *  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
 *  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED 
 * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED 
 * OF THE POSSIBILITY OF SUCH DAMAGE. 
 *
*/
jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(t,e,i,n,s){return jQuery.easing[jQuery.easing.def](t,e,i,n,s)},easeInQuad:function(t,e,i,n,s){return n*(e/=s)*e+i},easeOutQuad:function(t,e,i,n,s){return-n*(e/=s)*(e-2)+i},easeInOutQuad:function(t,e,i,n,s){return(e/=s/2)<1?n/2*e*e+i:-n/2*(--e*(e-2)-1)+i},easeInCubic:function(t,e,i,n,s){return n*(e/=s)*e*e+i},easeOutCubic:function(t,e,i,n,s){return n*((e=e/s-1)*e*e+1)+i},easeInOutCubic:function(t,e,i,n,s){return(e/=s/2)<1?n/2*e*e*e+i:n/2*((e-=2)*e*e+2)+i},easeInQuart:function(t,e,i,n,s){return n*(e/=s)*e*e*e+i},easeOutQuart:function(t,e,i,n,s){return-n*((e=e/s-1)*e*e*e-1)+i},easeInOutQuart:function(t,e,i,n,s){return(e/=s/2)<1?n/2*e*e*e*e+i:-n/2*((e-=2)*e*e*e-2)+i},easeInQuint:function(t,e,i,n,s){return n*(e/=s)*e*e*e*e+i},easeOutQuint:function(t,e,i,n,s){return n*((e=e/s-1)*e*e*e*e+1)+i},easeInOutQuint:function(t,e,i,n,s){return(e/=s/2)<1?n/2*e*e*e*e*e+i:n/2*((e-=2)*e*e*e*e+2)+i},easeInSine:function(t,e,i,n,s){return-n*Math.cos(e/s*(Math.PI/2))+n+i},easeOutSine:function(t,e,i,n,s){return n*Math.sin(e/s*(Math.PI/2))+i},easeInOutSine:function(t,e,i,n,s){return-n/2*(Math.cos(Math.PI*e/s)-1)+i},easeInExpo:function(t,e,i,n,s){return 0==e?i:n*Math.pow(2,10*(e/s-1))+i},easeOutExpo:function(t,e,i,n,s){return e==s?i+n:n*(-Math.pow(2,-10*e/s)+1)+i},easeInOutExpo:function(t,e,i,n,s){return 0==e?i:e==s?i+n:(e/=s/2)<1?n/2*Math.pow(2,10*(e-1))+i:n/2*(-Math.pow(2,-10*--e)+2)+i},easeInCirc:function(t,e,i,n,s){return-n*(Math.sqrt(1-(e/=s)*e)-1)+i},easeOutCirc:function(t,e,i,n,s){return n*Math.sqrt(1-(e=e/s-1)*e)+i},easeInOutCirc:function(t,e,i,n,s){return(e/=s/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+i:n/2*(Math.sqrt(1-(e-=2)*e)+1)+i},easeInElastic:function(t,e,i,n,s){var a=1.70158,r=0,o=n;if(0==e)return i;if(1==(e/=s))return i+n;if(r||(r=.3*s),o<Math.abs(n)){o=n;var a=r/4}else var a=r/(2*Math.PI)*Math.asin(n/o);return-(o*Math.pow(2,10*(e-=1))*Math.sin((e*s-a)*2*Math.PI/r))+i},easeOutElastic:function(t,e,i,n,s){var a=1.70158,r=0,o=n;if(0==e)return i;if(1==(e/=s))return i+n;if(r||(r=.3*s),o<Math.abs(n)){o=n;var a=r/4}else var a=r/(2*Math.PI)*Math.asin(n/o);return o*Math.pow(2,-10*e)*Math.sin((e*s-a)*2*Math.PI/r)+n+i},easeInOutElastic:function(t,e,i,n,s){var a=1.70158,r=0,o=n;if(0==e)return i;if(2==(e/=s/2))return i+n;if(r||(r=s*.3*1.5),o<Math.abs(n)){o=n;var a=r/4}else var a=r/(2*Math.PI)*Math.asin(n/o);return 1>e?-.5*o*Math.pow(2,10*(e-=1))*Math.sin((e*s-a)*2*Math.PI/r)+i:.5*o*Math.pow(2,-10*(e-=1))*Math.sin((e*s-a)*2*Math.PI/r)+n+i},easeInBack:function(t,e,i,n,s,a){return void 0==a&&(a=1.70158),n*(e/=s)*e*((a+1)*e-a)+i},easeOutBack:function(t,e,i,n,s,a){return void 0==a&&(a=1.70158),n*((e=e/s-1)*e*((a+1)*e+a)+1)+i},easeInOutBack:function(t,e,i,n,s,a){return void 0==a&&(a=1.70158),(e/=s/2)<1?n/2*e*e*(((a*=1.525)+1)*e-a)+i:n/2*((e-=2)*e*(((a*=1.525)+1)*e+a)+2)+i},easeInBounce:function(t,e,i,n,s){return n-jQuery.easing.easeOutBounce(t,s-e,0,n,s)+i},easeOutBounce:function(t,e,i,n,s){return(e/=s)<1/2.75?n*7.5625*e*e+i:2/2.75>e?n*(7.5625*(e-=1.5/2.75)*e+.75)+i:2.5/2.75>e?n*(7.5625*(e-=2.25/2.75)*e+.9375)+i:n*(7.5625*(e-=2.625/2.75)*e+.984375)+i},easeInOutBounce:function(t,e,i,n,s){return s/2>e?.5*jQuery.easing.easeInBounce(t,2*e,0,n,s)+i:.5*jQuery.easing.easeOutBounce(t,2*e-s,0,n,s)+.5*n+i}}),function(t){t.fn.hoverIntent=function(e,i){var n={sensitivity:7,interval:100,timeout:0};n=t.extend(n,i?{over:e,out:i}:e);var s,a,r,o,l=function(t){s=t.pageX,a=t.pageY},c=function(e,i){return i.hoverIntent_t=clearTimeout(i.hoverIntent_t),Math.abs(r-s)+Math.abs(o-a)<n.sensitivity?(t(i).unbind("mousemove",l),i.hoverIntent_s=1,n.over.apply(i,[e])):(r=s,o=a,i.hoverIntent_t=setTimeout(function(){c(e,i)},n.interval),void 0)},h=function(t,e){return e.hoverIntent_t=clearTimeout(e.hoverIntent_t),e.hoverIntent_s=0,n.out.apply(e,[t])},u=function(e){var i=jQuery.extend({},e),s=this;s.hoverIntent_t&&(s.hoverIntent_t=clearTimeout(s.hoverIntent_t)),"mouseenter"==e.type?(r=i.pageX,o=i.pageY,t(s).bind("mousemove",l),1!=s.hoverIntent_s&&(s.hoverIntent_t=setTimeout(function(){c(i,s)},n.interval))):(t(s).unbind("mousemove",l),1==s.hoverIntent_s&&(s.hoverIntent_t=setTimeout(function(){h(i,s)},n.timeout)))};return this.bind("mouseenter",u).bind("mouseleave",u)}}(jQuery),/*
 * jQuery Joyride Plugin 1.0.5
 * www.ZURB.com/playground
 * Copyright 2011, ZURB
 * Free to use under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
*/
function(t){t.fn.joyride=function(e){var i={tipLocation:"bottom",scrollSpeed:300,timer:0,startTimerOnClick:!1,nextButton:!0,tipAnimation:"pop",tipAnimationFadeSpeed:300,cookieMonster:!1,cookieName:"JoyRide",cookieDomain:!1,tipContainer:"body",inline:!1,tipContent:"#joyRideTipContent",postRideCallback:t.noop,postStepCallback:t.noop},e=t.extend(i,e);return this.each(function(){if(0!==t(e.tipContent).length){t(e.tipContent).hide();var n,s=t(e.tipContainer).children("*").first().position(),a=t(e.tipContent+" li"),r=skipCount=0,o=-1,l='<div class="joyride-timer-indicator-wrap"><span class="joyride-timer-indicator"></span></div>',c=function(e,i,s,a){return'<div class="joyride-tip-guide '+e+'" id="joyRidePopup'+i+'"><span class="joyride-nub"></span><div class="joyride-content-wrapper">'+t(a).html()+s+'<a href="#close" class="joyride-close-tip">Cancel Tutorial <span>×</span></a>'+n+"</div></div>"},h=function(s,a,r,o){n=0==a&&i.startTimerOnClick&&i.timer>0||0==i.timer?"":l,s||(s=""),r=r?'<a href="#" class="joyride-next-tip button red">'+r+"</a>":"",i.inline?t(c(s,a,r,o)).insertAfter("#"+t(o).data("id")):t(e.tipContainer).append(c(s,a,r,o))};i.cookieMonster&&t.cookie(i.cookieName)||a.each(function(e){var n=t(this).data("text"),s=t(this).attr("class"),a=this;i.nextButton&&!n&&(n="Next"),i.nextButton||!i.nextButton&&i.startTimerOnClick?t(this).attr("class")?h(s,e,n,a):h(!1,e,n,a):i.nextButton||(t(this).attr("class")?h(s,e,"",a):h(!1,e,"",a)),t("#joyRidePopup"+e).hide()}),showNextTip=function(){var e=t(a[r]).data("id"),n=t("#"+e),l={};t.each((t(a[r]).data("options")||":").split(";"),function(e,i){var n=i.split(":");2==n.length&&(l[t.trim(n[0])]=t.trim(n[1]))});for(var c=t.extend({},i,l);null===n.offset()&&(r++,skipCount++,a.length-1>o&&o++,e=t(a[r]).data("id"),n=t("#"+e),!(t(a).length<r)););var h=Math.ceil(t(window).height()/2),u=t("#joyRidePopup"+r),d=n.offset(),f=n.outerHeight(),p=u.outerHeight(),g=Math.ceil(t(".joyride-nub").outerHeight()/2),m=0;if(0!==u.length){if(r<a.length){"pop"==i.tipAnimation?(t(".joyride-timer-indicator").width(0),i.timer>0?u.show().children(".joyride-timer-indicator-wrap").children(".joyride-timer-indicator").animate({width:t(".joyride-timer-indicator-wrap").width()},i.timer):u.show()):"fade"==i.tipAnimation&&(t(".joyride-timer-indicator").width(0),i.timer>0?u.fadeIn(i.tipAnimationFadeSpeed).children(".joyride-timer-indicator-wrap").children(".joyride-timer-indicator").animate({width:t(".joyride-timer-indicator-wrap").width()},i.timer):u.fadeIn(i.tipAnimationFadeSpeed));var v=u.children(".joyride-nub"),b=d.left-s.left;if(v.removeClass("bottom").removeClass("top").removeClass("right"),t(window).scrollLeft()+t(window).width()<b+u.width()&&(b-=u.width()-2*v.offset().left,v.addClass("right")),Modernizr.mq("only screen and (max-width: 769px)")?-1!=c.tipLocation.indexOf("top")?p>=d.top?(u.offset({top:d.top+f+g-s.top}),v.addClass("top").css({left:b})):(u.offset({top:d.top-(p+s.top+g)}),v.addClass("bottom").css({left:b})):(u.offset({top:d.top+f+g}),v.addClass("top").css({left:b})):"top"==c.tipLocation?p>=d.top?(u.offset({top:d.top+f+g-s.top,left:b}),v.addClass("top")):(u.offset({top:d.top-(p+s.top+g),left:b}),v.addClass("bottom")):(u.offset({top:d.top+f+g,left:b}),v.addClass("top")),-1!=c.tipLocation.indexOf("right")&&(u.offset({left:d.left-s.left-u.width()+n.width()}),u.children(".joyride-nub").addClass("right")),m=Math.ceil(u.offset().top-h),t("html, body").animate({scrollTop:m},i.scrollSpeed),r>0){if(skipCount>0){var y=o-skipCount;skipCount=0}else var y=o;"pop"==i.tipAnimation?t("#joyRidePopup"+y).hide():"fade"==i.tipAnimation&&t("#joyRidePopup"+y).fadeOut(i.tipAnimationFadeSpeed)}}else a.length-1<r&&(skipCount>0?(y=o-skipCount,skipCount=0):y=o,1==i.cookieMonster&&t.cookie(i.cookieName,"ridden",{expires:365,domain:i.cookieDomain}),"pop"==i.tipAnimation?t("#joyRidePopup"+y).fadeTo(0,0):"fade"==i.tipAnimation&&t("#joyRidePopup"+y).fadeTo(i.tipAnimationFadeSpeed,0));r++,0>o?o=0:a.length-1>o&&o++,i.postStepCallback!=t.noop&&i.postStepCallback(o)}},i.inline&&i.cookieMonster&&t.cookie(i.cookieName)||t(window).resize(function(){var e=t(a[o]).data("id"),n=t("#"+e).offset(),r=t("#"+e).outerHeight(),l=t("#joyRidePopup"+o).outerHeight(),c=Math.ceil(t(".joyride-nub").outerHeight()/2);Modernizr.mq("only screen and (max-width: 769px)")?"bottom"==i.tipLocation?(t("#joyRidePopup"+o).offset({top:n.top+r+c,left:0}),t("#joyRidePopup"+o).children(".joyride-nub").addClass("top").removeClass("bottom").css({left:n.left-s.left})):"top"==i.tipLocation&&(n.top<=l?(t("#joyRidePopup"+o).offset({top:n.top+c+r,left:0}),t("#joyRidePopup"+o).children(".joyride-nub").addClass("top").removeClass("bottom").css({left:n.left-s.left})):(t("#joyRidePopup"+o).offset({top:n.top-(l+c),left:0}),t("#joyRidePopup"+o).children(".joyride-nub").addClass("bottom").removeClass("top").css({left:n.left-s.left}))):"bottom"==i.tipLocation?(t("#joyRidePopup"+o).offset({top:n.top+r+c,left:n.left}),t("#joyRidePopup"+o).children(".joyride-nub").addClass("top").removeClass("bottom").css({left:""})):"top"==i.tipLocation&&(n.top<=l?(t("#joyRidePopup"+o).offset({top:n.top+c+r,left:n.left}),t("#joyRidePopup"+o).children(".joyride-nub").addClass("top").removeClass("bottom").css({left:""})):(t("#joyRidePopup"+o).offset({top:n.top-(l+c),left:n.left}),t("#joyRidePopup"+o).children(".joyride-nub").addClass("bottom").removeClass("top").css({left:""})))});var u=null;!i.startTimerOnClick&&i.timer>0?(showNextTip(),u=setInterval(function(){showNextTip()},i.timer)):showNextTip();var d=function(e,n,s,a){e.preventDefault(),clearInterval(n),s&&t.cookie(i.cookieName,"ridden",{expires:365,domain:i.cookieDomain}),t(a).parent().parent().hide(),i.postRideCallback!=t.noop&&i.postRideCallback()};t(".joyride-close-tip").click(function(t){d(t,u,i.cookieMonster,this)}),t(".joyride-next-tip").click(function(t){t.preventDefault(),r>=a.length&&d(t,u,i.cookieMonster,this),i.timer>0&&i.startTimerOnClick?(showNextTip(),clearInterval(u),u=setInterval(function(){showNextTip()},i.timer)):i.timer>0&&!i.startTimerOnClick?(clearInterval(u),u=setInterval(function(){showNextTip()},i.timer)):showNextTip()})}})}}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):jQuery&&!jQuery.fn.qtip&&t(jQuery)}(function(t){function e(){if(e.history=e.history||[],e.history.push(arguments),"object"==typeof console){var t,i=console[console.warn?"warn":"log"],n=Array.prototype.slice.call(arguments);"string"==typeof arguments[0]&&(n[0]="qTip2: "+n[0]),t=i.apply?i.apply(console,n):i(n)}}function i(e){var i=function(t){return t===u||"object"!=typeof t},n=function(e){return!t.isFunction(e)&&(!e&&!e.attr||e.length<1||"object"==typeof e&&!e.jquery)};return e&&"object"==typeof e?(i(e.metadata)&&(e.metadata={type:e.metadata}),"content"in e&&((i(e.content)||e.content.jquery)&&(e.content={text:e.content}),n(e.content.text||h)&&(e.content.text=h),"title"in e.content&&(i(e.content.title)&&(e.content.title={text:e.content.title}),n(e.content.title.text||h)&&(e.content.title.text=h))),"position"in e&&i(e.position)&&(e.position={my:e.position,at:e.position}),"show"in e&&i(e.show)&&(e.show=e.show.jquery?{target:e.show}:{event:e.show}),"hide"in e&&i(e.hide)&&(e.hide=e.hide.jquery?{target:e.hide}:{event:e.hide}),"style"in e&&i(e.style)&&(e.style={classes:e.style}),t.each(r,function(){this.sanitize&&this.sanitize(e)}),e):h}function n(e,n,s,d){function f(t){for(var e,i=0,s=n,a=t.split(".");s=s[a[i++]];)i<a.length&&(e=s);return[e||n,a.pop()]}function P(){var t=n.style.widget;U.toggleClass(k,t).toggleClass(j,n.style.def&&!t),R.content.toggleClass(k+"-content",t),R.titlebar&&R.titlebar.toggleClass(k+"-header",t),R.button&&R.button.toggleClass(w+"-icon",!t)}function O(t){R.title&&(R.titlebar.remove(),R.titlebar=R.title=R.button=u,t!==h&&W.reposition())}function F(){var e=n.content.title.button,i="string"==typeof e,s=i?e:"Close tooltip";R.button&&R.button.remove(),R.button=e.jquery?e:t("<a />",{"class":"ui-state-default ui-tooltip-close "+(n.style.widget?"":w+"-icon"),title:s,"aria-label":s}).prepend(t("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"})),R.button.appendTo(R.titlebar).attr("role","button").click(function(t){return U.hasClass(C)||W.hide(t),h}),W.redraw()}function M(){var e=q+"-title";R.titlebar&&O(),R.titlebar=t("<div />",{"class":w+"-titlebar "+(n.style.widget?"ui-widget-header":"")}).append(R.title=t("<div />",{id:e,"class":w+"-title","aria-atomic":c})).insertBefore(R.content).delegate(".ui-tooltip-close","mousedown keydown mouseup keyup mouseout",function(e){t(this).toggleClass("ui-state-active ui-state-focus","down"===e.type.substr(-4))}).delegate(".ui-tooltip-close","mouseover mouseout",function(e){t(this).toggleClass("ui-state-hover","mouseover"===e.type)}),n.content.title.button?F():W.rendered&&W.redraw()}function E(t){var e=R.button,i=R.title;return W.rendered?(t?(i||M(),F()):e.remove(),void 0):h}function N(i,n){var s=R.title;return W.rendered&&i?(t.isFunction(i)&&(i=i.call(e,z.event,W)),i===h||!i&&""!==i?O(h):(i.jquery&&i.length>0?s.empty().append(i.css({display:"block"})):s.html(i),W.redraw(),n!==h&&W.rendered&&U[0].offsetWidth>0&&W.reposition(z.event),void 0)):h}function $(i,n){function s(e){function i(i){i&&(delete r[i.src],clearTimeout(W.timers.img[i.src]),t(i).unbind(Y)),t.isEmptyObject(r)&&(W.redraw(),n!==h&&W.reposition(z.event),e())}var s,r={};return 0===(s=a.find("img[src]:not([height]):not([width])")).length?i():(s.each(function(e,n){if(void 0===r[n.src]){var s=0,a=3;!function o(){return n.height||n.width||s>a?i(n):(s+=1,W.timers.img[n.src]=setTimeout(o,700),void 0)}(),t(n).bind("error"+Y+" load"+Y,function(){i(this)}),r[n.src]=n}}),void 0)}var a=R.content;return W.rendered&&i?(t.isFunction(i)&&(i=i.call(e,z.event,W)||""),i.jquery&&i.length>0?a.empty().append(i.css({display:"block"})):a.html(i),W.rendered<0?U.queue("fx",s):(G=0,s(t.noop)),W):h}function H(){function i(t){if(U.hasClass(C))return h;clearTimeout(W.timers.show),clearTimeout(W.timers.hide);var e=function(){W.toggle(c,t)};n.show.delay>0?W.timers.show=setTimeout(e,n.show.delay):e()}function r(e){if(U.hasClass(C)||B||G)return h;var i=t(e.relatedTarget||e.target),s=i.closest(S)[0]===U[0],a=i[0]===f.show[0];if(clearTimeout(W.timers.show),clearTimeout(W.timers.hide),"mouse"===d.target&&s||n.hide.fixed&&/mouse(out|leave|move)/.test(e.type)&&(s||a))try{e.preventDefault(),e.stopImmediatePropagation()}catch(r){}else n.hide.delay>0?W.timers.hide=setTimeout(function(){W.hide(e)},n.hide.delay):W.hide(e)}function l(t){return U.hasClass(C)?h:(clearTimeout(W.timers.inactive),W.timers.inactive=setTimeout(function(){W.hide(t)},n.hide.inactive),void 0)}function u(t){W.rendered&&U[0].offsetWidth>0&&W.reposition(t)}var d=n.position,f={show:n.show.target,hide:n.hide.target,viewport:t(d.viewport),document:t(document),body:t(document.body),window:t(window)},p={show:t.trim(""+n.show.event).split(" "),hide:t.trim(""+n.hide.event).split(" ")},g=t.browser.msie&&6===parseInt(t.browser.version,10);U.bind("mouseenter"+Y+" mouseleave"+Y,function(t){var e="mouseenter"===t.type;e&&W.focus(t),U.toggleClass(I,e)}),/mouse(out|leave)/i.test(n.hide.event)&&"window"===n.hide.leave&&f.window.bind("mouseout"+Y+" blur"+Y,function(t){!/select|option/.test(t.target.nodeName)&&!t.relatedTarget&&W.hide(t)}),n.hide.fixed?(f.hide=f.hide.add(U),U.bind("mouseover"+Y,function(){U.hasClass(C)||clearTimeout(W.timers.hide)})):/mouse(over|enter)/i.test(n.show.event)&&f.hide.bind("mouseleave"+Y,function(){clearTimeout(W.timers.show)}),(""+n.hide.event).indexOf("unfocus")>-1&&d.container.closest("html").bind("mousedown"+Y,function(i){var n=t(i.target),s=(W.rendered&&!U.hasClass(C)&&U[0].offsetWidth>0,n.parents(S).filter(U[0]).length>0);n[0]!==e[0]&&n[0]!==U[0]&&!s&&!e.has(n[0]).length&&!n.attr("disabled")&&W.hide(i)}),"number"==typeof n.hide.inactive&&(f.show.bind("qtip-"+s+"-inactive",l),t.each(a.inactiveEvents,function(t,e){f.hide.add(R.tooltip).bind(e+Y+"-inactive",l)})),t.each(p.hide,function(e,n){var s=t.inArray(n,p.show),a=t(f.hide);s>-1&&a.add(f.show).length===a.length||"unfocus"===n?(f.show.bind(n+Y,function(t){U[0].offsetWidth>0?r(t):i(t)}),delete p.show[s]):f.hide.bind(n+Y,r)}),t.each(p.show,function(t,e){f.show.bind(e+Y,i)}),"number"==typeof n.hide.distance&&f.show.add(U).bind("mousemove"+Y,function(t){var e=z.origin||{},i=n.hide.distance,s=Math.abs;(s(t.pageX-e.pageX)>=i||s(t.pageY-e.pageY)>=i)&&W.hide(t)}),"mouse"===d.target&&(f.show.bind("mousemove"+Y,function(t){o={pageX:t.pageX,pageY:t.pageY,type:"mousemove"}}),d.adjust.mouse&&(n.hide.event&&(U.bind("mouseleave"+Y,function(t){(t.relatedTarget||t.target)!==f.show[0]&&W.hide(t)}),R.target.bind("mouseenter"+Y+" mouseleave"+Y,function(t){z.onTarget="mouseenter"===t.type})),f.document.bind("mousemove"+Y,function(t){W.rendered&&z.onTarget&&!U.hasClass(C)&&U[0].offsetWidth>0&&W.reposition(t||o)}))),(d.adjust.resize||f.viewport.length)&&(t.event.special.resize?f.viewport:f.window).bind("resize"+Y,u),(f.viewport.length||g&&"fixed"===U.css("position"))&&f.viewport.bind("scroll"+Y,u)}function L(){var e=[n.show.target[0],n.hide.target[0],W.rendered&&R.tooltip[0],n.position.container[0],n.position.viewport[0],n.position.container.closest("html")[0],window,document];W.rendered?t([]).pushStack(t.grep(e,function(t){return"object"==typeof t})).unbind(Y):n.show.target.unbind(Y+"-create")}var R,z,W=this,q=(document.body,w+"-"+s),B=0,G=0,U=t(),Y=".qtip-"+s;W.id=s,W.rendered=h,W.destroyed=h,W.elements=R={target:e},W.timers={img:{}},W.options=n,W.checks={},W.plugins={},W.cache=z={event:{},target:t(),disabled:h,attr:d,onTarget:h,lastClass:""},W.checks.builtin={"^id$":function(e,i,n){var s=n===c?a.nextid:n,r=w+"-"+s;s!==h&&s.length>0&&!t("#"+r).length&&(U[0].id=r,R.content[0].id=r+"-content",R.title[0].id=r+"-title")},"^content.text$":function(t,e,i){$(i)},"^content.title.text$":function(t,e,i){return i?(!R.title&&i&&M(),N(i),void 0):O()},"^content.title.button$":function(t,e,i){E(i)},"^position.(my|at)$":function(t,e,i){"string"==typeof i&&(t[e]=new r.Corner(i))},"^position.container$":function(t,e,i){W.rendered&&U.appendTo(i)},"^show.ready$":function(){W.rendered?W.toggle(c):W.render(1)},"^style.classes$":function(t,e,i){U.attr("class",w+" qtip ui-helper-reset "+i)},"^style.widget|content.title":P,"^events.(render|show|move|hide|focus|blur)$":function(e,i,n){U[(t.isFunction(n)?"":"un")+"bind"]("tooltip"+i,n)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){var t=n.position;U.attr("tracking","mouse"===t.target&&t.adjust.mouse),L(),H()}},t.extend(W,{render:function(i){if(W.rendered)return W;var s=n.content.text,a=n.content.title.text,o=n.position,l=t.Event("tooltiprender");return t.attr(e[0],"aria-describedby",q),U=R.tooltip=t("<div/>",{id:q,"class":w+" qtip ui-helper-reset "+j+" "+n.style.classes+" "+w+"-pos-"+n.position.my.abbrev(),width:n.style.width||"",height:n.style.height||"",tracking:"mouse"===o.target&&o.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":h,"aria-describedby":q+"-content","aria-hidden":c}).toggleClass(C,z.disabled).data("qtip",W).appendTo(n.position.container).append(R.content=t("<div />",{"class":w+"-content",id:q+"-content","aria-atomic":c})),W.rendered=-1,G=1,B=1,a&&(M(),t.isFunction(a)||N(a,h)),t.isFunction(s)||$(s,h),W.rendered=c,P(),t.each(n.events,function(e,i){t.isFunction(i)&&U.bind("toggle"===e?"tooltipshow tooltiphide":"tooltip"+e,i)}),t.each(r,function(){"render"===this.initialize&&this(W)}),H(),U.queue("fx",function(t){l.originalEvent=z.event,U.trigger(l,[W]),G=0,B=0,W.redraw(),(n.show.ready||i)&&W.toggle(c,z.event,h),t()}),W},get:function(t){var e,i;switch(t.toLowerCase()){case"dimensions":e={height:U.outerHeight(),width:U.outerWidth()};break;case"offset":e=r.offset(U,n.position.container);break;default:i=f(t.toLowerCase()),e=i[0][i[1]],e=e.precedance?e.string():e}return e},set:function(e,s){function a(t,e){var i,n,s;for(i in g)for(n in g[i])(s=new RegExp(n,"i").exec(t))&&(e.push(s),g[i][n].apply(W,e))}var r,o=/^position\.(my|at|adjust|target|container)|style|content|show\.ready/i,l=/^content\.(title|attr)|style/i,d=h,p=h,g=W.checks;return"string"==typeof e?(r=e,e={},e[r]=s):e=t.extend(c,{},e),t.each(e,function(i,n){var s,a=f(i.toLowerCase());s=a[0][a[1]],a[0][a[1]]="object"==typeof n&&n.nodeType?t(n):n,e[i]=[a[0],a[1],n,s],d=o.test(i)||d,p=l.test(i)||p}),i(n),B=G=1,t.each(e,a),B=G=0,W.rendered&&U[0].offsetWidth>0&&(d&&W.reposition("mouse"===n.position.target?u:z.event),p&&W.redraw()),W},toggle:function(e,i){function a(){e?(t.browser.msie&&U[0].style.removeAttribute("filter"),U.css("overflow",""),"string"==typeof f.autofocus&&t(f.autofocus,U).focus(),f.target.trigger("qtip-"+s+"-inactive")):U.css({display:"",visibility:"",opacity:"",left:"",top:""}),r=t.Event("tooltip"+(e?"visible":"hidden")),r.originalEvent=i?z.event:u,U.trigger(r,[W])}if(!W.rendered)return e?W.render(1):W;var r,d=e?"show":"hide",f=n[d],p=(n[e?"hide":"show"],n.position),g=n.content,m=U[0].offsetWidth>0,v=e||1===f.target.length,b=!i||f.target.length<2||z.target[0]===i.target;if((typeof e).search("boolean|number")&&(e=!m),!U.is(":animated")&&m===e&&b)return W;if(i){if(/over|enter/.test(i.type)&&/out|leave/.test(z.event.type)&&n.show.target.add(i.target).length===n.show.target.length&&U.has(i.relatedTarget).length)return W;z.event=t.extend({},i)}return r=t.Event("tooltip"+d),r.originalEvent=i?z.event:u,U.trigger(r,[W,90]),r.isDefaultPrevented()?W:(t.attr(U[0],"aria-hidden",!e),e?(z.origin=t.extend({},o),W.focus(i),t.isFunction(g.text)&&$(g.text,h),t.isFunction(g.title.text)&&N(g.title.text,h),!l&&"mouse"===p.target&&p.adjust.mouse&&(t(document).bind("mousemove.qtip",function(t){o={pageX:t.pageX,pageY:t.pageY,type:"mousemove"}}),l=c),W.reposition(i,arguments[2]),(r.solo=!!f.solo)&&t(S,f.solo).not(U).qtip("hide",r)):(clearTimeout(W.timers.show),delete z.origin,l&&!t(S+'[tracking="true"]:visible',f.solo).not(U).length&&(t(document).unbind("mousemove.qtip"),l=h),W.blur(i)),f.effect===h||v===h?(U[d](),a.call(U)):t.isFunction(f.effect)?(U.stop(1,1),f.effect.call(U,W),U.queue("fx",function(t){a(),t()})):U.fadeTo(90,e?1:0,a),e&&f.target.trigger("qtip-"+s+"-inactive"),W)},show:function(t){return W.toggle(c,t)},hide:function(t){return W.toggle(h,t)},focus:function(e){if(!W.rendered)return W;var i,n=t(S),s=parseInt(U[0].style.zIndex,10),r=a.zindex+n.length,o=t.extend({},e);return U.hasClass(T)||(i=t.Event("tooltipfocus"),i.originalEvent=o,U.trigger(i,[W,r]),i.isDefaultPrevented()||(s!==r&&(n.each(function(){this.style.zIndex>s&&(this.style.zIndex=this.style.zIndex-1)}),n.filter("."+T).qtip("blur",o)),U.addClass(T)[0].style.zIndex=r)),W},blur:function(e){var i,n=t.extend({},e);return U.removeClass(T),i=t.Event("tooltipblur"),i.originalEvent=n,U.trigger(i,[W]),W},reposition:function(e,i){if(!W.rendered||B)return W;B=1;var s,a,l,c=n.position.target,u=n.position,d=u.my,f=u.at,p=u.adjust,g=p.method.split(" "),x=U.outerWidth(),w=U.outerHeight(),k=0,C=0,S=t.Event("tooltipmove"),j="fixed"===U.css("position"),T=u.viewport,I={left:0,top:0},A=u.container,P=U[0].offsetWidth>0;if(t.isArray(c)&&2===c.length)f={x:v,y:m},I={left:c[0],top:c[1]};else if("mouse"===c&&(e&&e.pageX||z.event.pageX))f={x:v,y:m},e=(!e||"resize"!==e.type&&"scroll"!==e.type?e&&e.pageX&&"mousemove"===e.type?e:!o||!o.pageX||!p.mouse&&e&&e.pageX?!p.mouse&&z.origin&&z.origin.pageX&&n.show.distance?z.origin:e:{pageX:o.pageX,pageY:o.pageY}:z.event)||e||z.event||o||{},I={top:e.pageY,left:e.pageX};else{if("event"===c&&e&&e.target&&"scroll"!==e.type&&"resize"!==e.type?z.target=t(e.target):"event"!==c&&(z.target=t(c.jquery?c:R.target)),c=z.target,c=t(c).eq(0),0===c.length)return W;c[0]===document||c[0]===window?(k=r.iOS?window.innerWidth:c.width(),C=r.iOS?window.innerHeight:c.height(),c[0]===window&&(I={top:(T||c).scrollTop(),left:(T||c).scrollLeft()})):r.imagemap&&c.is("area")?s=r.imagemap(W,c,f,r.viewport?g:h):r.svg&&"string"==typeof c[0].xmlbase?s=r.svg(W,c,f,r.viewport?g:h):(k=c.outerWidth(),C=c.outerHeight(),I=r.offset(c,A)),s&&(k=s.width,C=s.height,a=s.offset,I=s.position),(r.iOS>3.1&&r.iOS<4.1||r.iOS>=4.3&&r.iOS<4.33||!r.iOS&&j)&&(l=t(window),I.left-=l.scrollLeft(),I.top-=l.scrollTop()),I.left+=f.x===y?k:f.x===_?k/2:0,I.top+=f.y===b?C:f.y===_?C/2:0}return I.left+=p.x+(d.x===y?-x:d.x===_?-x/2:0),I.top+=p.y+(d.y===b?-w:d.y===_?-w/2:0),r.viewport?(I.adjusted=r.viewport(W,I,u,k,C,x,w),a&&I.adjusted.left&&(I.left+=a.left),a&&I.adjusted.top&&(I.top+=a.top)):I.adjusted={left:0,top:0},S.originalEvent=t.extend({},e),U.trigger(S,[W,I,T.elem||T]),S.isDefaultPrevented()?W:(delete I.adjusted,i===h||!P||isNaN(I.left)||isNaN(I.top)||"mouse"===c||!t.isFunction(u.effect)?U.css(I):t.isFunction(u.effect)&&(u.effect.call(U,W,t.extend({},I)),U.queue(function(e){t(this).css({opacity:"",height:""}),t.browser.msie&&this.style.removeAttribute("filter"),e()})),B=0,W)},redraw:function(){if(W.rendered<1||G)return W;var t,e,i,s,a=n.position.container;return G=1,n.style.height&&U.css(g,n.style.height),n.style.width?U.css(p,n.style.width):(U.css(p,"").addClass(A),e=U.width()+1,i=U.css("max-width")||"",s=U.css("min-width")||"",t=(i+s).indexOf("%")>-1?a.width()/100:0,i=(i.indexOf("%")>-1?t:1)*parseInt(i,10)||e,s=(s.indexOf("%")>-1?t:1)*parseInt(s,10)||0,e=i+s?Math.min(Math.max(e,s),i):e,U.css(p,Math.round(e)).removeClass(A)),G=0,W},disable:function(e){return"boolean"!=typeof e&&(e=!U.hasClass(C)&&!z.disabled),W.rendered?(U.toggleClass(C,e),t.attr(U[0],"aria-disabled",e)):z.disabled=!!e,W},enable:function(){return W.disable(h)},destroy:function(){var i=e[0],a=t.attr(i,D),r=e.data("qtip");return W.destroyed=c,W.rendered&&(U.stop(1,0).remove(),t.each(W.plugins,function(){this.destroy&&this.destroy()})),clearTimeout(W.timers.show),clearTimeout(W.timers.hide),L(),r&&W!==r||(t.removeData(i,"qtip"),n.suppress&&a&&(t.attr(i,"title",a),e.removeAttr(D)),e.removeAttr("aria-describedby")),e.unbind(".qtip-"+s),delete x[W.id],e}})}function s(s,o){var l,d,f,p,g,m=t(this),v=t(document.body),b=this===document?v:m,y=m.metadata?m.metadata(o.metadata):u,_="html5"===o.metadata.type&&y?y[o.metadata.name]:u,x=m.data(o.metadata.name||"qtipopts");try{x="string"==typeof x?t.parseJSON(x):x}catch(w){e("Unable to parse HTML5 attribute data: "+x)}if(p=t.extend(c,{},a.defaults,o,"object"==typeof x?i(x):u,i(_||y)),d=p.position,p.id=s,"boolean"==typeof p.content.text){if(f=m.attr(p.content.attr),p.content.attr===h||!f)return e("Unable to locate content for tooltip! Aborting render of tooltip on element: ",m),h;p.content.text=f}if(d.container.length||(d.container=v),d.target===h&&(d.target=b),p.show.target===h&&(p.show.target=b),p.show.solo===c&&(p.show.solo=d.container.closest("body")),p.hide.target===h&&(p.hide.target=b),p.position.viewport===c&&(p.position.viewport=d.container),d.container=d.container.eq(0),d.at=new r.Corner(d.at),d.my=new r.Corner(d.my),t.data(this,"qtip"))if(p.overwrite)m.qtip("destroy");else if(p.overwrite===h)return h;return p.suppress&&(g=t.attr(this,"title"))&&t(this).removeAttr("title").attr(D,g).attr("title",""),l=new n(m,p,s,!!f),t.data(this,"qtip",l),m.bind("remove.qtip-"+s+" removeqtip.qtip-"+s,function(){l.destroy()}),l}var a,r,o,l,c=!0,h=!1,u=null,d="x",f="y",p="width",g="height",m="top",v="left",b="bottom",y="right",_="center",x={},w="ui-tooltip",k="ui-widget",C="ui-state-disabled",S="div.qtip."+w,j=w+"-default",T=w+"-focus",I=w+"-hover",A=w+"-fluid",P="_replacedByqTip",D="oldtitle";a=t.fn.qtip=function(e,n,s){var r=(""+e).toLowerCase(),o=u,l=t.makeArray(arguments).slice(1),d=l[l.length-1],f=this[0]?t.data(this[0],"qtip"):u;return!arguments.length&&f||"api"===r?f:"string"==typeof e?(this.each(function(){var e=t.data(this,"qtip");if(!e)return c;if(d&&d.timeStamp&&(e.cache.event=d),"option"!==r&&"options"!==r||!n)e[r]&&e[r].apply(e[r],l);else{if(!t.isPlainObject(n)&&void 0===s)return o=e.get(n),h;e.set(n,s)}}),o!==u?o:this):"object"!=typeof e&&arguments.length?void 0:(f=i(t.extend(c,{},e)),a.bind.call(this,f,d))},a.bind=function(e,i){return this.each(function(n){function l(e){function i(){g.render("object"==typeof e||u.show.ready),d.show.add(d.hide).unbind(p)}return g.cache.disabled?h:(g.cache.event=t.extend({},e),g.cache.target=e?t(e.target):[void 0],u.show.delay>0?(clearTimeout(g.timers.show),g.timers.show=setTimeout(i,u.show.delay),f.show!==f.hide&&d.hide.bind(f.hide,function(){clearTimeout(g.timers.show)})):i(),void 0)}var u,d,f,p,g,m;return m=t.isArray(e.id)?e.id[n]:e.id,m=!m||m===h||m.length<1||x[m]?a.nextid++:x[m]=m,p=".qtip-"+m+"-create",g=s.call(this,m,e),g===h?c:(u=g.options,t.each(r,function(){"initialize"===this.initialize&&this(g)}),d={show:u.show.target,hide:u.hide.target},f={show:t.trim(""+u.show.event).replace(/ /g,p+" ")+p,hide:t.trim(""+u.hide.event).replace(/ /g,p+" ")+p},/mouse(over|enter)/i.test(f.show)&&!/mouse(out|leave)/i.test(f.hide)&&(f.hide+=" mouseleave"+p),d.show.bind("mousemove"+p,function(t){o={pageX:t.pageX,pageY:t.pageY,type:"mousemove"},g.cache.onTarget=c}),d.show.bind(f.show,l),(u.show.ready||u.prerender)&&l(i),void 0)})},r=a.plugins={Corner:function(t){t=(""+t).replace(/([A-Z])/," $1").replace(/middle/gi,_).toLowerCase(),this.x=(t.match(/left|right/i)||t.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(t.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();var e=t.charAt(0);this.precedance="t"===e||"b"===e?f:d,this.string=function(){return this.precedance===f?this.y+this.x:this.x+this.y},this.abbrev=function(){var t=this.x.substr(0,1),e=this.y.substr(0,1);return t===e?t:this.precedance===f?e+t:t+e},this.invertx=function(t){this.x=this.x===v?y:this.x===y?v:t||this.x},this.inverty=function(t){this.y=this.y===m?b:this.y===b?m:t||this.y},this.clone=function(){return{x:this.x,y:this.y,precedance:this.precedance,string:this.string,abbrev:this.abbrev,clone:this.clone,invertx:this.invertx,inverty:this.inverty}}},offset:function(e,i){function n(t,e){o.left+=e*t.scrollLeft(),o.top+=e*t.scrollTop()}var s,a,r,o=e.offset(),l=e.closest("body")[0],c=i;if(c){do"static"!==c.css("position")&&(a=c.position(),o.left-=a.left+(parseInt(c.css("borderLeftWidth"),10)||0)+(parseInt(c.css("marginLeft"),10)||0),o.top-=a.top+(parseInt(c.css("borderTopWidth"),10)||0)+(parseInt(c.css("marginTop"),10)||0),!s&&"hidden"!==(r=c.css("overflow"))&&"visible"!==r&&(s=c));while((c=t(c[0].offsetParent)).length);s&&s[0]!==l&&n(s,1)}return o},iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||h,fn:{attr:function(e,i){if(this.length){var n=this[0],s="title",a=t.data(n,"qtip");if(e===s&&a&&"object"==typeof a&&a.options.suppress)return arguments.length<2?t.attr(n,D):(a&&a.options.content.attr===s&&a.cache.attr&&a.set("content.text",i),this.attr(D,i))}return t.fn["attr"+P].apply(this,arguments)},clone:function(e){var i=(t([]),t.fn["clone"+P].apply(this,arguments));return e||i.filter("["+D+"]").attr("title",function(){return t.attr(this,D)}).removeAttr(D),i}}},t.each(r.fn,function(e,i){if(!i||t.fn[e+P])return c;var n=t.fn[e+P]=t.fn[e];t.fn[e]=function(){return i.apply(this,arguments)||n.apply(this,arguments)}}),t.ui||(t["cleanData"+P]=t.cleanData,t.cleanData=function(e){for(var i,n=0;void 0!==(i=e[n]);n++)try{t(i).triggerHandler("removeqtip")}catch(s){}t["cleanData"+P](e)}),a.version="@VERSION",a.nextid=0,a.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),a.zindex=15e3,a.defaults={prerender:h,id:h,overwrite:c,suppress:c,content:{text:c,attr:"title",title:{text:h,button:h}},position:{my:"top left",at:"bottom right",target:h,container:h,viewport:h,adjust:{x:0,y:0,mouse:c,resize:c,method:"flip flip"},effect:function(e,i){t(this).animate(i,{duration:200,queue:h})}},show:{target:h,event:"mouseenter",effect:c,delay:90,solo:h,ready:h,autofocus:h},hide:{target:h,event:"mouseleave",effect:c,delay:0,fixed:h,inactive:h,leave:"window",distance:h},style:{classes:"",widget:h,width:h,height:h,def:c},events:{render:u,move:u,show:u,hide:u,toggle:u,visible:u,hidden:u,focus:u,blur:u}}}),/*!
 * Modernizr v2.6.1
 * www.modernizr.com
 *
 * Copyright (c) Faruk Ates, Paul Irish, Alex Sexton
 * Available under the BSD and MIT licenses: www.modernizr.com/license/
 */
window.Modernizr=function(t,e,i){function n(t){y.cssText=t}function s(t,e){return n(k.join(t+";")+(e||""))}function a(t,e){return typeof t===e}function r(t,e){return!!~(""+t).indexOf(e)}function o(t,e){for(var n in t){var s=t[n];if(!r(s,"-")&&y[s]!==i)return"pfx"==e?s:!0}return!1}function l(t,e,n){for(var s in t){var r=e[t[s]];if(r!==i)return n===!1?t[s]:a(r,"function")?r.bind(n||e):r}return!1}function c(t,e,i){var n=t.charAt(0).toUpperCase()+t.slice(1),s=(t+" "+S.join(n+" ")+n).split(" ");return a(e,"string")||a(e,"undefined")?o(s,e):(s=(t+" "+j.join(n+" ")+n).split(" "),l(s,e,i))}function h(){p.input=function(i){for(var n=0,s=i.length;s>n;n++)P[i[n]]=!!(i[n]in _);return P.list&&(P.list=!(!e.createElement("datalist")||!t.HTMLDataListElement)),P}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),p.inputtypes=function(t){for(var n,s,a,r=0,o=t.length;o>r;r++)_.setAttribute("type",s=t[r]),n="text"!==_.type,n&&(_.value=x,_.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(s)&&_.style.WebkitAppearance!==i?(m.appendChild(_),a=e.defaultView,n=a.getComputedStyle&&"textfield"!==a.getComputedStyle(_,null).WebkitAppearance&&0!==_.offsetHeight,m.removeChild(_)):/^(search|tel)$/.test(s)||(n=/^(url|email)$/.test(s)?_.checkValidity&&_.checkValidity()===!1:_.value!=x)),A[t[r]]=!!n;return A}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var u,d,f="2.6.1",p={},g=!0,m=e.documentElement,v="modernizr",b=e.createElement(v),y=b.style,_=e.createElement("input"),x=":)",w={}.toString,k=" -webkit- -moz- -o- -ms- ".split(" "),C="Webkit Moz O ms",S=C.split(" "),j=C.toLowerCase().split(" "),T={svg:"http://www.w3.org/2000/svg"},I={},A={},P={},D=[],O=D.slice,F=function(t,i,n,s){var a,r,o,l=e.createElement("div"),c=e.body,h=c?c:e.createElement("body");if(parseInt(n,10))for(;n--;)o=e.createElement("div"),o.id=s?s[n]:v+(n+1),l.appendChild(o);return a=["&#173;",'<style id="s',v,'">',t,"</style>"].join(""),l.id=v,(c?l:h).innerHTML+=a,h.appendChild(l),c||(h.style.background="",m.appendChild(h)),r=i(l,t),c?l.parentNode.removeChild(l):h.parentNode.removeChild(h),!!r},M=function(e){var i=t.matchMedia||t.msMatchMedia;if(i)return i(e).matches;var n;return F("@media "+e+" { #"+v+" { position: absolute; } }",function(e){n="absolute"==(t.getComputedStyle?getComputedStyle(e,null):e.currentStyle).position}),n},E=function(){function t(t,s){s=s||e.createElement(n[t]||"div"),t="on"+t;var r=t in s;return r||(s.setAttribute||(s=e.createElement("div")),s.setAttribute&&s.removeAttribute&&(s.setAttribute(t,""),r=a(s[t],"function"),a(s[t],"undefined")||(s[t]=i),s.removeAttribute(t))),s=null,r}var n={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return t}(),N={}.hasOwnProperty;d=a(N,"undefined")||a(N.call,"undefined")?function(t,e){return e in t&&a(t.constructor.prototype[e],"undefined")}:function(t,e){return N.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var i=O.call(arguments,1),n=function(){if(this instanceof n){var s=function(){};s.prototype=e.prototype;var a=new s,r=e.apply(a,i.concat(O.call(arguments)));return Object(r)===r?r:a}return e.apply(t,i.concat(O.call(arguments)))};return n}),I.flexbox=function(){return c("flexWrap")},I.flexboxlegacy=function(){return c("boxDirection")},I.canvas=function(){var t=e.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))},I.canvastext=function(){return!(!p.canvas||!a(e.createElement("canvas").getContext("2d").fillText,"function"))},I.webgl=function(){return!!t.WebGLRenderingContext},I.touch=function(){var i;return"ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch?i=!0:F(["@media (",k.join("touch-enabled),("),v,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(t){i=9===t.offsetTop}),i},I.geolocation=function(){return"geolocation"in navigator},I.postmessage=function(){return!!t.postMessage},I.websqldatabase=function(){return!!t.openDatabase},I.indexedDB=function(){return!!c("indexedDB",t)},I.hashchange=function(){return E("hashchange",t)&&(e.documentMode===i||e.documentMode>7)},I.history=function(){return!(!t.history||!history.pushState)},I.draganddrop=function(){var t=e.createElement("div");return"draggable"in t||"ondragstart"in t&&"ondrop"in t},I.websockets=function(){return"WebSocket"in t||"MozWebSocket"in t},I.rgba=function(){return n("background-color:rgba(150,255,150,.5)"),r(y.backgroundColor,"rgba")},I.hsla=function(){return n("background-color:hsla(120,40%,100%,.5)"),r(y.backgroundColor,"rgba")||r(y.backgroundColor,"hsla")},I.multiplebgs=function(){return n("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(y.background)},I.backgroundsize=function(){return c("backgroundSize")},I.borderimage=function(){return c("borderImage")},I.borderradius=function(){return c("borderRadius")},I.boxshadow=function(){return c("boxShadow")},I.textshadow=function(){return""===e.createElement("div").style.textShadow},I.opacity=function(){return s("opacity:.55"),/^0.55$/.test(y.opacity)},I.cssanimations=function(){return c("animationName")},I.csscolumns=function(){return c("columnCount")},I.cssgradients=function(){var t="background-image:",e="gradient(linear,left top,right bottom,from(#9f9),to(white));",i="linear-gradient(left top,#9f9, white);";return n((t+"-webkit- ".split(" ").join(e+t)+k.join(i+t)).slice(0,-t.length)),r(y.backgroundImage,"gradient")},I.cssreflections=function(){return c("boxReflect")},I.csstransforms=function(){return!!c("transform")},I.csstransforms3d=function(){var t=!!c("perspective");return t&&"webkitPerspective"in m.style&&F("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(e){t=9===e.offsetLeft&&3===e.offsetHeight}),t},I.csstransitions=function(){return c("transition")},I.fontface=function(){var t;return F('@font-face {font-family:"font";src:url("https://")}',function(i,n){var s=e.getElementById("smodernizr"),a=s.sheet||s.styleSheet,r=a?a.cssRules&&a.cssRules[0]?a.cssRules[0].cssText:a.cssText||"":"";t=/src/i.test(r)&&0===r.indexOf(n.split(" ")[0])}),t},I.generatedcontent=function(){var t;return F(['#modernizr:after{content:"',x,'";visibility:hidden}'].join(""),function(e){t=e.offsetHeight>=1}),t},I.video=function(){var t=e.createElement("video"),i=!1;try{(i=!!t.canPlayType)&&(i=new Boolean(i),i.ogg=t.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),i.h264=t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),i.webm=t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(n){}return i},I.audio=function(){var t=e.createElement("audio"),i=!1;try{(i=!!t.canPlayType)&&(i=new Boolean(i),i.ogg=t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),i.mp3=t.canPlayType("audio/mpeg;").replace(/^no$/,""),i.wav=t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),i.m4a=(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(n){}return i},I.localstorage=function(){try{return localStorage.setItem(v,v),localStorage.removeItem(v),!0}catch(t){return!1}},I.sessionstorage=function(){try{return sessionStorage.setItem(v,v),sessionStorage.removeItem(v),!0}catch(t){return!1}},I.webworkers=function(){return!!t.Worker},I.applicationcache=function(){return!!t.applicationCache},I.svg=function(){return!!e.createElementNS&&!!e.createElementNS(T.svg,"svg").createSVGRect},I.inlinesvg=function(){var t=e.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==T.svg},I.smil=function(){return!!e.createElementNS&&/SVGAnimate/.test(w.call(e.createElementNS(T.svg,"animate")))},I.svgclippaths=function(){return!!e.createElementNS&&/SVGClipPath/.test(w.call(e.createElementNS(T.svg,"clipPath")))};for(var $ in I)d(I,$)&&(u=$.toLowerCase(),p[u]=I[$](),D.push((p[u]?"":"no-")+u));return p.input||h(),p.addTest=function(t,e){if("object"==typeof t)for(var n in t)d(t,n)&&p.addTest(n,t[n]);else{if(t=t.toLowerCase(),p[t]!==i)return p;e="function"==typeof e?e():e,g&&(m.className+=" "+(e?"":"no-")+t),p[t]=e}return p},n(""),b=_=null,function(t,e){function i(t,e){var i=t.createElement("p"),n=t.getElementsByTagName("head")[0]||t.documentElement;return i.innerHTML="x<style>"+e+"</style>",n.insertBefore(i.lastChild,n.firstChild)}function n(){var t=v.elements;return"string"==typeof t?t.split(" "):t}function s(t){var e=m[t[p]];return e||(e={},g++,t[p]=g,m[g]=e),e}function a(t,i,n){if(i||(i=e),h)return i.createElement(t);n||(n=s(i));var a;return a=n.cache[t]?n.cache[t].cloneNode():f.test(t)?(n.cache[t]=n.createElem(t)).cloneNode():n.createElem(t),a.canHaveChildren&&!d.test(t)?n.frag.appendChild(a):a}function r(t,i){if(t||(t=e),h)return t.createDocumentFragment();i=i||s(t);for(var a=i.frag.cloneNode(),r=0,o=n(),l=o.length;l>r;r++)a.createElement(o[r]);return a}function o(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(i){return v.shivMethods?a(i,t,e):e.createElem(i)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+n().join().replace(/\w+/g,function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'})+");return n}")(v,e.frag)}function l(t){t||(t=e);var n=s(t);return!v.shivCSS||c||n.hasCSS||(n.hasCSS=!!i(t,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),h||o(t,n),t}var c,h,u=t.html5||{},d=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,f=/^<|^(?:a|b|button|code|div|fieldset|form|h1|h2|h3|h4|h5|h6|i|iframe|img|input|label|li|link|ol|option|p|param|q|script|select|span|strong|style|table|tbody|td|textarea|tfoot|th|thead|tr|ul)$/i,p="_html5shiv",g=0,m={};!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",c="hidden"in t,h=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return"undefined"==typeof t.cloneNode||"undefined"==typeof t.createDocumentFragment||"undefined"==typeof t.createElement}()}catch(i){c=!0,h=!0}}();var v={elements:u.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:u.shivCSS!==!1,supportsUnknownElements:h,shivMethods:u.shivMethods!==!1,type:"default",shivDocument:l,createElement:a,createDocumentFragment:r};t.html5=v,l(e)}(this,e),p._version=f,p._prefixes=k,p._domPrefixes=j,p._cssomPrefixes=S,p.mq=M,p.hasEvent=E,p.testProp=function(t){return o([t])},p.testAllProps=c,p.testStyles=F,p.prefixed=function(t,e,i){return e?c(t,e,i):c(t,"pfx")},m.className=m.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(g?" js "+D.join(" "):""),p}(this,this.document),window.Modernizr=function(t,e,i){function n(t){f.cssText=t}function s(t,e){return typeof t===e}var a,r,o,l="2.5.3",c={},h=e.documentElement,u="modernizr",d=e.createElement(u),f=d.style,p=({}.toString,{}),g=[],m=g.slice,v=function(t,i,n,s){var a,r,o,l=e.createElement("div"),c=e.body,d=c?c:e.createElement("body");if(parseInt(n,10))for(;n--;)o=e.createElement("div"),o.id=s?s[n]:u+(n+1),l.appendChild(o);return a=["&#173;","<style>",t,"</style>"].join(""),l.id=u,(c?l:d).innerHTML+=a,d.appendChild(l),c||(d.style.background="",h.appendChild(d)),r=i(l,t),c?l.parentNode.removeChild(l):d.parentNode.removeChild(d),!!r},b=function(e){var i=t.matchMedia||t.msMatchMedia;if(i)return i(e).matches;var n;return v("@media "+e+" { #"+u+" { position: absolute; } }",function(e){n="absolute"==(t.getComputedStyle?getComputedStyle(e,null):e.currentStyle).position}),n},y={}.hasOwnProperty;o=s(y,"undefined")||s(y.call,"undefined")?function(t,e){return e in t&&s(t.constructor.prototype[e],"undefined")}:function(t,e){return y.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var i=m.call(arguments,1),n=function(){if(this instanceof n){var s=function(){};s.prototype=e.prototype;var a=new s,r=e.apply(a,i.concat(m.call(arguments)));return Object(r)===r?r:a}return e.apply(t,i.concat(m.call(arguments)))};return n});for(var _ in p)o(p,_)&&(r=_.toLowerCase(),c[r]=p[_](),g.push((c[r]?"":"no-")+r));return n(""),d=a=null,c._version=l,c.mq=b,c.testStyles=v,c}(this,this.document),function(){}.call(this),/*

Quicksand 1.2.1

Reorder and filter items with a nice shuffling animation.

Copyright (c) 2010 Jacek Galanciak (razorjack.net) and agilope.com
Big thanks for Piotr Petrus (riddle.pl) for deep code review and wonderful docs & demos.

Dual licensed under the MIT and GPL version 2 licenses.
http://github.com/jquery/jquery/blob/master/MIT-LICENSE.txt
http://github.com/jquery/jquery/blob/master/GPL-LICENSE.txt

Project site: http://razorjack.net/quicksand
Github site: http://github.com/razorjack/quicksand

*/
function(t){t.fn.quicksand=function(e,i){var n={duration:750,easing:"swing",attribute:"data-id",adjustHeight:"auto",useScaling:!0,enhancement:function(){},selector:"> *",dx:0,dy:0};t.extend(n,i),(t.browser.msie||"undefined"==typeof t.fn.scale)&&(n.useScaling=!1);var s;if("function"==typeof arguments[1])var s=arguments[1];else var s=arguments[2];return this.each(function(i){var a,r,o=[],l=t(e).clone(),c=t(this),h=t(this).css("height"),u=!1,f=t(c).offset(),p=[],g=t(this).find(n.selector);if(t.browser.msie&&t.browser.version.substr(0,1)<7)return c.html("").append(l),void 0;var m=0,v=function(){m||(m=1,$toDelete=c.find("> *"),c.prepend(w.find("> *")),$toDelete.remove(),u&&c.css("height",r),n.enhancement(c),"function"==typeof s&&s.call(this))},b=c.offsetParent(),y=b.offset();"relative"==b.css("position")?"body"==b.get(0).nodeName.toLowerCase()||(y.top+=parseFloat(b.css("border-top-width"))||0,y.left+=parseFloat(b.css("border-left-width"))||0):(y.top-=parseFloat(b.css("border-top-width"))||0,y.left-=parseFloat(b.css("border-left-width"))||0,y.top-=parseFloat(b.css("margin-top"))||0,y.left-=parseFloat(b.css("margin-left"))||0),isNaN(y.left)&&(y.left=0),isNaN(y.top)&&(y.top=0),y.left-=n.dx,y.top-=n.dy,c.css("height",t(this).height()),g.each(function(e){p[e]=t(this).offset()}),t(this).stop();var _=0,x=0;g.each(function(e){t(this).stop();var i=t(this).get(0);"absolute"==i.style.position?(_=-n.dx,x=-n.dy):(_=n.dx,x=n.dy),i.style.position="absolute",i.style.margin="0",i.style.top=p[e].top-parseFloat(i.style.marginTop)-y.top+x+"px",i.style.left=p[e].left-parseFloat(i.style.marginLeft)-y.left+_+"px"});var w=t(c).clone(),k=w.get(0);for(k.innerHTML="",k.setAttribute("id",""),k.style.height="auto",k.style.width=c.width()+"px",w.append(l),w.insertBefore(c),w.css("opacity",0),k.style.zIndex=-1,k.style.margin="0",k.style.position="absolute",k.style.top=f.top-y.top+"px",k.style.left=f.left-y.left+"px","dynamic"===n.adjustHeight?c.animate({height:w.height()},n.duration,n.easing):"auto"===n.adjustHeight&&(r=w.height(),parseFloat(h)<parseFloat(r)?c.css("height",r):u=!0),g.each(function(){var e=[];"function"==typeof n.attribute?(a=n.attribute(t(this)),l.each(function(){return n.attribute(this)==a?(e=t(this),!1):void 0})):e=l.filter("["+n.attribute+"="+t(this).attr(n.attribute)+"]"),e.length?n.useScaling?o.push({element:t(this),animation:{top:e.offset().top-y.top,left:e.offset().left-y.left,opacity:1,scale:"1.0"}}):o.push({element:t(this),animation:{top:e.offset().top-y.top,left:e.offset().left-y.left,opacity:1}}):n.useScaling?o.push({element:t(this),animation:{opacity:"0.0",scale:"0.0"}}):o.push({element:t(this),animation:{opacity:"0.0"}})}),l.each(function(){var e=[],i=[];"function"==typeof n.attribute?(a=n.attribute(t(this)),g.each(function(){return n.attribute(this)==a?(e=t(this),!1):void 0}),l.each(function(){return n.attribute(this)==a?(i=t(this),!1):void 0})):(e=g.filter("["+n.attribute+"="+t(this).attr(n.attribute)+"]"),i=l.filter("["+n.attribute+"="+t(this).attr(n.attribute)+"]"));var s;if(0===e.length){s=n.useScaling?{opacity:"1.0",scale:"1.0"}:{opacity:"1.0"},d=i.clone();var r=d.get(0);r.style.position="absolute",r.style.margin="0",r.style.top=i.offset().top-y.top+"px",r.style.left=i.offset().left-y.left+"px",d.css("opacity",0),n.useScaling&&d.css("transform","scale(0.0)"),d.appendTo(c),o.push({element:t(d),animation:s})}}),w.remove(),n.enhancement(c),i=0;i<o.length;i++)o[i].element.animate(o[i].animation,n.duration,n.easing,v)})}}(jQuery),/*
Copyright 2012 Igor Vaynberg    xxx
 
Version: 3.1 Timestamp: Tue Aug 14 09:05:17 PDT 2012

Licensed under the Apache License, Version 2.0 (the "License"); you may not use this work except in
compliance with the License. You may obtain a copy of the License in the LICENSE file, or at:

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software distributed under the License is
distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and limitations under the License.
*/
function(t){"undefined"==typeof t.fn.each2&&t.fn.extend({each2:function(e){for(var i=t([0]),n=-1,s=this.length;++n<s&&(i.context=i[0]=this[n])&&!1!==e.call(i[0],n,i););return this}})}(jQuery),function(t,e){function i(t){return t&&"string"==typeof t?t.replace(/&/g,"&amp;"):t}function n(t,e){var i,n=0,s=e.length;if("undefined"==typeof t)return-1;if(t.constructor===String){for(;s>n;n+=1)if(0===t.localeCompare(e[n]))return n}else for(;s>n;n+=1)if(i=e[n],i.constructor===String){if(0===i.localeCompare(t))return n}else if(i===t)return n;return-1}function s(t,i){return t===i?!0:t===e||i===e||null===t||null===i?!1:t.constructor===String?0===t.localeCompare(i):i.constructor===String?0===i.localeCompare(t):!1}function a(e,i){var n,s,a;if(null===e||1>e.length)return[];for(n=e.split(i),s=0,a=n.length;a>s;s+=1)n[s]=t.trim(n[s]);return n}function r(t,e){var i;return function(){window.clearTimeout(i),i=window.setTimeout(e,t)}}function o(t){t.preventDefault(),t.stopPropagation()}function l(t,e,i){var n=t.toUpperCase().indexOf(e.toUpperCase()),e=e.length;0>n?i.push(t):(i.push(t.substring(0,n)),i.push("<span class='select2-match'>"),i.push(t.substring(n,n+e)),i.push("</span>"),i.push(t.substring(n+e,t.length)))}function c(e){var i,n=0,s=null,a=e.quietMillis||100;return function(r){window.clearTimeout(i),i=window.setTimeout(function(){var i=n+=1,a=e.data,o=e.transport||t.ajax,l=e.traditional||!1,c=e.type||"GET",a=a.call(this,r.term,r.page,r.context);null!==s&&s.abort(),s=o.call(null,{url:e.url,dataType:e.dataType,data:a,type:c,traditional:l,success:function(t){n>i||(t=e.results(t,r.page),r.callback(t))}})},a)}}function h(e){var i,n=e,s=function(t){return""+t.text};return t.isArray(n)||(s=n.text,t.isFunction(s)||(i=n.text,s=function(t){return t[i]}),n=n.results),function(e){var i=e.term,a={};""===i?e.callback({results:n}):(a.results=t(n).filter(function(){return e.matcher(i,s(this))}).get(),e.callback(a))}}function u(i){return t.isFunction(i)?i:function(n){var s=n.term,a={results:[]};t(i).each(function(){var t=this.text!==e,i=t?this.text:this;(""===s||n.matcher(s,i))&&a.results.push(t?this:{id:this,text:this})}),n.callback(a)}}function d(e){if(t.isFunction(e))return!0;if(!e)return!1;throw Error("formatterName must be a function or a falsy value")}function f(e){return t.isFunction(e)?e():e}function p(e){var i=0;return t.each(e,function(t,e){e.children?i+=p(e.children):i++}),i}function g(t,i,n,a){var r,o,l,c,h=t,u=!1;if(!a.createSearchChoice||!a.tokenSeparators||1>a.tokenSeparators.length)return e;for(;;){for(u=-1,o=0,l=a.tokenSeparators.length;l>o&&(c=a.tokenSeparators[o],u=t.indexOf(c),!(u>=0));o++);if(0>u)break;if(r=t.substring(0,u),t=t.substring(u+c.length),0<r.length&&(r=a.createSearchChoice(r,i),r!==e&&null!==r&&a.id(r)!==e&&null!==a.id(r))){for(u=!1,o=0,l=i.length;l>o;o++)if(s(a.id(r),a.id(i[o]))){u=!0;break}u||n(r)}}return 0!=h.localeCompare(t)?t:void 0}function m(e,i){var n=function(){};return n.prototype=new e,n.prototype.constructor=n,n.prototype.parent=e.prototype,n.prototype=t.extend(n.prototype,i),n}if(window.Select2===e){var v,b,y,_,x,w;v={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(t){switch(t=t.which?t.which:t){case v.LEFT:case v.RIGHT:case v.UP:case v.DOWN:return!0}return!1},isControl:function(t){switch(t.which){case v.SHIFT:case v.CTRL:case v.ALT:return!0}return t.metaKey?!0:!1},isFunctionKey:function(t){return t=t.which?t.which:t,t>=112&&123>=t}};var k=1;x=function(){return k++},t(document).delegate("*","mousemove",function(e){t.data(document,"select2-lastpos",{x:e.pageX,y:e.pageY})}),t(document).ready(function(){t(document).delegate("*","mousedown touchend",function(i){var n,s=t(i.target).closest("div.select2-container").get(0);s?t(document).find("div.select2-container-active").each(function(){this!==s&&t(this).data("select2").blur()}):(s=t(i.target).closest("div.select2-drop").get(0),t(document).find("div.select2-drop-active").each(function(){this!==s&&t(this).data("select2").blur()})),s=t(i.target),n=s.attr("for"),"LABEL"===i.target.tagName&&n&&0<n.length&&(s=t("#"+n),s=s.data("select2"),s!==e&&(s.focus(),i.preventDefault()))})}),b=m(Object,{bind:function(t){var e=this;return function(){t.apply(e,arguments)}},init:function(i){var s,a;this.opts=i=this.prepareOpts(i),this.id=i.id,i.element.data("select2")!==e&&null!==i.element.data("select2")&&this.destroy(),this.enabled=!0,this.container=this.createContainer(),this.containerId="s2id"+x(),this.container.attr("id",this.containerId);var l,c=!1;this.body=function(){return!1===c&&(l=i.element.closest("body"),c=!0),l},i.element.attr("class")!==e&&this.container.addClass(i.element.attr("class")),this.container.css(f(i.containerCss)),this.container.addClass(f(i.containerCssClass)),this.opts.element.data("select2",this).hide().before(this.container),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),this.dropdown.addClass(f(i.dropdownCssClass)),this.dropdown.data("select2",this),this.results=s=this.container.find(".select2-results"),this.search=a=this.container.find("input.select2-input"),a.attr("tabIndex",this.opts.element.attr("tabIndex")),this.resultsPage=0,this.context=null,this.initContainer(),this.initContainerWidth(),this.results.bind("mousemove",function(i){var n=t.data(document,"select2-lastpos");(n===e||n.x!==i.pageX||n.y!==i.pageY)&&t(i.target).trigger("mousemove-filtered",i)}),this.dropdown.delegate(".select2-results","mousemove-filtered",this.bind(this.highlightUnderEvent));var h=this.results,u=r(80,function(t){h.trigger("scroll-debounced",t)});h.bind("scroll",function(t){0<=n(t.target,h.get())&&u(t)}),this.dropdown.delegate(".select2-results","scroll-debounced",this.bind(this.loadMoreIfNeeded)),t.fn.mousewheel&&s.mousewheel(function(t,e,i,n){e=s.scrollTop(),n>0&&0>=e-n?(s.scrollTop(0),o(t)):0>n&&s.get(0).scrollHeight-s.scrollTop()+n<=s.height()&&(s.scrollTop(s.get(0).scrollHeight-s.height()),o(t))}),a.bind("keydown",function(){t.data(a,"keyup-change-value")===e&&t.data(a,"keyup-change-value",a.val())}),a.bind("keyup",function(){var i=t.data(a,"keyup-change-value");i!==e&&a.val()!==i&&(t.removeData(a,"keyup-change-value"),a.trigger("keyup-change"))}),a.bind("keyup-change",this.bind(this.updateResults)),a.bind("focus",function(){a.addClass("select2-focused")," "===a.val()&&a.val("")}),a.bind("blur",function(){a.removeClass("select2-focused")}),this.dropdown.delegate(".select2-results","mouseup",this.bind(function(e){0<t(e.target).closest(".select2-result-selectable:not(.select2-disabled)").length?(this.highlightUnderEvent(e),this.selectHighlighted(e)):this.focusSearch(),o(e)})),this.dropdown.bind("click mouseup mousedown",function(t){t.stopPropagation()}),t.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),(i.element.is(":disabled")||i.element.is("[readonly='readonly']"))&&this.disable()},destroy:function(){var t=this.opts.element.data("select2");t!==e&&(t.container.remove(),t.dropdown.remove(),t.opts.element.removeData("select2").unbind(".select2").show())},prepareOpts:function(n){var r,o,l;if(r=n.element,"select"===r.get(0).tagName.toLowerCase()&&(this.select=o=n.element),o&&t.each("id multiple ajax query createSearchChoice initSelection data tags".split(" "),function(){if(this in n)throw Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),n=t.extend({},{populateResults:function(s,a,r){var o,l=this.opts.id,c=this;o=function(s,a,h){var u,d,f,p,g,m,v;for(u=0,d=s.length;d>u;u+=1)f=s[u],p=l(f)!==e,g="children"in f&&f.children.length>0,m=t("<li></li>"),m.addClass("select2-results-dept-"+h),m.addClass("select2-result"),m.addClass(p?"select2-result-selectable":"select2-result-unselectable"),g&&m.addClass("select2-result-with-children"),m.addClass(c.opts.formatResultCssClass(f)),p=t("<div></div>"),p.addClass("select2-result-label"),v=n.formatResult(f,p,r),v!==e&&p.html(i(v)),m.append(p),g&&(g=t("<ul></ul>"),g.addClass("select2-result-sub"),o(f.children,g,h+1),m.append(g)),m.data("select2-data",f),a.append(m)},o(a,s,0)}},t.fn.select2.defaults,n),"function"!=typeof n.id&&(l=n.id,n.id=function(t){return t[l]}),o?(n.query=this.bind(function(i){var n,s,a,o={results:[],more:!1},l=i.term;a=function(t,e){var n;t.is("option")?i.matcher(l,t.text(),t)&&e.push({id:t.attr("value"),text:t.text(),element:t.get(),css:t.attr("class")}):t.is("optgroup")&&(n={text:t.attr("label"),children:[],element:t.get(),css:t.attr("class")},t.children().each2(function(t,e){a(e,n.children)}),n.children.length>0&&e.push(n))},n=r.children(),this.getPlaceholder()!==e&&n.length>0&&(s=n[0],""===t(s).text()&&(n=n.not(s))),n.each2(function(t,e){a(e,o.results)}),i.callback(o)}),n.id=function(t){return t.id},n.formatResultCssClass=function(t){return t.css}):"query"in n||("ajax"in n?((o=n.element.data("ajax-url"))&&0<o.length&&(n.ajax.url=o),n.query=c(n.ajax)):"data"in n?n.query=h(n.data):"tags"in n&&(n.query=u(n.tags),n.createSearchChoice=function(t){return{id:t,text:t}},n.initSelection=function(e,i){var r=[];t(a(e.val(),n.separator)).each(function(){var e=this,i=this,a=n.tags;t.isFunction(a)&&(a=a()),t(a).each(function(){return s(this.id,e)?(i=this.text,!1):void 0}),r.push({id:e,text:i})}),i(r)})),"function"!=typeof n.query)throw"query function not defined for Select2 "+n.element.attr("id");return n},monitorSource:function(){this.opts.element.bind("change.select2",this.bind(function(){!0!==this.opts.element.data("select2-change-triggered")&&this.initSelection()}))},triggerChange:function(e){e=e||{},e=t.extend({},e,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(e),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click()},enable:function(){this.enabled||(this.enabled=!0,this.container.removeClass("select2-container-disabled"))},disable:function(){this.enabled&&(this.close(),this.enabled=!1,this.container.addClass("select2-container-disabled"))},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var e,i=this.container.offset(),n=this.container.outerHeight(),s=this.container.outerWidth(),a=this.dropdown.outerHeight(),r=t(window).scrollTop()+document.documentElement.clientHeight,n=i.top+n,r=r>=n+a,o=i.top-a>=this.body().scrollTop();this.dropdown.hasClass("select2-drop-above")?(e=!0,!o&&r&&(e=!1)):(e=!1,!r&&o&&(e=!0)),e?(n=i.top-a,this.container.addClass("select2-drop-above"),this.dropdown.addClass("select2-drop-above")):(this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")),this.dropdown.css({top:n,left:i.left,width:s})},shouldOpen:function(){var t;return this.opened()?!1:(t=jQuery.Event("open"),this.opts.element.trigger(t),!t.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(window.setTimeout(this.bind(this.opening),1),!0):!1},opening:function(){var e=this.containerId,i="#"+e,n="scroll."+e,s="resize."+e;this.container.parents().each(function(){t(this).bind(n,function(){var e=t(i);0==e.length&&t(this).unbind(n),e.select2("close")})}),t(window).bind(s,function(){var e=t(i);0==e.length&&t(window).unbind(s),e.select2("close")}),this.clearDropdownAlignmentPreference()," "===this.search.val()&&this.search.val(""),this.dropdown.css(f(this.opts.dropdownCss)),this.dropdown.addClass("select2-drop-active"),this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.updateResults(!0),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),this.dropdown.show(),this.ensureHighlightVisible(),this.positionDropdown(),this.focusSearch()},close:function(){if(this.opened()){var e=this;this.container.parents().each(function(){t(this).unbind("scroll."+e.containerId)}),t(window).unbind("resize."+this.containerId),this.clearDropdownAlignmentPreference(),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),this.clearSearch(),this.opts.element.trigger(jQuery.Event("close"))}},clearSearch:function(){},ensureHighlightVisible:function(){var e,i,n,s,a=this.results;i=this.highlight(),0>i||(0==i?a.scrollTop(0):(e=a.find(".select2-result-selectable"),n=t(e[i]),s=n.offset().top+n.outerHeight(),i===e.length-1&&(e=a.find("li.select2-more-results"),0<e.length&&(s=e.offset().top+e.outerHeight())),e=a.offset().top+a.outerHeight(),s>e&&a.scrollTop(a.scrollTop()+(s-e)),n=n.offset().top-a.offset().top,0>n&&a.scrollTop(a.scrollTop()+n)))},moveHighlight:function(e){for(var i=this.results.find(".select2-result-selectable"),n=this.highlight();n>-1&&n<i.length;){var n=n+e,s=t(i[n]);if(s.hasClass("select2-result-selectable")&&!s.hasClass("select2-disabled")){this.highlight(n);break}}},highlight:function(e){var i=this.results.find(".select2-result-selectable").not(".select2-disabled");return 0===arguments.length?n(i.filter(".select2-highlighted")[0],i.get()):(e>=i.length&&(e=i.length-1),0>e&&(e=0),i.removeClass("select2-highlighted"),t(i[e]).addClass("select2-highlighted"),this.ensureHighlightVisible(),void 0)},countSelectableResults:function(){return this.results.find(".select2-result-selectable").not(".select2-disabled").length},highlightUnderEvent:function(e){if(e=t(e.target).closest(".select2-result-selectable"),0<e.length&&!e.is(".select2-highlighted")){var i=this.results.find(".select2-result-selectable");this.highlight(i.index(e))}else 0==e.length&&this.results.find(".select2-highlighted").removeClass("select2-highlighted")},loadMoreIfNeeded:function(){var t,e=this.results,i=e.find("li.select2-more-results"),n=this.resultsPage+1,s=this,a=this.search.val(),r=this.context;0!==i.length&&(t=i.offset().top-e.offset().top-e.height(),0>=t&&(i.addClass("select2-active"),this.opts.query({term:a,page:n,context:r,matcher:this.opts.matcher,callback:this.bind(function(t){s.opts.populateResults.call(this,e,t.results,{term:a,page:n,context:r}),!0===t.more?(i.detach().appendTo(e).text(s.opts.formatLoadMore(n+1)),window.setTimeout(function(){s.loadMoreIfNeeded()},10)):i.remove(),s.positionDropdown(),s.resultsPage=n})})))},tokenize:function(){},updateResults:function(n){function a(){c.scrollTop(0),l.removeClass("select2-active"),u.positionDropdown()}function r(t){c.html(i(t)),a()}var o,l=this.search,c=this.results,h=this.opts,u=this;if(!0===n||!1!==this.showSearchInput&&this.opened()){if(l.addClass("select2-active"),1<=h.maximumSelectionSize&&(o=this.data(),t.isArray(o)&&o.length>=h.maximumSelectionSize&&d(h.formatSelectionTooBig,"formatSelectionTooBig")))return r("<li class='select2-selection-limit'>"+h.formatSelectionTooBig(h.maximumSelectionSize)+"</li>"),void 0;l.val().length<h.minimumInputLength&&d(h.formatInputTooShort,"formatInputTooShort")?r("<li class='select2-no-results'>"+h.formatInputTooShort(l.val(),h.minimumInputLength)+"</li>"):(r("<li class='select2-searching'>"+h.formatSearching()+"</li>"),o=this.tokenize(),o!=e&&null!=o&&l.val(o),this.resultsPage=1,h.query({term:l.val(),page:this.resultsPage,context:null,matcher:h.matcher,callback:this.bind(function(o){var f;this.context=o.context===e?null:o.context,this.opts.createSearchChoice&&""!==l.val()&&(f=this.opts.createSearchChoice.call(null,l.val(),o.results),f!==e&&null!==f&&u.id(f)!==e&&null!==u.id(f)&&0===t(o.results).filter(function(){return s(u.id(this),u.id(f))}).length&&o.results.unshift(f)),0===o.results.length&&d(h.formatNoMatches,"formatNoMatches")?r("<li class='select2-no-results'>"+h.formatNoMatches(l.val())+"</li>"):(c.empty(),u.opts.populateResults.call(this,c,o.results,{term:l.val(),page:this.resultsPage,context:null}),!0===o.more&&d(h.formatLoadMore,"formatLoadMore")&&(c.append("<li class='select2-more-results'>"+i(h.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){u.loadMoreIfNeeded()},10)),this.postprocessResults(o,n),a())})}))}},cancel:function(){this.close()},blur:function(){this.close(),this.container.removeClass("select2-container-active"),this.dropdown.removeClass("select2-drop-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){window.setTimeout(this.bind(function(){this.search.focus(),this.search.val(this.search.val())}),10)},selectHighlighted:function(){var t=this.highlight(),e=this.results.find(".select2-highlighted").not(".select2-disabled"),i=e.closest(".select2-result-selectable").data("select2-data");i&&(e.addClass("select2-disabled"),this.highlight(t),this.onSelect(i))},getPlaceholder:function(){return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder},initContainerWidth:function(){var i=function(){var i,n,s,a;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth()?"auto":this.opts.element.outerWidth()+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(i=this.opts.element.attr("style"),i!==e)for(i=i.split(";"),s=0,a=i.length;a>s;s+=1)if(n=i[s].replace(/\s/g,"").match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/),null!==n&&1<=n.length)return n[1];return"resolve"===this.opts.width?(i=this.opts.element.css("width"),0<i.indexOf("%")?i:0===this.opts.element.outerWidth()?"auto":this.opts.element.outerWidth()+"px"):null}return t.isFunction(this.opts.width)?this.opts.width():this.opts.width}.call(this);null!==i&&this.container.attr("style","width: "+i)}}),y=m(b,{createContainer:function(){return t("<div></div>",{"class":"select2-container"}).html("    <a href='javascript:void(0)' class='select2-choice'>   <span></span><abbr class='select2-search-choice-close' style='display:none;'></abbr>   <div><b></b></div></a>    <div class='select2-drop select2-offscreen'>   <div class='select2-search'>       <input type='text' autocomplete='off' class='select2-input'/>   </div>   <ul class='select2-results'>   </ul></div>")},opening:function(){this.search.show(),this.parent.opening.apply(this,arguments),this.dropdown.removeClass("select2-offscreen")},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.dropdown.removeAttr("style").addClass("select2-offscreen").insertAfter(this.selection).show())},focus:function(){this.close(),this.selection.focus()},isFocused:function(){return this.selection[0]===document.activeElement},cancel:function(){this.parent.cancel.apply(this,arguments),this.selection.focus()},initContainer:function(){var t,e=this.dropdown;this.selection=t=this.container.find(".select2-choice"),this.search.bind("keydown",this.bind(function(t){if(this.enabled)if(t.which===v.PAGE_UP||t.which===v.PAGE_DOWN)o(t);else if(this.opened())switch(t.which){case v.UP:case v.DOWN:this.moveHighlight(t.which===v.UP?-1:1),o(t);break;case v.TAB:case v.ENTER:this.selectHighlighted(),o(t);break;case v.ESC:this.cancel(t),o(t)}else t.which===v.TAB||v.isControl(t)||v.isFunctionKey(t)||t.which===v.ESC||!1===this.opts.openOnEnter&&t.which===v.ENTER||this.open()})),this.search.bind("focus",this.bind(function(){this.selection.attr("tabIndex","-1")})),this.search.bind("blur",this.bind(function(){this.opened()||this.container.removeClass("select2-container-active"),window.setTimeout(this.bind(function(){this.selection.attr("tabIndex",this.opts.element.attr("tabIndex"))}),10)})),t.bind("mousedown",this.bind(function(){this.opened()?(this.close(),this.selection.focus()):this.enabled&&this.open()})),e.bind("mousedown",this.bind(function(){this.search.focus()})),t.bind("focus",this.bind(function(){this.container.addClass("select2-container-active"),this.search.attr("tabIndex","-1")})),t.bind("blur",this.bind(function(){this.opened()||this.container.removeClass("select2-container-active"),window.setTimeout(this.bind(function(){this.search.attr("tabIndex",this.opts.element.attr("tabIndex"))}),10)})),t.bind("keydown",this.bind(function(t){if(this.enabled)if(t.which===v.PAGE_UP||t.which===v.PAGE_DOWN)o(t);else if(!(t.which===v.TAB||v.isControl(t)||v.isFunctionKey(t)||t.which===v.ESC||!1===this.opts.openOnEnter&&t.which===v.ENTER))if(t.which==v.DELETE)this.opts.allowClear&&this.clear();else{if(this.open(),t.which!==v.ENTER&&!(48>t.which)){var e=String.fromCharCode(t.which).toLowerCase();t.shiftKey&&(e=e.toUpperCase()),this.search.focus(),this.search.val(e)}o(t)}})),t.delegate("abbr","mousedown",this.bind(function(t){this.enabled&&(this.clear(),o(t),this.close(),this.triggerChange(),this.selection.focus())})),this.setPlaceholder(),this.search.bind("focus",this.bind(function(){this.container.addClass("select2-container-active")}))},clear:function(){this.opts.element.val(""),this.selection.find("span").empty(),this.selection.removeData("select2-data"),this.setPlaceholder()},initSelection:function(){if(""===this.opts.element.val())this.close(),this.setPlaceholder();else{var t=this;this.opts.initSelection.call(null,this.opts.element,function(i){i!==e&&null!==i&&(t.updateSelection(i),t.close(),t.setPlaceholder())})}},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments);return"select"===e.element.get(0).tagName.toLowerCase()&&(e.initSelection=function(e,i){var n=e.find(":selected");t.isFunction(i)&&i({id:n.attr("value"),text:n.text()})}),e},setPlaceholder:function(){var t=this.getPlaceholder();""===this.opts.element.val()&&t!==e&&!(this.select&&""!==this.select.find("option:first").text())&&(this.selection.find("span").html(i(t)),this.selection.addClass("select2-default"),this.selection.find("abbr").hide())},postprocessResults:function(e,i){var n=0,a=this,r=!0;this.results.find(".select2-result-selectable").each2(function(t,e){return s(a.id(e.data("select2-data")),a.opts.element.val())?(n=t,!1):void 0}),this.highlight(n),!0===i&&(r=this.showSearchInput=p(e.results)>=this.opts.minimumResultsForSearch,this.dropdown.find(".select2-search")[r?"removeClass":"addClass"]("select2-search-hidden"),t(this.dropdown,this.container)[r?"addClass":"removeClass"]("select2-with-searchbox"))},onSelect:function(t){var e=this.opts.element.val();this.opts.element.val(this.id(t)),this.updateSelection(t),this.close(),this.selection.focus(),s(e,this.id(t))||this.triggerChange()},updateSelection:function(t){var n=this.selection.find("span");this.selection.data("select2-data",t),n.empty(),t=this.opts.formatSelection(t,n),t!==e&&n.append(i(t)),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==e&&this.selection.find("abbr").show()},val:function(){var t,i=null,n=this;if(0===arguments.length)return this.opts.element.val();if(t=arguments[0],this.select)this.select.val(t).find(":selected").each2(function(t,e){return i={id:e.attr("value"),text:e.text()},!1}),this.updateSelection(i),this.setPlaceholder();else{if(this.opts.initSelection===e)throw Error("cannot call val() if initSelection() is not defined");t?this.opts.initSelection(this.opts.element,function(t){n.opts.element.val(t?n.id(t):""),n.updateSelection(t),n.setPlaceholder()}):this.clear()}},clearSearch:function(){this.search.val("")},data:function(t){var i;return 0===arguments.length?(i=this.selection.data("select2-data"),i==e&&(i=null),i):(t&&""!==t?(this.opts.element.val(t?this.id(t):""),this.updateSelection(t)):this.clear(),void 0)}}),_=m(b,{createContainer:function(){return t("<div></div>",{"class":"select2-container select2-container-multi"}).html("    <ul class='select2-choices'>  <li class='select2-search-field'>    <input type='text' autocomplete='off' class='select2-input'>  </li></ul><div class='select2-drop select2-drop-multi' style='display:none;'>   <ul class='select2-results'>   </ul></div>")},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments);return"select"===e.element.get(0).tagName.toLowerCase()&&(e.initSelection=function(e,i){var n=[];e.find(":selected").each2(function(t,e){n.push({id:e.attr("value"),text:e.text()})}),t.isFunction(i)&&i(n)}),e},initContainer:function(){var t;this.searchContainer=this.container.find(".select2-search-field"),this.selection=t=this.container.find(".select2-choices"),this.search.bind("keydown",this.bind(function(e){if(this.enabled){if(e.which===v.BACKSPACE&&""===this.search.val()){this.close();var i;if(i=t.find(".select2-search-choice-focus"),0<i.length)return this.unselect(i.first()),this.search.width(10),o(e),void 0;i=t.find(".select2-search-choice"),0<i.length&&i.last().addClass("select2-search-choice-focus")}else t.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");if(this.opened())switch(e.which){case v.UP:case v.DOWN:return this.moveHighlight(e.which===v.UP?-1:1),o(e),void 0;case v.ENTER:case v.TAB:return this.selectHighlighted(),o(e),void 0;case v.ESC:return this.cancel(e),o(e),void 0}e.which===v.TAB||v.isControl(e)||v.isFunctionKey(e)||e.which===v.BACKSPACE||e.which===v.ESC||!1===this.opts.openOnEnter&&e.which===v.ENTER||(this.open(),(e.which===v.PAGE_UP||e.which===v.PAGE_DOWN)&&o(e))}})),this.search.bind("keyup",this.bind(this.resizeSearch)),this.search.bind("blur",this.bind(function(){this.container.removeClass("select2-container-active")})),this.container.delegate(".select2-choices","mousedown",this.bind(function(t){this.enabled&&(this.clearPlaceholder(),this.open(),this.focusSearch(),t.preventDefault())})),this.container.delegate(".select2-choices","focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.clearSearch()},enable:function(){this.enabled||(this.parent.enable.apply(this,arguments),this.search.removeAttr("disabled"))},disable:function(){this.enabled&&(this.parent.disable.apply(this,arguments),this.search.attr("disabled",!0))},initSelection:function(){if(""===this.opts.element.val()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var t=this;this.opts.initSelection.call(null,this.opts.element,function(i){i!==e&&null!==i&&(t.updateSelection(i),t.close(),t.clearSearch())})}},clearSearch:function(){var t=this.getPlaceholder();t!==e&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?(this.search.val(t).addClass("select2-default"),this.resizeSearch()):this.search.val(" ").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")?this.search.val("").removeClass("select2-default"):" "===this.search.val()&&this.search.val("")},opening:function(){this.parent.opening.apply(this,arguments),this.clearPlaceholder(),this.resizeSearch(),this.focusSearch()},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(e){var i=[],s=[],a=this;t(e).each(function(){0>n(a.id(this),i)&&(i.push(a.id(this)),s.push(this))}),e=s,this.selection.find(".select2-search-choice").remove(),t(e).each(function(){a.addSelectedChoice(this)}),a.postprocessResults()},tokenize:function(){var t=this.search.val(),t=this.opts.tokenizer(t,this.data(),this.bind(this.onSelect),this.opts);null!=t&&t!=e&&(this.search.val(t),0<t.length&&this.open())},onSelect:function(t){this.addSelectedChoice(t),this.select&&this.postprocessResults(),this.opts.closeOnSelect?(this.close(),this.search.width(10)):0<this.countSelectableResults()?(this.search.width(10),this.resizeSearch(),this.positionDropdown()):this.close(),this.triggerChange({added:t}),this.focusSearch()},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(e){var n,s=t("<li class='select2-search-choice'>    <div></div>    <a href='javascript:void(0)' class='select2-search-choice-close' tabindex='-1'></a></li>"),a=this.id(e),r=this.getVal();n=this.opts.formatSelection(e,s),s.find("div").replaceWith("<div>"+i(n)+"</div>"),s.find(".select2-search-choice-close").bind("mousedown",o).bind("click dblclick",this.bind(function(e){this.enabled&&(t(e.target).closest(".select2-search-choice").fadeOut("fast").animate({width:"hide"},50,this.bind(function(){this.unselect(t(e.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),o(e))})).bind("focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),s.data("select2-data",e),s.insertBefore(this.searchContainer),r.push(a),this.setVal(r)},unselect:function(t){var e,i,s=this.getVal(),t=t.closest(".select2-search-choice");if(0===t.length)throw"Invalid argument: "+t+". Must be .select2-search-choice";e=t.data("select2-data"),i=n(this.id(e),s),i>=0&&(s.splice(i,1),this.setVal(s),this.select&&this.postprocessResults()),t.remove(),this.triggerChange({removed:e})},postprocessResults:function(){var t=this.getVal(),e=this.results.find(".select2-result-selectable"),i=this.results.find(".select2-result-with-children"),s=this;e.each2(function(e,i){var a=s.id(i.data("select2-data"));0<=n(a,t)?i.addClass("select2-disabled").removeClass("select2-result-selectable"):i.removeClass("select2-disabled").addClass("select2-result-selectable")}),i.each2(function(t,e){0==e.find(".select2-result-selectable").length?e.addClass("select2-disabled"):e.removeClass("select2-disabled")}),e.each2(function(t,e){return!e.hasClass("select2-disabled")&&e.hasClass("select2-result-selectable")?(s.highlight(0),!1):void 0})},resizeSearch:function(){var e,i,n,s,a=this.search.outerWidth()-this.search.width();e=this.search,w||(n=e[0].currentStyle||window.getComputedStyle(e[0],null),w=t("<div></div>").css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"}),t("body").append(w)),w.text(e.val()),e=w.width()+10,i=this.search.offset().left,n=this.selection.width(),s=this.selection.offset().left,i=n-(i-s)-a,e>i&&(i=n-a),40>i&&(i=n-a),this.search.width(i)},getVal:function(){var t;return this.select?(t=this.select.val(),null===t?[]:t):(t=this.opts.element.val(),a(t,this.opts.separator))},setVal:function(e){var i;this.select?this.select.val(e):(i=[],t(e).each(function(){0>n(this,i)&&i.push(this)}),this.opts.element.val(0===i.length?"":i.join(this.opts.separator)))},val:function(){var i,n=[],s=this;if(0===arguments.length)return this.getVal();if(i=arguments[0])if(this.setVal(i),this.select)this.select.find(":selected").each(function(){n.push({id:t(this).attr("value"),text:t(this).text()})}),this.updateSelection(n);else{if(this.opts.initSelection===e)throw Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(e){var i=t(e).map(s.id);s.setVal(i),s.updateSelection(e),s.clearSearch()})}else this.opts.element.val(""),this.updateSelection([]);this.clearSearch()},onSortStart:function(){if(this.select)throw Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var e=[],i=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){e.push(i.opts.id(t(this).data("select2-data")))}),this.setVal(e),this.triggerChange()},data:function(e){var i,n=this;return 0===arguments.length?this.selection.find(".select2-search-choice").map(function(){return t(this).data("select2-data")}).get():(e||(e=[]),i=t.map(e,function(t){return n.opts.id(t)}),this.setVal(i),this.updateSelection(e),this.clearSearch(),void 0)}}),t.fn.select2=function(){var i,s,a,r,o=Array.prototype.slice.call(arguments,0),l="val destroy opened open close focus isFocused container onSortStart onSortEnd enable disable positionDropdown data".split(" ");return this.each(function(){if(0===o.length||"object"==typeof o[0])i=0===o.length?{}:t.extend({},o[0]),i.element=t(this),"select"===i.element.get(0).tagName.toLowerCase()?r=i.element.attr("multiple"):(r=i.multiple||!1,"tags"in i&&(i.multiple=r=!0)),s=r?new _:new y,s.init(i);else{if("string"!=typeof o[0])throw"Invalid arguments to select2 plugin: "+o;if(0>n(o[0],l))throw"Unknown method: "+o[0];if(a=e,s=t(this).data("select2"),s!==e&&(a="container"===o[0]?s.container:s[o[0]].apply(s,o.slice(1)),a!==e))return!1}}),a===e?this:a},t.fn.select2.defaults={width:"copy",closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(t,e,i){return e=[],l(t.text,i.term,e),e.join("")
},formatSelection:function(t){return t.text},formatResultCssClass:function(){return e},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(t,e){return"Please enter "+(e-t.length)+" more characters"},formatSelectionTooBig:function(t){return"You can only select "+t+" items"},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumSelectionSize:0,id:function(t){return t.id},matcher:function(t,e){return 0<=e.toUpperCase().indexOf(t.toUpperCase())},separator:",",tokenSeparators:[],tokenizer:g},window.Select2={query:{ajax:c,local:h,tags:u},util:{debounce:r,markMatch:l},"class":{"abstract":b,single:y,multi:_}}}}(jQuery),function(t,e){function i(){for(var t=0;t<d.length;t++)d[t]&&d[t].hide()}function n(t,i){var n=e.extend({},u,t);return n.callbacks={move:l(n.move,i),change:l(n.change,i),show:l(n.show,i),hide:l(n.hide,i),beforeShow:l(n.beforeShow,i)},n}function s(s,r){function l(){function i(t){return t.data&&t.data.ignore?(T(e(this).data("color")),P()):(T(e(this).data("color")),F(!0),P(),S()),!1}if(f&&he.find("*:not(input)").attr("unselectable","on"),he.toggleClass("sp-flat",$),he.toggleClass("sp-input-disabled",!z),he.toggleClass("sp-buttons-disabled",!N.showButtons||$),he.toggleClass("sp-palette-disabled",!L),he.toggleClass("sp-palette-only",H),he.toggleClass("sp-initial-disabled",!R),he.addClass(N.className),xe&&ce.hide().after(we),$?ce.after(he).hide():e(le).append(he.hide()),q&&t.localStorage)try{ae=t.localStorage[q].split(",")}catch(n){}ke.bind("click.spectrum touchstart.spectrum",function(t){k(),t.stopPropagation(),e(t.target).is("input")||t.preventDefault()}),he.click(o),ge.change(w),ge.bind("paste",function(){setTimeout(w,1)}),ge.keydown(function(t){13==t.keyCode&&w()}),be.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),S()}),ye.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),A()&&(F(!0),S())}),c(fe,function(t,e){te=e/Q,P()},_,x),c(ue,function(t,e){ee=t/V,ie=(X-e)/X,P()},_,x),Se?(T(Se),D(),Ie=Te||tinycolor(Se).format,u(Se)):D(),$&&C();var s=f?"mousedown.spectrum":"click.spectrum touchstart.spectrum";me.delegate("span",s,i),ve.delegate("span::nth-child(1)",s,{ignore:!0},i)}function u(e){W&&(ae.push(tinycolor(e).toHexString()),q&&t.localStorage&&(t.localStorage[q]=ae.join(",")))}function v(){var t=[],e=ae,i={};if(L){for(var n=0;n<se.length;n++)for(var s=0;s<se[n].length;s++){var a=tinycolor(se[n][s]).toHexString();i[a]=!0}for(var n=0;n<e.length;n++){var r=tinycolor(e[n]),a=r.toHexString();i.hasOwnProperty(a)||(t.push(e[n]),i[a]=!0)}}return t.reverse().slice(0,N.maxSelectionSize)}function b(){var t=I(),i=e.map(se,function(e,i){return m(e,t,"sp-palette-row sp-palette-row-"+i)});ae&&i.push(m(v(),t,"sp-palette-row sp-palette-row-selection")),me.html(i.join(""))}function y(){if(R){var t=je,e=I();ve.html(m([t,e],e,"sp-palette-row-initial"))}}function _(){(0===X||0===V||0===Q)&&M(),he.addClass(re)}function x(){he.removeClass(re)}function w(){var t=tinycolor(ge.val());t.ok?T(t):ge.addClass("sp-validation-error")}function k(){Y?S():C()}function C(){return Y?(M(),void 0):(G.beforeShow(I())!==!1&&(i(),Y=!0,e(oe).bind("click.spectrum",S),e(t).bind("resize.spectrum",U),we.addClass("sp-active"),he.show(),L&&b(),M(),D(),je=I(),y(),G.show(je)),void 0)}function S(){if(Y&&!$){Y=!1,e(oe).unbind("click.spectrum",S),e(t).unbind("resize.spectrum",U),we.removeClass("sp-active"),he.hide();var i=!tinycolor.equals(I(),je);i&&(Ae?F(!0):j()),G.hide(I())}}function j(){T(je,!0)}function T(t,e){if(!tinycolor.equals(t,I())){var i=tinycolor(t),n=i.toHsv();te=n.h,ee=n.s,ie=n.v,D(),e||(Ie=Te||i.format)}}function I(){return tinycolor.fromRatio({h:te,s:ee,v:ie})}function A(){return!ge.hasClass("sp-validation-error")}function P(){D(),G.move(I())}function D(){ge.removeClass("sp-validation-error"),O();var t=tinycolor({h:te,s:"1.0",v:"1.0"});ue.css("background-color",t.toHexString());var e=I(),i=e.toHexString();Ce.css("background-color",i),z&&ge.val(e.toString(Ie)),L&&b(),y()}function O(){var t=ee,e=ie,i=t*V,n=X-e*X;i=Math.max(-K,Math.min(V-K,i-K)),n=Math.max(-K,Math.min(X-K,n-K)),de.css({top:n,left:i});var s=te*Q;pe.css({top:s-Z})}function F(t){var e=I();_e&&ce.val(e.toString(Ie)).change();var i=!tinycolor.equals(e,je);je=e,u(e),t&&i&&G.change(e)}function M(){V=ue.width(),X=ue.height(),K=de.height(),J=fe.width(),Q=fe.height(),Z=pe.height(),$||he.offset(a(he,ke)),O()}function E(){ce.show(),ke.unbind("click.spectrum touchstart.spectrum"),he.remove(),we.remove(),d[Pe.id]=null}var N=n(r,s),$=N.flat,H=N.showPaletteOnly,L=N.showPalette||H,R=N.showInitial&&!$,z=N.showInput,W=N.showSelectionPalette,q=N.localStorageKey,B=N.theme,G=N.callbacks,U=h(M,10),Y=!1,V=0,X=0,K=0,Q=0,J=0,Z=0,te=0,ee=0,ie=0,ne=N.palette.slice(0),se=e.isArray(ne[0])?ne:[ne],ae=N.selectionPalette.slice(0),re="sp-dragging",oe=s.ownerDocument,le=oe.body,ce=e(s),he=e(g,oe).addClass(B),ue=he.find(".sp-color"),de=he.find(".sp-dragger"),fe=he.find(".sp-hue"),pe=he.find(".sp-slider"),ge=he.find(".sp-input"),me=he.find(".sp-palette"),ve=he.find(".sp-initial"),be=he.find(".sp-cancel"),ye=he.find(".sp-choose"),_e=ce.is("input"),xe=_e&&!$,we=xe?e(p).addClass(B):e([]),ke=xe?we:ce,Ce=we.find(".sp-preview"),Se=N.color||_e&&ce.val(),je=!1,Te=N.preferredFormat,Ie=Te,Ae=!N.showButtons;ye.text(N.chooseText),be.text(N.cancelText),l();var Pe={show:C,hide:S,set:function(t){T(t),F()},get:I,destroy:E,container:he};return Pe.id=d.push(Pe)-1,Pe}function a(t,i){var n=0,s=t.outerWidth(),a=t.outerHeight();i.outerWidth();var r=i.outerHeight(),o=t[0].ownerDocument,l=o.documentElement,c=l.clientWidth+e(o).scrollLeft(),h=l.clientHeight+e(o).scrollTop(),u=i.offset();return u.top+=r,u.left-=Math.min(u.left,u.left+s>c&&c>s?Math.abs(u.left+s-c):0),u.top-=Math.min(u.top,u.top+a>h&&h>a?Math.abs(a+r-n):n+1),u}function r(){}function o(t){t.stopPropagation()}function l(t,e){var i=Array.prototype.slice,n=i.call(arguments,2);return function(){return t.apply(e,n.concat(i.call(arguments)))}}function c(i,n,s,a){function r(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.returnValue=!1}function o(t){if(u){if(g&&!(document.documentMode>=9)&&!t.button)return c();var e=t.originalEvent.touches,s=e?e[0].pageX:t.pageX,a=e?e[0].pageY:t.pageY,o=Math.max(0,Math.min(s-d.left,p)),l=Math.max(0,Math.min(a-d.top,f));m&&r(t),n.apply(i,[o,l])}}function l(t){var n=t.which?3==t.which:2==t.button;t.originalEvent.touches,n||u||s.apply(i,arguments)!==!1&&(u=!0,f=e(i).height(),p=e(i).width(),d=e(i).offset(),e(h).bind(v),e(h.body).addClass("sp-dragging"),m||o(t),r(t))}function c(){u&&(e(h).unbind(v),e(h.body).removeClass("sp-dragging"),a.apply(i,arguments)),u=!1}n=n||function(){},s=s||function(){},a=a||function(){};var h=i.ownerDocument||document,u=!1,d={},f=0,p=0,g=e.browser.msie,m="ontouchstart"in t,v={};v.selectstart=r,v.dragstart=r,v[m?"touchmove":"mousemove"]=o,v[m?"touchend":"mouseup"]=c,e(i).bind(m?"touchstart":"mousedown",l)}function h(t,e,i){var n;return function(){var s=this,a=arguments,r=function(){n=null,t.apply(s,a)};i&&clearTimeout(n),(i||!n)&&(n=setTimeout(r,e))}}var u={beforeShow:r,move:r,change:r,show:r,hide:r,color:!1,flat:!1,showInput:!1,showButtons:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",preferredFormat:!1,className:"",theme:"sp-light",palette:["fff","000"],selectionPalette:[]},d=[],f=e.browser.msie,p=["<div class='sp-replacer'>","<div class='sp-preview'></div>","<div class='sp-dd'></div>","</div>"].join(""),g=function(){var t="";if(f)for(var e=1;6>=e;e++)t+="<div class='sp-"+e+"'></div>";return["<div class='sp-container'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",t,"</div>","</div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),m=function(t,e,i){for(var n=[],s=0;s<t.length;s++){var a=tinycolor(t[s]),r=a.toHsl().l<.5?"sp-thumb-dark":"sp-thumb-light";r+=tinycolor.equals(e,t[s])?" sp-thumb-active":"",n.push('<span title="'+a.toHexString()+'" data-color="'+a.toHexString()+'" style="background-color:'+a.toRgbString()+';" class="'+r+'"></span>')}return"<div class='sp-cf "+i+"'>"+n.join("")+"</div>"},v="spectrum.id";e.fn.spectrum=function(t,i){return"string"==typeof t?"get"==t?d[this.eq(0).data(v)].get():"container"==t?d[e(this).data(v)].container:this.each(function(){var n=d[e(this).data(v)];n&&("show"==t&&n.show(),"hide"==t&&n.hide(),"set"==t&&n.set(i),"destroy"==t&&(n.destroy(),e(this).removeData(v)))}):this.spectrum("destroy").each(function(){var i=s(this,t);e(this).data(v,i.id)})},e.fn.spectrum.load=!0,e.fn.spectrum.loadOpts={},e.fn.spectrum.draggable=c,e.fn.spectrum.processNativeColorInputs=function(){var t="color"===e("<input type='color' />")[0].type;t||e("input[type=color]").spectrum({preferredFormat:"hex6"})},e(function(){e.fn.spectrum.load&&e.fn.spectrum.processNativeColorInputs()})}(this,jQuery),function(t){function e(t){if("object"==typeof t&&t.hasOwnProperty("_tc_id"))return t;var e=i(t),n=e.r,a=e.g,o=e.b,c=C(e.a),h=e.format;return{ok:e.ok,format:h,_tc_id:b++,alpha:c,toHsv:function(){var t=r(n,a,o);return{h:t.h,s:t.s,v:t.v,a:c}},toHsvString:function(){var t=r(n,a,o),e=_(360*t.h),i=_(100*t.s),s=_(100*t.v);return 1==c?"hsv("+e+", "+i+"%, "+s+"%)":"hsva("+e+", "+i+"%, "+s+"%, "+c+")"},toHsl:function(){var t=s(n,a,o);return{h:t.h,s:t.s,l:t.l,a:c}},toHslString:function(){var t=s(n,a,o),e=_(360*t.h),i=_(100*t.s),r=_(100*t.l);return 1==c?"hsl("+e+", "+i+"%, "+r+"%)":"hsla("+e+", "+i+"%, "+r+"%, "+c+")"},toHex:function(){return l(n,a,o)},toHexString:function(t){return"#"+l(n,a,o,t)},toRgb:function(){return{r:_(n),g:_(a),b:_(o),a:c}},toRgbString:function(){return 1==c?"rgb("+_(n)+", "+_(a)+", "+_(o)+")":"rgba("+_(n)+", "+_(a)+", "+_(o)+", "+c+")"},toName:function(){return j[l(n,a,o)]||!1},toFilter:function(){var t=l(n,a,o),e=Math.round(255*C(c)).toString(16);return"progid:DXImageTransform.Microsoft.gradient(startColorstr=#"+e+t+",endColorstr=#"+e+t+")"},toString:function(t){t=t||this.format;var e=!1;return"rgb"===t&&(e=this.toRgbString()),"hex"===t&&(e=this.toHexString()),"hex6"===t&&(e=this.toHexString(!0)),"name"===t&&(e=this.toName()),"hsl"===t&&(e=this.toHslString()),"hsv"===t&&(e=this.toHsvString()),e||this.toHexString()}}}function i(t){var e={r:0,g:0,b:0},i=1,s=!1,r=!1;if("string"==typeof t&&(t=g(t)),"object"==typeof t){if(t.hasOwnProperty("r")&&t.hasOwnProperty("g")&&t.hasOwnProperty("b"))e=n(t.r,t.g,t.b),s=!0,r="rgb";else if(t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("v"))e=o(t.h,t.s,t.v),s=!0,r="hsv";else if(t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("l")){var e=a(t.h,t.s,t.l);s=!0,r="hsl"}t.hasOwnProperty("a")&&(i=t.a)}return e.r=x(255,w(e.r,0)),e.g=x(255,w(e.g,0)),e.b=x(255,w(e.b,0)),e.r<1&&(e.r=_(e.r)),e.g<1&&(e.g=_(e.g)),e.b<1&&(e.b=_(e.b)),{ok:s,format:t&&t.format||r,r:e.r,g:e.g,b:e.b,a:i}}function n(t,e,i){return{r:255*h(t,255),g:255*h(e,255),b:255*h(i,255)}}function s(t,e,i){t=h(t,255),e=h(e,255),i=h(i,255);var n,s,a=w(t,e,i),r=x(t,e,i),o=(a+r)/2;if(a==r)n=s=0;else{var l=a-r;switch(s=o>.5?l/(2-a-r):l/(a+r),a){case t:n=(e-i)/l+(i>e?6:0);break;case e:n=(i-t)/l+2;break;case i:n=(t-e)/l+4}n/=6}return{h:n,s:s,l:o}}function a(t,e,i){function n(t,e,i){return 0>i&&(i+=1),i>1&&(i-=1),1/6>i?t+6*(e-t)*i:.5>i?e:2/3>i?t+6*(e-t)*(2/3-i):t}var s,a,r;if(t=h(t,360),e=h(e,100),i=h(i,100),0==e)s=a=r=i;else{var o=.5>i?i*(1+e):i+e-i*e,l=2*i-o;s=n(l,o,t+1/3),a=n(l,o,t),r=n(l,o,t-1/3)}return{r:255*s,g:255*a,b:255*r}}function r(t,e,i){t=h(t,255),e=h(e,255),i=h(i,255);var n,s,a=w(t,e,i),r=x(t,e,i),o=a,l=a-r;if(s=0==a?0:l/a,a==r)n=0;else{switch(a){case t:n=(e-i)/l+(i>e?6:0);break;case e:n=(i-t)/l+2;break;case i:n=(t-e)/l+4}n/=6}return{h:n,s:s,v:o}}function o(t,e,i){var n,s,a;t=6*h(t,360),e=h(e,100),i=h(i,100);var r=y.floor(t),o=t-r,l=i*(1-e),c=i*(1-o*e),u=i*(1-(1-o)*e),d=r%6,n=[i,c,l,l,u,i][d],s=[u,i,i,c,l,l][d],a=[l,l,u,i,i,c][d];return{r:255*n,g:255*s,b:255*a}}function l(t,e,i,n){function s(t){return 1==t.length?"0"+t:""+t}var a=[s(_(t).toString(16)),s(_(e).toString(16)),s(_(i).toString(16))];return n||a[0].charAt(0)!=a[0].charAt(1)||a[1].charAt(0)!=a[1].charAt(1)||a[2].charAt(0)!=a[2].charAt(1)?a.join(""):a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)}function c(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[t[i]]=i);return e}function h(t,e){f(t)&&(t="100%");var i=p(t);return t=x(e,w(0,C(t))),i&&(t*=e/100),y.abs(t-e)<1e-6?1:t>=1?t%e/C(e):t}function u(t){return x(1,w(0,t))}function d(t){return parseInt(t,16)}function f(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===C(t)}function p(t){return"string"==typeof t&&-1!=t.indexOf("%")}function g(t){t=t.replace(m,"").replace(v,"").toLowerCase();var e=!1;if(S[t])t=S[t],e=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0};var i;return(i=T.rgb.exec(t))?{r:i[1],g:i[2],b:i[3]}:(i=T.rgba.exec(t))?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=T.hsl.exec(t))?{h:i[1],s:i[2],l:i[3]}:(i=T.hsla.exec(t))?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=T.hsv.exec(t))?{h:i[1],s:i[2],v:i[3]}:(i=T.hex6.exec(t))?{r:d(i[1]),g:d(i[2]),b:d(i[3]),format:e?"name":"hex"}:(i=T.hex3.exec(t))?{r:d(i[1]+""+i[1]),g:d(i[2]+""+i[2]),b:d(i[3]+""+i[3]),format:e?"name":"hex"}:!1}var m=/^[\s,#]+/,v=/\s+$/,b=0,y=Math,_=y.round,x=y.min,w=y.max,k=y.random,C=t.parseFloat;e.fromRatio=function(t){if("object"==typeof t)for(var i in t)1===t[i]&&(t[i]="1.0");return e(t)},e.equals=function(t,i){return t&&i?e(t).toHex()==e(i).toHex():!1},e.random=function(){return e.fromRatio({r:k(),g:k(),b:k()})},e.desaturate=function(t,i){var n=e(t).toHsl();return n.s-=(i||10)/100,n.s=u(n.s),e(n)},e.saturate=function(t,i){var n=e(t).toHsl();return n.s+=(i||10)/100,n.s=u(n.s),e(n)},e.greyscale=function(t){return e.desaturate(t,100)},e.lighten=function(t,i){var n=e(t).toHsl();return n.l+=(i||10)/100,n.l=u(n.l),e(n)},e.darken=function(t,i){var n=e(t).toHsl();return n.l-=(i||10)/100,n.l=u(n.l),e(n)},e.complement=function(t){var i=e(t).toHsl();return i.h=(i.h+.5)%1,e(i)},e.triad=function(t){var i=e(t).toHsl(),n=360*i.h;return[e(t),e({h:(n+120)%360,s:i.s,l:i.l}),e({h:(n+240)%360,s:i.s,l:i.l})]},e.tetrad=function(t){var i=e(t).toHsl(),n=360*i.h;return[e(t),e({h:(n+90)%360,s:i.s,l:i.l}),e({h:(n+180)%360,s:i.s,l:i.l}),e({h:(n+270)%360,s:i.s,l:i.l})]},e.splitcomplement=function(t){var i=e(t).toHsl(),n=360*i.h;return[e(t),e({h:(n+72)%360,s:i.s,l:i.l}),e({h:(n+216)%360,s:i.s,l:i.l})]},e.analogous=function(t,i,n){i=i||6,n=n||30;var s=e(t).toHsl(),a=360/n,r=[e(t)];for(s.h*=360,s.h=(s.h-(a*i>>1)+720)%360;--i;)s.h=(s.h+a)%360,r.push(e(s));return r},e.monochromatic=function(t,i){i=i||6;for(var n=e(t).toHsv(),s=n.h,a=n.s,r=n.v,o=[],l=1/i;i--;)o.push(e({h:s,s:a,v:r})),r=(r+l)%1;return o},e.readable=function(t,i){var n=e(t).toRgb(),s=e(i).toRgb();return(s.r-n.r)*(s.r-n.r)+(s.g-n.g)*(s.g-n.g)+(s.b-n.b)*(s.b-n.b)>10404};var S=e.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},j=e.hexNames=c(S),T=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",i="(?:"+e+")|(?:"+t+")",n="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?",s="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?";return{rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+s),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+s),hsv:new RegExp("hsv"+n),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();t.tinycolor=e}(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),$(function(){$(".choose-button").hover(function(){var t=$(this);$(this).data("initialText",t.text()),$(this).text("Ready? Let's make your sign!")},function(){var t=$(this);$(this).text(t.data("initialText"))}),$(".product-image").hover(function(){$(".imageOverlay",this).stop().animate({top:0})},function(){$(".imageOverlay",this).stop().animate({top:120})}),$(".priceWrapper .price").html(function(){var t=$(this).text().split("."),e=t.pop();return t.join(".")+(t.length>0?"<sup>."+e+"</sup>":e)})}),/**
 * jQuery Validation Plugin 1.8.1
 *
 * http://bassistance.de/jquery-plugins/jquery-plugin-validation/
 * http://docs.jquery.com/Plugins/Validation
 *
 * Copyright (c) 2006 - 2011 Jörn Zaefferer
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */
function(t){t.extend(t.fn,{validate:function(e){if(this.length){var i=t.data(this[0],"validator");return i?i:(i=new t.validator(e,this[0]),t.data(this[0],"validator",i),i.settings.onsubmit&&(this.find("input, button").filter(".cancel").click(function(){i.cancelSubmit=!0}),i.settings.submitHandler&&this.find("input, button").filter(":submit").click(function(){i.submitButton=this}),this.submit(function(e){function n(){if(i.settings.submitHandler){if(i.submitButton)var e=t("<input type='hidden'/>").attr("name",i.submitButton.name).val(i.submitButton.value).appendTo(i.currentForm);return i.settings.submitHandler.call(i,i.currentForm),i.submitButton&&e.remove(),!1}return!0}return i.settings.debug&&e.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,n()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):n():(i.focusInvalid(),!1)})),i)}e&&e.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing")},valid:function(){if(t(this[0]).is("form"))return this.validate().form();var e=!0,i=t(this[0].form).validate();return this.each(function(){e&=i.element(this)}),e},removeAttrs:function(e){var i={},n=this;return t.each(e.split(/\s/),function(t,e){i[e]=n.attr(e),n.removeAttr(e)}),i},rules:function(e,i){var n=this[0];if(e){var s=t.data(n.form,"validator").settings,a=s.rules,r=t.validator.staticRules(n);switch(e){case"add":t.extend(r,t.validator.normalizeRule(i)),a[n.name]=r,i.messages&&(s.messages[n.name]=t.extend(s.messages[n.name],i.messages));break;case"remove":if(!i)return delete a[n.name],r;var o={};return t.each(i.split(/\s/),function(t,e){o[e]=r[e],delete r[e]}),o}}return n=t.validator.normalizeRules(t.extend({},t.validator.metadataRules(n),t.validator.classRules(n),t.validator.attributeRules(n),t.validator.staticRules(n)),n),n.required&&(s=n.required,delete n.required,n=t.extend({required:s},n)),n}}),t.extend(t.expr[":"],{blank:function(e){return!t.trim(""+e.value)},filled:function(e){return!!t.trim(""+e.value)},unchecked:function(t){return!t.checked}}),t.validator=function(e,i){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=i,this.init()},t.validator.format=function(e,i){return 1==arguments.length?function(){var i=t.makeArray(arguments);return i.unshift(e),t.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!=Array&&(i=t.makeArray(arguments).slice(1)),i.constructor!=Array&&(i=[i]),t.each(i,function(t,i){e=e.replace(RegExp("\\{"+t+"\\}","g"),i)}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:[],ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(t)).hide())},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(t){(t.name in this.submitted||t==this.lastElement)&&this.element(t)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,i,n){"radio"===e.type?this.findByName(e.name).addClass(i).removeClass(n):t(e).addClass(i).removeClass(n)},unhighlight:function(e,i,n){"radio"===e.type?this.findByName(e.name).removeClass(i).addClass(n):t(e).removeClass(i).addClass(n)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var i=t.data(this[0].form,"validator");e="on"+e.type.replace(/^validate/,""),i.settings[e]&&i.settings[e].call(i,this[0])}this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i=this.groups={};t.each(this.settings.groups,function(e,n){t.each(n.split(/\s/),function(t,n){i[n]=e})});var n=this.settings.rules;t.each(n,function(e,i){n[e]=t.validator.normalizeRule(i)}),t(this.currentForm).validateDelegate(":text, :password, :file, select, textarea","focusin focusout keyup",e).validateDelegate(":radio, :checkbox, select, option","click",e),this.settings.invalidHandler&&t(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){this.lastElement=e=this.clean(e),this.prepareElement(e),this.currentElements=t(e);var i=this.check(e);return i?delete this.invalid[e.name]:this.invalid[e.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),i},showErrors:function(e){if(e){t.extend(this.errorMap,e),this.errorList=[];for(var i in e)this.errorList.push({message:e[i],element:this.findByName(i)[0]});this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.submitted={},this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,i=0;for(e in t)i++;return i},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0==this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var e=this.lastActive;return e&&1==t.grep(this.errorList,function(t){return t.element.name==e.name}).length&&e},elements:function(){var e=this,i={};return t(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in i||!e.objectLength(t(this).rules())?!1:i[this.name]=!0})},clean:function(e){return t(e)[0]},errors:function(){return t(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([]),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},check:function(e){e=this.clean(e),this.checkable(e)&&(e=this.findByName(e.name).not(this.settings.ignore)[0]);var i,n=t(e).rules(),s=!1;for(i in n){var a={method:i,parameters:n[i]};try{var r=t.validator.methods[i].call(this,e.value.replace(/\r/g,""),e,a.parameters);if("dependency-mismatch"==r)s=!0;else{if(s=!1,"pending"==r)return this.toHide=this.toHide.not(this.errorsFor(e)),void 0;if(!r)return this.formatAndAdd(e,a),!1}}catch(o){throw this.settings.debug&&window.console&&console.log("exception occured when checking element "+e.id+", check the '"+a.method+"' method",o),o}}return s?void 0:(this.objectLength(n)&&this.successList.push(e),!0)},customMetaMessage:function(e,i){if(t.metadata){var n=this.settings.meta?t(e).metadata()[this.settings.meta]:t(e).metadata();return n&&n.messages&&n.messages[i]}},customMessage:function(t,e){var i=this.settings.messages[t];return i&&(i.constructor==String?i:i[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},defaultMessage:function(e,i){return this.findDefined(this.customMessage(e.name,i),this.customMetaMessage(e,i),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[i],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(t,e){var i=this.defaultMessage(t,e.method),n=/\$?\{(\d+)\}/g;"function"==typeof i?i=i.call(this,e.parameters,t):n.test(i)&&(i=jQuery.format(i.replace(n,"{$1}"),e.parameters)),this.errorList.push({message:i,element:t}),this.errorMap[t.name]=i,this.submitted[t.name]=i},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){for(var t=0;this.errorList[t];t++){var e=this.errorList[t];this.settings.highlight&&this.settings.highlight.call(this,e.element,this.settings.errorClass,this.settings.validClass),this.showLabel(e.element,e.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,i){var n=this.errorsFor(e);n.length?(n.removeClass().addClass(this.settings.errorClass),n.attr("generated")&&n.html(i)):(n=t("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(e),generated:!0}).addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(n=n.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(n).length||(this.settings.errorPlacement?this.settings.errorPlacement(n,t(e)):n.insertAfter(e))),!i&&this.settings.success&&(n.text(""),"string"==typeof this.settings.success?n.addClass(this.settings.success):this.settings.success(n)),this.toShow=this.toShow.add(n)},errorsFor:function(e){var i=this.idOrName(e);return this.errors().filter(function(){return t(this).attr("for")==i})},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){var i=this.currentForm;return t(document.getElementsByName(e)).map(function(t,n){return n.form==i&&n.name==e&&n||null})},getLength:function(e,i){switch(i.nodeName.toLowerCase()){case"select":return t("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return e.length},depend:function(t,e){return this.dependTypes[typeof t]?this.dependTypes[typeof t](t,e):!0},dependTypes:{"boolean":function(t){return t},string:function(e,i){return!!t(e,i.form).length},"function":function(t,e){return t(e)}},optional:function(e){return!t.validator.methods.required.call(this,t.trim(e.value),e)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,this.pending[t.name]=!0)},stopRequest:function(e,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],i&&0==this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.formSubmitted=!1):!i&&0==this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e){return t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},dateDE:{dateDE:!0},number:{number:!0},numberDE:{numberDE:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,i){e.constructor==String?this.classRuleSettings[e]=i:t.extend(this.classRuleSettings,e)},classRules:function(e){var i={};return(e=t(e).attr("class"))&&t.each(e.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(i,t.validator.classRuleSettings[this])}),i},attributeRules:function(e){var i={};e=t(e);for(var n in t.validator.methods){var s=e.attr(n);s&&(i[n]=s)}return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i},metadataRules:function(e){if(!t.metadata)return{};var i=t.data(e.form,"validator").settings.meta;return i?t(e).metadata()[i]:t(e).metadata()},staticRules:function(e){var i={},n=t.data(e.form,"validator");return n.settings.rules&&(i=t.validator.normalizeRule(n.settings.rules[e.name])||{}),i},normalizeRules:function(e,i){return t.each(e,function(n,s){if(s===!1)delete e[n];else if(s.param||s.depends){var a=!0;switch(typeof s.depends){case"string":a=!!t(s.depends,i.form).length;break;case"function":a=s.depends.call(i,i)}a?e[n]=void 0!==s.param?s.param:!0:delete e[n]}}),t.each(e,function(n,s){e[n]=t.isFunction(s)?s(i):s}),t.each(["minlength","maxlength","min","max"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){e[this]&&(e[this]=[Number(e[this][0]),Number(e[this][1])])}),t.validator.autoCreateRanges&&(e.min&&e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),e.minlength&&e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e.messages&&delete e.messages,e},normalizeRule:function(e){if("string"==typeof e){var i={};t.each(e.split(/\s/),function(){i[this]=!0}),e=i}return e},addMethod:function(e,i,n){t.validator.methods[e]=i,t.validator.messages[e]=void 0!=n?n:t.validator.messages[e],i.length<3&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,i,n){if(!this.depend(n,i))return"dependency-mismatch";switch(i.nodeName.toLowerCase()){case"select":return(e=t(i).val())&&e.length>0;case"input":if(this.checkable(i))return this.getLength(e,i)>0;default:return t.trim(e).length>0}},remote:function(e,i,n){if(this.optional(i))return"dependency-mismatch";var s=this.previousValue(i);if(this.settings.messages[i.name]||(this.settings.messages[i.name]={}),s.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=s.message,n="string"==typeof n&&{url:n}||n,this.pending[i.name])return"pending";if(s.old===e)return s.valid;s.old=e;var a=this;this.startRequest(i);var r={};return r[i.name]=e,t.ajax(t.extend(!0,{url:n,mode:"abort",port:"validate"+i.name,dataType:"json",data:r,success:function(n){a.settings.messages[i.name].remote=s.originalMessage;var r=n===!0;if(r){var o=a.formSubmitted;a.prepareElement(i),a.formSubmitted=o,a.successList.push(i),a.showErrors()}else o={},n=n||a.defaultMessage(i,"remote"),o[i.name]=s.message=t.isFunction(n)?n(e):n,a.showErrors(o);s.valid=r,a.stopRequest(i,r)}},n)),"pending"},minlength:function(e,i,n){return this.optional(i)||this.getLength(t.trim(e),i)>=n},maxlength:function(e,i,n){return this.optional(i)||this.getLength(t.trim(e),i)<=n},rangelength:function(e,i,n){return e=this.getLength(t.trim(e),i),this.optional(i)||e>=n[0]&&e<=n[1]},min:function(t,e,i){return this.optional(e)||t>=i},max:function(t,e,i){return this.optional(e)||i>=t},range:function(t,e,i){return this.optional(e)||t>=i[0]&&t<=i[1]},email:function(t,e){return this.optional(e)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(t)},url:function(t,e){return this.optional(e)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t))},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(t)},number:function(t,e){return this.optional(e)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},creditcard:function(t,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9-]+/.test(t))return!1;var i=0,n=0,s=!1;t=t.replace(/\D/g,"");for(var a=t.length-1;a>=0;a--)n=t.charAt(a),n=parseInt(n,10),s&&(n*=2)>9&&(n-=9),i+=n,s=!s;return 0==i%10},accept:function(t,e,i){return i="string"==typeof i?i.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(e)||t.match(RegExp(".("+i+")$","i"))},equalTo:function(e,i,n){return n=t(n).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){t(i).valid()}),e==n.val()}}}),t.format=t.validator.format}(jQuery),function(t){var e={};if(t.ajaxPrefilter)t.ajaxPrefilter(function(t,i,n){i=t.port,"abort"==t.mode&&(e[i]&&e[i].abort(),e[i]=n)});else{var i=t.ajax;t.ajax=function(n){var s=("port"in n?n:t.ajaxSettings).port;return"abort"==("mode"in n?n:t.ajaxSettings).mode?(e[s]&&e[s].abort(),e[s]=i.apply(this,arguments)):i.apply(this,arguments)}}}(jQuery),function(t){!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener&&t.each({focus:"focusin",blur:"focusout"},function(e,i){function n(e){return e=t.event.fix(e),e.type=i,t.event.handle.call(this,e)}t.event.special[i]={setup:function(){this.addEventListener(e,n,!0)},teardown:function(){this.removeEventListener(e,n,!0)},handler:function(e){return arguments[0]=t.event.fix(e),arguments[0].type=i,t.event.handle.apply(this,arguments)}}}),t.extend(t.fn,{validateDelegate:function(e,i,n){return this.bind(i,function(i){var s=t(i.target);return s.is(e)?n.apply(s,arguments):void 0})}})}(jQuery);var FORMALIZE=function(t,e,i){function n(t){var e=i.createElement("b");return e.innerHTML="<!--[if IE "+t+"]><br><![endif]-->",!!e.getElementsByTagName("br").length}var s="placeholder"in i.createElement("input"),a="autofocus"in i.createElement("input"),r=n(6),o=n(7);return{go:function(){var t,e=this.init;for(t in e)e.hasOwnProperty(t)&&e[t]()},init:{full_input_size:function(){o&&t("textarea, input.input_full").length&&t("textarea, input.input_full").wrap('<span class="input_full_wrap"></span>')},ie6_skin_inputs:function(){if(r&&t("input, select, textarea").length){var e=/button|submit|reset/,i=/date|datetime|datetime-local|email|month|number|password|range|search|tel|text|time|url|week/;t("input").each(function(){var n=t(this);this.getAttribute("type").match(e)?(n.addClass("ie6_button"),this.disabled&&n.addClass("ie6_button_disabled")):this.getAttribute("type").match(i)&&(n.addClass("ie6_input"),this.disabled&&n.addClass("ie6_input_disabled"))}),t("textarea, select").each(function(){this.disabled&&t(this).addClass("ie6_input_disabled")})}},autofocus:function(){a||!t(":input[autofocus]").length||t(":input[autofocus]:visible:first").focus()},placeholder:function(){!s&&!!t(":input[placeholder]").length&&(FORMALIZE.misc.add_placeholder(),t(":input[placeholder]").each(function(){if("password"!==this.type){var e=t(this),i=e.attr("placeholder");e.focus(function(){e.val()===i&&e.val("").removeClass("placeholder_text")}).blur(function(){FORMALIZE.misc.add_placeholder()}),e.closest("form").submit(function(){e.val()===i&&e.val("").removeClass("placeholder_text")}).bind("reset",function(){setTimeout(FORMALIZE.misc.add_placeholder,50)})}}))}},misc:{add_placeholder:function(){s||!t(":input[placeholder]").length||t(":input[placeholder]").each(function(){if("password"!==this.type){var e=t(this),i=e.attr("placeholder");(!e.val()||e.val()===i)&&e.val(i).addClass("placeholder_text")}})}}}}(jQuery,this,this.document);jQuery(document).ready(function(){FORMALIZE.go()}),function(){var t;t=function(){return $("form.edit_spree_order").submit(function(){return $(this).find(":submit, :image").attr("disabled",!0).removeClass("primary").addClass("disabled")})},$(function(){var t,e;return $("#checkout_form_address").is("*")&&($("#checkout_form_address").validate(),t=function(t){var e;return e=$("p#"+t+"country"+" span#"+t+"country :only-child").val(),state_mapper[e]},e=function(e){var i,n,s,a,r;return a=t(e),s=$("p#"+e+"state select"),n=$("p#"+e+"state input"),a?(i=s.val(),s.html(""),r=[["",""]].concat(a),$.each(r,function(t,e){var n;return n=$(document.createElement("option")).attr("value",e[0]).html(e[1]),i===e[0]&&n.prop("selected",!0),s.append(n)}),s.prop("disabled",!1).show(),n.hide().prop("disabled",!0)):(n.prop("disabled",!1).show(),s.hide().prop("disabled",!0))},$("p#bcountry select").change(function(){return e("b")}),$("p#scountry select").change(function(){return e("s")}),e("b"),e("s"),$("input#order_use_billing").click(function(){return $(this).is(":checked")?($("#shipping .inner").hide(),$("#shipping .inner input, #shipping .inner select").prop("disabled",!0)):($("#shipping .inner").show(),$("#shipping .inner input, #shipping .inner select").prop("disabled",!1),t("s")?$("span#sstate input").hide().prop("disabled",!0):$("span#sstate select").hide().prop("disabled",!0))}).triggerHandler("click")),$("#checkout_form_payment").is("*")?$('input[type="radio"][name="order[payments_attributes][][payment_method_id]"]').click(function(){return $("#payment-methods li").hide(),this.checked?$("#payment_method_"+this.value).show():void 0}).triggerHandler("click"):void 0})}.call(this),function(){var t,e;t=function(){return $("#main-image").data("selectedThumb",$("#main-image img").attr("src")),$("ul.thumbnails li").eq(0).addClass("selected"),$("ul.thumbnails a").on("click",function(t){return $("#main-image").data("selectedThumb",$(t.currentTarget).attr("href")),$("#main-image").data("selectedThumbId",$(t.currentTarget).parent().attr("id")),$(this).mouseout(function(){return $("ul.thumbnails li").removeClass("selected"),$(t.currentTarget).parent("li").addClass("selected")}),!1}),$("ul.thumbnails li").on("mouseenter",function(t){return $("#main-image img").attr("src",$(t.currentTarget).find("a").attr("href"))}),$("ul.thumbnails li").on("mouseleave",function(){return $("#main-image img").attr("src",$("#main-image").data("selectedThumb"))})},e=function(t){var e,i,n;return $("li.vtmb").hide(),$("li.vtmb-"+t).show(),e=$("#"+$("#main-image").data("selectedThumbId")),e.hasClass("vtmb-"+t)||e.hasClass("tmb-all")?void 0:(n=$($("ul.thumbnails li:visible").eq(0)),i=n.find("a").attr("href"),$("ul.thumbnails li").removeClass("selected"),n.addClass("selected"),$("#main-image img").attr("src",i),$("#main-image").data("selectedThumb",i),$("#main-image").data("selectedThumbId",n.attr("id")))},$(function(){return t(),$('#product-variants input[type="radio"]').length>0&&e($('#product-variants input[type="radio"]').eq(0).attr("value")),$('#product-variants input[type="radio"]').click(function(){return e(this.value)})})}.call(this),$(function(){return $(".line_item_quantity").after('<div class="inc qbutton cream button">+</div><div class="dec qbutton cream button">-</div>'),$(".qbutton").click(function(){var t=$(this),e=$(this).siblings(".line_item_quantity").val();if(parseInt($(this).siblings(".line_item_quantity").attr("max")),"+"==t.text())var i=parseInt(e)+1;else if(e>=2)var i=parseFloat(e)-1;else var i=1;$(this).siblings(".line_item_quantity").val(i)}),$("form#update-cart").is("*")?$("form#update-cart a.delete").show().on("click",function(){return $(this).parents(".line-item").first().find("input.line_item_quantity").val(0),$(this).parents("form").first().submit(),!1}):void 0});